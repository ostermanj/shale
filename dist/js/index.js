!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=14)}([function(t,e,n){t.exports=n.p+"sw-dev.js"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(0),o=(i=r)&&i.__esModule?i:{default:i};console.log(o.default);var a={init:function(){"serviceWorker"in navigator?navigator.serviceWorker.register(o.default).then(function(t){console.log("ServiceWorker registration successful with scope: ",t.scope,t)},function(t){console.log("ServiceWorker registration failed: ",t)}):console.log("service workers not supported")}};e.default=a},,function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.filterResults=e.createResultItem=e.createResultsContainer=void 0;var i,r=n(3),o=(i=r)&&i.__esModule?i:{default:i};console.log(o.default);e.createResultsContainer=function(){document.getElementById("results-container").innerHTML='<div class="synthesis-results">\n                  <ul class="flex space-between"></ul>\n              </div>\n              <div class="results">\n                  <ul class="loadable"></ul>\n              </div> ',this.results=document.querySelector("div.results ul")};var a=e.createResultItem=function(t){var e,n;if(void 0===t.data.creators)e="";else if(e=(n=t.data.creators.map(function(t){return t.firstName+" "+t.lastName})).join(","),2===n.length)e=e.replace(","," and ");else if(n.length>4)e=n[0]+" et al.";else{var i=(e=e.replace(/,/g,", ")).lastIndexOf(",");-1!==i&&(e=e.substr(0,i+1)+" and"+e.substr(i+1))}var r,o,a=t.data.publisher||t.data.journalAbbreviation||t.data.publicationTitle||t.data.institution||t.data.websiteTitle||"",s=document.createElement("div");if(s.className="links-div tippy-clipboard",s.setAttribute("title","Copied to clipboard"),t.data.url&&""!==t.data.url){var p=document.createElement("a");r=t.data.url,p.setAttribute("href",r),p.setAttribute("target","_blank"),p.setAttribute("class","details-link"),p.innerHTML="Go to link",s.appendChild(p)}if(t.bib&&""!==t.bib){var l=document.createElement("div");l.innerHTML=t.bib;var c=l.querySelector(".csl-entry").innerHTML,d=document.createElement("textarea");d.innerHTML=c,d.setAttribute("class","bib-container");var u=document.createElement("a");u.setAttribute("href","#"),u.setAttribute("class","copy-bib"),u.setAttribute("title",c),u.innerHTML="Copy biblio. info",s.appendChild(d),s.appendChild(u)}return o=void 0!==r?'<a class="item-title-link" target="_blank" href="'+r+'">'+t.data.title+"</a>":""+t.data.title,'\n              \n              <div class="summary-results">\n                  <div class="flex space-between">\n                      <span class="flex item-info items-center">\n                          <span class="list-item__label">'+(t.synthesisType||t.data.itemType.undoCamelCase())+'</span>\n                          <span class="list-item__meta publisher-name">'+a.trunc(90,!0)+'</span>\n                      </span>\n                      <span class="list-item__meta">'+t.data.dateString+'</span>\n                  </div>\n                  <h3 class="list-item__title">'+o+'</h3>\n                  <span class="list-item__meta">'+e+"</span>\n                  "+s.outerHTML+"\n              </div>\n              "};e.filterResults=function(t,e){console.log("list-item");var n=void 0===t?window.RFFApp.model.zoteroItems:t,i=d3.select(this.results).selectAll(".list-item").data(n,function(t){return t.key});i.exit().classed("entered",!1).classed("exiting",!0).transition(1500).remove();var r=i.enter().append("li").attr("class",function(t,e){return t.key+" "+t.data.itemType+" index-"+e+("RFF"===t.data.institution||"Resources for the Future"===t.data.institution?" RFF":"")}).classed("entering",!0).classed("list-item",!0).html(function(t){return a(t)});setTimeout(function(){r.classed("entering",!1)}),this.items=r.merge(i),d3.selectAll(".copy-bib").on("click",function(){d3.event.preventDefault(),e.copyBibText.call(this)}),e.biblioTooltips()}},,function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTopicKey=e.createBrowseCategory=void 0;var i,r=n(6),o=(i=r)&&i.__esModule?i:{default:i};console.log(o.default);e.createBrowseCategory=function(t,e,n){var i,r=document.createElement("div");return n?(r.innerHTML="\n      <h3>"+t.data.name+"</h3>\n    ",(i=document.createElement("div")).className="browse-buttons",t.children.sort(function(t,e){return d3.ascending(t.data.name,e.data.name)}).forEach(function(t,e){i.appendChild(a(t,e))})):((i=document.querySelector(".browse-buttons.uncategorized")||document.createElement("div")).className="browse-buttons uncategorized",0!==t.data.name.indexOf("_")&&i.appendChild(a(t))),console.log(t),r.appendChild(i),console.log(r),r;function a(t,i){var r=[];t.children&&(r=t.children.map(function(t){return t.data.name.cleanString()})),console.log(o.default,r);var a=document.createElement("div");a.innerHTML='\n    <div title="not loaded" data-collection="'+t.key+'" class="button button--'+(n?"secondary":"tertiary")+" "+r.reduce(function(t,e){return t+e+" "},"")+" "+(0===e&&0===i&&n?"active":"")+'">\n      <span>'+t.data.name+"</span>\n    </div>";var s=a.children[0];return s.onclick=function(){console.log(this),d3.selectAll(".browse-buttons .button").classed("active",!1),d3.select(this).classed("active",!0),RFFApp.controller.getCollectionItems(t.data.key)},s}},e.createTopicKey=function(){document.getElementById("browse-buttons-container").insertAdjacentHTML("beforeend",'<div id="topic-key">\n                  <div class="issue-brief">= issue brief and literature review available</div>\n                  <div>= issue brief and literature review still to come</div>\n              </div>')}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(e){
/*!
* Tippy.js v2.5.2
* (c) 2017-2018 atomiks
* MIT
*/var n;n=function(){"use strict";var t="undefined"!=typeof window,n=t&&/MSIE |Trident\//.test(navigator.userAgent),i={};t&&(i.supported="requestAnimationFrame"in window,i.supportsTouch="ontouchstart"in window,i.usingTouch=!1,i.dynamicInputDetection=!0,i.iOS=/iPhone|iPad|iPod/.test(navigator.platform)&&!window.MSStream,i.onUserInputChange=function(){});var r={POPPER:".tippy-popper",TOOLTIP:".tippy-tooltip",CONTENT:".tippy-content",BACKDROP:".tippy-backdrop",ARROW:".tippy-arrow",ROUND_ARROW:".tippy-roundarrow",REFERENCE:"[data-tippy]"},o={placement:"top",livePlacement:!0,trigger:"mouseenter focus",animation:"shift-away",html:!1,animateFill:!0,arrow:!1,delay:0,duration:[350,300],interactive:!1,interactiveBorder:2,theme:"dark",size:"regular",distance:10,offset:0,hideOnClick:!0,multiple:!1,followCursor:!1,inertia:!1,updateDuration:350,sticky:!1,appendTo:function(){return document.body},zIndex:9999,touchHold:!1,performance:!1,dynamicTitle:!1,flip:!0,flipBehavior:"flip",arrowType:"sharp",arrowTransform:"",maxWidth:"",target:null,allowTitleHTML:!0,popperOptions:{},createPopperInstanceOnInit:!1,onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){}},a=i.supported&&Object.keys(o);function s(t){return"[object Object]"==={}.toString.call(t)}function p(t){return[].slice.call(t)}function l(t){for(var e=["","webkit"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],o=r?r+n:t;if(void 0!==document.body.style[o])return o}return null}function c(){return document.createElement("div")}var d=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function m(t){var e=function(e){return t.querySelector(e)};return{tooltip:e(r.TOOLTIP),backdrop:e(r.BACKDROP),content:e(r.CONTENT),arrow:e(r.ARROW)||e(r.ROUND_ARROW)}}function h(t){var e=t.getAttribute("title");e&&t.setAttribute("data-original-title",e),t.removeAttribute("title")}
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.14.3
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */for(var y="undefined"!=typeof window&&"undefined"!=typeof document,b=["Edge","Trident","Firefox"],v=0,g=0;g<b.length;g+=1)if(y&&navigator.userAgent.indexOf(b[g])>=0){v=1;break}var w=y&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},v))}};function x(t){return t&&"[object Function]"==={}.toString.call(t)}function k(t,e){if(1!==t.nodeType)return[];var n=getComputedStyle(t,null);return e?n[e]:n}function E(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function T(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=k(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?t:T(E(t))}var O=y&&!(!window.MSInputMethodContext||!document.documentMode),A=y&&/MSIE 10/.test(navigator.userAgent);function C(t){return 11===t?O:10===t?A:O||A}function S(t){if(!t)return document.documentElement;for(var e=C(10)?document.body:null,n=t.offsetParent;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TD","TABLE"].indexOf(n.nodeName)&&"static"===k(n,"position")?S(n):n:t?t.ownerDocument.documentElement:document.documentElement}function L(t){return null!==t.parentNode?L(t.parentNode):t}function M(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,r=n?e:t,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var a,s,p=o.commonAncestorContainer;if(t!==p&&e!==p||i.contains(r))return"BODY"===(s=(a=p).nodeName)||"HTML"!==s&&S(a.firstElementChild)!==a?S(p):p;var l=L(t);return l.host?M(l.host,e):M(t,L(e).host)}function I(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var i=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||i)[e]}return t[e]}function F(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+i+"Width"],10)}function P(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],C(10)?n["offset"+t]+i["margin"+("Height"===t?"Top":"Left")]+i["margin"+("Height"===t?"Bottom":"Right")]:0)}function D(){var t=document.body,e=document.documentElement,n=C(10)&&getComputedStyle(e);return{height:P("Height",t,e,n),width:P("Width",t,e,n)}}var R=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},_=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),N=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},Y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function X(t){return Y({},t,{right:t.left+t.width,bottom:t.top+t.height})}function H(t){var e={};try{if(C(10)){e=t.getBoundingClientRect();var n=I(t,"top"),i=I(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(t){}var r={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?D():{},a=o.width||t.clientWidth||r.right-r.left,s=o.height||t.clientHeight||r.bottom-r.top,p=t.offsetWidth-a,l=t.offsetHeight-s;if(p||l){var c=k(t);p-=F(c,"x"),l-=F(c,"y"),r.width-=p,r.height-=l}return X(r)}function B(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=C(10),r="HTML"===e.nodeName,o=H(t),a=H(e),s=T(t),p=k(e),l=parseFloat(p.borderTopWidth,10),c=parseFloat(p.borderLeftWidth,10);n&&"HTML"===e.nodeName&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var d=X({top:o.top-a.top-l,left:o.left-a.left-c,width:o.width,height:o.height});if(d.marginTop=0,d.marginLeft=0,!i&&r){var u=parseFloat(p.marginTop,10),f=parseFloat(p.marginLeft,10);d.top-=l-u,d.bottom-=l-u,d.left-=c-f,d.right-=c-f,d.marginTop=u,d.marginLeft=f}return(i&&!n?e.contains(s):e===s&&"BODY"!==s.nodeName)&&(d=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=I(e,"top"),r=I(e,"left"),o=n?-1:1;return t.top+=i*o,t.bottom+=i*o,t.left+=r*o,t.right+=r*o,t}(d,e)),d}function z(t){if(!t||!t.parentElement||C())return document.documentElement;for(var e=t.parentElement;e&&"none"===k(e,"transform");)e=e.parentElement;return e||document.documentElement}function j(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=r?z(t):M(t,e);if("viewport"===i)o=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=B(t,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:I(n),s=e?0:I(n,"left");return X({top:a-i.top+i.marginTop,left:s-i.left+i.marginLeft,width:r,height:o})}(a,r);else{var s=void 0;"scrollParent"===i?"BODY"===(s=T(E(e))).nodeName&&(s=t.ownerDocument.documentElement):s="window"===i?t.ownerDocument.documentElement:i;var p=B(s,a,r);if("HTML"!==s.nodeName||function t(e){var n=e.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===k(e,"position")||t(E(e)))}(a))o=p;else{var l=D(),c=l.height,d=l.width;o.top+=p.top-p.marginTop,o.bottom=c+p.top,o.left+=p.left-p.marginLeft,o.right=d+p.left}}return o.left+=n,o.top+=n,o.right-=n,o.bottom-=n,o}function W(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=j(n,i,o,r),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},p=Object.keys(s).map(function(t){return Y({key:t},s[t],{area:(e=s[t],e.width*e.height)});var e}).sort(function(t,e){return e.area-t.area}),l=p.filter(function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight}),c=l.length>0?l[0].key:p[0].key,d=t.split("-")[1];return c+(d?"-"+d:"")}function U(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return B(n,i?z(e):M(e,n),i)}function q(t){var e=getComputedStyle(t),n=parseFloat(e.marginTop)+parseFloat(e.marginBottom),i=parseFloat(e.marginLeft)+parseFloat(e.marginRight);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function J(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function V(t,e,n){n=n.split("-")[0];var i=q(t),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",p=o?"height":"width",l=o?"width":"height";return r[a]=e[a]+e[p]/2-i[p]/2,r[s]=n===s?e[s]-i[l]:e[J(s)],r}function G(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function K(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var i=G(t,function(t){return t[e]===n});return t.indexOf(i)}(t,"name",n))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&x(n)&&(e.offsets.popper=X(e.offsets.popper),e.offsets.reference=X(e.offsets.reference),e=n(e,t))}),e}function Z(t,e){return t.some(function(t){var n=t.name;return t.enabled&&n===e})}function Q(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],o=r?""+r+n:t;if(void 0!==document.body.style[o])return o}return null}function $(t){var e=t.ownerDocument;return e?e.defaultView:window}function tt(t,e,n,i){n.updateBound=i,$(t).addEventListener("resize",n.updateBound,{passive:!0});var r=T(t);return function t(e,n,i,r){var o="BODY"===e.nodeName,a=o?e.ownerDocument.defaultView:e;a.addEventListener(n,i,{passive:!0}),o||t(T(a.parentNode),n,i,r),r.push(a)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function et(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,$(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function nt(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function it(t,e){Object.keys(e).forEach(function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&nt(e[n])&&(i="px"),t.style[n]=e[n]+i})}function rt(t,e,n){var i=G(t,function(t){return t.name===e}),r=!!i&&t.some(function(t){return t.name===n&&t.enabled&&t.order<i.order});if(!r){var o="`"+e+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}var ot=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],at=ot.slice(3);function st(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=at.indexOf(t),i=at.slice(n+1).concat(at.slice(0,n));return e?i.reverse():i}var pt={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function lt(t,e,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),a=t.split(/(\+|\-)/).map(function(t){return t.trim()}),s=a.indexOf(G(a,function(t){return-1!==t.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var p=/\s*,\s*|\s+/,l=-1!==s?[a.slice(0,s).concat([a[s].split(p)[0]]),[a[s].split(p)[1]].concat(a.slice(s+1))]:[a];return(l=l.map(function(t,i){var r=(1===i?!o:o)?"height":"width",a=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)},[]).map(function(t){return function(t,e,n,i){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],a=r[2];if(!o)return t;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=i}return X(s)[e]/100*o}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;return o}(t,r,e,n)})})).forEach(function(t,e){t.forEach(function(n,i){nt(n)&&(r[e]+=n*("-"===t[i-1]?-1:1))})}),r}var ct={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var r=t.offsets,o=r.reference,a=r.popper,s=-1!==["bottom","top"].indexOf(n),p=s?"left":"top",l=s?"width":"height",c={start:N({},p,o[p]),end:N({},p,o[p]+o[l]-a[l])};t.offsets.popper=Y({},a,c[i])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,i=t.placement,r=t.offsets,o=r.popper,a=r.reference,s=i.split("-")[0],p=void 0;return p=nt(+n)?[+n,0]:lt(n,o,a,s),"left"===s?(o.top+=p[0],o.left-=p[1]):"right"===s?(o.top+=p[0],o.left+=p[1]):"top"===s?(o.left+=p[0],o.top-=p[1]):"bottom"===s&&(o.left+=p[0],o.top+=p[1]),t.popper=o,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||S(t.instance.popper);t.instance.reference===n&&(n=S(n));var i=Q("transform"),r=t.instance.popper.style,o=r.top,a=r.left,s=r[i];r.top="",r.left="",r[i]="";var p=j(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);r.top=o,r.left=a,r[i]=s,e.boundaries=p;var l=e.priority,c=t.offsets.popper,d={primary:function(t){var n=c[t];return c[t]<p[t]&&!e.escapeWithReference&&(n=Math.max(c[t],p[t])),N({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=c[n];return c[t]>p[t]&&!e.escapeWithReference&&(i=Math.min(c[n],p[t]-("right"===t?c.width:c.height))),N({},n,i)}};return l.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";c=Y({},c,d[e](t))}),t.offsets.popper=c,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,i=e.reference,r=t.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(r),s=a?"right":"bottom",p=a?"left":"top",l=a?"width":"height";return n[s]<o(i[p])&&(t.offsets.popper[p]=o(i[p])-n[l]),n[p]>o(i[s])&&(t.offsets.popper[p]=o(i[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!rt(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if("string"==typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var r=t.placement.split("-")[0],o=t.offsets,a=o.popper,s=o.reference,p=-1!==["left","right"].indexOf(r),l=p?"height":"width",c=p?"Top":"Left",d=c.toLowerCase(),u=p?"left":"top",f=p?"bottom":"right",m=q(i)[l];s[f]-m<a[d]&&(t.offsets.popper[d]-=a[d]-(s[f]-m)),s[d]+m>a[f]&&(t.offsets.popper[d]+=s[d]+m-a[f]),t.offsets.popper=X(t.offsets.popper);var h=s[d]+s[l]/2-m/2,y=k(t.instance.popper),b=parseFloat(y["margin"+c],10),v=parseFloat(y["border"+c+"Width"],10),g=h-t.offsets.popper[d]-b-v;return g=Math.max(Math.min(a[l]-m,g),0),t.arrowElement=i,t.offsets.arrow=(N(n={},d,Math.round(g)),N(n,u,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(Z(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=j(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],r=J(i),o=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case pt.FLIP:a=[i,r];break;case pt.CLOCKWISE:a=st(i);break;case pt.COUNTERCLOCKWISE:a=st(i,!0);break;default:a=e.behavior}return a.forEach(function(s,p){if(i!==s||a.length===p+1)return t;i=t.placement.split("-")[0],r=J(i);var l=t.offsets.popper,c=t.offsets.reference,d=Math.floor,u="left"===i&&d(l.right)>d(c.left)||"right"===i&&d(l.left)<d(c.right)||"top"===i&&d(l.bottom)>d(c.top)||"bottom"===i&&d(l.top)<d(c.bottom),f=d(l.left)<d(n.left),m=d(l.right)>d(n.right),h=d(l.top)<d(n.top),y=d(l.bottom)>d(n.bottom),b="left"===i&&f||"right"===i&&m||"top"===i&&h||"bottom"===i&&y,v=-1!==["top","bottom"].indexOf(i),g=!!e.flipVariations&&(v&&"start"===o&&f||v&&"end"===o&&m||!v&&"start"===o&&h||!v&&"end"===o&&y);(u||b||g)&&(t.flipped=!0,(u||b)&&(i=a[p+1]),g&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),t.placement=i+(o?"-"+o:""),t.offsets.popper=Y({},t.offsets.popper,V(t.instance.popper,t.offsets.reference,t.placement)),t=K(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,r=i.popper,o=i.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return r[a?"left":"top"]=o[n]-(s?r[a?"width":"height"]:0),t.placement=J(e),t.offsets.popper=X(r),t}},hide:{order:800,enabled:!0,fn:function(t){if(!rt(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=G(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,i=e.y,r=t.offsets.popper,o=G(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:e.gpuAcceleration,s=H(S(t.instance.popper)),p={position:r.position},l={left:Math.floor(r.left),top:Math.round(r.top),bottom:Math.round(r.bottom),right:Math.floor(r.right)},c="bottom"===n?"top":"bottom",d="right"===i?"left":"right",u=Q("transform"),f=void 0,m=void 0;if(m="bottom"===c?-s.height+l.bottom:l.top,f="right"===d?-s.width+l.right:l.left,a&&u)p[u]="translate3d("+f+"px, "+m+"px, 0)",p[c]=0,p[d]=0,p.willChange="transform";else{var h="bottom"===c?-1:1,y="right"===d?-1:1;p[c]=m*h,p[d]=f*y,p.willChange=c+", "+d}var b={"x-placement":t.placement};return t.attributes=Y({},b,t.attributes),t.styles=Y({},p,t.styles),t.arrowStyles=Y({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return it(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach(function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)}),t.arrowElement&&Object.keys(t.arrowStyles).length&&it(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,i,r){var o=U(r,e,t,n.positionFixed),a=W(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",a),it(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},dt=function(){function t(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};R(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=w(this.update.bind(this)),this.options=Y({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(Y({},t.Defaults.modifiers,r.modifiers)).forEach(function(e){i.options.modifiers[e]=Y({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return Y({name:t},i.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&x(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return _(t,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=U(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=W(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=V(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=K(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,Z(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Q("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=tt(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return et.call(this)}}]),t}();function ut(t){return t.getAttribute("x-placement").replace(/-.+/,"")}function ft(t,e,n,i){return e.length?{scale:1===e.length?""+e[0]:n?e[0]+", "+e[1]:e[1]+", "+e[0],translate:1===e.length?i?-e[0]+"px":e[0]+"px":n?i?e[0]+"px, "+-e[1]+"px":e[0]+"px, "+e[1]+"px":i?-e[1]+"px, "+e[0]+"px":e[1]+"px, "+e[0]+"px"}[t]:""}function mt(t,e){if(!t)return"";return e?t:{X:"Y",Y:"X"}[t]}function ht(t,e,n){var i=ut(t),r="top"===i||"bottom"===i,o="right"===i||"bottom"===i,a=function(t){var e=n.match(t);return e?e[1]:""},s=function(t){var e=n.match(t);return e?e[1].split(",").map(parseFloat):[]},p=/translateX?Y?\(([^)]+)\)/,c=/scaleX?Y?\(([^)]+)\)/,d={translate:{axis:a(/translate([XY])/),numbers:s(p)},scale:{axis:a(/scale([XY])/),numbers:s(c)}},u=n.replace(p,"translate"+mt(d.translate.axis,r)+"("+ft("translate",d.translate.numbers,r,o)+")").replace(c,"scale"+mt(d.scale.axis,r)+"("+ft("scale",d.scale.numbers,r,o)+")");e.style[l("transform")]=u}function yt(t){return-(t-o.distance)+"px"}dt.Utils=("undefined"!=typeof window?window:e).PopperUtils,dt.placements=ot,dt.Defaults=ct;var bt={};if(t){var vt=Element.prototype;bt=vt.matches||vt.matchesSelector||vt.webkitMatchesSelector||vt.mozMatchesSelector||vt.msMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;--n>=0&&e.item(n)!==this;);return n>-1}}var gt=bt;function wt(t,e){return(Element.prototype.closest||function(t){for(var e=this;e;){if(gt.call(e,t))return e;e=e.parentElement}}).call(t,e)}function xt(t,e){return Array.isArray(t)?t[e]:t}function kt(t,e){t.forEach(function(t){t&&t.setAttribute("data-state",e)})}function Et(t,e){t.filter(Boolean).forEach(function(t){t.style[l("transitionDuration")]=e+"ms"})}function Tt(t){var e=window.scrollX||window.pageXOffset,n=window.scrollY||window.pageYOffset;t.focus(),scroll(e,n)}var Ot={},At=function(t){return function(e){return e===Ot&&t}},Ct=function(){function t(e){for(var n in d(this,t),e)this[n]=e[n];this.state={destroyed:!1,visible:!1,enabled:!0},this._=At({mutationObservers:[]})}return u(t,[{key:"enable",value:function(){this.state.enabled=!0}},{key:"disable",value:function(){this.state.enabled=!1}},{key:"show",value:function(t){var e=this;if(!this.state.destroyed&&this.state.enabled){var n=this.popper,i=this.reference,r=this.options,o=m(n),a=o.tooltip,s=o.backdrop,p=o.content;r.dynamicTitle&&!i.getAttribute("data-original-title")||i.hasAttribute("disabled")||(i.refObj||document.documentElement.contains(i)?(r.onShow.call(n,this),t=xt(void 0!==t?t:r.duration,0),Et([n,a,s],0),n.style.visibility="visible",this.state.visible=!0,function(t){var e=this.options;this.popperInstance?(this.popperInstance.scheduleUpdate(),e.livePlacement&&!St.call(this)&&this.popperInstance.enableEventListeners()):(this.popperInstance=Ft.call(this),e.livePlacement||this.popperInstance.disableEventListeners());if(!St.call(this)){var n=m(this.popper),i=n.arrow;i&&(i.style.margin=""),this.popperInstance.reference=this.reference}(function(t,e,n){var i=t.popper,r=t.options,o=r.onCreate,a=r.onUpdate;r.onCreate=r.onUpdate=function(){(function(t){t.offsetHeight})(i),e&&e(),a(),r.onCreate=o,r.onUpdate=a},n||t.scheduleUpdate()})(this.popperInstance,t,!0),e.appendTo.contains(this.popper)||e.appendTo.appendChild(this.popper)}.call(this,function(){if(e.state.visible){if(St.call(e)||e.popperInstance.scheduleUpdate(),St.call(e)){e.popperInstance.disableEventListeners();var o=xt(r.delay,0),c=e._(Ot).lastTriggerEvent;c&&e._(Ot).followCursorListener(o&&e._(Ot).lastMouseMoveEvent?e._(Ot).lastMouseMoveEvent:c)}Et([a,s,s?p:null],t),s&&getComputedStyle(s)[l("transform")],r.interactive&&i.classList.add("tippy-active"),r.sticky&&function(){var t=this;!function e(){t.popperInstance&&t.popperInstance.update(),t.popper.style[l("transitionDuration")]=t.options.updateDuration+"ms",t.state.visible?requestAnimationFrame(e):t.popper.style[l("transitionDuration")]=""}()}.call(e),kt([a,s],"visible"),Rt.call(e,t,function(){r.updateDuration||a.classList.add("tippy-notransition"),r.interactive&&Tt(n),i.setAttribute("aria-describedby","tippy-"+e.id),r.onShown.call(n,e)})}})):this.destroy())}}},{key:"hide",value:function(t){var e=this;if(!this.state.destroyed&&this.state.enabled){var n,i=this.popper,r=this.reference,o=this.options,a=m(i),s=a.tooltip,p=a.backdrop,l=a.content;o.onHide.call(i,this),t=xt(void 0!==t?t:o.duration,1),o.updateDuration||s.classList.remove("tippy-notransition"),o.interactive&&r.classList.remove("tippy-active"),i.style.visibility="hidden",this.state.visible=!1,Et([s,p,p?l:null],t),kt([s,p],"hidden"),o.interactive&&o.trigger.indexOf("click")>-1&&Tt(r),this.popperInstance.disableEventListeners(),n=function(){Rt.call(e,t,function(){!e.state.visible&&o.appendTo.contains(i)&&(e._(Ot).isPreparingToShow||(document.removeEventListener("mousemove",e._(Ot).followCursorListener),e._(Ot).lastMouseMoveEvent=null),r.removeAttribute("aria-describedby"),o.appendTo.removeChild(i),o.onHidden.call(i,e))})},requestAnimationFrame(function(){setTimeout(n,1)})}}},{key:"destroy",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.state.destroyed){this.state.visible&&this.hide(0),this.listeners.forEach(function(e){t.reference.removeEventListener(e.event,e.handler)}),this.title&&this.reference.setAttribute("title",this.title),delete this.reference._tippy;["data-original-title","data-tippy","data-tippy-delegate"].forEach(function(e){t.reference.removeAttribute(e)}),this.options.target&&e&&p(this.reference.querySelectorAll(this.options.target)).forEach(function(t){return t._tippy&&t._tippy.destroy()}),this.popperInstance&&this.popperInstance.destroy(),this._(Ot).mutationObservers.forEach(function(t){t.disconnect()}),this.state.destroyed=!0}}}]),t}();function St(){var t=this._(Ot).lastTriggerEvent;return this.options.followCursor&&!i.usingTouch&&t&&"focus"!==t.type}function Lt(t){var e=this,n=this.options;if(Pt.call(this),!this.state.visible)if(n.target)(function(t){var e=wt(t.target,this.options.target);if(e&&!e._tippy){var n=e.getAttribute("title")||this.title;n&&(e.setAttribute("title",n),Ht(e,f({},this.options,{target:null})),Lt.call(e._tippy,t))}}).call(this,t);else if(this._(Ot).isPreparingToShow=!0,n.wait)n.wait.call(this.popper,this.show.bind(this),t);else{if(St.call(this)){this._(Ot).followCursorListener||function(){var t=this;this._(Ot).followCursorListener=function(e){var n=t._(Ot).lastMouseMoveEvent=e,i=n.clientX,r=n.clientY;t.popperInstance&&(t.popperInstance.reference={getBoundingClientRect:function(){return{width:0,height:0,top:r,left:i,right:i,bottom:r}},clientWidth:0,clientHeight:0},t.popperInstance.scheduleUpdate())}}.call(this);var i=m(this.popper).arrow;i&&(i.style.margin="0"),document.addEventListener("mousemove",this._(Ot).followCursorListener)}var r=xt(n.delay,0);r?this._(Ot).showTimeout=setTimeout(function(){e.show()},r):this.show()}}function Mt(){var t=this;if(Pt.call(this),this.state.visible){this._(Ot).isPreparingToShow=!1;var e=xt(this.options.delay,1);e?this._(Ot).hideTimeout=setTimeout(function(){t.state.visible&&t.hide()},e):this.hide()}}function It(){var t=this;return{onTrigger:function(e){if(t.state.enabled){var n=i.supportsTouch&&i.usingTouch&&["mouseenter","mouseover","focus"].indexOf(e.type)>-1;n&&t.options.touchHold||(t._(Ot).lastTriggerEvent=e,"click"===e.type&&"persistent"!==t.options.hideOnClick&&t.state.visible?Mt.call(t):Lt.call(t,e),n&&i.iOS&&t.reference.click&&t.reference.click())}},onMouseLeave:function(e){if(!(["mouseleave","mouseout"].indexOf(e.type)>-1&&i.supportsTouch&&i.usingTouch&&t.options.touchHold)){if(t.options.interactive){var n=Mt.bind(t);return document.body.addEventListener("mouseleave",n),void document.addEventListener("mousemove",function e(i){var o=wt(i.target,r.REFERENCE),a=wt(i.target,r.POPPER)===t.popper,s=o===t.reference;a||s||function(t,e,n){if(!e.getAttribute("x-placement"))return!0;var i=t.clientX,r=t.clientY,o=n.interactiveBorder,a=n.distance,s=e.getBoundingClientRect(),p=ut(e),l=o+a,c={top:s.top-r>o,bottom:r-s.bottom>o,left:s.left-i>o,right:i-s.right>o};switch(p){case"top":c.top=s.top-r>l;break;case"bottom":c.bottom=r-s.bottom>l;break;case"left":c.left=s.left-i>l;break;case"right":c.right=i-s.right>l}return c.top||c.bottom||c.left||c.right}(i,t.popper,t.options)&&(document.body.removeEventListener("mouseleave",n),document.removeEventListener("mousemove",e),Mt.call(t,e))})}Mt.call(t)}},onBlur:function(e){if(e.target===t.reference&&!i.usingTouch){if(t.options.interactive){if(!e.relatedTarget)return;if(wt(e.relatedTarget,r.POPPER))return}Mt.call(t)}},onDelegateShow:function(e){wt(e.target,t.options.target)&&Lt.call(t,e)},onDelegateHide:function(e){wt(e.target,t.options.target)&&Mt.call(t)}}}function Ft(){var t=this,e=this.popper,n=this.reference,i=this.options,o=m(e).tooltip,a=i.popperOptions,s="round"===i.arrowType?r.ROUND_ARROW:r.ARROW,p=o.querySelector(s),l=f({placement:i.placement},a||{},{modifiers:f({},a?a.modifiers:{},{arrow:f({element:s},a&&a.modifiers?a.modifiers.arrow:{}),flip:f({enabled:i.flip,padding:i.distance+5,behavior:i.flipBehavior},a&&a.modifiers?a.modifiers.flip:{}),offset:f({offset:i.offset},a&&a.modifiers?a.modifiers.offset:{})}),onCreate:function(){o.style[ut(e)]=yt(i.distance),p&&i.arrowTransform&&ht(e,p,i.arrowTransform)},onUpdate:function(){var t=o.style;t.top="",t.bottom="",t.left="",t.right="",t[ut(e)]=yt(i.distance),p&&i.arrowTransform&&ht(e,p,i.arrowTransform)}});return Dt.call(this,{target:e,callback:function(){t.popperInstance.update()},options:{childList:!0,subtree:!0,characterData:!0}}),new dt(n,e,l)}function Pt(){var t=this._(Ot),e=t.showTimeout,n=t.hideTimeout;clearTimeout(e),clearTimeout(n)}function Dt(t){var e=t.target,n=t.callback,i=t.options;if(window.MutationObserver){var r=new MutationObserver(n);r.observe(e,i),this._(Ot).mutationObservers.push(r)}}function Rt(t,e){if(!t)return e();var n=m(this.popper).tooltip,i=function(t,e){e&&n[t+"EventListener"]("ontransitionend"in window?"transitionend":"webkitTransitionEnd",e)},r=function t(r){r.target===n&&(i("remove",t),e())};i("remove",this._(Ot).transitionendListener),i("add",r),this._(Ot).transitionendListener=r}var _t=1;function Nt(t,e){return t.reduce(function(t,r){var o=_t,s=function(t,e){return e.arrow&&(e.animateFill=!1),e.appendTo&&"function"==typeof e.appendTo&&(e.appendTo=e.appendTo()),"function"==typeof e.html&&(e.html=e.html(t)),e}(r,e.performance?e:function(t,e){var n=a.reduce(function(n,i){var r=t.getAttribute("data-tippy-"+i.toLowerCase())||e[i];return"false"===r&&(r=!1),"true"===r&&(r=!0),isFinite(r)&&!isNaN(parseFloat(r))&&(r=parseFloat(r)),"target"!==i&&"string"==typeof r&&"["===r.trim().charAt(0)&&(r=JSON.parse(r)),n[i]=r,n},{});return f({},e,n)}(r,e)),p=r.getAttribute("title");if(!(p||s.target||s.html||s.dynamicTitle))return t;r.setAttribute(s.target?"data-tippy-delegate":"data-tippy",""),h(r);var d=function(t,e,n){var i=c();i.setAttribute("class","tippy-popper"),i.setAttribute("role","tooltip"),i.setAttribute("id","tippy-"+t),i.style.zIndex=n.zIndex,i.style.maxWidth=n.maxWidth;var r=c();r.setAttribute("class","tippy-tooltip"),r.setAttribute("data-size",n.size),r.setAttribute("data-animation",n.animation),r.setAttribute("data-state","hidden"),n.theme.split(" ").forEach(function(t){r.classList.add(t+"-theme")});var o=c();if(o.setAttribute("class","tippy-content"),n.arrow){var a=c();a.style[l("transform")]=n.arrowTransform,"round"===n.arrowType?(a.classList.add("tippy-roundarrow"),a.innerHTML='<svg viewBox="0 0 24 8" xmlns="http://www.w3.org/2000/svg"><path d="M3 8s2.021-.015 5.253-4.218C9.584 2.051 10.797 1.007 12 1c1.203-.007 2.416 1.035 3.761 2.782C19.012 8.005 21 8 21 8H3z"/></svg>'):a.classList.add("tippy-arrow"),r.appendChild(a)}if(n.animateFill){r.setAttribute("data-animatefill","");var s=c();s.classList.add("tippy-backdrop"),s.setAttribute("data-state","hidden"),r.appendChild(s)}n.inertia&&r.setAttribute("data-inertia",""),n.interactive&&r.setAttribute("data-interactive","");var p=n.html;if(p){var d=void 0;p instanceof Element?(o.appendChild(p),d="#"+(p.id||"tippy-html-template")):(o.innerHTML=document.querySelector(p).innerHTML,d=p),i.setAttribute("data-html",""),r.setAttribute("data-template-id",d),n.interactive&&i.setAttribute("tabindex","-1")}else o[n.allowTitleHTML?"innerHTML":"textContent"]=e;return r.appendChild(o),i.appendChild(r),i}(o,p,s),u=new Ct({id:o,reference:r,popper:d,options:s,title:p,popperInstance:null});s.createPopperInstanceOnInit&&(u.popperInstance=Ft.call(u),u.popperInstance.disableEventListeners());var y=It.call(u);return u.listeners=s.trigger.trim().split(" ").reduce(function(t,e){return t.concat(function(t,e,r,o){var a=r.onTrigger,s=r.onMouseLeave,p=r.onBlur,l=r.onDelegateShow,c=r.onDelegateHide,d=[];if("manual"===t)return d;var u=function(t,n){e.addEventListener(t,n),d.push({event:t,handler:n})};return o.target?(i.supportsTouch&&o.touchHold&&(u("touchstart",l),u("touchend",c)),"mouseenter"===t&&(u("mouseover",l),u("mouseout",c)),"focus"===t&&(u("focusin",l),u("focusout",c)),"click"===t&&u("click",l)):(u(t,a),i.supportsTouch&&o.touchHold&&(u("touchstart",a),u("touchend",s)),"mouseenter"===t&&u("mouseleave",s),"focus"===t&&u(n?"focusout":"blur",p)),d}(e,r,y,s))},[]),s.dynamicTitle&&Dt.call(u,{target:r,callback:function(){var t=m(d).content,e=r.getAttribute("title");e&&(t[s.allowTitleHTML?"innerHTML":"textContent"]=u.title=e,h(r))},options:{attributes:!0}}),r._tippy=u,d._tippy=u,d._reference=r,t.push(u),_t++,t},[])}function Yt(t){p(document.querySelectorAll(r.POPPER)).forEach(function(e){var n=e._tippy;if(n){var i=n.options;!(!0===i.hideOnClick||i.trigger.indexOf("focus")>-1)||t&&e===t.popper||n.hide()}})}var Xt=!1;function Ht(t,e,n){var a,l,c,d;i.supported&&!Xt&&(l=function(){i.usingTouch||(i.usingTouch=!0,i.iOS&&document.body.classList.add("tippy-touch"),i.dynamicInputDetection&&window.performance&&document.addEventListener("mousemove",c),i.onUserInputChange("touch"))},a=void 0,c=function(){var t=performance.now();t-a<20&&(i.usingTouch=!1,document.removeEventListener("mousemove",c),i.iOS||document.body.classList.remove("tippy-touch"),i.onUserInputChange("mouse")),a=t},document.addEventListener("click",function(t){if(!(t.target instanceof Element))return Yt();var e=wt(t.target,r.REFERENCE),n=wt(t.target,r.POPPER);if(!(n&&n._tippy&&n._tippy.options.interactive)){if(e&&e._tippy){var o=e._tippy.options,a=o.trigger.indexOf("click")>-1,s=o.multiple;if(!s&&i.usingTouch||!s&&a)return Yt(e._tippy);if(!0!==o.hideOnClick||a)return}Yt()}}),document.addEventListener("touchstart",l),window.addEventListener("blur",function(){var t=document.activeElement;t&&t.blur&&gt.call(t,r.REFERENCE)&&t.blur()}),window.addEventListener("resize",function(){p(document.querySelectorAll(r.POPPER)).forEach(function(t){var e=t._tippy;e&&!e.options.livePlacement&&e.popperInstance.scheduleUpdate()})}),i.supportsTouch||!navigator.maxTouchPoints&&!navigator.msMaxTouchPoints||document.addEventListener("pointerdown",l),Xt=!0),s(t)&&((d=t).refObj=!0,d.attributes=d.attributes||{},d.setAttribute=function(t,e){d.attributes[t]=e},d.getAttribute=function(t){return d.attributes[t]},d.removeAttribute=function(t){delete d.attributes[t]},d.hasAttribute=function(t){return t in d.attributes},d.addEventListener=function(){},d.removeEventListener=function(){},d.classList={classNames:{},add:function(t){return d.classList.classNames[t]=!0},remove:function(t){return delete d.classList.classNames[t],!0},contains:function(t){return t in d.classList.classNames}}),e=f({},o,e);var u=function(t){if(t instanceof Element||s(t))return[t];if(t instanceof NodeList)return p(t);if(Array.isArray(t))return t;try{return p(document.querySelectorAll(t))}catch(t){return[]}}(t),m=u[0];return{selector:t,options:e,tooltips:i.supported?Nt(n&&m?[m]:u,e):[],destroyAll:function(){this.tooltips.forEach(function(t){return t.destroy()}),this.tooltips=[]}}}return Ht.version="2.5.2",Ht.browser=i,Ht.defaults=o,Ht.one=function(t,e){return Ht(t,e,!0).tooltips[0]},Ht.disableAnimations=function(){o.updateDuration=o.duration=0,o.animateFill=!1},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t&&i.supported){var n=document.head||document.querySelector("head"),r=document.createElement("style");r.type="text/css",n.insertBefore(r,n.firstChild),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}('.tippy-touch{cursor:pointer!important}.tippy-notransition{transition:none!important}.tippy-popper{max-width:350px;-webkit-perspective:700px;perspective:700px;z-index:9999;outline:0;transition-timing-function:cubic-bezier(.165,.84,.44,1);pointer-events:none;line-height:1.4}.tippy-popper[data-html]{max-width:96%;max-width:calc(100% - 20px)}.tippy-popper[x-placement^=top] .tippy-backdrop{border-radius:40% 40% 0 0}.tippy-popper[x-placement^=top] .tippy-roundarrow{bottom:-8px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.tippy-popper[x-placement^=top] .tippy-arrow{border-top:7px solid #333;border-right:7px solid transparent;border-left:7px solid transparent;bottom:-7px;margin:0 6px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-backdrop{-webkit-transform-origin:0 90%;transform-origin:0 90%}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(6) translate(-50%,25%);transform:scale(6) translate(-50%,25%);opacity:1}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1) translate(-50%,25%);transform:scale(1) translate(-50%,25%);opacity:0}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(-20px);transform:translateY(-20px)}.tippy-popper[x-placement^=top] [data-animation=perspective]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px) rotateX(0);transform:translateY(-10px) rotateX(0)}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) rotateX(90deg);transform:translateY(0) rotateX(90deg)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px) scale(1);transform:translateY(-10px) scale(1)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) scale(0);transform:translateY(0) scale(0)}.tippy-popper[x-placement^=bottom] .tippy-backdrop{border-radius:0 0 30% 30%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow{top:-8px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(0);transform:rotate(0)}.tippy-popper[x-placement^=bottom] .tippy-arrow{border-bottom:7px solid #333;border-right:7px solid transparent;border-left:7px solid transparent;top:-7px;margin:0 6px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-backdrop{-webkit-transform-origin:0 -90%;transform-origin:0 -90%}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(6) translate(-50%,-125%);transform:scale(6) translate(-50%,-125%);opacity:1}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1) translate(-50%,-125%);transform:scale(1) translate(-50%,-125%);opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateY(10px) rotateX(0);transform:translateY(10px) rotateX(0)}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) rotateX(-90deg);transform:translateY(0) rotateX(-90deg)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateY(10px) scale(1);transform:translateY(10px) scale(1)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) scale(0);transform:translateY(0) scale(0)}.tippy-popper[x-placement^=left] .tippy-backdrop{border-radius:50% 0 0 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow{right:-16px;-webkit-transform-origin:33.33333333% 50%;transform-origin:33.33333333% 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.tippy-popper[x-placement^=left] .tippy-arrow{border-left:7px solid #333;border-top:7px solid transparent;border-bottom:7px solid transparent;right:-7px;margin:3px 0;-webkit-transform-origin:0 50%;transform-origin:0 50%}.tippy-popper[x-placement^=left] .tippy-backdrop{-webkit-transform-origin:100% 0;transform-origin:100% 0}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(6) translate(40%,-50%);transform:scale(6) translate(40%,-50%);opacity:1}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1.5) translate(40%,-50%);transform:scale(1.5) translate(40%,-50%);opacity:0}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(-20px);transform:translateX(-20px)}.tippy-popper[x-placement^=left] [data-animation=perspective]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px) rotateY(0);transform:translateX(-10px) rotateY(0)}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) rotateY(-90deg);transform:translateX(0) rotateY(-90deg)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px) scale(1);transform:translateX(-10px) scale(1)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) scale(0);transform:translateX(0) scale(0)}.tippy-popper[x-placement^=right] .tippy-backdrop{border-radius:0 50% 50% 0}.tippy-popper[x-placement^=right] .tippy-roundarrow{left:-16px;-webkit-transform-origin:66.66666666% 50%;transform-origin:66.66666666% 50%}.tippy-popper[x-placement^=right] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.tippy-popper[x-placement^=right] .tippy-arrow{border-right:7px solid #333;border-top:7px solid transparent;border-bottom:7px solid transparent;left:-7px;margin:3px 0;-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.tippy-popper[x-placement^=right] .tippy-backdrop{-webkit-transform-origin:-100% 0;transform-origin:-100% 0}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(6) translate(-140%,-50%);transform:scale(6) translate(-140%,-50%);opacity:1}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1.5) translate(-140%,-50%);transform:scale(1.5) translate(-140%,-50%);opacity:0}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(20px);transform:translateX(20px)}.tippy-popper[x-placement^=right] [data-animation=perspective]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateX(10px) rotateY(0);transform:translateX(10px) rotateY(0)}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) rotateY(90deg);transform:translateX(0) rotateY(90deg)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateX(10px) scale(1);transform:translateX(10px) scale(1)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) scale(0);transform:translateX(0) scale(0)}.tippy-tooltip{position:relative;color:#fff;border-radius:4px;font-size:.9rem;padding:.3rem .6rem;text-align:center;will-change:transform;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:#333}.tippy-tooltip[data-size=small]{padding:.2rem .4rem;font-size:.75rem}.tippy-tooltip[data-size=large]{padding:.4rem .8rem;font-size:1rem}.tippy-tooltip[data-animatefill]{overflow:hidden;background-color:transparent}.tippy-tooltip[data-animatefill] .tippy-content{transition:-webkit-clip-path cubic-bezier(.46,.1,.52,.98);transition:clip-path cubic-bezier(.46,.1,.52,.98);transition:clip-path cubic-bezier(.46,.1,.52,.98),-webkit-clip-path cubic-bezier(.46,.1,.52,.98)}.tippy-tooltip[data-interactive],.tippy-tooltip[data-interactive] path{pointer-events:auto}.tippy-tooltip[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.53,2,.36,.85)}.tippy-tooltip[data-inertia][data-state=hidden]{transition-timing-function:ease}.tippy-arrow,.tippy-roundarrow{position:absolute;width:0;height:0}.tippy-roundarrow{width:24px;height:8px;fill:#333;pointer-events:none}.tippy-backdrop{position:absolute;will-change:transform;background-color:#333;border-radius:50%;width:26%;left:50%;top:50%;z-index:-1;transition:all cubic-bezier(.46,.1,.52,.98);-webkit-backface-visibility:hidden;backface-visibility:hidden}.tippy-backdrop:after{content:"";float:left;padding-top:100%}body:not(.tippy-touch) .tippy-tooltip[data-animatefill][data-state=visible] .tippy-content{-webkit-clip-path:ellipse(100% 100% at 50% 50%);clip-path:ellipse(100% 100% at 50% 50%)}body:not(.tippy-touch) .tippy-tooltip[data-animatefill][data-state=hidden] .tippy-content{-webkit-clip-path:ellipse(5% 50% at 50% 50%);clip-path:ellipse(5% 50% at 50% 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=right] .tippy-tooltip[data-animatefill][data-state=visible] .tippy-content{-webkit-clip-path:ellipse(135% 100% at 0 50%);clip-path:ellipse(135% 100% at 0 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=right] .tippy-tooltip[data-animatefill][data-state=hidden] .tippy-content{-webkit-clip-path:ellipse(40% 100% at 0 50%);clip-path:ellipse(40% 100% at 0 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=left] .tippy-tooltip[data-animatefill][data-state=visible] .tippy-content{-webkit-clip-path:ellipse(135% 100% at 100% 50%);clip-path:ellipse(135% 100% at 100% 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=left] .tippy-tooltip[data-animatefill][data-state=hidden] .tippy-content{-webkit-clip-path:ellipse(40% 100% at 100% 50%);clip-path:ellipse(40% 100% at 100% 50%)}@media (max-width:360px){.tippy-popper{max-width:96%;max-width:calc(100% - 20px)}}'),Ht},t.exports=n()}).call(this,n(8))},function(t,e){t.exports=[{topic:"Air quality",key:"FUGV49UB",title:"Explore how oil and gas development can affect local and regional air quality"},{topic:"Climate change",key:"CMPFGPRK",title:"Examine the implications of increased oil and gas development for climate change"},{topic:"Community impacts",key:"V538Y7T9",title:"undefined"},{topic:"Community-industry interaction",key:"F8Q5D6RS",title:"Understand how communities and oil and gas companies interact on a variety of issues"},{topic:"Cumulative impacts",key:"missing1",title:"Explore studies that aggregate multiple effects of oil and gas development"},{topic:"Economics of shale development",key:"42H54TQS",title:"Examine the costs, innovations, and trends that shape the economics of shale development"},{topic:"Ecosystems, habitats, species",key:"M43C6MTF",title:"Understand how oil and gas development can affect local and regional ecosystems, habitats, and species"},{topic:"Environmental justice",key:"X5ZEDSMQ",title:"Does oil and gas development have a disproportionate impact on low-income or minority communities?"},{topic:"Federal regulation",key:"SFLUS5I4",title:"How does the federal government regulate the oil and gas industry?"},{topic:"Groundwater",key:"Q7MVJ2ED",title:"Understand the potential impacts of oil and gas development on groundwater resources"},{topic:"Human health",key:"5W2ZJTJC",title:"Explore the potential impacts of oil and gas development on human health"},{topic:"Local governments",key:"EXLS3NV4",title:"Understand how oil and gas development affects local governments"},{topic:"National (US)/sectoral economy",key:"4NPI3GYM",title:"Examine the economic impacts of oil and gas development for the U.S. and major economic sectors"},{topic:"Occupational hazards",key:"missing2",title:"What are the risks of working in oil and gas production?"},{topic:"Property values",key:"NXSYV4IM",title:"How does oil and gas development affect nearby property values?"},{topic:"Public opinion",key:"YJDYU9VM",title:"How does the public view the effects of oil and gas development?"},{topic:"Quality of life/Community impacts",key:"XN7GXNFQ",title:"Examine community impacts such as housing affordability, crime, education, truck traffic, noise, and more"},{topic:"Seismicity",key:"FWMYGUWI",title:"Explore the connection between oil and gas development and earthquakes"},{topic:"State government",key:"APRI3VMZ",title:"Understand how state governments are affected by, and how they affect, oil and gas development"},{topic:"State regulation",key:"9IL3TCKF",title:"How do state governments regulate the oil and gas industry?"},{topic:"Subnational economies",key:"X9DSTIGE",title:"Examine how oil and gas development affects local, state, and regional economies"},{topic:"Surface water",key:"QCW37PP2",title:"Examine the impacts of oil and gas development on the quantity and quality of surface water resources"}]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.StringHelpers=(String.prototype.cleanString=function(){return this.replace(/[ /]/g,"-").replace(/['"”’“‘,.!?;()&]/g,"").toLowerCase()},String.prototype.removeUnderscores=function(){return this.replace(/_/g," ")},String.prototype.undoCamelCase=function(){return this.replace(/([A-Z])/g," $1").toLowerCase()},void(String.prototype.trunc=String.prototype.trunc||function(t,e){if(this.length<=t)return this;var n=this.substr(0,t-1);return(e?n.substr(0,n.lastIndexOf(" ")):n)+"..."}))},,function(t,e,n){},function(t,e,n){"use strict";n(13),n(11);var i,r,o,a,s=u(n(10)),p=u(n(9)),l=n(7),c=n(4),d=u(n(1));function u(t){return t&&t.__esModule?t:{default:t}}function f(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}i="2127948",r={gateCheck:0,searchType:"fields",init:function(t){d.default.init(),window.RFFApp.model.topicButtonPromise=new Promise(function(t){window.RFFApp.model.resolveTopicButtons=t}),this.getZoteroCollections(t),this.getZoteroItems(t),this.setupSearch(),console.log(s.default)},setupSearch:function(){document.getElementById("collection-search").onsubmit=function(t){t.preventDefault(),a.loading(!0);var e=this.querySelector("input").value,n="https://api.zotero.org/groups/"+i+"/items?q="+e+"&format=keys";new Promise(function(t,e){d3.text(n,function(n,i){if(n)throw e(n),n;t(i.split(/\n/))})}).then(function(t){console.log(t),""!==t[0]&&(r.getSearchItems(t),a.loading(!1))})}},getSearchItems:function(t){var e=o.zoteroItems.filter(function(e){return-1!==t.indexOf(e.key)});console.log(e),c.filterResults.call(a,e,r)},childrenify:function(t){return console.log(t),t.forEach(function(e){if(!1!==e.data.parentCollection&&e.meta.numItems>0){var n=t.find(function(t){return t.key===e.data.parentCollection});void 0!==n&&(n.children=n.children||[],n.children.push(e))}}),t},returnKeyValues:function(t,e){return t.slice(1).map(function(n){return n.reduce(function(n,i,r){return n[t[0][r]]=!0===e?isNaN(+i)||""===i?i:+i:i,n},{})})},nestPrelim:function(t){return t.reduce(function(t,e){if("string"!=typeof e&&"function"!=typeof e)throw"each nestBy item must be a string or function";var n;return"string"==typeof e&&(n=t.key(function(t){return t[e]})),"function"==typeof e&&(n=t.key(function(t){return e(t)})),n},d3.nest())},recursiveNest:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"series";if("string"==typeof e||"function"==typeof e)this.nestByArray=[e];else{if(!Array.isArray(e))throw"nestBy variable must be a string, function, or array of strings or functions";this.nestByArray=e}var i=this.nestPrelim(this.nestByArray);return"object"===n?i.object(t):i.entries(t)},getZoteroCollections:function(t){var e=this;t?d3.json("data/zoteroCollections-7-16-18.json",function(t,n){if(t)throw t;o.collections=e.childrenify(n),console.log("increment gateCheck from get collections"),e.gateCheck++,a.init()}):new Promise(function(t,n){d3.json("https://api.zotero.org/groups/"+i+"/collections?limit=100",function(i,r){if(i)throw n(i),i;console.log(JSON.stringify(r)),o.collections=e.childrenify(r),t(o.collections)})}).then(function(t){console.log(t),console.log("increment gateCheck from get collections"),e.gateCheck++,a.init()})},getZoteroItems:function(t){var e=this;if(t)d3.json("data/zoteroItems-7-16-18.json",function(t,n){if(t)throw t;o.zoteroItems=n,e.parseZoteroItemDates(),console.log("increment gateCheck from get items"),e.gateCheck++,a.init()});else{for(var n=[],r=[],s=0;s<9;s++)n.push(p(s));Promise.race(n).then(function(t){if(console.log(t),t.total>9){for(var i=9;i<Math.ceil(t.total/100);i++)r.push(p(i));Promise.all([].concat(n,r)).then(function(t){window.dateStrings=[],console.log(t),t.forEach(function(t){var e;(e=o.zoteroItems).push.apply(e,f(t.data))}),console.log(JSON.stringify(o.zoteroItems)),e.parseZoteroItemDates(),e.gateCheck++,a.init()})}else Promise.all(n).then(function(t){console.log(t),t.forEach(function(t){var e;(e=o.zoteroItems).push.apply(e,f(t.data))}),e.parseZoteroItemDates(),e.gateCeck++,a.init()})})}function p(t){return new Promise(function(e,n){d3.request("https://api.zotero.org/groups/"+i+"/items/top?include=data,bib&limit=100&start="+100*t,function(t,i){if(t)throw n(t),t;console.log(+i.getResponseHeader("last-modified-version")),e({total:+i.getResponseHeader("Total-Results"),data:JSON.parse(i.responseText)})})})}},parseZoteroItemDates:function(){var t=this;o.zoteroItems.forEach(function(e){var n=t.getDatesFromString(e.data.date);e.data.dateString=n.display,e.data.dateValue=n.value}),o.zoteroItems.sort(function(t,e){return d3.descending(t.data.dateValue,e.data.dateValue)})},getCollectionItems:function(t){console.log(t);var e=o.collections.find(function(e){return e.key===t});console.log(e);var n=o.zoteroItems.filter(function(e){return-1!==e.data.collections.indexOf(t)});console.log(n);var i=[];e.children&&e.children.forEach(function(t){var e=o.zoteroItems.filter(function(e){return-1!==e.data.collections.indexOf(t.key)});e.forEach(function(e){e.synthesisType=t.data.name}),i.push.apply(i,f(e))}),c.createResultsContainer.call(a),c.filterResults.call(a,n,r),a.filterSynthesisResults(i)},getDatesFromString:function(t){var e=new Date(1776,3,4),n="",i={forthcoming:/forthcoming/,yyyy:/^(\d{4})$/,yyyymmdd:/(\d{4})[-/](\d{1,2})[-/](\d{1,2})/,monthddyyyy:/^(\w+)\.* *(\d{1,2}), *(\d{4})/,monthyyyy:/^(\w+)\.* (\d{4})/,yyyymm:/^(\d{4})[-/](\d{1,2})$/,mmddyyyy:/^(\d{1,2})[-/](\d{1,2})[-/](\d{4})/,yyyyyyyy:/^(\d{4})[-–—]\d{4}/,yyyymonthdd:/^(\d{4}) *(\w+)\.* *(\d{1,2})/};function r(t){return void 0!==o[t]&&isNaN(o[t])?o[t]:t}var o={0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December",January:0,February:1,March:2,April:3,May:4,June:5,July:6,August:7,September:8,October:9,November:10,December:11,Winter:11,Spring:2,Summer:5,Fall:8,Autumn:8,Jan:"January",Feb:"February",Mar:"March",Apr:"April",Jun:"June",Jul:"July",Aug:"August",Sep:"September",Sept:"September",Oct:"October",Nov:"Novemeber",Dec:"December"};for(var a in i)if(i.hasOwnProperty(a)&&void 0!==t){var s=t.match(i[a]);if(null!==s)switch(a){case"yyyy":n=t,e=new Date(+s[1],0,1);break;case"yyyymmdd":n=o[(+s[2]-1).toString()]+" "+ +s[3]+", "+s[1],e=new Date(+s[1],+s[2]-1,+s[3]);break;case"monthddyyyy":n=r(s[1])+" "+ +s[2]+", "+s[3],e=new Date(+s[3],o[r(s[1])],+s[2]);break;case"monthyyyy":n=r(s[1])+" "+s[2],e=new Date(+s[2],o[r(s[1])],1);break;case"yyyymm":n=o[+s[2]-1]+" "+s[1],e=new Date(+s[1],+s[2]-1,1);break;case"mmddyyyy":n=o[+s[1]-1]+" "+ +s[2]+", "+s[3],e=new Date(+s[3],+s[1]-1,+s[2]);break;case"yyyyyyyy":n=t.replace("-","—").replace("-","–"),e=new Date(+s[1],0,1);break;case"yyyymonthdd":n=r(s[2])+" "+ +s[3]+", "+s[1],e=new Date(+s[1],o[r(s[2])],+s[3]);break;case"forthcoming":n="forthcoming",e=new Date}}return{value:e,display:n}},biblioTooltips:function(){(0,p.default)(".tippy-clipboard",{arrow:!0,theme:"RFF",trigger:"manual"}),(0,p.default)(".copy-bib",{arrow:!0,hideOnClick:!1,interactive:!0,theme:"RFF"})},copyBibText:function(){var t=this;this.parentNode.querySelector(".bib-container").select();try{var e=document.execCommand("copy"),n=e?"successful":"unsuccessful";console.log("Copying text command was "+n),e&&(this.parentNode._tippy.show(),setTimeout(function(){t.parentNode._tippy.hide()},1e3))}catch(t){console.log("Oops, unable to copy")}}},o={zoteroItems:[]},a={init:function(){if(console.log(r.gateCheck),!(r.gateCheck<2)){console.log("READY!"),console.log(o.zoteroItems),this.renderTopicButtons(),this.attachTooltips(),console.log(o.collections);var t=document.querySelector(".browse-buttons div.active").dataset.collection;r.getCollectionItems(t),this.setupSidebar(),this.loading(!1)}},attachTooltips:function(){document.querySelectorAll(".browse-buttons > div").forEach(function(t){var e=s.default.find(function(e){return e.key===t.dataset.collection});void 0!==e&&(t.setAttribute("title",e.title),p.default.one(t,{theme:"RFF",arrow:!0}))})},setupSidebar:function(){var t=d3.max(o.zoteroItems,function(t){return new Date(t.data.dateModified)}),e=d3.max(o.zoteroItems,function(t){return t.data.version});document.querySelector("#sidebar").innerHTML="\n            <h2>Library info</h2>\n            <p>Date last modified: "+t.getDate()+" "+{0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"}[t.getMonth()]+" "+t.getFullYear()+"<br />(Version "+e+")</p>\n            ",this.makePieChart(),this.sibebarDocumentation(),this.sidebarContact()},sibebarDocumentation:function(){var t=document.createElement("div");t.className="documentation",t.innerHTML='\n            <h3>Documentation</h3>\n            <p><a href="#">SHARC Frequently Asked Questions</a> (PDF)</p>\n            <p><a href="#">How SHARC Is Built</a> (PDF)</p>\n            ',document.querySelector("#sidebar").append(t)},sidebarContact:function(){var t=document.createElement("div");t.className="contact-us",t.innerHTML='\n            <h3>Questions? Get in touch</h3>\n              <form>\x3c!--<form method="POST" action="http://formspree.io/XXXXXXX" _lpchecked="1">--\x3e\n              <input type="email" name="email" placeholder="Your email">\n              <textarea name="message" placeholder="Your message"></textarea>\n                <input type="text" name="_gotcha" style="display:none">\n                <input type="hidden" name="_next" value="/projects/?thanks">\n              <button type="submit">Send</button>\n            </form>\n          ',document.querySelector("#sidebar").append(t)},makePieChart:function(){var t=d3.select("#sidebar").append("svg").attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").attr("version","1.1").attr("viewBox","0 0 100 62").attr("focusable",!1).attr("aria-labelledby","svgTitle svgDesc").attr("role","graphics-dataunit").attr("class","pubtype-pie");t.append("title").attr("id","svgTitle").text("Pie chart of publication types"),t.append("desc").attr("id","svgDesc").text("Pie chart of publication types");var e=t.append("g").attr("transform","translate(30,30)"),n=d3.nest().key(function(t){return t.data.itemType}).rollup(function(t){return t.length}).entries(o.zoteroItems.filter(function(t){return"attachment"!==t.data.itemType})).sort(function(t,e){return d3.descending(t.value,e.value)}),i=n.reduce(function(t,e){return t+e.value},0),r=[];n.forEach(function(t,e){if(e<4)r.push({name:t.key,value:t.value});else if(4===e){var i=n.slice(e).reduce(function(t,e){return t+e.value},0);r.push({name:"other",value:i})}}),console.log(r);var a=d3.pie().sort(null).value(function(t){return t.value}),s=d3.arc().outerRadius(30).innerRadius(20),p=d3.arc().outerRadius(25.5).innerRadius(25.5),l=e.selectAll(".arc").data(a(r)).enter().append("g").attr("class",function(t){return console.log(t),"arc "+t.data.name});l.append("path").attr("d",s),l.append("text").attr("transform",function(t){return"translate("+p.centroid(t)+")"}).attr("dy","0.35em").attr("text-anchor","middle").attr("font-size",4).attr("fill",function(t){return"journalArticle"===t.data.name||"book"===t.data.name||"report"===t.data.name?"#ffffff":"#000000"}).text(function(t){return t.data.value});var c={journalArticle:"journal articles",report:"reports",webpage:"webpages",book:"books",other:"other"},d=t.append("g").attr("class","legend").attr("transform","translate(65,2)").selectAll(".legend-item").data(a(r)).enter().append("g").attr("class",function(t){return"legend-item "+t.data.name}).attr("transform",function(t,e){return"translate(0,"+7*e+")"});d.append("rect").attr("width",5).attr("height",5),d.append("text").attr("transform","translate(7,4)").attr("font-size",4).text(function(t){return c[t.data.name]}),t.append("text").attr("transform","translate(30,30)").text(i).attr("font-size",10).attr("text-anchor","middle")},loading:function(t){t?document.querySelector("body").classList.add("loading"):document.querySelector("body").classList.remove("loading")},renderTopicButtons:function(){var t=document.getElementById("browse-buttons-container"),e=o.collections.filter(function(t){return!1===t.data.parentCollection}).sort(function(t,e){return d3.ascending(t.data.name,e.data.name)});console.log(e),e.filter(function(t){return void 0!==t.children}).forEach(function(e,n){t.appendChild((0,l.createBrowseCategory)(e,n,!0))}),e.filter(function(t){return void 0===t.children}).forEach(function(e,n){t.appendChild((0,l.createBrowseCategory)(e,n,!1))}),window.RFFApp.model.resolveTopicButtons(!0),this.renderShowAllButton()},renderShowAllButton:function(){d3.select(".browse-buttons.uncategorized").append("div").classed("button button--tertiary show-all",!0).on("click",function(){d3.selectAll(".browse-buttons .button").classed("active",!1),d3.select(this).classed("active",!0),c.filterResults.call(a,void 0,r),a.filterSynthesisResults.call(a,[])}).append("span").text("Show all"),(0,l.createTopicKey)()},filterSynthesisResults:function(t){console.log(t);var e=d3.select(".synthesis-results ul").selectAll(".list-item").data(t,function(t){return t.data.key});console.log(e),e.exit().classed("entered",!1).classed("exiting",!0).transition(1500).remove();var n=e.enter().append("li").attr("id",function(t){return t.key}).attr("class",function(t,e){return(t.synthesisType.cleanString()||t.data.itemType)+" index-"+e+("RFF"===t.data.institution||"Resources for the Future"===t.data.institution?" RFF":"")}).classed("RFF",!0).classed("entering",!0).classed("list-item",!0).html(function(t){return(0,c.createResultItem)(t)}).on("click",function(){window.open("./pdf/"+this.id+".pdf","_blank")});setTimeout(function(){n.classed("entering",!1)}),this.synthesisItems=n.merge(e)}},window.RFFApp={controller:r,model:o},r.init()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL3N3LWRldi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvc2VydmljZS13b3JrZXItaGFuZGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9SZXN1bHRJdGVtcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Ccm93c2VCdXR0b25zLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RpcHB5LmpzL2Rpc3QvdGlwcHkuYWxsLmpzIiwid2VicGFjazovLy8uL3NyYy9kYXRhL3Rvb2x0aXBzLmNzdiIsIndlYnBhY2s6Ly8vLi9oZWxwZXJzL3N0cmluZy1oZWxwZXJzLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJ2YWx1ZSIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiX3N3RGV2IiwiY29uc29sZSIsImxvZyIsIl9zd0RldjIiLCJkZWZhdWx0IiwiU2VydmljZVdvcmtlckhhbmRsZXIiLCJpbml0IiwibmF2aWdhdG9yIiwic2VydmljZVdvcmtlciIsInJlZ2lzdGVyIiwidGhlbiIsInJlZ2lzdHJhdGlvbiIsInNjb3BlIiwiZXJyIiwiX3Jlc3VsdHNJdGVtcyIsIl9yZXN1bHRzSXRlbXMyIiwiY3JlYXRlUmVzdWx0c0NvbnRhaW5lciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJpbm5lckhUTUwiLCJodG1sIiwidGhpcyIsInJlc3VsdHMiLCJxdWVyeVNlbGVjdG9yIiwiY3JlYXRlUmVzdWx0SXRlbSIsImF1dGhvclN0ciIsImF1dGhvcnMiLCJ1bmRlZmluZWQiLCJkYXRhIiwiY3JlYXRvcnMiLCJtYXAiLCJlYWNoIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJqb2luIiwibGVuZ3RoIiwicmVwbGFjZSIsImxhc3RJbmRleE9mIiwic3Vic3RyIiwicHViVVJMIiwidGl0bGVJbm5lckhUTUwiLCJwdWJsaXNoZXIiLCJqb3VybmFsQWJicmV2aWF0aW9uIiwicHVibGljYXRpb25UaXRsZSIsImluc3RpdHV0aW9uIiwid2Vic2l0ZVRpdGxlIiwibGlua3NEaXYiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwic2V0QXR0cmlidXRlIiwidXJsIiwibGluayIsImFwcGVuZENoaWxkIiwiYmliIiwicGxhY2Vob2xkZXIiLCJ0ZXh0T25seSIsImJpYkNvbnRhaW5lciIsInRpdGxlIiwic3ludGhlc2lzVHlwZSIsIml0ZW1UeXBlIiwidW5kb0NhbWVsQ2FzZSIsInRydW5jIiwiZGF0ZVN0cmluZyIsIm91dGVySFRNTCIsImZpbHRlclJlc3VsdHMiLCJtYXRjaGVzIiwiY29udHJvbGxlciIsImZpbHRlcmVkRGF0YSIsIndpbmRvdyIsIlJGRkFwcCIsIm1vZGVsIiwiem90ZXJvSXRlbXMiLCJpdGVtcyIsImQzIiwic2VsZWN0Iiwic2VsZWN0QWxsIiwia2V5IiwiZXhpdCIsImNsYXNzZWQiLCJ0cmFuc2l0aW9uIiwicmVtb3ZlIiwiZW50ZXJpbmciLCJlbnRlciIsImFwcGVuZCIsImF0dHIiLCJzZXRUaW1lb3V0IiwibWVyZ2UiLCJvbiIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJjb3B5QmliVGV4dCIsImJpYmxpb1Rvb2x0aXBzIiwiX2Jyb3dzZUJ1dHRvbnMiLCJfYnJvd3NlQnV0dG9uczIiLCJjcmVhdGVCcm93c2VDYXRlZ29yeSIsImNhdGVnb3J5IiwiaW5kZXgiLCJpc0NhdGVnb3JpemVkIiwiY29udGFpbmVyIiwiY2F0ZWdvcnlEaXYiLCJjaGlsZHJlbiIsInNvcnQiLCJhIiwiYiIsImFzY2VuZGluZyIsImZvckVhY2giLCJjcmVhdGVCcm93c2VCdXR0b24iLCJpbmRleE9mIiwiY29sbGVjdGlvbiIsImNoaWxkcmVuQ2xhc3NlcyIsImNsZWFuU3RyaW5nIiwicGFyZW50IiwicmVkdWNlIiwiYWNjIiwiY3VyIiwiYnJvd3NlQnV0dG9uIiwib25jbGljayIsImdldENvbGxlY3Rpb25JdGVtcyIsImNyZWF0ZVRvcGljS2V5IiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiZyIsIkZ1bmN0aW9uIiwiZXZhbCIsImUiLCJnbG9iYWwiLCJmYWN0b3J5IiwiaXNCcm93c2VyIiwiaXNJRSIsInRlc3QiLCJ1c2VyQWdlbnQiLCJicm93c2VyIiwic3VwcG9ydGVkIiwic3VwcG9ydHNUb3VjaCIsInVzaW5nVG91Y2giLCJkeW5hbWljSW5wdXREZXRlY3Rpb24iLCJpT1MiLCJwbGF0Zm9ybSIsIk1TU3RyZWFtIiwib25Vc2VySW5wdXRDaGFuZ2UiLCJzZWxlY3RvcnMiLCJQT1BQRVIiLCJUT09MVElQIiwiQ09OVEVOVCIsIkJBQ0tEUk9QIiwiQVJST1ciLCJST1VORF9BUlJPVyIsIlJFRkVSRU5DRSIsImRlZmF1bHRzIiwicGxhY2VtZW50IiwibGl2ZVBsYWNlbWVudCIsInRyaWdnZXIiLCJhbmltYXRpb24iLCJhbmltYXRlRmlsbCIsImFycm93IiwiZGVsYXkiLCJkdXJhdGlvbiIsImludGVyYWN0aXZlIiwiaW50ZXJhY3RpdmVCb3JkZXIiLCJ0aGVtZSIsInNpemUiLCJkaXN0YW5jZSIsIm9mZnNldCIsImhpZGVPbkNsaWNrIiwibXVsdGlwbGUiLCJmb2xsb3dDdXJzb3IiLCJpbmVydGlhIiwidXBkYXRlRHVyYXRpb24iLCJzdGlja3kiLCJhcHBlbmRUbyIsImJvZHkiLCJ6SW5kZXgiLCJ0b3VjaEhvbGQiLCJwZXJmb3JtYW5jZSIsImR5bmFtaWNUaXRsZSIsImZsaXAiLCJmbGlwQmVoYXZpb3IiLCJhcnJvd1R5cGUiLCJhcnJvd1RyYW5zZm9ybSIsIm1heFdpZHRoIiwidGFyZ2V0IiwiYWxsb3dUaXRsZUhUTUwiLCJwb3BwZXJPcHRpb25zIiwiY3JlYXRlUG9wcGVySW5zdGFuY2VPbkluaXQiLCJvblNob3ciLCJvblNob3duIiwib25IaWRlIiwib25IaWRkZW4iLCJkZWZhdWx0c0tleXMiLCJrZXlzIiwiaXNPYmplY3RMaXRlcmFsIiwidG9TdHJpbmciLCJ0b0FycmF5Iiwic2xpY2UiLCJwcmVmaXgiLCJwcmVmaXhlcyIsInVwcGVyUHJvcCIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwiX3ByZWZpeCIsInByZWZpeGVkUHJvcCIsInN0eWxlIiwiZGl2IiwiY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwicHJvcHMiLCJkZXNjcmlwdG9yIiwid3JpdGFibGUiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJfZXh0ZW5kcyIsImFzc2lnbiIsImFyZ3VtZW50cyIsInNvdXJjZSIsImdldElubmVyRWxlbWVudHMiLCJwb3BwZXIiLCJ0b29sdGlwIiwiYmFja2Ryb3AiLCJjb250ZW50IiwicmVtb3ZlVGl0bGUiLCJlbCIsImdldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsImlzQnJvd3NlciQxIiwibG9uZ2VyVGltZW91dEJyb3dzZXJzIiwidGltZW91dER1cmF0aW9uIiwiZGVib3VuY2UiLCJQcm9taXNlIiwiZm4iLCJjYWxsZWQiLCJyZXNvbHZlIiwic2NoZWR1bGVkIiwiaXNGdW5jdGlvbiIsImZ1bmN0aW9uVG9DaGVjayIsImdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eSIsImVsZW1lbnQiLCJub2RlVHlwZSIsImNzcyIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQYXJlbnROb2RlIiwibm9kZU5hbWUiLCJwYXJlbnROb2RlIiwiaG9zdCIsImdldFNjcm9sbFBhcmVudCIsIm93bmVyRG9jdW1lbnQiLCJfZ2V0U3R5bGVDb21wdXRlZFByb3AiLCJvdmVyZmxvdyIsIm92ZXJmbG93WCIsIm92ZXJmbG93WSIsImlzSUUxMSIsIk1TSW5wdXRNZXRob2RDb250ZXh0IiwiZG9jdW1lbnRNb2RlIiwiaXNJRTEwIiwiaXNJRSQxIiwidmVyc2lvbiIsImdldE9mZnNldFBhcmVudCIsImRvY3VtZW50RWxlbWVudCIsIm5vT2Zmc2V0UGFyZW50Iiwib2Zmc2V0UGFyZW50IiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiZ2V0Um9vdCIsIm5vZGUiLCJmaW5kQ29tbW9uT2Zmc2V0UGFyZW50IiwiZWxlbWVudDEiLCJlbGVtZW50MiIsIm9yZGVyIiwiY29tcGFyZURvY3VtZW50UG9zaXRpb24iLCJOb2RlIiwiRE9DVU1FTlRfUE9TSVRJT05fRk9MTE9XSU5HIiwic3RhcnQiLCJlbmQiLCJyYW5nZSIsImNyZWF0ZVJhbmdlIiwic2V0U3RhcnQiLCJzZXRFbmQiLCJjb21tb25BbmNlc3RvckNvbnRhaW5lciIsImNvbnRhaW5zIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJlbGVtZW50MXJvb3QiLCJnZXRTY3JvbGwiLCJ1cHBlclNpZGUiLCJzY3JvbGxpbmdFbGVtZW50IiwiZ2V0Qm9yZGVyc1NpemUiLCJzdHlsZXMiLCJheGlzIiwic2lkZUEiLCJzaWRlQiIsInBhcnNlRmxvYXQiLCJnZXRTaXplIiwiY29tcHV0ZWRTdHlsZSIsIk1hdGgiLCJtYXgiLCJnZXRXaW5kb3dTaXplcyIsImhlaWdodCIsIndpZHRoIiwiY2xhc3NDYWxsQ2hlY2skMSIsImNyZWF0ZUNsYXNzJDEiLCJkZWZpbmVQcm9wZXJ0eSQxIiwib2JqIiwiX2V4dGVuZHMkMSIsImdldENsaWVudFJlY3QiLCJvZmZzZXRzIiwicmlnaHQiLCJsZWZ0IiwiYm90dG9tIiwidG9wIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicmVjdCIsInNjcm9sbFRvcCIsInNjcm9sbExlZnQiLCJyZXN1bHQiLCJzaXplcyIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwiaG9yaXpTY3JvbGxiYXIiLCJvZmZzZXRXaWR0aCIsInZlcnRTY3JvbGxiYXIiLCJvZmZzZXRIZWlnaHQiLCJnZXRPZmZzZXRSZWN0UmVsYXRpdmVUb0FyYml0cmFyeU5vZGUiLCJmaXhlZFBvc2l0aW9uIiwiaXNIVE1MIiwiY2hpbGRyZW5SZWN0IiwicGFyZW50UmVjdCIsInNjcm9sbFBhcmVudCIsImJvcmRlclRvcFdpZHRoIiwiYm9yZGVyTGVmdFdpZHRoIiwibWFyZ2luVG9wIiwibWFyZ2luTGVmdCIsInN1YnRyYWN0IiwibW9kaWZpZXIiLCJpbmNsdWRlU2Nyb2xsIiwiZ2V0Rml4ZWRQb3NpdGlvbk9mZnNldFBhcmVudCIsInBhcmVudEVsZW1lbnQiLCJnZXRCb3VuZGFyaWVzIiwicmVmZXJlbmNlIiwicGFkZGluZyIsImJvdW5kYXJpZXNFbGVtZW50IiwiYm91bmRhcmllcyIsImV4Y2x1ZGVTY3JvbGwiLCJyZWxhdGl2ZU9mZnNldCIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImdldFZpZXdwb3J0T2Zmc2V0UmVjdFJlbGF0aXZlVG9BcnRiaXRyYXJ5Tm9kZSIsImJvdW5kYXJpZXNOb2RlIiwiaXNGaXhlZCIsIl9nZXRXaW5kb3dTaXplcyIsImNvbXB1dGVBdXRvUGxhY2VtZW50IiwicmVmUmVjdCIsInJlY3RzIiwic29ydGVkQXJlYXMiLCJhcmVhIiwiX3JlZiIsImZpbHRlcmVkQXJlYXMiLCJmaWx0ZXIiLCJfcmVmMiIsImNvbXB1dGVkUGxhY2VtZW50IiwidmFyaWF0aW9uIiwic3BsaXQiLCJnZXRSZWZlcmVuY2VPZmZzZXRzIiwic3RhdGUiLCJnZXRPdXRlclNpemVzIiwieCIsIm1hcmdpbkJvdHRvbSIsInkiLCJtYXJnaW5SaWdodCIsImdldE9wcG9zaXRlUGxhY2VtZW50IiwiaGFzaCIsIm1hdGNoZWQiLCJnZXRQb3BwZXJPZmZzZXRzIiwicmVmZXJlbmNlT2Zmc2V0cyIsInBvcHBlclJlY3QiLCJwb3BwZXJPZmZzZXRzIiwiaXNIb3JpeiIsIm1haW5TaWRlIiwic2Vjb25kYXJ5U2lkZSIsIm1lYXN1cmVtZW50Iiwic2Vjb25kYXJ5TWVhc3VyZW1lbnQiLCJmaW5kIiwiYXJyIiwiY2hlY2siLCJBcnJheSIsInJ1bk1vZGlmaWVycyIsIm1vZGlmaWVycyIsImVuZHMiLCJwcm9wIiwiZmluZEluZGV4IiwibWF0Y2giLCJ3YXJuIiwiZW5hYmxlZCIsImlzTW9kaWZpZXJFbmFibGVkIiwibW9kaWZpZXJOYW1lIiwic29tZSIsImdldFN1cHBvcnRlZFByb3BlcnR5TmFtZSIsInRvQ2hlY2siLCJnZXRXaW5kb3ciLCJkZWZhdWx0VmlldyIsInNldHVwRXZlbnRMaXN0ZW5lcnMiLCJvcHRpb25zIiwidXBkYXRlQm91bmQiLCJhZGRFdmVudExpc3RlbmVyIiwicGFzc2l2ZSIsInNjcm9sbEVsZW1lbnQiLCJhdHRhY2hUb1Njcm9sbFBhcmVudHMiLCJjYWxsYmFjayIsInNjcm9sbFBhcmVudHMiLCJpc0JvZHkiLCJwdXNoIiwiZXZlbnRzRW5hYmxlZCIsImRpc2FibGVFdmVudExpc3RlbmVycyIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwic2NoZWR1bGVVcGRhdGUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaXNOdW1lcmljIiwiaXNOYU4iLCJpc0Zpbml0ZSIsInNldFN0eWxlcyIsInVuaXQiLCJpc01vZGlmaWVyUmVxdWlyZWQiLCJyZXF1ZXN0aW5nTmFtZSIsInJlcXVlc3RlZE5hbWUiLCJyZXF1ZXN0aW5nIiwiaXNSZXF1aXJlZCIsIl9yZXF1ZXN0aW5nIiwicmVxdWVzdGVkIiwicGxhY2VtZW50cyIsInZhbGlkUGxhY2VtZW50cyIsImNsb2Nrd2lzZSIsImNvdW50ZXIiLCJjb25jYXQiLCJyZXZlcnNlIiwiQkVIQVZJT1JTIiwiRkxJUCIsIkNMT0NLV0lTRSIsIkNPVU5URVJDTE9DS1dJU0UiLCJwYXJzZU9mZnNldCIsImJhc2VQbGFjZW1lbnQiLCJ1c2VIZWlnaHQiLCJmcmFnbWVudHMiLCJmcmFnIiwidHJpbSIsImRpdmlkZXIiLCJzZWFyY2giLCJzcGxpdFJlZ2V4Iiwib3BzIiwib3AiLCJtZXJnZVdpdGhQcmV2aW91cyIsInN0ciIsInRvVmFsdWUiLCJpbmRleDIiLCJEZWZhdWx0cyIsInBvc2l0aW9uRml4ZWQiLCJyZW1vdmVPbkRlc3Ryb3kiLCJvbkNyZWF0ZSIsIm9uVXBkYXRlIiwic2hpZnQiLCJzaGlmdHZhcmlhdGlvbiIsIl9kYXRhJG9mZnNldHMiLCJpc1ZlcnRpY2FsIiwic2lkZSIsInNoaWZ0T2Zmc2V0cyIsInByZXZlbnRPdmVyZmxvdyIsInRyYW5zZm9ybVByb3AiLCJwb3BwZXJTdHlsZXMiLCJ0cmFuc2Zvcm0iLCJwcmlvcml0eSIsInByaW1hcnkiLCJlc2NhcGVXaXRoUmVmZXJlbmNlIiwic2Vjb25kYXJ5IiwibWluIiwia2VlcFRvZ2V0aGVyIiwiZmxvb3IiLCJvcFNpZGUiLCJfZGF0YSRvZmZzZXRzJGFycm93IiwiYXJyb3dFbGVtZW50IiwibGVuIiwic2lkZUNhcGl0YWxpemVkIiwidG9Mb3dlckNhc2UiLCJhbHRTaWRlIiwiYXJyb3dFbGVtZW50U2l6ZSIsImNlbnRlciIsInBvcHBlck1hcmdpblNpZGUiLCJwb3BwZXJCb3JkZXJTaWRlIiwic2lkZVZhbHVlIiwicm91bmQiLCJmbGlwcGVkIiwib3JpZ2luYWxQbGFjZW1lbnQiLCJwbGFjZW1lbnRPcHBvc2l0ZSIsImZsaXBPcmRlciIsImJlaGF2aW9yIiwic3RlcCIsInJlZk9mZnNldHMiLCJvdmVybGFwc1JlZiIsIm92ZXJmbG93c0xlZnQiLCJvdmVyZmxvd3NSaWdodCIsIm92ZXJmbG93c1RvcCIsIm92ZXJmbG93c0JvdHRvbSIsIm92ZXJmbG93c0JvdW5kYXJpZXMiLCJmbGlwcGVkVmFyaWF0aW9uIiwiZmxpcFZhcmlhdGlvbnMiLCJnZXRPcHBvc2l0ZVZhcmlhdGlvbiIsImlubmVyIiwic3VidHJhY3RMZW5ndGgiLCJoaWRlIiwiYm91bmQiLCJhdHRyaWJ1dGVzIiwiY29tcHV0ZVN0eWxlIiwibGVnYWN5R3B1QWNjZWxlcmF0aW9uT3B0aW9uIiwiZ3B1QWNjZWxlcmF0aW9uIiwib2Zmc2V0UGFyZW50UmVjdCIsInBvc2l0aW9uIiwicHJlZml4ZWRQcm9wZXJ0eSIsIndpbGxDaGFuZ2UiLCJpbnZlcnRUb3AiLCJpbnZlcnRMZWZ0IiwieC1wbGFjZW1lbnQiLCJhcnJvd1N0eWxlcyIsImFwcGx5U3R5bGUiLCJvbkxvYWQiLCJtb2RpZmllck9wdGlvbnMiLCJQb3BwZXIiLCJfdGhpcyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInVwZGF0ZSIsImJpbmQiLCJpc0Rlc3Ryb3llZCIsImlzQ3JlYXRlZCIsImpxdWVyeSIsImVuYWJsZUV2ZW50TGlzdGVuZXJzIiwicmVtb3ZlQ2hpbGQiLCJnZXRQb3BwZXJQbGFjZW1lbnQiLCJ0cmFuc2Zvcm1OdW1iZXJzQmFzZWRPblBsYWNlbWVudEF4aXMiLCJ0eXBlIiwibnVtYmVycyIsImlzUmV2ZXJzZSIsInNjYWxlIiwidHJhbnNsYXRlIiwidHJhbnNmb3JtQXhpcyIsIlgiLCJZIiwiY29tcHV0ZUFycm93VHJhbnNmb3JtIiwiZ2V0QXhpcyIsInJlIiwiZ2V0TnVtYmVycyIsImNvbXB1dGVkVHJhbnNmb3JtIiwiZ2V0T2Zmc2V0RGlzdGFuY2VJblB4IiwiVXRpbHMiLCJQb3BwZXJVdGlscyIsIkVsZW1lbnQiLCJtYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpdGVtIiwibWF0Y2hlcyQxIiwiY2xvc2VzdCIsInBhcmVudFNlbGVjdG9yIiwic2VsZWN0b3IiLCJnZXRWYWx1ZSIsImlzQXJyYXkiLCJzZXRWaXNpYmlsaXR5U3RhdGUiLCJlbHMiLCJhcHBseVRyYW5zaXRpb25EdXJhdGlvbiIsIkJvb2xlYW4iLCJmb2N1cyIsInNjcm9sbFgiLCJwYWdlWE9mZnNldCIsInNjcm9sbFkiLCJwYWdlWU9mZnNldCIsInNjcm9sbCIsInN0b3JlIiwiayIsIlRpcHB5IiwiY29uZmlnIiwiX2tleSIsImRlc3Ryb3llZCIsInZpc2libGUiLCJfIiwibXV0YXRpb25PYnNlcnZlcnMiLCJfZ2V0SW5uZXJFbGVtZW50cyIsImhhc0F0dHJpYnV0ZSIsInJlZk9iaiIsInZpc2liaWxpdHkiLCJwb3BwZXJJbnN0YW5jZSIsIl9oYXNGb2xsb3dDdXJzb3JCZWhhdmlvciIsIl9jcmVhdGVQb3BwZXJJbnN0YW5jZSIsIl9nZXRJbm5lckVsZW1lbnRzNSIsIm1hcmdpbiIsInVwZGF0ZUFscmVhZHlDYWxsZWQiLCJyZWZsb3ciLCJ1cGRhdGVQb3BwZXJQb3NpdGlvbiIsImxhc3RUcmlnZ2VyRXZlbnQiLCJmb2xsb3dDdXJzb3JMaXN0ZW5lciIsImxhc3RNb3VzZU1vdmVFdmVudCIsImNsYXNzTGlzdCIsImFkZCIsIl90aGlzOSIsInVwZGF0ZVBvc2l0aW9uIiwiX29uVHJhbnNpdGlvbkVuZCIsImlkIiwiZGVzdHJveSIsIl90aGlzMiIsIl9nZXRJbm5lckVsZW1lbnRzMiIsImlzUHJlcGFyaW5nVG9TaG93IiwiX3RoaXMzIiwiZGVzdHJveVRhcmdldEluc3RhbmNlcyIsImxpc3RlbmVycyIsImxpc3RlbmVyIiwiaGFuZGxlciIsIl90aXBweSIsImNoaWxkIiwib2JzZXJ2ZXIiLCJkaXNjb25uZWN0IiwiX2VudGVyIiwiX3RoaXM0IiwiX2NsZWFyRGVsYXlUaW1lb3V0cyIsInRhcmdldEVsIiwidGlwcHkiLCJ3YWl0Iiwic2hvdyIsIl90aGlzOCIsIl8kbGFzdE1vdXNlTW92ZUV2ZW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJzaG93VGltZW91dCIsIl9sZWF2ZSIsIl90aGlzNSIsImhpZGVUaW1lb3V0IiwiX2dldEV2ZW50TGlzdGVuZXJzIiwiX3RoaXM2Iiwib25UcmlnZ2VyIiwic2hvdWxkU3RvcEV2ZW50IiwiY2xpY2siLCJvbk1vdXNlTGVhdmUiLCJvbk1vdXNlTW92ZSIsInJlZmVyZW5jZUN1cnNvcklzT3ZlciIsImN1cnNvcklzT3ZlclBvcHBlciIsImN1cnNvcklzT3ZlclJlZmVyZW5jZSIsImJvcmRlcldpdGhEaXN0YW5jZSIsImV4Y2VlZHMiLCJjdXJzb3JJc091dHNpZGVJbnRlcmFjdGl2ZUJvcmRlciIsIm9uQmx1ciIsInJlbGF0ZWRUYXJnZXQiLCJvbkRlbGVnYXRlU2hvdyIsIm9uRGVsZWdhdGVIaWRlIiwiX3RoaXM3IiwiYXJyb3dTZWxlY3RvciIsIl9hZGRNdXRhdGlvbk9ic2VydmVyIiwiY2hpbGRMaXN0Iiwic3VidHJlZSIsImNoYXJhY3RlckRhdGEiLCJjbGVhclRpbWVvdXQiLCJNdXRhdGlvbk9ic2VydmVyIiwib2JzZXJ2ZSIsInRvZ2dsZUxpc3RlbmVycyIsImFjdGlvbiIsInRyYW5zaXRpb25lbmRMaXN0ZW5lciIsImlkQ291bnRlciIsImNyZWF0ZVRvb2x0aXBzIiwiZXZhbHVhdGVPcHRpb25zIiwiaW5zdGFuY2VPcHRpb25zIiwidmFsIiwiSlNPTiIsInBhcnNlIiwiZ2V0SW5kaXZpZHVhbE9wdGlvbnMiLCJ0IiwidGVtcGxhdGVJZCIsImNyZWF0ZVBvcHBlckVsZW1lbnQiLCJldmVudFR5cGUiLCJoYW5kbGVycyIsImNyZWF0ZVRyaWdnZXIiLCJfcmVmZXJlbmNlIiwiaGlkZUFsbFBvcHBlcnMiLCJleGNsdWRlVGlwcHkiLCJldmVudExpc3RlbmVyc0JvdW5kIiwib25lIiwidGltZSIsIm9uRG9jdW1lbnRUb3VjaCIsIm9uRG9jdW1lbnRNb3VzZU1vdmUiLCJub3ciLCJpc0NsaWNrVHJpZ2dlciIsImlzTXVsdGlwbGUiLCJhY3RpdmVFbGVtZW50IiwiYmx1ciIsInRpcHB5SW5zdGFuY2UiLCJtYXhUb3VjaFBvaW50cyIsIm1zTWF4VG91Y2hQb2ludHMiLCJjbGFzc05hbWVzIiwicmVmZXJlbmNlcyIsIk5vZGVMaXN0IiwiZ2V0QXJyYXlPZkVsZW1lbnRzIiwiZmlyc3RSZWZlcmVuY2UiLCJ0b29sdGlwcyIsImRlc3Ryb3lBbGwiLCJkaXNhYmxlQW5pbWF0aW9ucyIsImhlYWQiLCJpbnNlcnRCZWZvcmUiLCJmaXJzdENoaWxkIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjcmVhdGVUZXh0Tm9kZSIsImluamVjdENTUyIsInRvcGljIiwiU3RyaW5nSGVscGVycyIsIlN0cmluZyIsInJlbW92ZVVuZGVyc2NvcmVzIiwidXNlV29yZEJvdW5kYXJ5Iiwic3ViU3RyaW5nIiwiZ3JvdXBJZCIsInZpZXciLCJfQnJvd3NlQnV0dG9ucyIsIl9SZXN1bHRJdGVtcyIsImdhdGVDaGVjayIsInNlYXJjaFR5cGUiLCJ1c2VMb2NhbCIsIl9zZXJ2aWNlV29ya2VySGFuZGxlcjIiLCJ0b3BpY0J1dHRvblByb21pc2UiLCJyZXNvbHZlVG9waWNCdXR0b25zIiwiZ2V0Wm90ZXJvQ29sbGVjdGlvbnMiLCJnZXRab3Rlcm9JdGVtcyIsInNldHVwU2VhcmNoIiwiX3Rvb2x0aXBzMiIsIm9uc3VibWl0IiwibG9hZGluZyIsImlucHV0IiwiQVBJU3RyaW5nIiwicmVqZWN0IiwidGV4dCIsImVycm9yIiwidiIsImdldFNlYXJjaEl0ZW1zIiwic2VhcmNoSXRlbXMiLCJjaGlsZHJlbmlmeSIsInBhcmVudENvbGxlY3Rpb24iLCJtZXRhIiwibnVtSXRlbXMiLCJyZXR1cm5LZXlWYWx1ZXMiLCJ2YWx1ZXMiLCJjb2VyY2UiLCJyb3ciLCJuZXN0UHJlbGltIiwibmVzdEJ5QXJyYXkiLCJydG4iLCJuZXN0IiwicmVjdXJzaXZlTmVzdCIsIm5lc3RCeSIsIm5lc3RUeXBlIiwicHJlbGltIiwiZW50cmllcyIsImpzb24iLCJjb2xsZWN0aW9ucyIsInN0cmluZ2lmeSIsInBhcnNlWm90ZXJvSXRlbURhdGVzIiwiaW5pdGlhbEl0ZW1zUHJvbWlzZXMiLCJzdWJzZXF1ZW50SXRlbXNQcm9taXNlcyIsImNvbnN0cnVjdFByb21pc2UiLCJyYWNlIiwidG90YWwiLCJjZWlsIiwiYWxsIiwiZGF0ZVN0cmluZ3MiLCJfbW9kZWwkem90ZXJvSXRlbXMiLCJhcHBseSIsIl90b0NvbnN1bWFibGVBcnJheSIsIl9tb2RlbCR6b3Rlcm9JdGVtczIiLCJnYXRlQ2VjayIsInJlcXVlc3QiLCJ4aHIiLCJnZXRSZXNwb25zZUhlYWRlciIsInJlc3BvbnNlVGV4dCIsInBhcnNlZERhdGVzIiwiZ2V0RGF0ZXNGcm9tU3RyaW5nIiwiZGF0ZSIsImRpc3BsYXkiLCJkYXRlVmFsdWUiLCJkZXNjZW5kaW5nIiwiY29sbGVjdGlvbktleSIsImNvbGxlY3Rpb25JdGVtcyIsInoiLCJzeW50aGVzaXNJdGVtcyIsImZpbHRlclN5bnRoZXNpc1Jlc3VsdHMiLCJzdHJpbmciLCJEYXRlIiwibWF0Y2hUeXBlcyIsImZvcnRoY29taW5nIiwieXl5eSIsInl5eXltbWRkIiwibW9udGhkZHl5eXkiLCJtb250aHl5eXkiLCJ5eXl5bW0iLCJtbWRkeXl5eSIsInl5eXl5eXl5IiwieXl5eW1vbnRoZGQiLCJjaGVja01vbnRoIiwibW9udGhzIiwiMCIsIjEiLCIyIiwiMyIsIjQiLCI1IiwiNiIsIjciLCI4IiwiOSIsIjEwIiwiMTEiLCJKYW51YXJ5IiwiRmVicnVhcnkiLCJNYXJjaCIsIkFwcmlsIiwiTWF5IiwiSnVuZSIsIkp1bHkiLCJBdWd1c3QiLCJTZXB0ZW1iZXIiLCJPY3RvYmVyIiwiTm92ZW1iZXIiLCJEZWNlbWJlciIsIldpbnRlciIsIlNwcmluZyIsIlN1bW1lciIsIkZhbGwiLCJBdXR1bW4iLCJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJTZXB0IiwiT2N0IiwiTm92IiwiRGVjIiwiX3RpcHB5MiIsInN1Y2Nlc3NmdWwiLCJleGVjQ29tbWFuZCIsIm1zZyIsInJlbmRlclRvcGljQnV0dG9ucyIsImF0dGFjaFRvb2x0aXBzIiwiaW5pdGlhbENhdGVnb3J5IiwiZGF0YXNldCIsInNldHVwU2lkZWJhciIsImJ0biIsImxhc3RNb2RpZmllZERhdGUiLCJkYXRlTW9kaWZpZWQiLCJnZXREYXRlIiwiZ2V0TW9udGgiLCJnZXRGdWxsWWVhciIsIm1ha2VQaWVDaGFydCIsInNpYmViYXJEb2N1bWVudGF0aW9uIiwic2lkZWJhckNvbnRhY3QiLCJzdmciLCJyb2xsdXAiLCJ0b3RhbE51bWJlciIsInBpZURhdGEiLCJwaWVTZWdtZW50cyIsImNvbWJpbmVkVmFsdWUiLCJwaWUiLCJwYXRoIiwiYXJjIiwib3V0ZXJSYWRpdXMiLCJpbm5lclJhZGl1cyIsInJhZGl1cyIsImxhYmVsIiwiY2VudHJvaWQiLCJwdWJUeXBlcyIsImpvdXJuYWxBcnRpY2xlIiwicmVwb3J0Iiwid2VicGFnZSIsImJvb2siLCJvdGhlciIsImxlZ2VuZEl0ZW1zIiwiaXNMb2FkaW5nIiwic2VjdGlvbiIsImNhdGVnb3JpZXMiLCJyZW5kZXJTaG93QWxsQnV0dG9uIiwib3BlbiJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQ0FLLGNBQUEsRUFDQUMsWUFBQSxFQUNBQyxJQUFBTixLQU1BWixFQUFBbUIsRUFBQSxTQUFBakIsR0FDQVksT0FBQUMsZUFBQWIsRUFBQSxjQUFpRGtCLE9BQUEsS0FJakRwQixFQUFBcUIsRUFBQSxTQUFBbEIsR0FDQSxJQUFBUyxFQUFBVCxLQUFBbUIsV0FDQSxXQUEyQixPQUFBbkIsRUFBQSxTQUMzQixXQUFpQyxPQUFBQSxHQUVqQyxPQURBSCxFQUFBVSxFQUFBRSxFQUFBLElBQUFBLEdBQ0FBLEdBSUFaLEVBQUFhLEVBQUEsU0FBQVUsRUFBQUMsR0FBc0QsT0FBQVYsT0FBQVcsVUFBQUMsZUFBQW5CLEtB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LHVCQXJQTyxTQXFQZ0I5c0IsR0FDbkJoRSxRQUFRQyxJQUFJK0QsR0FDWixJQUFJTyxFQUFRQyxHQUFHQyxPQUFPLHlCQUF5QkMsVUFBVSxjQUNwRC9DLEtBQUtxQyxFQUFTLFNBQUFwRixHQUFBLE9BQUtBLEVBQUUrQyxLQUFLZ0QsTUFDM0IzRSxRQUFRQyxJQUFJc0UsR0FDaEJBLEVBQU1LLE9BQ0RDLFFBQVEsV0FBVSxHQUNsQkEsUUFBUSxXQUFXLEdBQ25CQyxXQUFXLE1BQU1DLFNBRXRCLElBQUlDLEVBQVdULEVBQU1VLFFBQ2hCQyxPQUFPLE1BQ1BDLEtBQUssS0FBTSxTQUFBdkcsR0FBQSxPQUFLQSxFQUFFK0YsTUFDbEJRLEtBQUssUUFBUyxTQUFDdkcsRUFBRU4sR0FBSCxPQUFXTSxFQUFFNkUsY0FBY29ELGVBQWlCakksRUFBRStDLEtBQUsrQixVQUFjLFVBQVlwRixHQUE2QixRQUF2Qk0sRUFBRStDLEtBQUtnQixhQUFnRCw2QkFBdkIvRCxFQUFFK0MsS0FBS2dCLFlBQTZDLE9BQVMsTUFDOUxrQyxRQUFRLE9BQU8sR0FDZkEsUUFBUSxZQUFZLEdBQ3BCQSxRQUFRLGFBQWEsR0FDckIxRCxLQUFLLFNBQUF2QyxHQUFBLE9BQUssRUFBQTZ0QixFQUFBbHJCLGtCQUFpQjNDLEtBQzNCMEcsR0FBRyxRQUFTLFdBQ1RuQixPQUFPOHlCLEtBQUssU0FBVzcxQixLQUFLcWtCLEdBQUssT0FBUSxZQUdqRHJnQixXQUFXLFdBQ1BKLEVBQVNILFFBQVEsWUFBVyxLQUdoQ3pELEtBQUt5dkIsZUFBaUI3ckIsRUFBU0ssTUFBTWQsS0FLN0NKLE9BQU9DLFFBQ0hILGFBQ0FJLFNBRUpKLEVBQVc1RCIsImZpbGUiOiJqcy9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTQpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwic3ctZGV2LmpzXCI7IiwiaW1wb3J0IHN3VVJMIGZyb20gXCJmaWxlLWxvYWRlcj9uYW1lPXN3LWRldi5qcyFiYWJlbC1sb2FkZXIhLi9zdy1kZXZcIjtcbi8vIEhUOiBodHRwczovL21pY2hhbHphbGVja2kuY29tL3Byb2dyZXNzaXZlLXdlYi1hcHBzLXdpdGgtd2VicGFjay8gXG4vKiBVc2luZyBmaWxlLWxvYWRlciB0byBvYnRhaW4gc3dVUkwgaXMgYSBoYWNrIHdoaWNoIGFsbG93cyBmb3IgdXNpbmcgQmFiZWwgbG9hZGVyXG4oYW5kIGFueSBvdGhlciBsb2FkZXIpIGZvciBzdy5qcyB3aXRob3V0IGFkZGluZyBzdy5qcyBhcyB3ZWJwYWNr4oCZcyBlbnRyeSBwb2ludC4gKi8gXG5jb25zb2xlLmxvZyhzd1VSTCk7XG5jb25zdCBTZXJ2aWNlV29ya2VySGFuZGxlciA9IHtcbiAgICBpbml0KCl7XG4gICAgICAgIGlmICgnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yKSB7XG4gICAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoc3dVUkwpLnRoZW4oZnVuY3Rpb24ocmVnaXN0cmF0aW9uKSB7XG4gICAgICAgICAgICAvLyBSZWdpc3RyYXRpb24gd2FzIHN1Y2Nlc3NmdWxcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXJ2aWNlV29ya2VyIHJlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsIHdpdGggc2NvcGU6ICcsIHJlZ2lzdHJhdGlvbi5zY29wZSwgcmVnaXN0cmF0aW9uKTtcbiAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIC8vIHJlZ2lzdHJhdGlvbiBmYWlsZWQgOihcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXJ2aWNlV29ya2VyIHJlZ2lzdHJhdGlvbiBmYWlsZWQ6ICcsIGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc2VydmljZSB3b3JrZXJzIG5vdCBzdXBwb3J0ZWQnKVxuXG4gICAgICAgIH1cbiAgICB9ICAgIFxufTtcblxuZXhwb3J0IGRlZmF1bHQgU2VydmljZVdvcmtlckhhbmRsZXI7IiwiaW1wb3J0IHN0eWxlcyBmcm9tICcuL3Jlc3VsdHMtaXRlbXMuc2Nzcyc7XG5jb25zb2xlLmxvZyhzdHlsZXMpO1xuLyogKioqKioqKiogKi9cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVJlc3VsdHNDb250YWluZXIgPSBmdW5jdGlvbigpe1xuICB2YXIgaHRtbCA9IGA8ZGl2IGNsYXNzPVwic3ludGhlc2lzLXJlc3VsdHNcIj5cbiAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImZsZXggc3BhY2UtYmV0d2VlblwiPjwvdWw+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVzdWx0c1wiPlxuICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwibG9hZGFibGVcIj48L3VsPlxuICAgICAgICAgICAgICA8L2Rpdj4gYDtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3VsdHMtY29udGFpbmVyJykuaW5uZXJIVE1MID0gaHRtbDtcbiAgdGhpcy5yZXN1bHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2LnJlc3VsdHMgdWwnKTtcbn07XG5cbi8qICoqKioqKioqICovXG5cbmV4cG9ydCBjb25zdCBjcmVhdGVSZXN1bHRJdGVtID0gZnVuY3Rpb24oZCl7XG4gICAgdmFyIGF1dGhvclN0cixcbiAgICAgICAgYXV0aG9ycztcbiAgICBpZiAoIGQuZGF0YS5jcmVhdG9ycyA9PT0gdW5kZWZpbmVkICkge1xuICAgICAgICBhdXRob3JTdHIgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgICBhdXRob3JzID0gZC5kYXRhLmNyZWF0b3JzLm1hcChlYWNoID0+IGVhY2guZmlyc3ROYW1lICsgJyAnICsgZWFjaC5sYXN0TmFtZSk7XG4gICAgICAgIGF1dGhvclN0ciA9IGF1dGhvcnMuam9pbignLCcpO1xuICAgICAgICBpZiAoYXV0aG9ycy5sZW5ndGggPT09IDIpe1xuICAgICAgICAgICAgYXV0aG9yU3RyID0gYXV0aG9yU3RyLnJlcGxhY2UoJywnLCcgYW5kICcpO1xuICAgICAgICB9IGVsc2UgaWYgKCBhdXRob3JzLmxlbmd0aCA+IDQgKSB7XG4gICAgICAgICAgICBhdXRob3JTdHIgPSBhdXRob3JzWzBdICsgJyBldCBhbC4nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXV0aG9yU3RyID0gYXV0aG9yU3RyLnJlcGxhY2UoLywvZywnLCAnKTtcbiAgICAgICAgICAgIGxldCBpID0gYXV0aG9yU3RyLmxhc3RJbmRleE9mKCcsJyk7XG4gICAgICAgICAgICBpZiAoIGkgIT09IC0xICl7XG4gICAgICAgICAgICAgICAgYXV0aG9yU3RyID0gYXV0aG9yU3RyLnN1YnN0cigwLCBpICsgMSkgKyAnIGFuZCcgKyBhdXRob3JTdHIuc3Vic3RyKGkgKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBcblxuICAgIHZhciBwdWJsaXNoZXIgPSBkLmRhdGEucHVibGlzaGVyIHx8IGQuZGF0YS5qb3VybmFsQWJicmV2aWF0aW9uIHx8IGQuZGF0YS5wdWJsaWNhdGlvblRpdGxlIHx8IGQuZGF0YS5pbnN0aXR1dGlvbiB8fCBkLmRhdGEud2Vic2l0ZVRpdGxlIHx8ICcnO1xuXG4gICAgdmFyIGxpbmtzRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbGlua3NEaXYuY2xhc3NOYW1lID0gJ2xpbmtzLWRpdicgKyAnIHRpcHB5LWNsaXBib2FyZCc7XG4gICAgbGlua3NEaXYuc2V0QXR0cmlidXRlKCd0aXRsZScsICdDb3BpZWQgdG8gY2xpcGJvYXJkJyk7XG4gICAgdmFyIHB1YlVSTDtcbiAgICBpZiAoIGQuZGF0YS51cmwgJiYgZC5kYXRhLnVybCAhPT0gJycgKSB7XG4gICAgICAgIGxldCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICBwdWJVUkwgPSBkLmRhdGEudXJsO1xuICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnaHJlZicsIHB1YlVSTCk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCd0YXJnZXQnLCAnX2JsYW5rJylcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2NsYXNzJyxgZGV0YWlscy1saW5rYCk7XG4gICAgICAgIGxpbmsuaW5uZXJIVE1MID0gJ0dvIHRvIGxpbmsnO1xuICAgICAgICBsaW5rc0Rpdi5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICB9XG5cbiAgICBpZiAoIGQuYmliICYmIGQuYmliICE9PSAnJyApIHtcbiAgICAgICAgbGV0IHBsYWNlaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHBsYWNlaG9sZGVyLmlubmVySFRNTCA9IGQuYmliO1xuICAgICAgICBsZXQgdGV4dE9ubHkgPSBwbGFjZWhvbGRlci5xdWVyeVNlbGVjdG9yKCcuY3NsLWVudHJ5JykuaW5uZXJIVE1MO1xuICAgICAgICBsZXQgYmliQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgICAgICAgYmliQ29udGFpbmVyLmlubmVySFRNTCA9IHRleHRPbmx5O1xuICAgICAgICBiaWJDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsJ2JpYi1jb250YWluZXInKTtcbiAgICAgICAgbGV0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgJyMnKTtcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2NsYXNzJyxgY29weS1iaWJgKTtcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgdGV4dE9ubHkpO1xuICAgICAgICBsaW5rLmlubmVySFRNTCA9ICdDb3B5IGJpYmxpby4gaW5mbyc7XG4gICAgICAgIGxpbmtzRGl2LmFwcGVuZENoaWxkKGJpYkNvbnRhaW5lcik7XG4gICAgICAgIGxpbmtzRGl2LmFwcGVuZENoaWxkKGxpbmspO1xuICAgIH1cbiAgICB2YXIgdGl0bGVJbm5lckhUTUw7XG4gICAgaWYgKCBwdWJVUkwgIT09IHVuZGVmaW5lZCApe1xuICAgICAgdGl0bGVJbm5lckhUTUwgPSBgPGEgY2xhc3M9XCJpdGVtLXRpdGxlLWxpbmtcIiB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiJHtwdWJVUkx9XCI+JHtkLmRhdGEudGl0bGV9PC9hPmA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRpdGxlSW5uZXJIVE1MID0gYCR7ZC5kYXRhLnRpdGxlfWA7XG4gICAgfVxuICAgIC8qdmFyIGRldGFpbHMgPSAnJzsgXG5cbiAgICB2YXIgdG9waWNzID0gJyc7XG5cbiAgICBpZiAoIGQuZGF0YS5jb2xsZWN0aW9ucyAmJiBkLmRhdGEuY29sbGVjdGlvbnMubGVuZ3RoID4gMCApIHtcbiAgICAgICAgdG9waWNzID0gJzxiPlRvcGljOjwvYj4gJztcbiAgICAgICAgaWYgKCBkLmRhdGEuY29sbGVjdGlvbnMubGVuZ3RoID4gMSApIHtcbiAgICAgICAgICAgIHRvcGljcyA9ICc8Yj5Ub3BpY3M6IDwvYj4nO1xuICAgICAgICB9XG4gICAgICAgIGQuZGF0YS5jb2xsZWN0aW9ucy5mb3JFYWNoKChjLGkpID0+IHtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coYyxkKTtcbiAgICAgICAgICAgIHZhciB0b3BpY05hbWUgPSBSRkZBcHAubW9kZWwuY29sbGVjdGlvbnMuZmluZChkID0+IGQua2V5ID09PSBjKS5kYXRhLm5hbWU7XG4gICAgICAgICAgICB0b3BpY3MgKz0gaSA+IDAgPyAnLCAnICsgdG9waWNOYW1lIDogdG9waWNOYW1lO1xuICAgICAgICB9KTtcbiAgICAgICAgZGV0YWlscyArPSB0b3BpY3MgKyAnPGJyIC8+JztcbiAgICB9XG5cblxuICAgIGlmICggZC5kYXRhLnVybCAmJiBkLmRhdGEudXJsICE9PSAnJyApIHtcbiAgICAgICAgbGV0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgZC5kYXRhLnVybCk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCd0YXJnZXQnLCAnX2JsYW5rJylcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywnZGV0YWlscy1saW5rJyk7XG4gICAgICAgIGxpbmsuaW5uZXJIVE1MID0gJ0dvIHRvIGxpbmsnO1xuICAgICAgICBkZXRhaWxzICs9IGxpbmsub3V0ZXJIVE1MICsgJzxiciAvPic7XG4gICAgfVxuXG4gICAgaWYgKCBkLmRhdGEuRE9JICYmIGQuZGF0YS5ET0kgIT09ICcnICkge1xuICAgICAgICBkZXRhaWxzICs9ICdET0k6ICcgKyBkLmRhdGEuRE9JICsgJzxiciAvPic7XG4gICAgfVxuXG4gICAgaWYgKCBkLmJpYiAmJiBkLmJpYiAhPT0gJycgKSB7XG4gICAgICAgIGxldCBwbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBwbGFjZWhvbGRlci5pbm5lckhUTUwgPSBkLmJpYjtcbiAgICAgICAgbGV0IHRleHRPbmx5ID0gcGxhY2Vob2xkZXIucXVlcnlTZWxlY3RvcignLmNzbC1lbnRyeScpLmlubmVySFRNTDtcbiAgICAgICAgbGV0IGJpYkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gICAgICAgIGJpYkNvbnRhaW5lci5pbm5lckhUTUwgPSB0ZXh0T25seTtcbiAgICAgICAgYmliQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLHN0eWxlc1snYmliLWNvbnRhaW5lciddKTtcbiAgICAgICAgbGV0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgJyMnKTtcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywnZGV0YWlscy1saW5rIGNvcHktYmliJyk7XG4gICAgICAgIGxpbmsuaW5uZXJIVE1MID0gJ0NvcHkgYmlibGlvLiBpbmZvJztcbiAgICAgICAgZGV0YWlscyArPSBiaWJDb250YWluZXIub3V0ZXJIVE1MICsgbGluay5vdXRlckhUTUw7XG4gICAgfVxuXG4gICAgXG5cbiAgICBkZXRhaWxzID0gZGV0YWlscyAhPT0gJycgPyBkZXRhaWxzIDogJzwgbm90aGluZyB0byBzaG93ID4nOyovXG5cbiAgICAgIHJldHVybiBgXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VtbWFyeS1yZXN1bHRzXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBzcGFjZS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmbGV4IGl0ZW0taW5mbyBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsaXN0LWl0ZW1fX2xhYmVsXCI+JHtkLnN5bnRoZXNpc1R5cGUgfHwgZC5kYXRhLml0ZW1UeXBlLnVuZG9DYW1lbENhc2UoKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibGlzdC1pdGVtX19tZXRhIHB1Ymxpc2hlci1uYW1lXCI+JHtwdWJsaXNoZXIudHJ1bmMoOTAsdHJ1ZSl9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImxpc3QtaXRlbV9fbWV0YVwiPiR7ZC5kYXRhLmRhdGVTdHJpbmd9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8aDMgY2xhc3M9XCJsaXN0LWl0ZW1fX3RpdGxlXCI+JHt0aXRsZUlubmVySFRNTH08L2gzPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsaXN0LWl0ZW1fX21ldGFcIj4ke2F1dGhvclN0cn08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAke2xpbmtzRGl2Lm91dGVySFRNTH1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIGA7XG59XG5cblxuLyogKioqKioqKiogKi9cblxuZXhwb3J0IGNvbnN0IGZpbHRlclJlc3VsdHMgPSBmdW5jdGlvbihtYXRjaGVzLCBjb250cm9sbGVyKXtcbiAgLyogZ2xvYmFsIGQzICovXG4gIGNvbnNvbGUubG9nKCdsaXN0LWl0ZW0nKTtcbiAgICB2YXIgZmlsdGVyZWREYXRhID0gbWF0Y2hlcyA9PT0gdW5kZWZpbmVkID8gd2luZG93LlJGRkFwcC5tb2RlbC56b3Rlcm9JdGVtcyA6IG1hdGNoZXM7IFxuICAgIHZhciBpdGVtcyA9IGQzLnNlbGVjdCh0aGlzLnJlc3VsdHMpLnNlbGVjdEFsbCgnLicgKyAnbGlzdC1pdGVtJylcbiAgICAgICAgLmRhdGEoZmlsdGVyZWREYXRhLCBkID0+IGQua2V5KTtcblxuICAgICAgICAvLyB1cGRhdGUgZXhpc3RpbmdcbiAgLyogIGl0ZW1zXG4gICAgICAgIC5jbGFzc2VkKCdlbnRlcmVkJyxmYWxzZSlcbiAgICAgICAgLmNsYXNzZWQoJ3JlbWFpbmVkJywgdHJ1ZSk7XG4qL1xuICAgIC8vIHRyYW5zaXRpb24gYW5kIHJlbW92ZSBleGl0aW5nXG4gICAgXG4gICAgaXRlbXMuZXhpdCgpXG4gICAgICAgIC5jbGFzc2VkKCdlbnRlcmVkJyxmYWxzZSlcbiAgICAgICAgLmNsYXNzZWQoJ2V4aXRpbmcnLCB0cnVlKVxuICAgICAgICAudHJhbnNpdGlvbigxNTAwKS5yZW1vdmUoKTtcblxuICAgIHZhciBlbnRlcmluZyA9IGl0ZW1zLmVudGVyKClcbiAgICAgICAgLmFwcGVuZCgnbGknKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAoZCxpKSA9PiBkLmtleSArICcgJyArIGQuZGF0YS5pdGVtVHlwZSArICcgaW5kZXgtJyArIGkgKyAoIGQuZGF0YS5pbnN0aXR1dGlvbiA9PT0gJ1JGRicgfHwgZC5kYXRhLmluc3RpdHV0aW9uID09PSAnUmVzb3VyY2VzIGZvciB0aGUgRnV0dXJlJyA/ICcgUkZGJyA6ICcnKSlcbiAgICAgICAgLmNsYXNzZWQoJ2VudGVyaW5nJywgdHJ1ZSlcbiAgICAgICAgLmNsYXNzZWQoJ2xpc3QtaXRlbScsIHRydWUpXG4gICAgICAgIC5odG1sKGQgPT4gY3JlYXRlUmVzdWx0SXRlbShkKSk7XG4gICAgICAgIFxuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICBlbnRlcmluZy5jbGFzc2VkKCdlbnRlcmluZycsZmFsc2UpOyAgIFxuICAgIH0pO1xuXG4gICAgdGhpcy5pdGVtcyA9IGVudGVyaW5nLm1lcmdlKGl0ZW1zKTsgXG4gICAvKiBkMy5zZWxlY3RBbGwoJy5pdGVtLXRpdGxlLWxpbmsnKVxuICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGljaycpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZDMuZXZlbnQpO1xuICAgICAgICAgICAgZDMuZXZlbnQucHJldmVudERlZmF1bHQoKTsgICAgIFxuICAgICAgICB9KTsqL1xuICAgIGQzLnNlbGVjdEFsbCgnLmNvcHktYmliJylcbiAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBkMy5ldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgY29udHJvbGxlci5jb3B5QmliVGV4dC5jYWxsKHRoaXMpO1xuICAgICAgICB9KTtcblxuICAgICBjb250cm9sbGVyLmJpYmxpb1Rvb2x0aXBzKCk7XG5cblxufTsgXG4iLCJpbXBvcnQgc3R5bGVzIGZyb20gJy4vYnJvd3NlLWJ1dHRvbnMuc2Nzcyc7XG5cbmNvbnNvbGUubG9nKHN0eWxlcyk7XG5leHBvcnQgY29uc3QgY3JlYXRlQnJvd3NlQ2F0ZWdvcnkgPSBmdW5jdGlvbihjYXRlZ29yeSwgaW5kZXgsIGlzQ2F0ZWdvcml6ZWQpe1xuICAvKiBnbG9iYWwgZDMsIFJGRkFwcCAqL1xuICB2YXIgY2F0ZWdvcnlEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdmFyIGNvbnRhaW5lcjtcbiAgXG4gIGlmICggaXNDYXRlZ29yaXplZCApe1xuICAgIGNhdGVnb3J5RGl2LmlubmVySFRNTCA9IGBcbiAgICAgIDxoMz4ke2NhdGVnb3J5LmRhdGEubmFtZX08L2gzPlxuICAgIGA7XG4gICAgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29udGFpbmVyLmNsYXNzTmFtZSA9ICdicm93c2UtYnV0dG9ucyc7XG4gICAgY2F0ZWdvcnkuY2hpbGRyZW4uc29ydCgoYSxiKSA9PiBkMy5hc2NlbmRpbmcoYS5kYXRhLm5hbWUsIGIuZGF0YS5uYW1lKSkuZm9yRWFjaCgoZCxpKSA9PiB7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY3JlYXRlQnJvd3NlQnV0dG9uKGQsaSkpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5icm93c2UtYnV0dG9ucy51bmNhdGVnb3JpemVkJykgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29udGFpbmVyLmNsYXNzTmFtZSA9ICdicm93c2UtYnV0dG9ucyB1bmNhdGVnb3JpemVkJztcbiAgICBpZiAoIGNhdGVnb3J5LmRhdGEubmFtZS5pbmRleE9mKCdfJykgIT09IDAgKXtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZUJyb3dzZUJ1dHRvbihjYXRlZ29yeSkpO1xuICAgIH1cbiAgfVxuICBjb25zb2xlLmxvZyhjYXRlZ29yeSk7XG4gIGNhdGVnb3J5RGl2LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gIGNvbnNvbGUubG9nKGNhdGVnb3J5RGl2KTtcblxuICBcbiAgcmV0dXJuIGNhdGVnb3J5RGl2O1xuICAgIFxuICBmdW5jdGlvbiBjcmVhdGVCcm93c2VCdXR0b24oY29sbGVjdGlvbiwgaSl7XG4gICAgdmFyIGNoaWxkcmVuQ2xhc3NlcyA9IFtdO1xuICAgIGlmICggY29sbGVjdGlvbi5jaGlsZHJlbiApIHtcbiAgICAgXG4gICAgICBjaGlsZHJlbkNsYXNzZXMgPSBjb2xsZWN0aW9uLmNoaWxkcmVuLm1hcChlYWNoID0+IGVhY2guZGF0YS5uYW1lLmNsZWFuU3RyaW5nKCkpO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhzdHlsZXMsY2hpbGRyZW5DbGFzc2VzKTtcbiAgICB2YXIgcGFyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcGFyZW50LmlubmVySFRNTCA9IGBcbiAgICA8ZGl2IHRpdGxlPVwibm90IGxvYWRlZFwiIGRhdGEtY29sbGVjdGlvbj1cIiR7Y29sbGVjdGlvbi5rZXl9XCIgY2xhc3M9XCJidXR0b24gYnV0dG9uLS0keyBpc0NhdGVnb3JpemVkID8gJ3NlY29uZGFyeScgOiAndGVydGlhcnknfSAkeyBjaGlsZHJlbkNsYXNzZXMucmVkdWNlKChhY2MsY3VyKSA9PiBhY2MgKyBjdXIgKyAnICcsJycpfSAkeyBpbmRleCA9PT0gMCAmJiBpID09PSAwICYmIGlzQ2F0ZWdvcml6ZWQgPyAnYWN0aXZlJyA6ICcnfVwiPlxuICAgICAgPHNwYW4+JHtjb2xsZWN0aW9uLmRhdGEubmFtZX08L3NwYW4+XG4gICAgPC9kaXY+YDtcblxuICAgIHZhciBicm93c2VCdXR0b24gPSBwYXJlbnQuY2hpbGRyZW5bMF07IFxuXG4gICAgYnJvd3NlQnV0dG9uLm9uY2xpY2sgPSBmdW5jdGlvbigpe1xuICAgICAgY29uc29sZS5sb2codGhpcyk7XG4gICAgICBkMy5zZWxlY3RBbGwoJy5icm93c2UtYnV0dG9ucyAuYnV0dG9uJylcbiAgICAgICAgLmNsYXNzZWQoJ2FjdGl2ZScsIGZhbHNlKTtcbiAgICAgIGQzLnNlbGVjdCh0aGlzKVxuICAgICAgICAuY2xhc3NlZCgnYWN0aXZlJywgdHJ1ZSk7XG4gICAgICBSRkZBcHAuY29udHJvbGxlci5nZXRDb2xsZWN0aW9uSXRlbXMoY29sbGVjdGlvbi5kYXRhLmtleSk7XG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4gYnJvd3NlQnV0dG9uOyBcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgY3JlYXRlVG9waWNLZXkgPSBmdW5jdGlvbigpe1xuICB2YXIgY29udCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdicm93c2UtYnV0dG9ucy1jb250YWluZXInKTtcbiAgdmFyIGh0bWwgPSBgPGRpdiBpZD1cInRvcGljLWtleVwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlzc3VlLWJyaWVmXCI+PSBpc3N1ZSBicmllZiBhbmQgbGl0ZXJhdHVyZSByZXZpZXcgYXZhaWxhYmxlPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2Pj0gaXNzdWUgYnJpZWYgYW5kIGxpdGVyYXR1cmUgcmV2aWV3IHN0aWxsIHRvIGNvbWU8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+YDtcbiAgY29udC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGh0bWwpO1xufVxuIiwidmFyIGc7XHJcblxyXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxyXG5nID0gKGZ1bmN0aW9uKCkge1xyXG5cdHJldHVybiB0aGlzO1xyXG59KSgpO1xyXG5cclxudHJ5IHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcclxuXHRnID0gZyB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkgfHwgKDEsIGV2YWwpKFwidGhpc1wiKTtcclxufSBjYXRjaCAoZSkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXHJcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XHJcbn1cclxuXHJcbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cclxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3NcclxuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnO1xyXG4iLCIvKiFcbiogVGlwcHkuanMgdjIuNS4yXG4qIChjKSAyMDE3LTIwMTggYXRvbWlrc1xuKiBNSVRcbiovXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuXHR0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG5cdHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG5cdChnbG9iYWwudGlwcHkgPSBmYWN0b3J5KCkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbnZhciBzdHlsZXMgPSBcIi50aXBweS10b3VjaHtjdXJzb3I6cG9pbnRlciFpbXBvcnRhbnR9LnRpcHB5LW5vdHJhbnNpdGlvbnt0cmFuc2l0aW9uOm5vbmUhaW1wb3J0YW50fS50aXBweS1wb3BwZXJ7bWF4LXdpZHRoOjM1MHB4Oy13ZWJraXQtcGVyc3BlY3RpdmU6NzAwcHg7cGVyc3BlY3RpdmU6NzAwcHg7ei1pbmRleDo5OTk5O291dGxpbmU6MDt0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjE2NSwuODQsLjQ0LDEpO3BvaW50ZXItZXZlbnRzOm5vbmU7bGluZS1oZWlnaHQ6MS40fS50aXBweS1wb3BwZXJbZGF0YS1odG1sXXttYXgtd2lkdGg6OTYlO21heC13aWR0aDpjYWxjKDEwMCUgLSAyMHB4KX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj10b3BdIC50aXBweS1iYWNrZHJvcHtib3JkZXItcmFkaXVzOjQwJSA0MCUgMCAwfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gLnRpcHB5LXJvdW5kYXJyb3d7Ym90dG9tOi04cHg7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOjUwJSAwO3RyYW5zZm9ybS1vcmlnaW46NTAlIDB9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49dG9wXSAudGlwcHktcm91bmRhcnJvdyBzdmd7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowOy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgxODBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMTgwZGVnKX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj10b3BdIC50aXBweS1hcnJvd3tib3JkZXItdG9wOjdweCBzb2xpZCAjMzMzO2JvcmRlci1yaWdodDo3cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWxlZnQ6N3B4IHNvbGlkIHRyYW5zcGFyZW50O2JvdHRvbTotN3B4O21hcmdpbjowIDZweDstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46NTAlIDA7dHJhbnNmb3JtLW9yaWdpbjo1MCUgMH0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj10b3BdIC50aXBweS1iYWNrZHJvcHstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46MCA5MCU7dHJhbnNmb3JtLW9yaWdpbjowIDkwJX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj10b3BdIC50aXBweS1iYWNrZHJvcFtkYXRhLXN0YXRlPXZpc2libGVdey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDYpIHRyYW5zbGF0ZSgtNTAlLDI1JSk7dHJhbnNmb3JtOnNjYWxlKDYpIHRyYW5zbGF0ZSgtNTAlLDI1JSk7b3BhY2l0eToxfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gLnRpcHB5LWJhY2tkcm9wW2RhdGEtc3RhdGU9aGlkZGVuXXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKSB0cmFuc2xhdGUoLTUwJSwyNSUpO3RyYW5zZm9ybTpzY2FsZSgxKSB0cmFuc2xhdGUoLTUwJSwyNSUpO29wYWNpdHk6MH0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj10b3BdIFtkYXRhLWFuaW1hdGlvbj1zaGlmdC10b3dhcmRdW2RhdGEtc3RhdGU9dmlzaWJsZV17b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC0xMHB4KX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj10b3BdIFtkYXRhLWFuaW1hdGlvbj1zaGlmdC10b3dhcmRdW2RhdGEtc3RhdGU9aGlkZGVuXXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgtMjBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTIwcHgpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gW2RhdGEtYW5pbWF0aW9uPXBlcnNwZWN0aXZlXXstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46Ym90dG9tO3RyYW5zZm9ybS1vcmlnaW46Ym90dG9tfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gW2RhdGEtYW5pbWF0aW9uPXBlcnNwZWN0aXZlXVtkYXRhLXN0YXRlPXZpc2libGVde29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKC0xMHB4KSByb3RhdGVYKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC0xMHB4KSByb3RhdGVYKDApfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gW2RhdGEtYW5pbWF0aW9uPXBlcnNwZWN0aXZlXVtkYXRhLXN0YXRlPWhpZGRlbl17b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCkgcm90YXRlWCg5MGRlZyk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCkgcm90YXRlWCg5MGRlZyl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49dG9wXSBbZGF0YS1hbmltYXRpb249ZmFkZV1bZGF0YS1zdGF0ZT12aXNpYmxlXXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgtMTBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwcHgpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gW2RhdGEtYW5pbWF0aW9uPWZhZGVdW2RhdGEtc3RhdGU9aGlkZGVuXXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgtMTBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwcHgpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gW2RhdGEtYW5pbWF0aW9uPXNoaWZ0LWF3YXldW2RhdGEtc3RhdGU9dmlzaWJsZV17b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC0xMHB4KX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj10b3BdIFtkYXRhLWFuaW1hdGlvbj1zaGlmdC1hd2F5XVtkYXRhLXN0YXRlPWhpZGRlbl17b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49dG9wXSBbZGF0YS1hbmltYXRpb249c2NhbGVdW2RhdGEtc3RhdGU9dmlzaWJsZV17b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwcHgpIHNjYWxlKDEpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC0xMHB4KSBzY2FsZSgxKX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj10b3BdIFtkYXRhLWFuaW1hdGlvbj1zY2FsZV1bZGF0YS1zdGF0ZT1oaWRkZW5de29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApIHNjYWxlKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApIHNjYWxlKDApfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWJvdHRvbV0gLnRpcHB5LWJhY2tkcm9we2JvcmRlci1yYWRpdXM6MCAwIDMwJSAzMCV9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49Ym90dG9tXSAudGlwcHktcm91bmRhcnJvd3t0b3A6LThweDstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46NTAlIDEwMCU7dHJhbnNmb3JtLW9yaWdpbjo1MCUgMTAwJX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1ib3R0b21dIC50aXBweS1yb3VuZGFycm93IHN2Z3twb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDApO3RyYW5zZm9ybTpyb3RhdGUoMCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49Ym90dG9tXSAudGlwcHktYXJyb3d7Ym9yZGVyLWJvdHRvbTo3cHggc29saWQgIzMzMztib3JkZXItcmlnaHQ6N3B4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1sZWZ0OjdweCBzb2xpZCB0cmFuc3BhcmVudDt0b3A6LTdweDttYXJnaW46MCA2cHg7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOjUwJSAxMDAlO3RyYW5zZm9ybS1vcmlnaW46NTAlIDEwMCV9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49Ym90dG9tXSAudGlwcHktYmFja2Ryb3B7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOjAgLTkwJTt0cmFuc2Zvcm0tb3JpZ2luOjAgLTkwJX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1ib3R0b21dIC50aXBweS1iYWNrZHJvcFtkYXRhLXN0YXRlPXZpc2libGVdey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDYpIHRyYW5zbGF0ZSgtNTAlLC0xMjUlKTt0cmFuc2Zvcm06c2NhbGUoNikgdHJhbnNsYXRlKC01MCUsLTEyNSUpO29wYWNpdHk6MX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1ib3R0b21dIC50aXBweS1iYWNrZHJvcFtkYXRhLXN0YXRlPWhpZGRlbl17LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMSkgdHJhbnNsYXRlKC01MCUsLTEyNSUpO3RyYW5zZm9ybTpzY2FsZSgxKSB0cmFuc2xhdGUoLTUwJSwtMTI1JSk7b3BhY2l0eTowfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWJvdHRvbV0gW2RhdGEtYW5pbWF0aW9uPXNoaWZ0LXRvd2FyZF1bZGF0YS1zdGF0ZT12aXNpYmxlXXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgxMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgxMHB4KX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1ib3R0b21dIFtkYXRhLWFuaW1hdGlvbj1zaGlmdC10b3dhcmRdW2RhdGEtc3RhdGU9aGlkZGVuXXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgyMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgyMHB4KX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1ib3R0b21dIFtkYXRhLWFuaW1hdGlvbj1wZXJzcGVjdGl2ZV17LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOnRvcDt0cmFuc2Zvcm0tb3JpZ2luOnRvcH0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1ib3R0b21dIFtkYXRhLWFuaW1hdGlvbj1wZXJzcGVjdGl2ZV1bZGF0YS1zdGF0ZT12aXNpYmxlXXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgxMHB4KSByb3RhdGVYKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDEwcHgpIHJvdGF0ZVgoMCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49Ym90dG9tXSBbZGF0YS1hbmltYXRpb249cGVyc3BlY3RpdmVdW2RhdGEtc3RhdGU9aGlkZGVuXXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgwKSByb3RhdGVYKC05MGRlZyk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCkgcm90YXRlWCgtOTBkZWcpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWJvdHRvbV0gW2RhdGEtYW5pbWF0aW9uPWZhZGVdW2RhdGEtc3RhdGU9dmlzaWJsZV17b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTBweCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49Ym90dG9tXSBbZGF0YS1hbmltYXRpb249ZmFkZV1bZGF0YS1zdGF0ZT1oaWRkZW5de29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDEwcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDEwcHgpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWJvdHRvbV0gW2RhdGEtYW5pbWF0aW9uPXNoaWZ0LWF3YXldW2RhdGEtc3RhdGU9dmlzaWJsZV17b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTBweCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49Ym90dG9tXSBbZGF0YS1hbmltYXRpb249c2hpZnQtYXdheV1bZGF0YS1zdGF0ZT1oaWRkZW5de29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWJvdHRvbV0gW2RhdGEtYW5pbWF0aW9uPXNjYWxlXVtkYXRhLXN0YXRlPXZpc2libGVde29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDEwcHgpIHNjYWxlKDEpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDEwcHgpIHNjYWxlKDEpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWJvdHRvbV0gW2RhdGEtYW5pbWF0aW9uPXNjYWxlXVtkYXRhLXN0YXRlPWhpZGRlbl17b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCkgc2NhbGUoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCkgc2NhbGUoMCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49bGVmdF0gLnRpcHB5LWJhY2tkcm9we2JvcmRlci1yYWRpdXM6NTAlIDAgMCA1MCV9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49bGVmdF0gLnRpcHB5LXJvdW5kYXJyb3d7cmlnaHQ6LTE2cHg7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOjMzLjMzMzMzMzMzJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjozMy4zMzMzMzMzMyUgNTAlfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWxlZnRdIC50aXBweS1yb3VuZGFycm93IHN2Z3twb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDkwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDkwZGVnKX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1sZWZ0XSAudGlwcHktYXJyb3d7Ym9yZGVyLWxlZnQ6N3B4IHNvbGlkICMzMzM7Ym9yZGVyLXRvcDo3cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWJvdHRvbTo3cHggc29saWQgdHJhbnNwYXJlbnQ7cmlnaHQ6LTdweDttYXJnaW46M3B4IDA7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOjAgNTAlO3RyYW5zZm9ybS1vcmlnaW46MCA1MCV9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49bGVmdF0gLnRpcHB5LWJhY2tkcm9wey13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjoxMDAlIDA7dHJhbnNmb3JtLW9yaWdpbjoxMDAlIDB9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49bGVmdF0gLnRpcHB5LWJhY2tkcm9wW2RhdGEtc3RhdGU9dmlzaWJsZV17LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoNikgdHJhbnNsYXRlKDQwJSwtNTAlKTt0cmFuc2Zvcm06c2NhbGUoNikgdHJhbnNsYXRlKDQwJSwtNTAlKTtvcGFjaXR5OjF9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49bGVmdF0gLnRpcHB5LWJhY2tkcm9wW2RhdGEtc3RhdGU9aGlkZGVuXXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxLjUpIHRyYW5zbGF0ZSg0MCUsLTUwJSk7dHJhbnNmb3JtOnNjYWxlKDEuNSkgdHJhbnNsYXRlKDQwJSwtNTAlKTtvcGFjaXR5OjB9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49bGVmdF0gW2RhdGEtYW5pbWF0aW9uPXNoaWZ0LXRvd2FyZF1bZGF0YS1zdGF0ZT12aXNpYmxlXXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtMTBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTEwcHgpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWxlZnRdIFtkYXRhLWFuaW1hdGlvbj1zaGlmdC10b3dhcmRdW2RhdGEtc3RhdGU9aGlkZGVuXXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtMjBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTIwcHgpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWxlZnRdIFtkYXRhLWFuaW1hdGlvbj1wZXJzcGVjdGl2ZV17LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOnJpZ2h0O3RyYW5zZm9ybS1vcmlnaW46cmlnaHR9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49bGVmdF0gW2RhdGEtYW5pbWF0aW9uPXBlcnNwZWN0aXZlXVtkYXRhLXN0YXRlPXZpc2libGVde29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC0xMHB4KSByb3RhdGVZKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC0xMHB4KSByb3RhdGVZKDApfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWxlZnRdIFtkYXRhLWFuaW1hdGlvbj1wZXJzcGVjdGl2ZV1bZGF0YS1zdGF0ZT1oaWRkZW5de29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKDApIHJvdGF0ZVkoLTkwZGVnKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgwKSByb3RhdGVZKC05MGRlZyl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49bGVmdF0gW2RhdGEtYW5pbWF0aW9uPWZhZGVdW2RhdGEtc3RhdGU9dmlzaWJsZV17b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTEwcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC0xMHB4KX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1sZWZ0XSBbZGF0YS1hbmltYXRpb249ZmFkZV1bZGF0YS1zdGF0ZT1oaWRkZW5de29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC0xMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtMTBweCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49bGVmdF0gW2RhdGEtYW5pbWF0aW9uPXNoaWZ0LWF3YXldW2RhdGEtc3RhdGU9dmlzaWJsZV17b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTEwcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC0xMHB4KX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1sZWZ0XSBbZGF0YS1hbmltYXRpb249c2hpZnQtYXdheV1bZGF0YS1zdGF0ZT1oaWRkZW5de29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVYKDApfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWxlZnRdIFtkYXRhLWFuaW1hdGlvbj1zY2FsZV1bZGF0YS1zdGF0ZT12aXNpYmxlXXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtMTBweCkgc2NhbGUoMSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTEwcHgpIHNjYWxlKDEpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWxlZnRdIFtkYXRhLWFuaW1hdGlvbj1zY2FsZV1bZGF0YS1zdGF0ZT1oaWRkZW5de29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKDApIHNjYWxlKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVYKDApIHNjYWxlKDApfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXJpZ2h0XSAudGlwcHktYmFja2Ryb3B7Ym9yZGVyLXJhZGl1czowIDUwJSA1MCUgMH0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1yaWdodF0gLnRpcHB5LXJvdW5kYXJyb3d7bGVmdDotMTZweDstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46NjYuNjY2NjY2NjYlIDUwJTt0cmFuc2Zvcm0tb3JpZ2luOjY2LjY2NjY2NjY2JSA1MCV9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49cmlnaHRdIC50aXBweS1yb3VuZGFycm93IHN2Z3twb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKC05MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgtOTBkZWcpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXJpZ2h0XSAudGlwcHktYXJyb3d7Ym9yZGVyLXJpZ2h0OjdweCBzb2xpZCAjMzMzO2JvcmRlci10b3A6N3B4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1ib3R0b206N3B4IHNvbGlkIHRyYW5zcGFyZW50O2xlZnQ6LTdweDttYXJnaW46M3B4IDA7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOjEwMCUgNTAlO3RyYW5zZm9ybS1vcmlnaW46MTAwJSA1MCV9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49cmlnaHRdIC50aXBweS1iYWNrZHJvcHstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46LTEwMCUgMDt0cmFuc2Zvcm0tb3JpZ2luOi0xMDAlIDB9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49cmlnaHRdIC50aXBweS1iYWNrZHJvcFtkYXRhLXN0YXRlPXZpc2libGVdey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDYpIHRyYW5zbGF0ZSgtMTQwJSwtNTAlKTt0cmFuc2Zvcm06c2NhbGUoNikgdHJhbnNsYXRlKC0xNDAlLC01MCUpO29wYWNpdHk6MX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1yaWdodF0gLnRpcHB5LWJhY2tkcm9wW2RhdGEtc3RhdGU9aGlkZGVuXXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxLjUpIHRyYW5zbGF0ZSgtMTQwJSwtNTAlKTt0cmFuc2Zvcm06c2NhbGUoMS41KSB0cmFuc2xhdGUoLTE0MCUsLTUwJSk7b3BhY2l0eTowfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXJpZ2h0XSBbZGF0YS1hbmltYXRpb249c2hpZnQtdG93YXJkXVtkYXRhLXN0YXRlPXZpc2libGVde29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKDEwcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKDEwcHgpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXJpZ2h0XSBbZGF0YS1hbmltYXRpb249c2hpZnQtdG93YXJkXVtkYXRhLXN0YXRlPWhpZGRlbl17b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMjBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMjBweCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49cmlnaHRdIFtkYXRhLWFuaW1hdGlvbj1wZXJzcGVjdGl2ZV17LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOmxlZnQ7dHJhbnNmb3JtLW9yaWdpbjpsZWZ0fS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXJpZ2h0XSBbZGF0YS1hbmltYXRpb249cGVyc3BlY3RpdmVdW2RhdGEtc3RhdGU9dmlzaWJsZV17b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMTBweCkgcm90YXRlWSgwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgxMHB4KSByb3RhdGVZKDApfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXJpZ2h0XSBbZGF0YS1hbmltYXRpb249cGVyc3BlY3RpdmVdW2RhdGEtc3RhdGU9aGlkZGVuXXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgwKSByb3RhdGVZKDkwZGVnKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgwKSByb3RhdGVZKDkwZGVnKX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1yaWdodF0gW2RhdGEtYW5pbWF0aW9uPWZhZGVdW2RhdGEtc3RhdGU9dmlzaWJsZV17b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMTBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMTBweCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49cmlnaHRdIFtkYXRhLWFuaW1hdGlvbj1mYWRlXVtkYXRhLXN0YXRlPWhpZGRlbl17b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMTBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMTBweCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49cmlnaHRdIFtkYXRhLWFuaW1hdGlvbj1zaGlmdC1hd2F5XVtkYXRhLXN0YXRlPXZpc2libGVde29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKDEwcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKDEwcHgpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXJpZ2h0XSBbZGF0YS1hbmltYXRpb249c2hpZnQtYXdheV1bZGF0YS1zdGF0ZT1oaWRkZW5de29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVYKDApfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXJpZ2h0XSBbZGF0YS1hbmltYXRpb249c2NhbGVdW2RhdGEtc3RhdGU9dmlzaWJsZV17b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMTBweCkgc2NhbGUoMSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMTBweCkgc2NhbGUoMSl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49cmlnaHRdIFtkYXRhLWFuaW1hdGlvbj1zY2FsZV1bZGF0YS1zdGF0ZT1oaWRkZW5de29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKDApIHNjYWxlKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVYKDApIHNjYWxlKDApfS50aXBweS10b29sdGlwe3Bvc2l0aW9uOnJlbGF0aXZlO2NvbG9yOiNmZmY7Ym9yZGVyLXJhZGl1czo0cHg7Zm9udC1zaXplOi45cmVtO3BhZGRpbmc6LjNyZW0gLjZyZW07dGV4dC1hbGlnbjpjZW50ZXI7d2lsbC1jaGFuZ2U6dHJhbnNmb3JtOy13ZWJraXQtZm9udC1zbW9vdGhpbmc6YW50aWFsaWFzZWQ7LW1vei1vc3gtZm9udC1zbW9vdGhpbmc6Z3JheXNjYWxlO2JhY2tncm91bmQtY29sb3I6IzMzM30udGlwcHktdG9vbHRpcFtkYXRhLXNpemU9c21hbGxde3BhZGRpbmc6LjJyZW0gLjRyZW07Zm9udC1zaXplOi43NXJlbX0udGlwcHktdG9vbHRpcFtkYXRhLXNpemU9bGFyZ2Vde3BhZGRpbmc6LjRyZW0gLjhyZW07Zm9udC1zaXplOjFyZW19LnRpcHB5LXRvb2x0aXBbZGF0YS1hbmltYXRlZmlsbF17b3ZlcmZsb3c6aGlkZGVuO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnR9LnRpcHB5LXRvb2x0aXBbZGF0YS1hbmltYXRlZmlsbF0gLnRpcHB5LWNvbnRlbnR7dHJhbnNpdGlvbjotd2Via2l0LWNsaXAtcGF0aCBjdWJpYy1iZXppZXIoLjQ2LC4xLC41MiwuOTgpO3RyYW5zaXRpb246Y2xpcC1wYXRoIGN1YmljLWJlemllciguNDYsLjEsLjUyLC45OCk7dHJhbnNpdGlvbjpjbGlwLXBhdGggY3ViaWMtYmV6aWVyKC40NiwuMSwuNTIsLjk4KSwtd2Via2l0LWNsaXAtcGF0aCBjdWJpYy1iZXppZXIoLjQ2LC4xLC41MiwuOTgpfS50aXBweS10b29sdGlwW2RhdGEtaW50ZXJhY3RpdmVdLC50aXBweS10b29sdGlwW2RhdGEtaW50ZXJhY3RpdmVdIHBhdGh7cG9pbnRlci1ldmVudHM6YXV0b30udGlwcHktdG9vbHRpcFtkYXRhLWluZXJ0aWFdW2RhdGEtc3RhdGU9dmlzaWJsZV17dHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC41MywyLC4zNiwuODUpfS50aXBweS10b29sdGlwW2RhdGEtaW5lcnRpYV1bZGF0YS1zdGF0ZT1oaWRkZW5de3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2V9LnRpcHB5LWFycm93LC50aXBweS1yb3VuZGFycm93e3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjA7aGVpZ2h0OjB9LnRpcHB5LXJvdW5kYXJyb3d7d2lkdGg6MjRweDtoZWlnaHQ6OHB4O2ZpbGw6IzMzMztwb2ludGVyLWV2ZW50czpub25lfS50aXBweS1iYWNrZHJvcHtwb3NpdGlvbjphYnNvbHV0ZTt3aWxsLWNoYW5nZTp0cmFuc2Zvcm07YmFja2dyb3VuZC1jb2xvcjojMzMzO2JvcmRlci1yYWRpdXM6NTAlO3dpZHRoOjI2JTtsZWZ0OjUwJTt0b3A6NTAlO3otaW5kZXg6LTE7dHJhbnNpdGlvbjphbGwgY3ViaWMtYmV6aWVyKC40NiwuMSwuNTIsLjk4KTstd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHk6aGlkZGVuO2JhY2tmYWNlLXZpc2liaWxpdHk6aGlkZGVufS50aXBweS1iYWNrZHJvcDphZnRlcntjb250ZW50OlxcXCJcXFwiO2Zsb2F0OmxlZnQ7cGFkZGluZy10b3A6MTAwJX1ib2R5Om5vdCgudGlwcHktdG91Y2gpIC50aXBweS10b29sdGlwW2RhdGEtYW5pbWF0ZWZpbGxdW2RhdGEtc3RhdGU9dmlzaWJsZV0gLnRpcHB5LWNvbnRlbnR7LXdlYmtpdC1jbGlwLXBhdGg6ZWxsaXBzZSgxMDAlIDEwMCUgYXQgNTAlIDUwJSk7Y2xpcC1wYXRoOmVsbGlwc2UoMTAwJSAxMDAlIGF0IDUwJSA1MCUpfWJvZHk6bm90KC50aXBweS10b3VjaCkgLnRpcHB5LXRvb2x0aXBbZGF0YS1hbmltYXRlZmlsbF1bZGF0YS1zdGF0ZT1oaWRkZW5dIC50aXBweS1jb250ZW50ey13ZWJraXQtY2xpcC1wYXRoOmVsbGlwc2UoNSUgNTAlIGF0IDUwJSA1MCUpO2NsaXAtcGF0aDplbGxpcHNlKDUlIDUwJSBhdCA1MCUgNTAlKX1ib2R5Om5vdCgudGlwcHktdG91Y2gpIC50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnQ9cmlnaHRdIC50aXBweS10b29sdGlwW2RhdGEtYW5pbWF0ZWZpbGxdW2RhdGEtc3RhdGU9dmlzaWJsZV0gLnRpcHB5LWNvbnRlbnR7LXdlYmtpdC1jbGlwLXBhdGg6ZWxsaXBzZSgxMzUlIDEwMCUgYXQgMCA1MCUpO2NsaXAtcGF0aDplbGxpcHNlKDEzNSUgMTAwJSBhdCAwIDUwJSl9Ym9keTpub3QoLnRpcHB5LXRvdWNoKSAudGlwcHktcG9wcGVyW3gtcGxhY2VtZW50PXJpZ2h0XSAudGlwcHktdG9vbHRpcFtkYXRhLWFuaW1hdGVmaWxsXVtkYXRhLXN0YXRlPWhpZGRlbl0gLnRpcHB5LWNvbnRlbnR7LXdlYmtpdC1jbGlwLXBhdGg6ZWxsaXBzZSg0MCUgMTAwJSBhdCAwIDUwJSk7Y2xpcC1wYXRoOmVsbGlwc2UoNDAlIDEwMCUgYXQgMCA1MCUpfWJvZHk6bm90KC50aXBweS10b3VjaCkgLnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudD1sZWZ0XSAudGlwcHktdG9vbHRpcFtkYXRhLWFuaW1hdGVmaWxsXVtkYXRhLXN0YXRlPXZpc2libGVdIC50aXBweS1jb250ZW50ey13ZWJraXQtY2xpcC1wYXRoOmVsbGlwc2UoMTM1JSAxMDAlIGF0IDEwMCUgNTAlKTtjbGlwLXBhdGg6ZWxsaXBzZSgxMzUlIDEwMCUgYXQgMTAwJSA1MCUpfWJvZHk6bm90KC50aXBweS10b3VjaCkgLnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudD1sZWZ0XSAudGlwcHktdG9vbHRpcFtkYXRhLWFuaW1hdGVmaWxsXVtkYXRhLXN0YXRlPWhpZGRlbl0gLnRpcHB5LWNvbnRlbnR7LXdlYmtpdC1jbGlwLXBhdGg6ZWxsaXBzZSg0MCUgMTAwJSBhdCAxMDAlIDUwJSk7Y2xpcC1wYXRoOmVsbGlwc2UoNDAlIDEwMCUgYXQgMTAwJSA1MCUpfUBtZWRpYSAobWF4LXdpZHRoOjM2MHB4KXsudGlwcHktcG9wcGVye21heC13aWR0aDo5NiU7bWF4LXdpZHRoOmNhbGMoMTAwJSAtIDIwcHgpfX1cIjtcblxudmFyIHZlcnNpb24gPSBcIjIuNS4yXCI7XG5cbnZhciBpc0Jyb3dzZXIgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcblxudmFyIGlzSUUgPSBpc0Jyb3dzZXIgJiYgL01TSUUgfFRyaWRlbnRcXC8vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbnZhciBicm93c2VyID0ge307XG5cbmlmIChpc0Jyb3dzZXIpIHtcbiAgYnJvd3Nlci5zdXBwb3J0ZWQgPSAncmVxdWVzdEFuaW1hdGlvbkZyYW1lJyBpbiB3aW5kb3c7XG4gIGJyb3dzZXIuc3VwcG9ydHNUb3VjaCA9ICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdztcbiAgYnJvd3Nlci51c2luZ1RvdWNoID0gZmFsc2U7XG4gIGJyb3dzZXIuZHluYW1pY0lucHV0RGV0ZWN0aW9uID0gdHJ1ZTtcbiAgYnJvd3Nlci5pT1MgPSAvaVBob25lfGlQYWR8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pICYmICF3aW5kb3cuTVNTdHJlYW07XG4gIGJyb3dzZXIub25Vc2VySW5wdXRDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7fTtcbn1cblxuLyoqXG4gKiBTZWxlY3RvciBjb25zdGFudHMgdXNlZCBmb3IgZ3JhYmJpbmcgZWxlbWVudHNcbiAqL1xudmFyIHNlbGVjdG9ycyA9IHtcbiAgUE9QUEVSOiAnLnRpcHB5LXBvcHBlcicsXG4gIFRPT0xUSVA6ICcudGlwcHktdG9vbHRpcCcsXG4gIENPTlRFTlQ6ICcudGlwcHktY29udGVudCcsXG4gIEJBQ0tEUk9QOiAnLnRpcHB5LWJhY2tkcm9wJyxcbiAgQVJST1c6ICcudGlwcHktYXJyb3cnLFxuICBST1VORF9BUlJPVzogJy50aXBweS1yb3VuZGFycm93JyxcbiAgUkVGRVJFTkNFOiAnW2RhdGEtdGlwcHldJ1xufTtcblxudmFyIGRlZmF1bHRzID0ge1xuICBwbGFjZW1lbnQ6ICd0b3AnLFxuICBsaXZlUGxhY2VtZW50OiB0cnVlLFxuICB0cmlnZ2VyOiAnbW91c2VlbnRlciBmb2N1cycsXG4gIGFuaW1hdGlvbjogJ3NoaWZ0LWF3YXknLFxuICBodG1sOiBmYWxzZSxcbiAgYW5pbWF0ZUZpbGw6IHRydWUsXG4gIGFycm93OiBmYWxzZSxcbiAgZGVsYXk6IDAsXG4gIGR1cmF0aW9uOiBbMzUwLCAzMDBdLFxuICBpbnRlcmFjdGl2ZTogZmFsc2UsXG4gIGludGVyYWN0aXZlQm9yZGVyOiAyLFxuICB0aGVtZTogJ2RhcmsnLFxuICBzaXplOiAncmVndWxhcicsXG4gIGRpc3RhbmNlOiAxMCxcbiAgb2Zmc2V0OiAwLFxuICBoaWRlT25DbGljazogdHJ1ZSxcbiAgbXVsdGlwbGU6IGZhbHNlLFxuICBmb2xsb3dDdXJzb3I6IGZhbHNlLFxuICBpbmVydGlhOiBmYWxzZSxcbiAgdXBkYXRlRHVyYXRpb246IDM1MCxcbiAgc3RpY2t5OiBmYWxzZSxcbiAgYXBwZW5kVG86IGZ1bmN0aW9uIGFwcGVuZFRvKCkge1xuICAgIHJldHVybiBkb2N1bWVudC5ib2R5O1xuICB9LFxuICB6SW5kZXg6IDk5OTksXG4gIHRvdWNoSG9sZDogZmFsc2UsXG4gIHBlcmZvcm1hbmNlOiBmYWxzZSxcbiAgZHluYW1pY1RpdGxlOiBmYWxzZSxcbiAgZmxpcDogdHJ1ZSxcbiAgZmxpcEJlaGF2aW9yOiAnZmxpcCcsXG4gIGFycm93VHlwZTogJ3NoYXJwJyxcbiAgYXJyb3dUcmFuc2Zvcm06ICcnLFxuICBtYXhXaWR0aDogJycsXG4gIHRhcmdldDogbnVsbCxcbiAgYWxsb3dUaXRsZUhUTUw6IHRydWUsXG4gIHBvcHBlck9wdGlvbnM6IHt9LFxuICBjcmVhdGVQb3BwZXJJbnN0YW5jZU9uSW5pdDogZmFsc2UsXG4gIG9uU2hvdzogZnVuY3Rpb24gb25TaG93KCkge30sXG4gIG9uU2hvd246IGZ1bmN0aW9uIG9uU2hvd24oKSB7fSxcbiAgb25IaWRlOiBmdW5jdGlvbiBvbkhpZGUoKSB7fSxcbiAgb25IaWRkZW46IGZ1bmN0aW9uIG9uSGlkZGVuKCkge31cbn07XG5cbi8qKlxuICogVGhlIGtleXMgb2YgdGhlIGRlZmF1bHRzIG9iamVjdCBmb3IgcmVkdWNpbmcgZG93biBpbnRvIGEgbmV3IG9iamVjdFxuICogVXNlZCBpbiBgZ2V0SW5kaXZpZHVhbE9wdGlvbnMoKWBcbiAqL1xudmFyIGRlZmF1bHRzS2V5cyA9IGJyb3dzZXIuc3VwcG9ydGVkICYmIE9iamVjdC5rZXlzKGRlZmF1bHRzKTtcblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIGEgdmFsdWUgaXMgYW4gb2JqZWN0IGxpdGVyYWxcbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGl0ZXJhbCh2YWx1ZSkge1xuICByZXR1cm4ge30udG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xufVxuXG4vKipcbiAqIFBvbnlmaWxsIGZvciBBcnJheS5mcm9tXG4gKiBAcGFyYW0geyp9IHZhbHVlXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqL1xuZnVuY3Rpb24gdG9BcnJheSh2YWx1ZSkge1xuICByZXR1cm4gW10uc2xpY2UuY2FsbCh2YWx1ZSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhbiBhcnJheSBvZiBlbGVtZW50cyBiYXNlZCBvbiB0aGUgc2VsZWN0b3IgaW5wdXRcbiAqIEBwYXJhbSB7U3RyaW5nfEVsZW1lbnR8RWxlbWVudFtdfE5vZGVMaXN0fE9iamVjdH0gc2VsZWN0b3JcbiAqIEByZXR1cm4ge0VsZW1lbnRbXX1cbiAqL1xuZnVuY3Rpb24gZ2V0QXJyYXlPZkVsZW1lbnRzKHNlbGVjdG9yKSB7XG4gIGlmIChzZWxlY3RvciBpbnN0YW5jZW9mIEVsZW1lbnQgfHwgaXNPYmplY3RMaXRlcmFsKHNlbGVjdG9yKSkge1xuICAgIHJldHVybiBbc2VsZWN0b3JdO1xuICB9XG5cbiAgaWYgKHNlbGVjdG9yIGluc3RhbmNlb2YgTm9kZUxpc3QpIHtcbiAgICByZXR1cm4gdG9BcnJheShzZWxlY3Rvcik7XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheShzZWxlY3RvcikpIHtcbiAgICByZXR1cm4gc2VsZWN0b3I7XG4gIH1cblxuICB0cnkge1xuICAgIHJldHVybiB0b0FycmF5KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKTtcbiAgfSBjYXRjaCAoXykge1xuICAgIHJldHVybiBbXTtcbiAgfVxufVxuXG4vKipcbiAqIFBvbHlmaWxscyBuZWVkZWQgcHJvcHMvbWV0aG9kcyBmb3IgYSB2aXJ0dWFsIHJlZmVyZW5jZSBvYmplY3RcbiAqIE5PVEU6IGluIHYzLjAgdGhpcyB3aWxsIGJlIHB1cmVcbiAqIEBwYXJhbSB7T2JqZWN0fSByZWZlcmVuY2VcbiAqL1xuZnVuY3Rpb24gcG9seWZpbGxWaXJ0dWFsUmVmZXJlbmNlUHJvcHMocmVmZXJlbmNlKSB7XG4gIHJlZmVyZW5jZS5yZWZPYmogPSB0cnVlO1xuICByZWZlcmVuY2UuYXR0cmlidXRlcyA9IHJlZmVyZW5jZS5hdHRyaWJ1dGVzIHx8IHt9O1xuICByZWZlcmVuY2Uuc2V0QXR0cmlidXRlID0gZnVuY3Rpb24gKGtleSwgdmFsKSB7XG4gICAgcmVmZXJlbmNlLmF0dHJpYnV0ZXNba2V5XSA9IHZhbDtcbiAgfTtcbiAgcmVmZXJlbmNlLmdldEF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gcmVmZXJlbmNlLmF0dHJpYnV0ZXNba2V5XTtcbiAgfTtcbiAgcmVmZXJlbmNlLnJlbW92ZUF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICBkZWxldGUgcmVmZXJlbmNlLmF0dHJpYnV0ZXNba2V5XTtcbiAgfTtcbiAgcmVmZXJlbmNlLmhhc0F0dHJpYnV0ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4ga2V5IGluIHJlZmVyZW5jZS5hdHRyaWJ1dGVzO1xuICB9O1xuICByZWZlcmVuY2UuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHt9O1xuICByZWZlcmVuY2UucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHt9O1xuICByZWZlcmVuY2UuY2xhc3NMaXN0ID0ge1xuICAgIGNsYXNzTmFtZXM6IHt9LFxuICAgIGFkZDogZnVuY3Rpb24gYWRkKGtleSkge1xuICAgICAgcmV0dXJuIHJlZmVyZW5jZS5jbGFzc0xpc3QuY2xhc3NOYW1lc1trZXldID0gdHJ1ZTtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKGtleSkge1xuICAgICAgZGVsZXRlIHJlZmVyZW5jZS5jbGFzc0xpc3QuY2xhc3NOYW1lc1trZXldO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBjb250YWluczogZnVuY3Rpb24gY29udGFpbnMoa2V5KSB7XG4gICAgICByZXR1cm4ga2V5IGluIHJlZmVyZW5jZS5jbGFzc0xpc3QuY2xhc3NOYW1lcztcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgc3VwcG9ydGVkIHByZWZpeGVkIHByb3BlcnR5IC0gb25seSBgd2Via2l0YCBpcyBuZWVkZWQsIGBtb3pgLCBgbXNgIGFuZCBgb2AgYXJlIG9ic29sZXRlXG4gKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHlcbiAqIEByZXR1cm4ge1N0cmluZ30gLSBicm93c2VyIHN1cHBvcnRlZCBwcmVmaXhlZCBwcm9wZXJ0eVxuICovXG5mdW5jdGlvbiBwcmVmaXgocHJvcGVydHkpIHtcbiAgdmFyIHByZWZpeGVzID0gWycnLCAnd2Via2l0J107XG4gIHZhciB1cHBlclByb3AgPSBwcm9wZXJ0eS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHByb3BlcnR5LnNsaWNlKDEpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJlZml4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgX3ByZWZpeCA9IHByZWZpeGVzW2ldO1xuICAgIHZhciBwcmVmaXhlZFByb3AgPSBfcHJlZml4ID8gX3ByZWZpeCArIHVwcGVyUHJvcCA6IHByb3BlcnR5O1xuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQuYm9keS5zdHlsZVtwcmVmaXhlZFByb3BdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIHByZWZpeGVkUHJvcDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgZGl2IGVsZW1lbnRcbiAqIEByZXR1cm4ge0VsZW1lbnR9XG4gKi9cbmZ1bmN0aW9uIGRpdigpIHtcbiAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBwb3BwZXIgZWxlbWVudCB0aGVuIHJldHVybnMgaXRcbiAqIEBwYXJhbSB7TnVtYmVyfSBpZCAtIHRoZSBwb3BwZXIgaWRcbiAqIEBwYXJhbSB7U3RyaW5nfSB0aXRsZSAtIHRoZSB0b29sdGlwJ3MgYHRpdGxlYCBhdHRyaWJ1dGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gaW5kaXZpZHVhbCBvcHRpb25zXG4gKiBAcmV0dXJuIHtFbGVtZW50fSAtIHRoZSBwb3BwZXIgZWxlbWVudFxuICovXG5mdW5jdGlvbiBjcmVhdGVQb3BwZXJFbGVtZW50KGlkLCB0aXRsZSwgb3B0aW9ucykge1xuICB2YXIgcG9wcGVyID0gZGl2KCk7XG4gIHBvcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3RpcHB5LXBvcHBlcicpO1xuICBwb3BwZXIuc2V0QXR0cmlidXRlKCdyb2xlJywgJ3Rvb2x0aXAnKTtcbiAgcG9wcGVyLnNldEF0dHJpYnV0ZSgnaWQnLCAndGlwcHktJyArIGlkKTtcbiAgcG9wcGVyLnN0eWxlLnpJbmRleCA9IG9wdGlvbnMuekluZGV4O1xuICBwb3BwZXIuc3R5bGUubWF4V2lkdGggPSBvcHRpb25zLm1heFdpZHRoO1xuXG4gIHZhciB0b29sdGlwID0gZGl2KCk7XG4gIHRvb2x0aXAuc2V0QXR0cmlidXRlKCdjbGFzcycsICd0aXBweS10b29sdGlwJyk7XG4gIHRvb2x0aXAuc2V0QXR0cmlidXRlKCdkYXRhLXNpemUnLCBvcHRpb25zLnNpemUpO1xuICB0b29sdGlwLnNldEF0dHJpYnV0ZSgnZGF0YS1hbmltYXRpb24nLCBvcHRpb25zLmFuaW1hdGlvbik7XG4gIHRvb2x0aXAuc2V0QXR0cmlidXRlKCdkYXRhLXN0YXRlJywgJ2hpZGRlbicpO1xuICBvcHRpb25zLnRoZW1lLnNwbGl0KCcgJykuZm9yRWFjaChmdW5jdGlvbiAodCkge1xuICAgIHRvb2x0aXAuY2xhc3NMaXN0LmFkZCh0ICsgJy10aGVtZScpO1xuICB9KTtcblxuICB2YXIgY29udGVudCA9IGRpdigpO1xuICBjb250ZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndGlwcHktY29udGVudCcpO1xuXG4gIGlmIChvcHRpb25zLmFycm93KSB7XG4gICAgdmFyIGFycm93ID0gZGl2KCk7XG4gICAgYXJyb3cuc3R5bGVbcHJlZml4KCd0cmFuc2Zvcm0nKV0gPSBvcHRpb25zLmFycm93VHJhbnNmb3JtO1xuXG4gICAgaWYgKG9wdGlvbnMuYXJyb3dUeXBlID09PSAncm91bmQnKSB7XG4gICAgICBhcnJvdy5jbGFzc0xpc3QuYWRkKCd0aXBweS1yb3VuZGFycm93Jyk7XG4gICAgICBhcnJvdy5pbm5lckhUTUwgPSAnPHN2ZyB2aWV3Qm94PVwiMCAwIDI0IDhcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0zIDhzMi4wMjEtLjAxNSA1LjI1My00LjIxOEM5LjU4NCAyLjA1MSAxMC43OTcgMS4wMDcgMTIgMWMxLjIwMy0uMDA3IDIuNDE2IDEuMDM1IDMuNzYxIDIuNzgyQzE5LjAxMiA4LjAwNSAyMSA4IDIxIDhIM3pcIi8+PC9zdmc+JztcbiAgICB9IGVsc2Uge1xuICAgICAgYXJyb3cuY2xhc3NMaXN0LmFkZCgndGlwcHktYXJyb3cnKTtcbiAgICB9XG5cbiAgICB0b29sdGlwLmFwcGVuZENoaWxkKGFycm93KTtcbiAgfVxuXG4gIGlmIChvcHRpb25zLmFuaW1hdGVGaWxsKSB7XG4gICAgLy8gQ3JlYXRlIGFuaW1hdGVGaWxsIGNpcmNsZSBlbGVtZW50IGZvciBhbmltYXRpb25cbiAgICB0b29sdGlwLnNldEF0dHJpYnV0ZSgnZGF0YS1hbmltYXRlZmlsbCcsICcnKTtcbiAgICB2YXIgYmFja2Ryb3AgPSBkaXYoKTtcbiAgICBiYWNrZHJvcC5jbGFzc0xpc3QuYWRkKCd0aXBweS1iYWNrZHJvcCcpO1xuICAgIGJhY2tkcm9wLnNldEF0dHJpYnV0ZSgnZGF0YS1zdGF0ZScsICdoaWRkZW4nKTtcbiAgICB0b29sdGlwLmFwcGVuZENoaWxkKGJhY2tkcm9wKTtcbiAgfVxuXG4gIGlmIChvcHRpb25zLmluZXJ0aWEpIHtcbiAgICAvLyBDaGFuZ2UgdHJhbnNpdGlvbiB0aW1pbmcgZnVuY3Rpb24gY3ViaWMgYmV6aWVyXG4gICAgdG9vbHRpcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtaW5lcnRpYScsICcnKTtcbiAgfVxuXG4gIGlmIChvcHRpb25zLmludGVyYWN0aXZlKSB7XG4gICAgdG9vbHRpcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtaW50ZXJhY3RpdmUnLCAnJyk7XG4gIH1cblxuICB2YXIgaHRtbCA9IG9wdGlvbnMuaHRtbDtcbiAgaWYgKGh0bWwpIHtcbiAgICB2YXIgdGVtcGxhdGVJZCA9IHZvaWQgMDtcblxuICAgIGlmIChodG1sIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgY29udGVudC5hcHBlbmRDaGlsZChodG1sKTtcbiAgICAgIHRlbXBsYXRlSWQgPSAnIycgKyAoaHRtbC5pZCB8fCAndGlwcHktaHRtbC10ZW1wbGF0ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB0cmljayBsaW50ZXJzOiBodHRwczovL2dpdGh1Yi5jb20vYXRvbWlrcy90aXBweWpzL2lzc3Vlcy8xOTdcbiAgICAgIGNvbnRlbnRbdHJ1ZSAmJiAnaW5uZXJIVE1MJ10gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGh0bWwpW3RydWUgJiYgJ2lubmVySFRNTCddO1xuICAgICAgdGVtcGxhdGVJZCA9IGh0bWw7XG4gICAgfVxuXG4gICAgcG9wcGVyLnNldEF0dHJpYnV0ZSgnZGF0YS1odG1sJywgJycpO1xuICAgIHRvb2x0aXAuc2V0QXR0cmlidXRlKCdkYXRhLXRlbXBsYXRlLWlkJywgdGVtcGxhdGVJZCk7XG5cbiAgICBpZiAob3B0aW9ucy5pbnRlcmFjdGl2ZSkge1xuICAgICAgcG9wcGVyLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY29udGVudFtvcHRpb25zLmFsbG93VGl0bGVIVE1MID8gJ2lubmVySFRNTCcgOiAndGV4dENvbnRlbnQnXSA9IHRpdGxlO1xuICB9XG5cbiAgdG9vbHRpcC5hcHBlbmRDaGlsZChjb250ZW50KTtcbiAgcG9wcGVyLmFwcGVuZENoaWxkKHRvb2x0aXApO1xuXG4gIHJldHVybiBwb3BwZXI7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHRyaWdnZXIgYnkgYWRkaW5nIHRoZSBuZWNlc3NhcnkgZXZlbnQgbGlzdGVuZXJzIHRvIHRoZSByZWZlcmVuY2UgZWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50VHlwZSAtIHRoZSBjdXN0b20gZXZlbnQgc3BlY2lmaWVkIGluIHRoZSBgdHJpZ2dlcmAgc2V0dGluZ1xuICogQHBhcmFtIHtFbGVtZW50fSByZWZlcmVuY2VcbiAqIEBwYXJhbSB7T2JqZWN0fSBoYW5kbGVycyAtIHRoZSBoYW5kbGVycyBmb3IgZWFjaCBldmVudFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm4ge0FycmF5fSAtIGFycmF5IG9mIGxpc3RlbmVyIG9iamVjdHNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlVHJpZ2dlcihldmVudFR5cGUsIHJlZmVyZW5jZSwgaGFuZGxlcnMsIG9wdGlvbnMpIHtcbiAgdmFyIG9uVHJpZ2dlciA9IGhhbmRsZXJzLm9uVHJpZ2dlcixcbiAgICAgIG9uTW91c2VMZWF2ZSA9IGhhbmRsZXJzLm9uTW91c2VMZWF2ZSxcbiAgICAgIG9uQmx1ciA9IGhhbmRsZXJzLm9uQmx1cixcbiAgICAgIG9uRGVsZWdhdGVTaG93ID0gaGFuZGxlcnMub25EZWxlZ2F0ZVNob3csXG4gICAgICBvbkRlbGVnYXRlSGlkZSA9IGhhbmRsZXJzLm9uRGVsZWdhdGVIaWRlO1xuXG4gIHZhciBsaXN0ZW5lcnMgPSBbXTtcblxuICBpZiAoZXZlbnRUeXBlID09PSAnbWFudWFsJykgcmV0dXJuIGxpc3RlbmVycztcblxuICB2YXIgb24gPSBmdW5jdGlvbiBvbihldmVudFR5cGUsIGhhbmRsZXIpIHtcbiAgICByZWZlcmVuY2UuYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGhhbmRsZXIpO1xuICAgIGxpc3RlbmVycy5wdXNoKHsgZXZlbnQ6IGV2ZW50VHlwZSwgaGFuZGxlcjogaGFuZGxlciB9KTtcbiAgfTtcblxuICBpZiAoIW9wdGlvbnMudGFyZ2V0KSB7XG4gICAgb24oZXZlbnRUeXBlLCBvblRyaWdnZXIpO1xuXG4gICAgaWYgKGJyb3dzZXIuc3VwcG9ydHNUb3VjaCAmJiBvcHRpb25zLnRvdWNoSG9sZCkge1xuICAgICAgb24oJ3RvdWNoc3RhcnQnLCBvblRyaWdnZXIpO1xuICAgICAgb24oJ3RvdWNoZW5kJywgb25Nb3VzZUxlYXZlKTtcbiAgICB9XG4gICAgaWYgKGV2ZW50VHlwZSA9PT0gJ21vdXNlZW50ZXInKSB7XG4gICAgICBvbignbW91c2VsZWF2ZScsIG9uTW91c2VMZWF2ZSk7XG4gICAgfVxuICAgIGlmIChldmVudFR5cGUgPT09ICdmb2N1cycpIHtcbiAgICAgIG9uKGlzSUUgPyAnZm9jdXNvdXQnIDogJ2JsdXInLCBvbkJsdXIpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoYnJvd3Nlci5zdXBwb3J0c1RvdWNoICYmIG9wdGlvbnMudG91Y2hIb2xkKSB7XG4gICAgICBvbigndG91Y2hzdGFydCcsIG9uRGVsZWdhdGVTaG93KTtcbiAgICAgIG9uKCd0b3VjaGVuZCcsIG9uRGVsZWdhdGVIaWRlKTtcbiAgICB9XG4gICAgaWYgKGV2ZW50VHlwZSA9PT0gJ21vdXNlZW50ZXInKSB7XG4gICAgICBvbignbW91c2VvdmVyJywgb25EZWxlZ2F0ZVNob3cpO1xuICAgICAgb24oJ21vdXNlb3V0Jywgb25EZWxlZ2F0ZUhpZGUpO1xuICAgIH1cbiAgICBpZiAoZXZlbnRUeXBlID09PSAnZm9jdXMnKSB7XG4gICAgICBvbignZm9jdXNpbicsIG9uRGVsZWdhdGVTaG93KTtcbiAgICAgIG9uKCdmb2N1c291dCcsIG9uRGVsZWdhdGVIaWRlKTtcbiAgICB9XG4gICAgaWYgKGV2ZW50VHlwZSA9PT0gJ2NsaWNrJykge1xuICAgICAgb24oJ2NsaWNrJywgb25EZWxlZ2F0ZVNob3cpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBsaXN0ZW5lcnM7XG59XG5cbnZhciBjbGFzc0NhbGxDaGVjayA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuXG52YXIgY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KCk7XG5cblxuXG5cblxuXG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4gb2JqZWN0IG9mIHNldHRpbmdzIHRvIG92ZXJyaWRlIGdsb2JhbCBzZXR0aW5nc1xuICogQHBhcmFtIHtFbGVtZW50fSByZWZlcmVuY2VcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZU9wdGlvbnNcbiAqIEByZXR1cm4ge09iamVjdH0gLSBpbmRpdmlkdWFsIG9wdGlvbnNcbiAqL1xuZnVuY3Rpb24gZ2V0SW5kaXZpZHVhbE9wdGlvbnMocmVmZXJlbmNlLCBpbnN0YW5jZU9wdGlvbnMpIHtcbiAgdmFyIG9wdGlvbnMgPSBkZWZhdWx0c0tleXMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgIHZhciB2YWwgPSByZWZlcmVuY2UuZ2V0QXR0cmlidXRlKCdkYXRhLXRpcHB5LScgKyBrZXkudG9Mb3dlckNhc2UoKSkgfHwgaW5zdGFuY2VPcHRpb25zW2tleV07XG5cbiAgICAvLyBDb252ZXJ0IHN0cmluZ3MgdG8gYm9vbGVhbnNcbiAgICBpZiAodmFsID09PSAnZmFsc2UnKSB2YWwgPSBmYWxzZTtcbiAgICBpZiAodmFsID09PSAndHJ1ZScpIHZhbCA9IHRydWU7XG5cbiAgICAvLyBDb252ZXJ0IG51bWJlciBzdHJpbmdzIHRvIHRydWUgbnVtYmVyc1xuICAgIGlmIChpc0Zpbml0ZSh2YWwpICYmICFpc05hTihwYXJzZUZsb2F0KHZhbCkpKSB7XG4gICAgICB2YWwgPSBwYXJzZUZsb2F0KHZhbCk7XG4gICAgfVxuXG4gICAgLy8gQ29udmVydCBhcnJheSBzdHJpbmdzIHRvIGFjdHVhbCBhcnJheXNcbiAgICBpZiAoa2V5ICE9PSAndGFyZ2V0JyAmJiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyAmJiB2YWwudHJpbSgpLmNoYXJBdCgwKSA9PT0gJ1snKSB7XG4gICAgICB2YWwgPSBKU09OLnBhcnNlKHZhbCk7XG4gICAgfVxuXG4gICAgYWNjW2tleV0gPSB2YWw7XG5cbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG5cbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBpbnN0YW5jZU9wdGlvbnMsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIEV2YWx1YXRlcy9tb2RpZmllcyB0aGUgb3B0aW9ucyBvYmplY3QgZm9yIGFwcHJvcHJpYXRlIGJlaGF2aW9yXG4gKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0fSByZWZlcmVuY2VcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcmV0dXJuIHtPYmplY3R9IG1vZGlmaWVkL2V2YWx1YXRlZCBvcHRpb25zXG4gKi9cbmZ1bmN0aW9uIGV2YWx1YXRlT3B0aW9ucyhyZWZlcmVuY2UsIG9wdGlvbnMpIHtcbiAgLy8gYW5pbWF0ZUZpbGwgaXMgZGlzYWJsZWQgaWYgYW4gYXJyb3cgaXMgdHJ1ZVxuICBpZiAob3B0aW9ucy5hcnJvdykge1xuICAgIG9wdGlvbnMuYW5pbWF0ZUZpbGwgPSBmYWxzZTtcbiAgfVxuXG4gIGlmIChvcHRpb25zLmFwcGVuZFRvICYmIHR5cGVvZiBvcHRpb25zLmFwcGVuZFRvID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0aW9ucy5hcHBlbmRUbyA9IG9wdGlvbnMuYXBwZW5kVG8oKTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5odG1sID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0aW9ucy5odG1sID0gb3B0aW9ucy5odG1sKHJlZmVyZW5jZSk7XG4gIH1cblxuICByZXR1cm4gb3B0aW9ucztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGlubmVyIGVsZW1lbnRzIG9mIHRoZSBwb3BwZXIgZWxlbWVudFxuICogQHBhcmFtIHtFbGVtZW50fSBwb3BwZXJcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gZ2V0SW5uZXJFbGVtZW50cyhwb3BwZXIpIHtcbiAgdmFyIHNlbGVjdCA9IGZ1bmN0aW9uIHNlbGVjdChzKSB7XG4gICAgcmV0dXJuIHBvcHBlci5xdWVyeVNlbGVjdG9yKHMpO1xuICB9O1xuICByZXR1cm4ge1xuICAgIHRvb2x0aXA6IHNlbGVjdChzZWxlY3RvcnMuVE9PTFRJUCksXG4gICAgYmFja2Ryb3A6IHNlbGVjdChzZWxlY3RvcnMuQkFDS0RST1ApLFxuICAgIGNvbnRlbnQ6IHNlbGVjdChzZWxlY3RvcnMuQ09OVEVOVCksXG4gICAgYXJyb3c6IHNlbGVjdChzZWxlY3RvcnMuQVJST1cpIHx8IHNlbGVjdChzZWxlY3RvcnMuUk9VTkRfQVJST1cpXG4gIH07XG59XG5cbi8qKlxuICogUmVtb3ZlcyB0aGUgdGl0bGUgZnJvbSBhbiBlbGVtZW50LCBzZXR0aW5nIGBkYXRhLW9yaWdpbmFsLXRpdGxlYFxuICogYXBwcm9wcmlhdGVseVxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICovXG5mdW5jdGlvbiByZW1vdmVUaXRsZShlbCkge1xuICB2YXIgdGl0bGUgPSBlbC5nZXRBdHRyaWJ1dGUoJ3RpdGxlJyk7XG4gIC8vIE9ubHkgc2V0IGBkYXRhLW9yaWdpbmFsLXRpdGxlYCBhdHRyIGlmIHRoZXJlIGlzIGEgdGl0bGVcbiAgaWYgKHRpdGxlKSB7XG4gICAgZWwuc2V0QXR0cmlidXRlKCdkYXRhLW9yaWdpbmFsLXRpdGxlJywgdGl0bGUpO1xuICB9XG4gIGVsLnJlbW92ZUF0dHJpYnV0ZSgndGl0bGUnKTtcbn1cblxuLyoqIVxuICogQGZpbGVPdmVydmlldyBLaWNrYXNzIGxpYnJhcnkgdG8gY3JlYXRlIGFuZCBwbGFjZSBwb3BwZXJzIG5lYXIgdGhlaXIgcmVmZXJlbmNlIGVsZW1lbnRzLlxuICogQHZlcnNpb24gMS4xNC4zXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE2IEZlZGVyaWNvIFppdm9sbyBhbmQgY29udHJpYnV0b3JzXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbFxuICogY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFXG4gKiBTT0ZUV0FSRS5cbiAqL1xudmFyIGlzQnJvd3NlciQxID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJztcblxudmFyIGxvbmdlclRpbWVvdXRCcm93c2VycyA9IFsnRWRnZScsICdUcmlkZW50JywgJ0ZpcmVmb3gnXTtcbnZhciB0aW1lb3V0RHVyYXRpb24gPSAwO1xuZm9yICh2YXIgaSA9IDA7IGkgPCBsb25nZXJUaW1lb3V0QnJvd3NlcnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgaWYgKGlzQnJvd3NlciQxICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihsb25nZXJUaW1lb3V0QnJvd3NlcnNbaV0pID49IDApIHtcbiAgICB0aW1lb3V0RHVyYXRpb24gPSAxO1xuICAgIGJyZWFrO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1pY3JvdGFza0RlYm91bmNlKGZuKSB7XG4gIHZhciBjYWxsZWQgPSBmYWxzZTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoY2FsbGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNhbGxlZCA9IHRydWU7XG4gICAgd2luZG93LlByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGVkID0gZmFsc2U7XG4gICAgICBmbigpO1xuICAgIH0pO1xuICB9O1xufVxuXG5mdW5jdGlvbiB0YXNrRGVib3VuY2UoZm4pIHtcbiAgdmFyIHNjaGVkdWxlZCA9IGZhbHNlO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmICghc2NoZWR1bGVkKSB7XG4gICAgICBzY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgICBmbigpO1xuICAgICAgfSwgdGltZW91dER1cmF0aW9uKTtcbiAgICB9XG4gIH07XG59XG5cbnZhciBzdXBwb3J0c01pY3JvVGFza3MgPSBpc0Jyb3dzZXIkMSAmJiB3aW5kb3cuUHJvbWlzZTtcblxuLyoqXG4qIENyZWF0ZSBhIGRlYm91bmNlZCB2ZXJzaW9uIG9mIGEgbWV0aG9kLCB0aGF0J3MgYXN5bmNocm9ub3VzbHkgZGVmZXJyZWRcbiogYnV0IGNhbGxlZCBpbiB0aGUgbWluaW11bSB0aW1lIHBvc3NpYmxlLlxuKlxuKiBAbWV0aG9kXG4qIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiogQGFyZ3VtZW50IHtGdW5jdGlvbn0gZm5cbiogQHJldHVybnMge0Z1bmN0aW9ufVxuKi9cbnZhciBkZWJvdW5jZSA9IHN1cHBvcnRzTWljcm9UYXNrcyA/IG1pY3JvdGFza0RlYm91bmNlIDogdGFza0RlYm91bmNlO1xuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyBhIGZ1bmN0aW9uXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0FueX0gZnVuY3Rpb25Ub0NoZWNrIC0gdmFyaWFibGUgdG8gY2hlY2tcbiAqIEByZXR1cm5zIHtCb29sZWFufSBhbnN3ZXIgdG86IGlzIGEgZnVuY3Rpb24/XG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oZnVuY3Rpb25Ub0NoZWNrKSB7XG4gIHZhciBnZXRUeXBlID0ge307XG4gIHJldHVybiBmdW5jdGlvblRvQ2hlY2sgJiYgZ2V0VHlwZS50b1N0cmluZy5jYWxsKGZ1bmN0aW9uVG9DaGVjaykgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG59XG5cbi8qKlxuICogR2V0IENTUyBjb21wdXRlZCBwcm9wZXJ0eSBvZiB0aGUgZ2l2ZW4gZWxlbWVudFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtFZW1lbnR9IGVsZW1lbnRcbiAqIEBhcmd1bWVudCB7U3RyaW5nfSBwcm9wZXJ0eVxuICovXG5mdW5jdGlvbiBnZXRTdHlsZUNvbXB1dGVkUHJvcGVydHkoZWxlbWVudCwgcHJvcGVydHkpIHtcbiAgaWYgKGVsZW1lbnQubm9kZVR5cGUgIT09IDEpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgLy8gTk9URTogMSBET00gYWNjZXNzIGhlcmVcbiAgdmFyIGNzcyA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgbnVsbCk7XG4gIHJldHVybiBwcm9wZXJ0eSA/IGNzc1twcm9wZXJ0eV0gOiBjc3M7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgcGFyZW50Tm9kZSBvciB0aGUgaG9zdCBvZiB0aGUgZWxlbWVudFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7RWxlbWVudH0gcGFyZW50XG4gKi9cbmZ1bmN0aW9uIGdldFBhcmVudE5vZGUoZWxlbWVudCkge1xuICBpZiAoZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0hUTUwnKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cbiAgcmV0dXJuIGVsZW1lbnQucGFyZW50Tm9kZSB8fCBlbGVtZW50Lmhvc3Q7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgc2Nyb2xsaW5nIHBhcmVudCBvZiB0aGUgZ2l2ZW4gZWxlbWVudFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7RWxlbWVudH0gc2Nyb2xsIHBhcmVudFxuICovXG5mdW5jdGlvbiBnZXRTY3JvbGxQYXJlbnQoZWxlbWVudCkge1xuICAvLyBSZXR1cm4gYm9keSwgYGdldFNjcm9sbGAgd2lsbCB0YWtlIGNhcmUgdG8gZ2V0IHRoZSBjb3JyZWN0IGBzY3JvbGxUb3BgIGZyb20gaXRcbiAgaWYgKCFlbGVtZW50KSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmJvZHk7XG4gIH1cblxuICBzd2l0Y2ggKGVsZW1lbnQubm9kZU5hbWUpIHtcbiAgICBjYXNlICdIVE1MJzpcbiAgICBjYXNlICdCT0RZJzpcbiAgICAgIHJldHVybiBlbGVtZW50Lm93bmVyRG9jdW1lbnQuYm9keTtcbiAgICBjYXNlICcjZG9jdW1lbnQnOlxuICAgICAgcmV0dXJuIGVsZW1lbnQuYm9keTtcbiAgfVxuXG4gIC8vIEZpcmVmb3ggd2FudCB1cyB0byBjaGVjayBgLXhgIGFuZCBgLXlgIHZhcmlhdGlvbnMgYXMgd2VsbFxuXG4gIHZhciBfZ2V0U3R5bGVDb21wdXRlZFByb3AgPSBnZXRTdHlsZUNvbXB1dGVkUHJvcGVydHkoZWxlbWVudCksXG4gICAgICBvdmVyZmxvdyA9IF9nZXRTdHlsZUNvbXB1dGVkUHJvcC5vdmVyZmxvdyxcbiAgICAgIG92ZXJmbG93WCA9IF9nZXRTdHlsZUNvbXB1dGVkUHJvcC5vdmVyZmxvd1gsXG4gICAgICBvdmVyZmxvd1kgPSBfZ2V0U3R5bGVDb21wdXRlZFByb3Aub3ZlcmZsb3dZO1xuXG4gIGlmICgvKGF1dG98c2Nyb2xsfG92ZXJsYXkpLy50ZXN0KG92ZXJmbG93ICsgb3ZlcmZsb3dZICsgb3ZlcmZsb3dYKSkge1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG5cbiAgcmV0dXJuIGdldFNjcm9sbFBhcmVudChnZXRQYXJlbnROb2RlKGVsZW1lbnQpKTtcbn1cblxudmFyIGlzSUUxMSA9IGlzQnJvd3NlciQxICYmICEhKHdpbmRvdy5NU0lucHV0TWV0aG9kQ29udGV4dCAmJiBkb2N1bWVudC5kb2N1bWVudE1vZGUpO1xudmFyIGlzSUUxMCA9IGlzQnJvd3NlciQxICYmIC9NU0lFIDEwLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuXG4vKipcbiAqIERldGVybWluZXMgaWYgdGhlIGJyb3dzZXIgaXMgSW50ZXJuZXQgRXhwbG9yZXJcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBwYXJhbSB7TnVtYmVyfSB2ZXJzaW9uIHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gaXNJRVxuICovXG5mdW5jdGlvbiBpc0lFJDEodmVyc2lvbikge1xuICBpZiAodmVyc2lvbiA9PT0gMTEpIHtcbiAgICByZXR1cm4gaXNJRTExO1xuICB9XG4gIGlmICh2ZXJzaW9uID09PSAxMCkge1xuICAgIHJldHVybiBpc0lFMTA7XG4gIH1cbiAgcmV0dXJuIGlzSUUxMSB8fCBpc0lFMTA7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgb2Zmc2V0IHBhcmVudCBvZiB0aGUgZ2l2ZW4gZWxlbWVudFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7RWxlbWVudH0gb2Zmc2V0IHBhcmVudFxuICovXG5mdW5jdGlvbiBnZXRPZmZzZXRQYXJlbnQoZWxlbWVudCkge1xuICBpZiAoIWVsZW1lbnQpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICB9XG5cbiAgdmFyIG5vT2Zmc2V0UGFyZW50ID0gaXNJRSQxKDEwKSA/IGRvY3VtZW50LmJvZHkgOiBudWxsO1xuXG4gIC8vIE5PVEU6IDEgRE9NIGFjY2VzcyBoZXJlXG4gIHZhciBvZmZzZXRQYXJlbnQgPSBlbGVtZW50Lm9mZnNldFBhcmVudDtcbiAgLy8gU2tpcCBoaWRkZW4gZWxlbWVudHMgd2hpY2ggZG9uJ3QgaGF2ZSBhbiBvZmZzZXRQYXJlbnRcbiAgd2hpbGUgKG9mZnNldFBhcmVudCA9PT0gbm9PZmZzZXRQYXJlbnQgJiYgZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcpIHtcbiAgICBvZmZzZXRQYXJlbnQgPSAoZWxlbWVudCA9IGVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nKS5vZmZzZXRQYXJlbnQ7XG4gIH1cblxuICB2YXIgbm9kZU5hbWUgPSBvZmZzZXRQYXJlbnQgJiYgb2Zmc2V0UGFyZW50Lm5vZGVOYW1lO1xuXG4gIGlmICghbm9kZU5hbWUgfHwgbm9kZU5hbWUgPT09ICdCT0RZJyB8fCBub2RlTmFtZSA9PT0gJ0hUTUwnKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQgPyBlbGVtZW50Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICB9XG5cbiAgLy8gLm9mZnNldFBhcmVudCB3aWxsIHJldHVybiB0aGUgY2xvc2VzdCBURCBvciBUQUJMRSBpbiBjYXNlXG4gIC8vIG5vIG9mZnNldFBhcmVudCBpcyBwcmVzZW50LCBJIGhhdGUgdGhpcyBqb2IuLi5cbiAgaWYgKFsnVEQnLCAnVEFCTEUnXS5pbmRleE9mKG9mZnNldFBhcmVudC5ub2RlTmFtZSkgIT09IC0xICYmIGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShvZmZzZXRQYXJlbnQsICdwb3NpdGlvbicpID09PSAnc3RhdGljJykge1xuICAgIHJldHVybiBnZXRPZmZzZXRQYXJlbnQob2Zmc2V0UGFyZW50KTtcbiAgfVxuXG4gIHJldHVybiBvZmZzZXRQYXJlbnQ7XG59XG5cbmZ1bmN0aW9uIGlzT2Zmc2V0Q29udGFpbmVyKGVsZW1lbnQpIHtcbiAgdmFyIG5vZGVOYW1lID0gZWxlbWVudC5ub2RlTmFtZTtcblxuICBpZiAobm9kZU5hbWUgPT09ICdCT0RZJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gbm9kZU5hbWUgPT09ICdIVE1MJyB8fCBnZXRPZmZzZXRQYXJlbnQoZWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZCkgPT09IGVsZW1lbnQ7XG59XG5cbi8qKlxuICogRmluZHMgdGhlIHJvb3Qgbm9kZSAoZG9jdW1lbnQsIHNoYWRvd0RPTSByb290KSBvZiB0aGUgZ2l2ZW4gZWxlbWVudFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtFbGVtZW50fSBub2RlXG4gKiBAcmV0dXJucyB7RWxlbWVudH0gcm9vdCBub2RlXG4gKi9cbmZ1bmN0aW9uIGdldFJvb3Qobm9kZSkge1xuICBpZiAobm9kZS5wYXJlbnROb2RlICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIGdldFJvb3Qobm9kZS5wYXJlbnROb2RlKTtcbiAgfVxuXG4gIHJldHVybiBub2RlO1xufVxuXG4vKipcbiAqIEZpbmRzIHRoZSBvZmZzZXQgcGFyZW50IGNvbW1vbiB0byB0aGUgdHdvIHByb3ZpZGVkIG5vZGVzXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnQxXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnQyXG4gKiBAcmV0dXJucyB7RWxlbWVudH0gY29tbW9uIG9mZnNldCBwYXJlbnRcbiAqL1xuZnVuY3Rpb24gZmluZENvbW1vbk9mZnNldFBhcmVudChlbGVtZW50MSwgZWxlbWVudDIpIHtcbiAgLy8gVGhpcyBjaGVjayBpcyBuZWVkZWQgdG8gYXZvaWQgZXJyb3JzIGluIGNhc2Ugb25lIG9mIHRoZSBlbGVtZW50cyBpc24ndCBkZWZpbmVkIGZvciBhbnkgcmVhc29uXG4gIGlmICghZWxlbWVudDEgfHwgIWVsZW1lbnQxLm5vZGVUeXBlIHx8ICFlbGVtZW50MiB8fCAhZWxlbWVudDIubm9kZVR5cGUpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICB9XG5cbiAgLy8gSGVyZSB3ZSBtYWtlIHN1cmUgdG8gZ2l2ZSBhcyBcInN0YXJ0XCIgdGhlIGVsZW1lbnQgdGhhdCBjb21lcyBmaXJzdCBpbiB0aGUgRE9NXG4gIHZhciBvcmRlciA9IGVsZW1lbnQxLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGVsZW1lbnQyKSAmIE5vZGUuRE9DVU1FTlRfUE9TSVRJT05fRk9MTE9XSU5HO1xuICB2YXIgc3RhcnQgPSBvcmRlciA/IGVsZW1lbnQxIDogZWxlbWVudDI7XG4gIHZhciBlbmQgPSBvcmRlciA/IGVsZW1lbnQyIDogZWxlbWVudDE7XG5cbiAgLy8gR2V0IGNvbW1vbiBhbmNlc3RvciBjb250YWluZXJcbiAgdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgcmFuZ2Uuc2V0U3RhcnQoc3RhcnQsIDApO1xuICByYW5nZS5zZXRFbmQoZW5kLCAwKTtcbiAgdmFyIGNvbW1vbkFuY2VzdG9yQ29udGFpbmVyID0gcmFuZ2UuY29tbW9uQW5jZXN0b3JDb250YWluZXI7XG5cbiAgLy8gQm90aCBub2RlcyBhcmUgaW5zaWRlICNkb2N1bWVudFxuXG4gIGlmIChlbGVtZW50MSAhPT0gY29tbW9uQW5jZXN0b3JDb250YWluZXIgJiYgZWxlbWVudDIgIT09IGNvbW1vbkFuY2VzdG9yQ29udGFpbmVyIHx8IHN0YXJ0LmNvbnRhaW5zKGVuZCkpIHtcbiAgICBpZiAoaXNPZmZzZXRDb250YWluZXIoY29tbW9uQW5jZXN0b3JDb250YWluZXIpKSB7XG4gICAgICByZXR1cm4gY29tbW9uQW5jZXN0b3JDb250YWluZXI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldE9mZnNldFBhcmVudChjb21tb25BbmNlc3RvckNvbnRhaW5lcik7XG4gIH1cblxuICAvLyBvbmUgb2YgdGhlIG5vZGVzIGlzIGluc2lkZSBzaGFkb3dET00sIGZpbmQgd2hpY2ggb25lXG4gIHZhciBlbGVtZW50MXJvb3QgPSBnZXRSb290KGVsZW1lbnQxKTtcbiAgaWYgKGVsZW1lbnQxcm9vdC5ob3N0KSB7XG4gICAgcmV0dXJuIGZpbmRDb21tb25PZmZzZXRQYXJlbnQoZWxlbWVudDFyb290Lmhvc3QsIGVsZW1lbnQyKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmluZENvbW1vbk9mZnNldFBhcmVudChlbGVtZW50MSwgZ2V0Um9vdChlbGVtZW50MikuaG9zdCk7XG4gIH1cbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBzY3JvbGwgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQgaW4gdGhlIGdpdmVuIHNpZGUgKHRvcCBhbmQgbGVmdClcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudFxuICogQGFyZ3VtZW50IHtTdHJpbmd9IHNpZGUgYHRvcGAgb3IgYGxlZnRgXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBhbW91bnQgb2Ygc2Nyb2xsZWQgcGl4ZWxzXG4gKi9cbmZ1bmN0aW9uIGdldFNjcm9sbChlbGVtZW50KSB7XG4gIHZhciBzaWRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAndG9wJztcblxuICB2YXIgdXBwZXJTaWRlID0gc2lkZSA9PT0gJ3RvcCcgPyAnc2Nyb2xsVG9wJyA6ICdzY3JvbGxMZWZ0JztcbiAgdmFyIG5vZGVOYW1lID0gZWxlbWVudC5ub2RlTmFtZTtcblxuICBpZiAobm9kZU5hbWUgPT09ICdCT0RZJyB8fCBub2RlTmFtZSA9PT0gJ0hUTUwnKSB7XG4gICAgdmFyIGh0bWwgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgIHZhciBzY3JvbGxpbmdFbGVtZW50ID0gZWxlbWVudC5vd25lckRvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnQgfHwgaHRtbDtcbiAgICByZXR1cm4gc2Nyb2xsaW5nRWxlbWVudFt1cHBlclNpZGVdO1xuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnRbdXBwZXJTaWRlXTtcbn1cblxuLypcbiAqIFN1bSBvciBzdWJ0cmFjdCB0aGUgZWxlbWVudCBzY3JvbGwgdmFsdWVzIChsZWZ0IGFuZCB0b3ApIGZyb20gYSBnaXZlbiByZWN0IG9iamVjdFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHBhcmFtIHtPYmplY3R9IHJlY3QgLSBSZWN0IG9iamVjdCB5b3Ugd2FudCB0byBjaGFuZ2VcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBUaGUgZWxlbWVudCBmcm9tIHRoZSBmdW5jdGlvbiByZWFkcyB0aGUgc2Nyb2xsIHZhbHVlc1xuICogQHBhcmFtIHtCb29sZWFufSBzdWJ0cmFjdCAtIHNldCB0byB0cnVlIGlmIHlvdSB3YW50IHRvIHN1YnRyYWN0IHRoZSBzY3JvbGwgdmFsdWVzXG4gKiBAcmV0dXJuIHtPYmplY3R9IHJlY3QgLSBUaGUgbW9kaWZpZXIgcmVjdCBvYmplY3RcbiAqL1xuZnVuY3Rpb24gaW5jbHVkZVNjcm9sbChyZWN0LCBlbGVtZW50KSB7XG4gIHZhciBzdWJ0cmFjdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XG5cbiAgdmFyIHNjcm9sbFRvcCA9IGdldFNjcm9sbChlbGVtZW50LCAndG9wJyk7XG4gIHZhciBzY3JvbGxMZWZ0ID0gZ2V0U2Nyb2xsKGVsZW1lbnQsICdsZWZ0Jyk7XG4gIHZhciBtb2RpZmllciA9IHN1YnRyYWN0ID8gLTEgOiAxO1xuICByZWN0LnRvcCArPSBzY3JvbGxUb3AgKiBtb2RpZmllcjtcbiAgcmVjdC5ib3R0b20gKz0gc2Nyb2xsVG9wICogbW9kaWZpZXI7XG4gIHJlY3QubGVmdCArPSBzY3JvbGxMZWZ0ICogbW9kaWZpZXI7XG4gIHJlY3QucmlnaHQgKz0gc2Nyb2xsTGVmdCAqIG1vZGlmaWVyO1xuICByZXR1cm4gcmVjdDtcbn1cblxuLypcbiAqIEhlbHBlciB0byBkZXRlY3QgYm9yZGVycyBvZiBhIGdpdmVuIGVsZW1lbnRcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBwYXJhbSB7Q1NTU3R5bGVEZWNsYXJhdGlvbn0gc3R5bGVzXG4gKiBSZXN1bHQgb2YgYGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eWAgb24gdGhlIGdpdmVuIGVsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBheGlzIC0gYHhgIG9yIGB5YFxuICogQHJldHVybiB7bnVtYmVyfSBib3JkZXJzIC0gVGhlIGJvcmRlcnMgc2l6ZSBvZiB0aGUgZ2l2ZW4gYXhpc1xuICovXG5cbmZ1bmN0aW9uIGdldEJvcmRlcnNTaXplKHN0eWxlcywgYXhpcykge1xuICB2YXIgc2lkZUEgPSBheGlzID09PSAneCcgPyAnTGVmdCcgOiAnVG9wJztcbiAgdmFyIHNpZGVCID0gc2lkZUEgPT09ICdMZWZ0JyA/ICdSaWdodCcgOiAnQm90dG9tJztcblxuICByZXR1cm4gcGFyc2VGbG9hdChzdHlsZXNbJ2JvcmRlcicgKyBzaWRlQSArICdXaWR0aCddLCAxMCkgKyBwYXJzZUZsb2F0KHN0eWxlc1snYm9yZGVyJyArIHNpZGVCICsgJ1dpZHRoJ10sIDEwKTtcbn1cblxuZnVuY3Rpb24gZ2V0U2l6ZShheGlzLCBib2R5LCBodG1sLCBjb21wdXRlZFN0eWxlKSB7XG4gIHJldHVybiBNYXRoLm1heChib2R5WydvZmZzZXQnICsgYXhpc10sIGJvZHlbJ3Njcm9sbCcgKyBheGlzXSwgaHRtbFsnY2xpZW50JyArIGF4aXNdLCBodG1sWydvZmZzZXQnICsgYXhpc10sIGh0bWxbJ3Njcm9sbCcgKyBheGlzXSwgaXNJRSQxKDEwKSA/IGh0bWxbJ29mZnNldCcgKyBheGlzXSArIGNvbXB1dGVkU3R5bGVbJ21hcmdpbicgKyAoYXhpcyA9PT0gJ0hlaWdodCcgPyAnVG9wJyA6ICdMZWZ0JyldICsgY29tcHV0ZWRTdHlsZVsnbWFyZ2luJyArIChheGlzID09PSAnSGVpZ2h0JyA/ICdCb3R0b20nIDogJ1JpZ2h0JyldIDogMCk7XG59XG5cbmZ1bmN0aW9uIGdldFdpbmRvd1NpemVzKCkge1xuICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gIHZhciBodG1sID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICB2YXIgY29tcHV0ZWRTdHlsZSA9IGlzSUUkMSgxMCkgJiYgZ2V0Q29tcHV0ZWRTdHlsZShodG1sKTtcblxuICByZXR1cm4ge1xuICAgIGhlaWdodDogZ2V0U2l6ZSgnSGVpZ2h0JywgYm9keSwgaHRtbCwgY29tcHV0ZWRTdHlsZSksXG4gICAgd2lkdGg6IGdldFNpemUoJ1dpZHRoJywgYm9keSwgaHRtbCwgY29tcHV0ZWRTdHlsZSlcbiAgfTtcbn1cblxudmFyIGNsYXNzQ2FsbENoZWNrJDEgPSBmdW5jdGlvbiBjbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuXG52YXIgY3JlYXRlQ2xhc3MkMSA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfTtcbn0oKTtcblxudmFyIGRlZmluZVByb3BlcnR5JDEgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufTtcblxudmFyIF9leHRlbmRzJDEgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufTtcblxuLyoqXG4gKiBHaXZlbiBlbGVtZW50IG9mZnNldHMsIGdlbmVyYXRlIGFuIG91dHB1dCBzaW1pbGFyIHRvIGdldEJvdW5kaW5nQ2xpZW50UmVjdFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IG9mZnNldHNcbiAqIEByZXR1cm5zIHtPYmplY3R9IENsaWVudFJlY3QgbGlrZSBvdXRwdXRcbiAqL1xuZnVuY3Rpb24gZ2V0Q2xpZW50UmVjdChvZmZzZXRzKSB7XG4gIHJldHVybiBfZXh0ZW5kcyQxKHt9LCBvZmZzZXRzLCB7XG4gICAgcmlnaHQ6IG9mZnNldHMubGVmdCArIG9mZnNldHMud2lkdGgsXG4gICAgYm90dG9tOiBvZmZzZXRzLnRvcCArIG9mZnNldHMuaGVpZ2h0XG4gIH0pO1xufVxuXG4vKipcbiAqIEdldCBib3VuZGluZyBjbGllbnQgcmVjdCBvZiBnaXZlbiBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJuIHtPYmplY3R9IGNsaWVudCByZWN0XG4gKi9cbmZ1bmN0aW9uIGdldEJvdW5kaW5nQ2xpZW50UmVjdChlbGVtZW50KSB7XG4gIHZhciByZWN0ID0ge307XG5cbiAgLy8gSUUxMCAxMCBGSVg6IFBsZWFzZSwgZG9uJ3QgYXNrLCB0aGUgZWxlbWVudCBpc24ndFxuICAvLyBjb25zaWRlcmVkIGluIERPTSBpbiBzb21lIGNpcmN1bXN0YW5jZXMuLi5cbiAgLy8gVGhpcyBpc24ndCByZXByb2R1Y2libGUgaW4gSUUxMCBjb21wYXRpYmlsaXR5IG1vZGUgb2YgSUUxMVxuICB0cnkge1xuICAgIGlmIChpc0lFJDEoMTApKSB7XG4gICAgICByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHZhciBzY3JvbGxUb3AgPSBnZXRTY3JvbGwoZWxlbWVudCwgJ3RvcCcpO1xuICAgICAgdmFyIHNjcm9sbExlZnQgPSBnZXRTY3JvbGwoZWxlbWVudCwgJ2xlZnQnKTtcbiAgICAgIHJlY3QudG9wICs9IHNjcm9sbFRvcDtcbiAgICAgIHJlY3QubGVmdCArPSBzY3JvbGxMZWZ0O1xuICAgICAgcmVjdC5ib3R0b20gKz0gc2Nyb2xsVG9wO1xuICAgICAgcmVjdC5yaWdodCArPSBzY3JvbGxMZWZ0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdmFyIHJlc3VsdCA9IHtcbiAgICBsZWZ0OiByZWN0LmxlZnQsXG4gICAgdG9wOiByZWN0LnRvcCxcbiAgICB3aWR0aDogcmVjdC5yaWdodCAtIHJlY3QubGVmdCxcbiAgICBoZWlnaHQ6IHJlY3QuYm90dG9tIC0gcmVjdC50b3BcbiAgfTtcblxuICAvLyBzdWJ0cmFjdCBzY3JvbGxiYXIgc2l6ZSBmcm9tIHNpemVzXG4gIHZhciBzaXplcyA9IGVsZW1lbnQubm9kZU5hbWUgPT09ICdIVE1MJyA/IGdldFdpbmRvd1NpemVzKCkgOiB7fTtcbiAgdmFyIHdpZHRoID0gc2l6ZXMud2lkdGggfHwgZWxlbWVudC5jbGllbnRXaWR0aCB8fCByZXN1bHQucmlnaHQgLSByZXN1bHQubGVmdDtcbiAgdmFyIGhlaWdodCA9IHNpemVzLmhlaWdodCB8fCBlbGVtZW50LmNsaWVudEhlaWdodCB8fCByZXN1bHQuYm90dG9tIC0gcmVzdWx0LnRvcDtcblxuICB2YXIgaG9yaXpTY3JvbGxiYXIgPSBlbGVtZW50Lm9mZnNldFdpZHRoIC0gd2lkdGg7XG4gIHZhciB2ZXJ0U2Nyb2xsYmFyID0gZWxlbWVudC5vZmZzZXRIZWlnaHQgLSBoZWlnaHQ7XG5cbiAgLy8gaWYgYW4gaHlwb3RoZXRpY2FsIHNjcm9sbGJhciBpcyBkZXRlY3RlZCwgd2UgbXVzdCBiZSBzdXJlIGl0J3Mgbm90IGEgYGJvcmRlcmBcbiAgLy8gd2UgbWFrZSB0aGlzIGNoZWNrIGNvbmRpdGlvbmFsIGZvciBwZXJmb3JtYW5jZSByZWFzb25zXG4gIGlmIChob3JpelNjcm9sbGJhciB8fCB2ZXJ0U2Nyb2xsYmFyKSB7XG4gICAgdmFyIHN0eWxlcyA9IGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShlbGVtZW50KTtcbiAgICBob3JpelNjcm9sbGJhciAtPSBnZXRCb3JkZXJzU2l6ZShzdHlsZXMsICd4Jyk7XG4gICAgdmVydFNjcm9sbGJhciAtPSBnZXRCb3JkZXJzU2l6ZShzdHlsZXMsICd5Jyk7XG5cbiAgICByZXN1bHQud2lkdGggLT0gaG9yaXpTY3JvbGxiYXI7XG4gICAgcmVzdWx0LmhlaWdodCAtPSB2ZXJ0U2Nyb2xsYmFyO1xuICB9XG5cbiAgcmV0dXJuIGdldENsaWVudFJlY3QocmVzdWx0KTtcbn1cblxuZnVuY3Rpb24gZ2V0T2Zmc2V0UmVjdFJlbGF0aXZlVG9BcmJpdHJhcnlOb2RlKGNoaWxkcmVuLCBwYXJlbnQpIHtcbiAgdmFyIGZpeGVkUG9zaXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlO1xuXG4gIHZhciBpc0lFMTAgPSBpc0lFJDEoMTApO1xuICB2YXIgaXNIVE1MID0gcGFyZW50Lm5vZGVOYW1lID09PSAnSFRNTCc7XG4gIHZhciBjaGlsZHJlblJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QoY2hpbGRyZW4pO1xuICB2YXIgcGFyZW50UmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChwYXJlbnQpO1xuICB2YXIgc2Nyb2xsUGFyZW50ID0gZ2V0U2Nyb2xsUGFyZW50KGNoaWxkcmVuKTtcblxuICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KHBhcmVudCk7XG4gIHZhciBib3JkZXJUb3BXaWR0aCA9IHBhcnNlRmxvYXQoc3R5bGVzLmJvcmRlclRvcFdpZHRoLCAxMCk7XG4gIHZhciBib3JkZXJMZWZ0V2lkdGggPSBwYXJzZUZsb2F0KHN0eWxlcy5ib3JkZXJMZWZ0V2lkdGgsIDEwKTtcblxuICAvLyBJbiBjYXNlcyB3aGVyZSB0aGUgcGFyZW50IGlzIGZpeGVkLCB3ZSBtdXN0IGlnbm9yZSBuZWdhdGl2ZSBzY3JvbGwgaW4gb2Zmc2V0IGNhbGNcbiAgaWYgKGZpeGVkUG9zaXRpb24gJiYgcGFyZW50Lm5vZGVOYW1lID09PSAnSFRNTCcpIHtcbiAgICBwYXJlbnRSZWN0LnRvcCA9IE1hdGgubWF4KHBhcmVudFJlY3QudG9wLCAwKTtcbiAgICBwYXJlbnRSZWN0LmxlZnQgPSBNYXRoLm1heChwYXJlbnRSZWN0LmxlZnQsIDApO1xuICB9XG4gIHZhciBvZmZzZXRzID0gZ2V0Q2xpZW50UmVjdCh7XG4gICAgdG9wOiBjaGlsZHJlblJlY3QudG9wIC0gcGFyZW50UmVjdC50b3AgLSBib3JkZXJUb3BXaWR0aCxcbiAgICBsZWZ0OiBjaGlsZHJlblJlY3QubGVmdCAtIHBhcmVudFJlY3QubGVmdCAtIGJvcmRlckxlZnRXaWR0aCxcbiAgICB3aWR0aDogY2hpbGRyZW5SZWN0LndpZHRoLFxuICAgIGhlaWdodDogY2hpbGRyZW5SZWN0LmhlaWdodFxuICB9KTtcbiAgb2Zmc2V0cy5tYXJnaW5Ub3AgPSAwO1xuICBvZmZzZXRzLm1hcmdpbkxlZnQgPSAwO1xuXG4gIC8vIFN1YnRyYWN0IG1hcmdpbnMgb2YgZG9jdW1lbnRFbGVtZW50IGluIGNhc2UgaXQncyBiZWluZyB1c2VkIGFzIHBhcmVudFxuICAvLyB3ZSBkbyB0aGlzIG9ubHkgb24gSFRNTCBiZWNhdXNlIGl0J3MgdGhlIG9ubHkgZWxlbWVudCB0aGF0IGJlaGF2ZXNcbiAgLy8gZGlmZmVyZW50bHkgd2hlbiBtYXJnaW5zIGFyZSBhcHBsaWVkIHRvIGl0LiBUaGUgbWFyZ2lucyBhcmUgaW5jbHVkZWQgaW5cbiAgLy8gdGhlIGJveCBvZiB0aGUgZG9jdW1lbnRFbGVtZW50LCBpbiB0aGUgb3RoZXIgY2FzZXMgbm90LlxuICBpZiAoIWlzSUUxMCAmJiBpc0hUTUwpIHtcbiAgICB2YXIgbWFyZ2luVG9wID0gcGFyc2VGbG9hdChzdHlsZXMubWFyZ2luVG9wLCAxMCk7XG4gICAgdmFyIG1hcmdpbkxlZnQgPSBwYXJzZUZsb2F0KHN0eWxlcy5tYXJnaW5MZWZ0LCAxMCk7XG5cbiAgICBvZmZzZXRzLnRvcCAtPSBib3JkZXJUb3BXaWR0aCAtIG1hcmdpblRvcDtcbiAgICBvZmZzZXRzLmJvdHRvbSAtPSBib3JkZXJUb3BXaWR0aCAtIG1hcmdpblRvcDtcbiAgICBvZmZzZXRzLmxlZnQgLT0gYm9yZGVyTGVmdFdpZHRoIC0gbWFyZ2luTGVmdDtcbiAgICBvZmZzZXRzLnJpZ2h0IC09IGJvcmRlckxlZnRXaWR0aCAtIG1hcmdpbkxlZnQ7XG5cbiAgICAvLyBBdHRhY2ggbWFyZ2luVG9wIGFuZCBtYXJnaW5MZWZ0IGJlY2F1c2UgaW4gc29tZSBjaXJjdW1zdGFuY2VzIHdlIG1heSBuZWVkIHRoZW1cbiAgICBvZmZzZXRzLm1hcmdpblRvcCA9IG1hcmdpblRvcDtcbiAgICBvZmZzZXRzLm1hcmdpbkxlZnQgPSBtYXJnaW5MZWZ0O1xuICB9XG5cbiAgaWYgKGlzSUUxMCAmJiAhZml4ZWRQb3NpdGlvbiA/IHBhcmVudC5jb250YWlucyhzY3JvbGxQYXJlbnQpIDogcGFyZW50ID09PSBzY3JvbGxQYXJlbnQgJiYgc2Nyb2xsUGFyZW50Lm5vZGVOYW1lICE9PSAnQk9EWScpIHtcbiAgICBvZmZzZXRzID0gaW5jbHVkZVNjcm9sbChvZmZzZXRzLCBwYXJlbnQpO1xuICB9XG5cbiAgcmV0dXJuIG9mZnNldHM7XG59XG5cbmZ1bmN0aW9uIGdldFZpZXdwb3J0T2Zmc2V0UmVjdFJlbGF0aXZlVG9BcnRiaXRyYXJ5Tm9kZShlbGVtZW50KSB7XG4gIHZhciBleGNsdWRlU2Nyb2xsID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcblxuICB2YXIgaHRtbCA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIHZhciByZWxhdGl2ZU9mZnNldCA9IGdldE9mZnNldFJlY3RSZWxhdGl2ZVRvQXJiaXRyYXJ5Tm9kZShlbGVtZW50LCBodG1sKTtcbiAgdmFyIHdpZHRoID0gTWF0aC5tYXgoaHRtbC5jbGllbnRXaWR0aCwgd2luZG93LmlubmVyV2lkdGggfHwgMCk7XG4gIHZhciBoZWlnaHQgPSBNYXRoLm1heChodG1sLmNsaWVudEhlaWdodCwgd2luZG93LmlubmVySGVpZ2h0IHx8IDApO1xuXG4gIHZhciBzY3JvbGxUb3AgPSAhZXhjbHVkZVNjcm9sbCA/IGdldFNjcm9sbChodG1sKSA6IDA7XG4gIHZhciBzY3JvbGxMZWZ0ID0gIWV4Y2x1ZGVTY3JvbGwgPyBnZXRTY3JvbGwoaHRtbCwgJ2xlZnQnKSA6IDA7XG5cbiAgdmFyIG9mZnNldCA9IHtcbiAgICB0b3A6IHNjcm9sbFRvcCAtIHJlbGF0aXZlT2Zmc2V0LnRvcCArIHJlbGF0aXZlT2Zmc2V0Lm1hcmdpblRvcCxcbiAgICBsZWZ0OiBzY3JvbGxMZWZ0IC0gcmVsYXRpdmVPZmZzZXQubGVmdCArIHJlbGF0aXZlT2Zmc2V0Lm1hcmdpbkxlZnQsXG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0XG4gIH07XG5cbiAgcmV0dXJuIGdldENsaWVudFJlY3Qob2Zmc2V0KTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgZ2l2ZW4gZWxlbWVudCBpcyBmaXhlZCBvciBpcyBpbnNpZGUgYSBmaXhlZCBwYXJlbnRcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudFxuICogQGFyZ3VtZW50IHtFbGVtZW50fSBjdXN0b21Db250YWluZXJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBhbnN3ZXIgdG8gXCJpc0ZpeGVkP1wiXG4gKi9cbmZ1bmN0aW9uIGlzRml4ZWQoZWxlbWVudCkge1xuICB2YXIgbm9kZU5hbWUgPSBlbGVtZW50Lm5vZGVOYW1lO1xuICBpZiAobm9kZU5hbWUgPT09ICdCT0RZJyB8fCBub2RlTmFtZSA9PT0gJ0hUTUwnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChnZXRTdHlsZUNvbXB1dGVkUHJvcGVydHkoZWxlbWVudCwgJ3Bvc2l0aW9uJykgPT09ICdmaXhlZCcpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gaXNGaXhlZChnZXRQYXJlbnROb2RlKGVsZW1lbnQpKTtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgZmlyc3QgcGFyZW50IG9mIGFuIGVsZW1lbnQgdGhhdCBoYXMgYSB0cmFuc2Zvcm1lZCBwcm9wZXJ0eSBkZWZpbmVkXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtFbGVtZW50fSBmaXJzdCB0cmFuc2Zvcm1lZCBwYXJlbnQgb3IgZG9jdW1lbnRFbGVtZW50XG4gKi9cblxuZnVuY3Rpb24gZ2V0Rml4ZWRQb3NpdGlvbk9mZnNldFBhcmVudChlbGVtZW50KSB7XG4gIC8vIFRoaXMgY2hlY2sgaXMgbmVlZGVkIHRvIGF2b2lkIGVycm9ycyBpbiBjYXNlIG9uZSBvZiB0aGUgZWxlbWVudHMgaXNuJ3QgZGVmaW5lZCBmb3IgYW55IHJlYXNvblxuICBpZiAoIWVsZW1lbnQgfHwgIWVsZW1lbnQucGFyZW50RWxlbWVudCB8fCBpc0lFJDEoKSkge1xuICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIH1cbiAgdmFyIGVsID0gZWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICB3aGlsZSAoZWwgJiYgZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KGVsLCAndHJhbnNmb3JtJykgPT09ICdub25lJykge1xuICAgIGVsID0gZWwucGFyZW50RWxlbWVudDtcbiAgfVxuICByZXR1cm4gZWwgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xufVxuXG4vKipcbiAqIENvbXB1dGVkIHRoZSBib3VuZGFyaWVzIGxpbWl0cyBhbmQgcmV0dXJuIHRoZW1cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBvcHBlclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcmVmZXJlbmNlXG4gKiBAcGFyYW0ge251bWJlcn0gcGFkZGluZ1xuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gYm91bmRhcmllc0VsZW1lbnQgLSBFbGVtZW50IHVzZWQgdG8gZGVmaW5lIHRoZSBib3VuZGFyaWVzXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGZpeGVkUG9zaXRpb24gLSBJcyBpbiBmaXhlZCBwb3NpdGlvbiBtb2RlXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBDb29yZGluYXRlcyBvZiB0aGUgYm91bmRhcmllc1xuICovXG5mdW5jdGlvbiBnZXRCb3VuZGFyaWVzKHBvcHBlciwgcmVmZXJlbmNlLCBwYWRkaW5nLCBib3VuZGFyaWVzRWxlbWVudCkge1xuICB2YXIgZml4ZWRQb3NpdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDogZmFsc2U7XG5cbiAgLy8gTk9URTogMSBET00gYWNjZXNzIGhlcmVcblxuICB2YXIgYm91bmRhcmllcyA9IHsgdG9wOiAwLCBsZWZ0OiAwIH07XG4gIHZhciBvZmZzZXRQYXJlbnQgPSBmaXhlZFBvc2l0aW9uID8gZ2V0Rml4ZWRQb3NpdGlvbk9mZnNldFBhcmVudChwb3BwZXIpIDogZmluZENvbW1vbk9mZnNldFBhcmVudChwb3BwZXIsIHJlZmVyZW5jZSk7XG5cbiAgLy8gSGFuZGxlIHZpZXdwb3J0IGNhc2VcbiAgaWYgKGJvdW5kYXJpZXNFbGVtZW50ID09PSAndmlld3BvcnQnKSB7XG4gICAgYm91bmRhcmllcyA9IGdldFZpZXdwb3J0T2Zmc2V0UmVjdFJlbGF0aXZlVG9BcnRiaXRyYXJ5Tm9kZShvZmZzZXRQYXJlbnQsIGZpeGVkUG9zaXRpb24pO1xuICB9IGVsc2Uge1xuICAgIC8vIEhhbmRsZSBvdGhlciBjYXNlcyBiYXNlZCBvbiBET00gZWxlbWVudCB1c2VkIGFzIGJvdW5kYXJpZXNcbiAgICB2YXIgYm91bmRhcmllc05vZGUgPSB2b2lkIDA7XG4gICAgaWYgKGJvdW5kYXJpZXNFbGVtZW50ID09PSAnc2Nyb2xsUGFyZW50Jykge1xuICAgICAgYm91bmRhcmllc05vZGUgPSBnZXRTY3JvbGxQYXJlbnQoZ2V0UGFyZW50Tm9kZShyZWZlcmVuY2UpKTtcbiAgICAgIGlmIChib3VuZGFyaWVzTm9kZS5ub2RlTmFtZSA9PT0gJ0JPRFknKSB7XG4gICAgICAgIGJvdW5kYXJpZXNOb2RlID0gcG9wcGVyLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYm91bmRhcmllc0VsZW1lbnQgPT09ICd3aW5kb3cnKSB7XG4gICAgICBib3VuZGFyaWVzTm9kZSA9IHBvcHBlci5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgYm91bmRhcmllc05vZGUgPSBib3VuZGFyaWVzRWxlbWVudDtcbiAgICB9XG5cbiAgICB2YXIgb2Zmc2V0cyA9IGdldE9mZnNldFJlY3RSZWxhdGl2ZVRvQXJiaXRyYXJ5Tm9kZShib3VuZGFyaWVzTm9kZSwgb2Zmc2V0UGFyZW50LCBmaXhlZFBvc2l0aW9uKTtcblxuICAgIC8vIEluIGNhc2Ugb2YgSFRNTCwgd2UgbmVlZCBhIGRpZmZlcmVudCBjb21wdXRhdGlvblxuICAgIGlmIChib3VuZGFyaWVzTm9kZS5ub2RlTmFtZSA9PT0gJ0hUTUwnICYmICFpc0ZpeGVkKG9mZnNldFBhcmVudCkpIHtcbiAgICAgIHZhciBfZ2V0V2luZG93U2l6ZXMgPSBnZXRXaW5kb3dTaXplcygpLFxuICAgICAgICAgIGhlaWdodCA9IF9nZXRXaW5kb3dTaXplcy5oZWlnaHQsXG4gICAgICAgICAgd2lkdGggPSBfZ2V0V2luZG93U2l6ZXMud2lkdGg7XG5cbiAgICAgIGJvdW5kYXJpZXMudG9wICs9IG9mZnNldHMudG9wIC0gb2Zmc2V0cy5tYXJnaW5Ub3A7XG4gICAgICBib3VuZGFyaWVzLmJvdHRvbSA9IGhlaWdodCArIG9mZnNldHMudG9wO1xuICAgICAgYm91bmRhcmllcy5sZWZ0ICs9IG9mZnNldHMubGVmdCAtIG9mZnNldHMubWFyZ2luTGVmdDtcbiAgICAgIGJvdW5kYXJpZXMucmlnaHQgPSB3aWR0aCArIG9mZnNldHMubGVmdDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZm9yIGFsbCB0aGUgb3RoZXIgRE9NIGVsZW1lbnRzLCB0aGlzIG9uZSBpcyBnb29kXG4gICAgICBib3VuZGFyaWVzID0gb2Zmc2V0cztcbiAgICB9XG4gIH1cblxuICAvLyBBZGQgcGFkZGluZ3NcbiAgYm91bmRhcmllcy5sZWZ0ICs9IHBhZGRpbmc7XG4gIGJvdW5kYXJpZXMudG9wICs9IHBhZGRpbmc7XG4gIGJvdW5kYXJpZXMucmlnaHQgLT0gcGFkZGluZztcbiAgYm91bmRhcmllcy5ib3R0b20gLT0gcGFkZGluZztcblxuICByZXR1cm4gYm91bmRhcmllcztcbn1cblxuZnVuY3Rpb24gZ2V0QXJlYShfcmVmKSB7XG4gIHZhciB3aWR0aCA9IF9yZWYud2lkdGgsXG4gICAgICBoZWlnaHQgPSBfcmVmLmhlaWdodDtcblxuICByZXR1cm4gd2lkdGggKiBoZWlnaHQ7XG59XG5cbi8qKlxuICogVXRpbGl0eSB1c2VkIHRvIHRyYW5zZm9ybSB0aGUgYGF1dG9gIHBsYWNlbWVudCB0byB0aGUgcGxhY2VtZW50IHdpdGggbW9yZVxuICogYXZhaWxhYmxlIHNwYWNlLlxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IHVwZGF0ZSBtZXRob2RcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWRcbiAqL1xuZnVuY3Rpb24gY29tcHV0ZUF1dG9QbGFjZW1lbnQocGxhY2VtZW50LCByZWZSZWN0LCBwb3BwZXIsIHJlZmVyZW5jZSwgYm91bmRhcmllc0VsZW1lbnQpIHtcbiAgdmFyIHBhZGRpbmcgPSBhcmd1bWVudHMubGVuZ3RoID4gNSAmJiBhcmd1bWVudHNbNV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s1XSA6IDA7XG5cbiAgaWYgKHBsYWNlbWVudC5pbmRleE9mKCdhdXRvJykgPT09IC0xKSB7XG4gICAgcmV0dXJuIHBsYWNlbWVudDtcbiAgfVxuXG4gIHZhciBib3VuZGFyaWVzID0gZ2V0Qm91bmRhcmllcyhwb3BwZXIsIHJlZmVyZW5jZSwgcGFkZGluZywgYm91bmRhcmllc0VsZW1lbnQpO1xuXG4gIHZhciByZWN0cyA9IHtcbiAgICB0b3A6IHtcbiAgICAgIHdpZHRoOiBib3VuZGFyaWVzLndpZHRoLFxuICAgICAgaGVpZ2h0OiByZWZSZWN0LnRvcCAtIGJvdW5kYXJpZXMudG9wXG4gICAgfSxcbiAgICByaWdodDoge1xuICAgICAgd2lkdGg6IGJvdW5kYXJpZXMucmlnaHQgLSByZWZSZWN0LnJpZ2h0LFxuICAgICAgaGVpZ2h0OiBib3VuZGFyaWVzLmhlaWdodFxuICAgIH0sXG4gICAgYm90dG9tOiB7XG4gICAgICB3aWR0aDogYm91bmRhcmllcy53aWR0aCxcbiAgICAgIGhlaWdodDogYm91bmRhcmllcy5ib3R0b20gLSByZWZSZWN0LmJvdHRvbVxuICAgIH0sXG4gICAgbGVmdDoge1xuICAgICAgd2lkdGg6IHJlZlJlY3QubGVmdCAtIGJvdW5kYXJpZXMubGVmdCxcbiAgICAgIGhlaWdodDogYm91bmRhcmllcy5oZWlnaHRcbiAgICB9XG4gIH07XG5cbiAgdmFyIHNvcnRlZEFyZWFzID0gT2JqZWN0LmtleXMocmVjdHMpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIF9leHRlbmRzJDEoe1xuICAgICAga2V5OiBrZXlcbiAgICB9LCByZWN0c1trZXldLCB7XG4gICAgICBhcmVhOiBnZXRBcmVhKHJlY3RzW2tleV0pXG4gICAgfSk7XG4gIH0pLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gYi5hcmVhIC0gYS5hcmVhO1xuICB9KTtcblxuICB2YXIgZmlsdGVyZWRBcmVhcyA9IHNvcnRlZEFyZWFzLmZpbHRlcihmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICB2YXIgd2lkdGggPSBfcmVmMi53aWR0aCxcbiAgICAgICAgaGVpZ2h0ID0gX3JlZjIuaGVpZ2h0O1xuICAgIHJldHVybiB3aWR0aCA+PSBwb3BwZXIuY2xpZW50V2lkdGggJiYgaGVpZ2h0ID49IHBvcHBlci5jbGllbnRIZWlnaHQ7XG4gIH0pO1xuXG4gIHZhciBjb21wdXRlZFBsYWNlbWVudCA9IGZpbHRlcmVkQXJlYXMubGVuZ3RoID4gMCA/IGZpbHRlcmVkQXJlYXNbMF0ua2V5IDogc29ydGVkQXJlYXNbMF0ua2V5O1xuXG4gIHZhciB2YXJpYXRpb24gPSBwbGFjZW1lbnQuc3BsaXQoJy0nKVsxXTtcblxuICByZXR1cm4gY29tcHV0ZWRQbGFjZW1lbnQgKyAodmFyaWF0aW9uID8gJy0nICsgdmFyaWF0aW9uIDogJycpO1xufVxuXG4vKipcbiAqIEdldCBvZmZzZXRzIHRvIHRoZSByZWZlcmVuY2UgZWxlbWVudFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHBhcmFtIHtPYmplY3R9IHN0YXRlXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHBvcHBlciAtIHRoZSBwb3BwZXIgZWxlbWVudFxuICogQHBhcmFtIHtFbGVtZW50fSByZWZlcmVuY2UgLSB0aGUgcmVmZXJlbmNlIGVsZW1lbnQgKHRoZSBwb3BwZXIgd2lsbCBiZSByZWxhdGl2ZSB0byB0aGlzKVxuICogQHBhcmFtIHtFbGVtZW50fSBmaXhlZFBvc2l0aW9uIC0gaXMgaW4gZml4ZWQgcG9zaXRpb24gbW9kZVxuICogQHJldHVybnMge09iamVjdH0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIG9mZnNldHMgd2hpY2ggd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBwb3BwZXJcbiAqL1xuZnVuY3Rpb24gZ2V0UmVmZXJlbmNlT2Zmc2V0cyhzdGF0ZSwgcG9wcGVyLCByZWZlcmVuY2UpIHtcbiAgdmFyIGZpeGVkUG9zaXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IG51bGw7XG5cbiAgdmFyIGNvbW1vbk9mZnNldFBhcmVudCA9IGZpeGVkUG9zaXRpb24gPyBnZXRGaXhlZFBvc2l0aW9uT2Zmc2V0UGFyZW50KHBvcHBlcikgOiBmaW5kQ29tbW9uT2Zmc2V0UGFyZW50KHBvcHBlciwgcmVmZXJlbmNlKTtcbiAgcmV0dXJuIGdldE9mZnNldFJlY3RSZWxhdGl2ZVRvQXJiaXRyYXJ5Tm9kZShyZWZlcmVuY2UsIGNvbW1vbk9mZnNldFBhcmVudCwgZml4ZWRQb3NpdGlvbik7XG59XG5cbi8qKlxuICogR2V0IHRoZSBvdXRlciBzaXplcyBvZiB0aGUgZ2l2ZW4gZWxlbWVudCAob2Zmc2V0IHNpemUgKyBtYXJnaW5zKVxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7T2JqZWN0fSBvYmplY3QgY29udGFpbmluZyB3aWR0aCBhbmQgaGVpZ2h0IHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gZ2V0T3V0ZXJTaXplcyhlbGVtZW50KSB7XG4gIHZhciBzdHlsZXMgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICB2YXIgeCA9IHBhcnNlRmxvYXQoc3R5bGVzLm1hcmdpblRvcCkgKyBwYXJzZUZsb2F0KHN0eWxlcy5tYXJnaW5Cb3R0b20pO1xuICB2YXIgeSA9IHBhcnNlRmxvYXQoc3R5bGVzLm1hcmdpbkxlZnQpICsgcGFyc2VGbG9hdChzdHlsZXMubWFyZ2luUmlnaHQpO1xuICB2YXIgcmVzdWx0ID0ge1xuICAgIHdpZHRoOiBlbGVtZW50Lm9mZnNldFdpZHRoICsgeSxcbiAgICBoZWlnaHQ6IGVsZW1lbnQub2Zmc2V0SGVpZ2h0ICsgeFxuICB9O1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldCB0aGUgb3Bwb3NpdGUgcGxhY2VtZW50IG9mIHRoZSBnaXZlbiBvbmVcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7U3RyaW5nfSBwbGFjZW1lbnRcbiAqIEByZXR1cm5zIHtTdHJpbmd9IGZsaXBwZWQgcGxhY2VtZW50XG4gKi9cbmZ1bmN0aW9uIGdldE9wcG9zaXRlUGxhY2VtZW50KHBsYWNlbWVudCkge1xuICB2YXIgaGFzaCA9IHsgbGVmdDogJ3JpZ2h0JywgcmlnaHQ6ICdsZWZ0JywgYm90dG9tOiAndG9wJywgdG9wOiAnYm90dG9tJyB9O1xuICByZXR1cm4gcGxhY2VtZW50LnJlcGxhY2UoL2xlZnR8cmlnaHR8Ym90dG9tfHRvcC9nLCBmdW5jdGlvbiAobWF0Y2hlZCkge1xuICAgIHJldHVybiBoYXNoW21hdGNoZWRdO1xuICB9KTtcbn1cblxuLyoqXG4gKiBHZXQgb2Zmc2V0cyB0byB0aGUgcG9wcGVyXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge09iamVjdH0gcG9zaXRpb24gLSBDU1MgcG9zaXRpb24gdGhlIFBvcHBlciB3aWxsIGdldCBhcHBsaWVkXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwb3BwZXIgLSB0aGUgcG9wcGVyIGVsZW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSByZWZlcmVuY2VPZmZzZXRzIC0gdGhlIHJlZmVyZW5jZSBvZmZzZXRzICh0aGUgcG9wcGVyIHdpbGwgYmUgcmVsYXRpdmUgdG8gdGhpcylcbiAqIEBwYXJhbSB7U3RyaW5nfSBwbGFjZW1lbnQgLSBvbmUgb2YgdGhlIHZhbGlkIHBsYWNlbWVudCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBwb3BwZXJPZmZzZXRzIC0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIG9mZnNldHMgd2hpY2ggd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBwb3BwZXJcbiAqL1xuZnVuY3Rpb24gZ2V0UG9wcGVyT2Zmc2V0cyhwb3BwZXIsIHJlZmVyZW5jZU9mZnNldHMsIHBsYWNlbWVudCkge1xuICBwbGFjZW1lbnQgPSBwbGFjZW1lbnQuc3BsaXQoJy0nKVswXTtcblxuICAvLyBHZXQgcG9wcGVyIG5vZGUgc2l6ZXNcbiAgdmFyIHBvcHBlclJlY3QgPSBnZXRPdXRlclNpemVzKHBvcHBlcik7XG5cbiAgLy8gQWRkIHBvc2l0aW9uLCB3aWR0aCBhbmQgaGVpZ2h0IHRvIG91ciBvZmZzZXRzIG9iamVjdFxuICB2YXIgcG9wcGVyT2Zmc2V0cyA9IHtcbiAgICB3aWR0aDogcG9wcGVyUmVjdC53aWR0aCxcbiAgICBoZWlnaHQ6IHBvcHBlclJlY3QuaGVpZ2h0XG4gIH07XG5cbiAgLy8gZGVwZW5kaW5nIGJ5IHRoZSBwb3BwZXIgcGxhY2VtZW50IHdlIGhhdmUgdG8gY29tcHV0ZSBpdHMgb2Zmc2V0cyBzbGlnaHRseSBkaWZmZXJlbnRseVxuICB2YXIgaXNIb3JpeiA9IFsncmlnaHQnLCAnbGVmdCddLmluZGV4T2YocGxhY2VtZW50KSAhPT0gLTE7XG4gIHZhciBtYWluU2lkZSA9IGlzSG9yaXogPyAndG9wJyA6ICdsZWZ0JztcbiAgdmFyIHNlY29uZGFyeVNpZGUgPSBpc0hvcml6ID8gJ2xlZnQnIDogJ3RvcCc7XG4gIHZhciBtZWFzdXJlbWVudCA9IGlzSG9yaXogPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG4gIHZhciBzZWNvbmRhcnlNZWFzdXJlbWVudCA9ICFpc0hvcml6ID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuXG4gIHBvcHBlck9mZnNldHNbbWFpblNpZGVdID0gcmVmZXJlbmNlT2Zmc2V0c1ttYWluU2lkZV0gKyByZWZlcmVuY2VPZmZzZXRzW21lYXN1cmVtZW50XSAvIDIgLSBwb3BwZXJSZWN0W21lYXN1cmVtZW50XSAvIDI7XG4gIGlmIChwbGFjZW1lbnQgPT09IHNlY29uZGFyeVNpZGUpIHtcbiAgICBwb3BwZXJPZmZzZXRzW3NlY29uZGFyeVNpZGVdID0gcmVmZXJlbmNlT2Zmc2V0c1tzZWNvbmRhcnlTaWRlXSAtIHBvcHBlclJlY3Rbc2Vjb25kYXJ5TWVhc3VyZW1lbnRdO1xuICB9IGVsc2Uge1xuICAgIHBvcHBlck9mZnNldHNbc2Vjb25kYXJ5U2lkZV0gPSByZWZlcmVuY2VPZmZzZXRzW2dldE9wcG9zaXRlUGxhY2VtZW50KHNlY29uZGFyeVNpZGUpXTtcbiAgfVxuXG4gIHJldHVybiBwb3BwZXJPZmZzZXRzO1xufVxuXG4vKipcbiAqIE1pbWljcyB0aGUgYGZpbmRgIG1ldGhvZCBvZiBBcnJheVxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtBcnJheX0gYXJyXG4gKiBAYXJndW1lbnQgcHJvcFxuICogQGFyZ3VtZW50IHZhbHVlXG4gKiBAcmV0dXJucyBpbmRleCBvciAtMVxuICovXG5mdW5jdGlvbiBmaW5kKGFyciwgY2hlY2spIHtcbiAgLy8gdXNlIG5hdGl2ZSBmaW5kIGlmIHN1cHBvcnRlZFxuICBpZiAoQXJyYXkucHJvdG90eXBlLmZpbmQpIHtcbiAgICByZXR1cm4gYXJyLmZpbmQoY2hlY2spO1xuICB9XG5cbiAgLy8gdXNlIGBmaWx0ZXJgIHRvIG9idGFpbiB0aGUgc2FtZSBiZWhhdmlvciBvZiBgZmluZGBcbiAgcmV0dXJuIGFyci5maWx0ZXIoY2hlY2spWzBdO1xufVxuXG4vKipcbiAqIFJldHVybiB0aGUgaW5kZXggb2YgdGhlIG1hdGNoaW5nIG9iamVjdFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtBcnJheX0gYXJyXG4gKiBAYXJndW1lbnQgcHJvcFxuICogQGFyZ3VtZW50IHZhbHVlXG4gKiBAcmV0dXJucyBpbmRleCBvciAtMVxuICovXG5mdW5jdGlvbiBmaW5kSW5kZXgoYXJyLCBwcm9wLCB2YWx1ZSkge1xuICAvLyB1c2UgbmF0aXZlIGZpbmRJbmRleCBpZiBzdXBwb3J0ZWRcbiAgaWYgKEFycmF5LnByb3RvdHlwZS5maW5kSW5kZXgpIHtcbiAgICByZXR1cm4gYXJyLmZpbmRJbmRleChmdW5jdGlvbiAoY3VyKSB7XG4gICAgICByZXR1cm4gY3VyW3Byb3BdID09PSB2YWx1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIHVzZSBgZmluZGAgKyBgaW5kZXhPZmAgaWYgYGZpbmRJbmRleGAgaXNuJ3Qgc3VwcG9ydGVkXG4gIHZhciBtYXRjaCA9IGZpbmQoYXJyLCBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9ialtwcm9wXSA9PT0gdmFsdWU7XG4gIH0pO1xuICByZXR1cm4gYXJyLmluZGV4T2YobWF0Y2gpO1xufVxuXG4vKipcbiAqIExvb3AgdHJvdWdoIHRoZSBsaXN0IG9mIG1vZGlmaWVycyBhbmQgcnVuIHRoZW0gaW4gb3JkZXIsXG4gKiBlYWNoIG9mIHRoZW0gd2lsbCB0aGVuIGVkaXQgdGhlIGRhdGEgb2JqZWN0LlxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHBhcmFtIHtkYXRhT2JqZWN0fSBkYXRhXG4gKiBAcGFyYW0ge0FycmF5fSBtb2RpZmllcnNcbiAqIEBwYXJhbSB7U3RyaW5nfSBlbmRzIC0gT3B0aW9uYWwgbW9kaWZpZXIgbmFtZSB1c2VkIGFzIHN0b3BwZXJcbiAqIEByZXR1cm5zIHtkYXRhT2JqZWN0fVxuICovXG5mdW5jdGlvbiBydW5Nb2RpZmllcnMobW9kaWZpZXJzLCBkYXRhLCBlbmRzKSB7XG4gIHZhciBtb2RpZmllcnNUb1J1biA9IGVuZHMgPT09IHVuZGVmaW5lZCA/IG1vZGlmaWVycyA6IG1vZGlmaWVycy5zbGljZSgwLCBmaW5kSW5kZXgobW9kaWZpZXJzLCAnbmFtZScsIGVuZHMpKTtcblxuICBtb2RpZmllcnNUb1J1bi5mb3JFYWNoKGZ1bmN0aW9uIChtb2RpZmllcikge1xuICAgIGlmIChtb2RpZmllclsnZnVuY3Rpb24nXSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBkb3Qtbm90YXRpb25cbiAgICAgIGNvbnNvbGUud2FybignYG1vZGlmaWVyLmZ1bmN0aW9uYCBpcyBkZXByZWNhdGVkLCB1c2UgYG1vZGlmaWVyLmZuYCEnKTtcbiAgICB9XG4gICAgdmFyIGZuID0gbW9kaWZpZXJbJ2Z1bmN0aW9uJ10gfHwgbW9kaWZpZXIuZm47IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZG90LW5vdGF0aW9uXG4gICAgaWYgKG1vZGlmaWVyLmVuYWJsZWQgJiYgaXNGdW5jdGlvbihmbikpIHtcbiAgICAgIC8vIEFkZCBwcm9wZXJ0aWVzIHRvIG9mZnNldHMgdG8gbWFrZSB0aGVtIGEgY29tcGxldGUgY2xpZW50UmVjdCBvYmplY3RcbiAgICAgIC8vIHdlIGRvIHRoaXMgYmVmb3JlIGVhY2ggbW9kaWZpZXIgdG8gbWFrZSBzdXJlIHRoZSBwcmV2aW91cyBvbmUgZG9lc24ndFxuICAgICAgLy8gbWVzcyB3aXRoIHRoZXNlIHZhbHVlc1xuICAgICAgZGF0YS5vZmZzZXRzLnBvcHBlciA9IGdldENsaWVudFJlY3QoZGF0YS5vZmZzZXRzLnBvcHBlcik7XG4gICAgICBkYXRhLm9mZnNldHMucmVmZXJlbmNlID0gZ2V0Q2xpZW50UmVjdChkYXRhLm9mZnNldHMucmVmZXJlbmNlKTtcblxuICAgICAgZGF0YSA9IGZuKGRhdGEsIG1vZGlmaWVyKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIHBvc2l0aW9uIG9mIHRoZSBwb3BwZXIsIGNvbXB1dGluZyB0aGUgbmV3IG9mZnNldHMgYW5kIGFwcGx5aW5nXG4gKiB0aGUgbmV3IHN0eWxlLjxiciAvPlxuICogUHJlZmVyIGBzY2hlZHVsZVVwZGF0ZWAgb3ZlciBgdXBkYXRlYCBiZWNhdXNlIG9mIHBlcmZvcm1hbmNlIHJlYXNvbnMuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgLy8gaWYgcG9wcGVyIGlzIGRlc3Ryb3llZCwgZG9uJ3QgcGVyZm9ybSBhbnkgZnVydGhlciB1cGRhdGVcbiAgaWYgKHRoaXMuc3RhdGUuaXNEZXN0cm95ZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZGF0YSA9IHtcbiAgICBpbnN0YW5jZTogdGhpcyxcbiAgICBzdHlsZXM6IHt9LFxuICAgIGFycm93U3R5bGVzOiB7fSxcbiAgICBhdHRyaWJ1dGVzOiB7fSxcbiAgICBmbGlwcGVkOiBmYWxzZSxcbiAgICBvZmZzZXRzOiB7fVxuICB9O1xuXG4gIC8vIGNvbXB1dGUgcmVmZXJlbmNlIGVsZW1lbnQgb2Zmc2V0c1xuICBkYXRhLm9mZnNldHMucmVmZXJlbmNlID0gZ2V0UmVmZXJlbmNlT2Zmc2V0cyh0aGlzLnN0YXRlLCB0aGlzLnBvcHBlciwgdGhpcy5yZWZlcmVuY2UsIHRoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkKTtcblxuICAvLyBjb21wdXRlIGF1dG8gcGxhY2VtZW50LCBzdG9yZSBwbGFjZW1lbnQgaW5zaWRlIHRoZSBkYXRhIG9iamVjdCxcbiAgLy8gbW9kaWZpZXJzIHdpbGwgYmUgYWJsZSB0byBlZGl0IGBwbGFjZW1lbnRgIGlmIG5lZWRlZFxuICAvLyBhbmQgcmVmZXIgdG8gb3JpZ2luYWxQbGFjZW1lbnQgdG8ga25vdyB0aGUgb3JpZ2luYWwgdmFsdWVcbiAgZGF0YS5wbGFjZW1lbnQgPSBjb21wdXRlQXV0b1BsYWNlbWVudCh0aGlzLm9wdGlvbnMucGxhY2VtZW50LCBkYXRhLm9mZnNldHMucmVmZXJlbmNlLCB0aGlzLnBvcHBlciwgdGhpcy5yZWZlcmVuY2UsIHRoaXMub3B0aW9ucy5tb2RpZmllcnMuZmxpcC5ib3VuZGFyaWVzRWxlbWVudCwgdGhpcy5vcHRpb25zLm1vZGlmaWVycy5mbGlwLnBhZGRpbmcpO1xuXG4gIC8vIHN0b3JlIHRoZSBjb21wdXRlZCBwbGFjZW1lbnQgaW5zaWRlIGBvcmlnaW5hbFBsYWNlbWVudGBcbiAgZGF0YS5vcmlnaW5hbFBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50O1xuXG4gIGRhdGEucG9zaXRpb25GaXhlZCA9IHRoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkO1xuXG4gIC8vIGNvbXB1dGUgdGhlIHBvcHBlciBvZmZzZXRzXG4gIGRhdGEub2Zmc2V0cy5wb3BwZXIgPSBnZXRQb3BwZXJPZmZzZXRzKHRoaXMucG9wcGVyLCBkYXRhLm9mZnNldHMucmVmZXJlbmNlLCBkYXRhLnBsYWNlbWVudCk7XG5cbiAgZGF0YS5vZmZzZXRzLnBvcHBlci5wb3NpdGlvbiA9IHRoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkID8gJ2ZpeGVkJyA6ICdhYnNvbHV0ZSc7XG5cbiAgLy8gcnVuIHRoZSBtb2RpZmllcnNcbiAgZGF0YSA9IHJ1bk1vZGlmaWVycyh0aGlzLm1vZGlmaWVycywgZGF0YSk7XG5cbiAgLy8gdGhlIGZpcnN0IGB1cGRhdGVgIHdpbGwgY2FsbCBgb25DcmVhdGVgIGNhbGxiYWNrXG4gIC8vIHRoZSBvdGhlciBvbmVzIHdpbGwgY2FsbCBgb25VcGRhdGVgIGNhbGxiYWNrXG4gIGlmICghdGhpcy5zdGF0ZS5pc0NyZWF0ZWQpIHtcbiAgICB0aGlzLnN0YXRlLmlzQ3JlYXRlZCA9IHRydWU7XG4gICAgdGhpcy5vcHRpb25zLm9uQ3JlYXRlKGRhdGEpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMub3B0aW9ucy5vblVwZGF0ZShkYXRhKTtcbiAgfVxufVxuXG4vKipcbiAqIEhlbHBlciB1c2VkIHRvIGtub3cgaWYgdGhlIGdpdmVuIG1vZGlmaWVyIGlzIGVuYWJsZWQuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNNb2RpZmllckVuYWJsZWQobW9kaWZpZXJzLCBtb2RpZmllck5hbWUpIHtcbiAgcmV0dXJuIG1vZGlmaWVycy5zb21lKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIG5hbWUgPSBfcmVmLm5hbWUsXG4gICAgICAgIGVuYWJsZWQgPSBfcmVmLmVuYWJsZWQ7XG4gICAgcmV0dXJuIGVuYWJsZWQgJiYgbmFtZSA9PT0gbW9kaWZpZXJOYW1lO1xuICB9KTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHByZWZpeGVkIHN1cHBvcnRlZCBwcm9wZXJ0eSBuYW1lXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge1N0cmluZ30gcHJvcGVydHkgKGNhbWVsQ2FzZSlcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHByZWZpeGVkIHByb3BlcnR5IChjYW1lbENhc2Ugb3IgUGFzY2FsQ2FzZSwgZGVwZW5kaW5nIG9uIHRoZSB2ZW5kb3IgcHJlZml4KVxuICovXG5mdW5jdGlvbiBnZXRTdXBwb3J0ZWRQcm9wZXJ0eU5hbWUocHJvcGVydHkpIHtcbiAgdmFyIHByZWZpeGVzID0gW2ZhbHNlLCAnbXMnLCAnV2Via2l0JywgJ01veicsICdPJ107XG4gIHZhciB1cHBlclByb3AgPSBwcm9wZXJ0eS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHByb3BlcnR5LnNsaWNlKDEpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJlZml4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcHJlZml4ID0gcHJlZml4ZXNbaV07XG4gICAgdmFyIHRvQ2hlY2sgPSBwcmVmaXggPyAnJyArIHByZWZpeCArIHVwcGVyUHJvcCA6IHByb3BlcnR5O1xuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQuYm9keS5zdHlsZVt0b0NoZWNrXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiB0b0NoZWNrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBEZXN0cm95IHRoZSBwb3BwZXJcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXJcbiAqL1xuZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgdGhpcy5zdGF0ZS5pc0Rlc3Ryb3llZCA9IHRydWU7XG5cbiAgLy8gdG91Y2ggRE9NIG9ubHkgaWYgYGFwcGx5U3R5bGVgIG1vZGlmaWVyIGlzIGVuYWJsZWRcbiAgaWYgKGlzTW9kaWZpZXJFbmFibGVkKHRoaXMubW9kaWZpZXJzLCAnYXBwbHlTdHlsZScpKSB7XG4gICAgdGhpcy5wb3BwZXIucmVtb3ZlQXR0cmlidXRlKCd4LXBsYWNlbWVudCcpO1xuICAgIHRoaXMucG9wcGVyLnN0eWxlLnBvc2l0aW9uID0gJyc7XG4gICAgdGhpcy5wb3BwZXIuc3R5bGUudG9wID0gJyc7XG4gICAgdGhpcy5wb3BwZXIuc3R5bGUubGVmdCA9ICcnO1xuICAgIHRoaXMucG9wcGVyLnN0eWxlLnJpZ2h0ID0gJyc7XG4gICAgdGhpcy5wb3BwZXIuc3R5bGUuYm90dG9tID0gJyc7XG4gICAgdGhpcy5wb3BwZXIuc3R5bGUud2lsbENoYW5nZSA9ICcnO1xuICAgIHRoaXMucG9wcGVyLnN0eWxlW2dldFN1cHBvcnRlZFByb3BlcnR5TmFtZSgndHJhbnNmb3JtJyldID0gJyc7XG4gIH1cblxuICB0aGlzLmRpc2FibGVFdmVudExpc3RlbmVycygpO1xuXG4gIC8vIHJlbW92ZSB0aGUgcG9wcGVyIGlmIHVzZXIgZXhwbGljaXR5IGFza2VkIGZvciB0aGUgZGVsZXRpb24gb24gZGVzdHJveVxuICAvLyBkbyBub3QgdXNlIGByZW1vdmVgIGJlY2F1c2UgSUUxMSBkb2Vzbid0IHN1cHBvcnQgaXRcbiAgaWYgKHRoaXMub3B0aW9ucy5yZW1vdmVPbkRlc3Ryb3kpIHtcbiAgICB0aGlzLnBvcHBlci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucG9wcGVyKTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHdpbmRvdyBhc3NvY2lhdGVkIHdpdGggdGhlIGVsZW1lbnRcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybnMge1dpbmRvd31cbiAqL1xuZnVuY3Rpb24gZ2V0V2luZG93KGVsZW1lbnQpIHtcbiAgdmFyIG93bmVyRG9jdW1lbnQgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG4gIHJldHVybiBvd25lckRvY3VtZW50ID8gb3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyA6IHdpbmRvdztcbn1cblxuZnVuY3Rpb24gYXR0YWNoVG9TY3JvbGxQYXJlbnRzKHNjcm9sbFBhcmVudCwgZXZlbnQsIGNhbGxiYWNrLCBzY3JvbGxQYXJlbnRzKSB7XG4gIHZhciBpc0JvZHkgPSBzY3JvbGxQYXJlbnQubm9kZU5hbWUgPT09ICdCT0RZJztcbiAgdmFyIHRhcmdldCA9IGlzQm9keSA/IHNjcm9sbFBhcmVudC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IDogc2Nyb2xsUGFyZW50O1xuICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgY2FsbGJhY2ssIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcblxuICBpZiAoIWlzQm9keSkge1xuICAgIGF0dGFjaFRvU2Nyb2xsUGFyZW50cyhnZXRTY3JvbGxQYXJlbnQodGFyZ2V0LnBhcmVudE5vZGUpLCBldmVudCwgY2FsbGJhY2ssIHNjcm9sbFBhcmVudHMpO1xuICB9XG4gIHNjcm9sbFBhcmVudHMucHVzaCh0YXJnZXQpO1xufVxuXG4vKipcbiAqIFNldHVwIG5lZWRlZCBldmVudCBsaXN0ZW5lcnMgdXNlZCB0byB1cGRhdGUgdGhlIHBvcHBlciBwb3NpdGlvblxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2V0dXBFdmVudExpc3RlbmVycyhyZWZlcmVuY2UsIG9wdGlvbnMsIHN0YXRlLCB1cGRhdGVCb3VuZCkge1xuICAvLyBSZXNpemUgZXZlbnQgbGlzdGVuZXIgb24gd2luZG93XG4gIHN0YXRlLnVwZGF0ZUJvdW5kID0gdXBkYXRlQm91bmQ7XG4gIGdldFdpbmRvdyhyZWZlcmVuY2UpLmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHN0YXRlLnVwZGF0ZUJvdW5kLCB7IHBhc3NpdmU6IHRydWUgfSk7XG5cbiAgLy8gU2Nyb2xsIGV2ZW50IGxpc3RlbmVyIG9uIHNjcm9sbCBwYXJlbnRzXG4gIHZhciBzY3JvbGxFbGVtZW50ID0gZ2V0U2Nyb2xsUGFyZW50KHJlZmVyZW5jZSk7XG4gIGF0dGFjaFRvU2Nyb2xsUGFyZW50cyhzY3JvbGxFbGVtZW50LCAnc2Nyb2xsJywgc3RhdGUudXBkYXRlQm91bmQsIHN0YXRlLnNjcm9sbFBhcmVudHMpO1xuICBzdGF0ZS5zY3JvbGxFbGVtZW50ID0gc2Nyb2xsRWxlbWVudDtcbiAgc3RhdGUuZXZlbnRzRW5hYmxlZCA9IHRydWU7XG5cbiAgcmV0dXJuIHN0YXRlO1xufVxuXG4vKipcbiAqIEl0IHdpbGwgYWRkIHJlc2l6ZS9zY3JvbGwgZXZlbnRzIGFuZCBzdGFydCByZWNhbGN1bGF0aW5nXG4gKiBwb3NpdGlvbiBvZiB0aGUgcG9wcGVyIGVsZW1lbnQgd2hlbiB0aGV5IGFyZSB0cmlnZ2VyZWQuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyXG4gKi9cbmZ1bmN0aW9uIGVuYWJsZUV2ZW50TGlzdGVuZXJzKCkge1xuICBpZiAoIXRoaXMuc3RhdGUuZXZlbnRzRW5hYmxlZCkge1xuICAgIHRoaXMuc3RhdGUgPSBzZXR1cEV2ZW50TGlzdGVuZXJzKHRoaXMucmVmZXJlbmNlLCB0aGlzLm9wdGlvbnMsIHRoaXMuc3RhdGUsIHRoaXMuc2NoZWR1bGVVcGRhdGUpO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlIGV2ZW50IGxpc3RlbmVycyB1c2VkIHRvIHVwZGF0ZSB0aGUgcG9wcGVyIHBvc2l0aW9uXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVycyhyZWZlcmVuY2UsIHN0YXRlKSB7XG4gIC8vIFJlbW92ZSByZXNpemUgZXZlbnQgbGlzdGVuZXIgb24gd2luZG93XG4gIGdldFdpbmRvdyhyZWZlcmVuY2UpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHN0YXRlLnVwZGF0ZUJvdW5kKTtcblxuICAvLyBSZW1vdmUgc2Nyb2xsIGV2ZW50IGxpc3RlbmVyIG9uIHNjcm9sbCBwYXJlbnRzXG4gIHN0YXRlLnNjcm9sbFBhcmVudHMuZm9yRWFjaChmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHN0YXRlLnVwZGF0ZUJvdW5kKTtcbiAgfSk7XG5cbiAgLy8gUmVzZXQgc3RhdGVcbiAgc3RhdGUudXBkYXRlQm91bmQgPSBudWxsO1xuICBzdGF0ZS5zY3JvbGxQYXJlbnRzID0gW107XG4gIHN0YXRlLnNjcm9sbEVsZW1lbnQgPSBudWxsO1xuICBzdGF0ZS5ldmVudHNFbmFibGVkID0gZmFsc2U7XG4gIHJldHVybiBzdGF0ZTtcbn1cblxuLyoqXG4gKiBJdCB3aWxsIHJlbW92ZSByZXNpemUvc2Nyb2xsIGV2ZW50cyBhbmQgd29uJ3QgcmVjYWxjdWxhdGUgcG9wcGVyIHBvc2l0aW9uXG4gKiB3aGVuIHRoZXkgYXJlIHRyaWdnZXJlZC4gSXQgYWxzbyB3b24ndCB0cmlnZ2VyIG9uVXBkYXRlIGNhbGxiYWNrIGFueW1vcmUsXG4gKiB1bmxlc3MgeW91IGNhbGwgYHVwZGF0ZWAgbWV0aG9kIG1hbnVhbGx5LlxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlclxuICovXG5mdW5jdGlvbiBkaXNhYmxlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gIGlmICh0aGlzLnN0YXRlLmV2ZW50c0VuYWJsZWQpIHtcbiAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnNjaGVkdWxlVXBkYXRlKTtcbiAgICB0aGlzLnN0YXRlID0gcmVtb3ZlRXZlbnRMaXN0ZW5lcnModGhpcy5yZWZlcmVuY2UsIHRoaXMuc3RhdGUpO1xuICB9XG59XG5cbi8qKlxuICogVGVsbHMgaWYgYSBnaXZlbiBpbnB1dCBpcyBhIG51bWJlclxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHBhcmFtIHsqfSBpbnB1dCB0byBjaGVja1xuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNOdW1lcmljKG4pIHtcbiAgcmV0dXJuIG4gIT09ICcnICYmICFpc05hTihwYXJzZUZsb2F0KG4pKSAmJiBpc0Zpbml0ZShuKTtcbn1cblxuLyoqXG4gKiBTZXQgdGhlIHN0eWxlIHRvIHRoZSBnaXZlbiBwb3BwZXJcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnQgdG8gYXBwbHkgdGhlIHN0eWxlIHRvXG4gKiBAYXJndW1lbnQge09iamVjdH0gc3R5bGVzXG4gKiBPYmplY3Qgd2l0aCBhIGxpc3Qgb2YgcHJvcGVydGllcyBhbmQgdmFsdWVzIHdoaWNoIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudFxuICovXG5mdW5jdGlvbiBzZXRTdHlsZXMoZWxlbWVudCwgc3R5bGVzKSB7XG4gIE9iamVjdC5rZXlzKHN0eWxlcykuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgIHZhciB1bml0ID0gJyc7XG4gICAgLy8gYWRkIHVuaXQgaWYgdGhlIHZhbHVlIGlzIG51bWVyaWMgYW5kIGlzIG9uZSBvZiB0aGUgZm9sbG93aW5nXG4gICAgaWYgKFsnd2lkdGgnLCAnaGVpZ2h0JywgJ3RvcCcsICdyaWdodCcsICdib3R0b20nLCAnbGVmdCddLmluZGV4T2YocHJvcCkgIT09IC0xICYmIGlzTnVtZXJpYyhzdHlsZXNbcHJvcF0pKSB7XG4gICAgICB1bml0ID0gJ3B4JztcbiAgICB9XG4gICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IHN0eWxlc1twcm9wXSArIHVuaXQ7XG4gIH0pO1xufVxuXG4vKipcbiAqIFNldCB0aGUgYXR0cmlidXRlcyB0byB0aGUgZ2l2ZW4gcG9wcGVyXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIGFwcGx5IHRoZSBhdHRyaWJ1dGVzIHRvXG4gKiBAYXJndW1lbnQge09iamVjdH0gc3R5bGVzXG4gKiBPYmplY3Qgd2l0aCBhIGxpc3Qgb2YgcHJvcGVydGllcyBhbmQgdmFsdWVzIHdoaWNoIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudFxuICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIGF0dHJpYnV0ZXMpIHtcbiAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgIHZhciB2YWx1ZSA9IGF0dHJpYnV0ZXNbcHJvcF07XG4gICAgaWYgKHZhbHVlICE9PSBmYWxzZSkge1xuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUocHJvcCwgYXR0cmlidXRlc1twcm9wXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKHByb3ApO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgYHVwZGF0ZWAgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YS5zdHlsZXMgLSBMaXN0IG9mIHN0eWxlIHByb3BlcnRpZXMgLSB2YWx1ZXMgdG8gYXBwbHkgdG8gcG9wcGVyIGVsZW1lbnRcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhLmF0dHJpYnV0ZXMgLSBMaXN0IG9mIGF0dHJpYnV0ZSBwcm9wZXJ0aWVzIC0gdmFsdWVzIHRvIGFwcGx5IHRvIHBvcHBlciBlbGVtZW50XG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgc2FtZSBkYXRhIG9iamVjdFxuICovXG5mdW5jdGlvbiBhcHBseVN0eWxlKGRhdGEpIHtcbiAgLy8gYW55IHByb3BlcnR5IHByZXNlbnQgaW4gYGRhdGEuc3R5bGVzYCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlcixcbiAgLy8gaW4gdGhpcyB3YXkgd2UgY2FuIG1ha2UgdGhlIDNyZCBwYXJ0eSBtb2RpZmllcnMgYWRkIGN1c3RvbSBzdHlsZXMgdG8gaXRcbiAgLy8gQmUgYXdhcmUsIG1vZGlmaWVycyBjb3VsZCBvdmVycmlkZSB0aGUgcHJvcGVydGllcyBkZWZpbmVkIGluIHRoZSBwcmV2aW91c1xuICAvLyBsaW5lcyBvZiB0aGlzIG1vZGlmaWVyIVxuICBzZXRTdHlsZXMoZGF0YS5pbnN0YW5jZS5wb3BwZXIsIGRhdGEuc3R5bGVzKTtcblxuICAvLyBhbnkgcHJvcGVydHkgcHJlc2VudCBpbiBgZGF0YS5hdHRyaWJ1dGVzYCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlcixcbiAgLy8gdGhleSB3aWxsIGJlIHNldCBhcyBIVE1MIGF0dHJpYnV0ZXMgb2YgdGhlIGVsZW1lbnRcbiAgc2V0QXR0cmlidXRlcyhkYXRhLmluc3RhbmNlLnBvcHBlciwgZGF0YS5hdHRyaWJ1dGVzKTtcblxuICAvLyBpZiBhcnJvd0VsZW1lbnQgaXMgZGVmaW5lZCBhbmQgYXJyb3dTdHlsZXMgaGFzIHNvbWUgcHJvcGVydGllc1xuICBpZiAoZGF0YS5hcnJvd0VsZW1lbnQgJiYgT2JqZWN0LmtleXMoZGF0YS5hcnJvd1N0eWxlcykubGVuZ3RoKSB7XG4gICAgc2V0U3R5bGVzKGRhdGEuYXJyb3dFbGVtZW50LCBkYXRhLmFycm93U3R5bGVzKTtcbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIFNldCB0aGUgeC1wbGFjZW1lbnQgYXR0cmlidXRlIGJlZm9yZSBldmVyeXRoaW5nIGVsc2UgYmVjYXVzZSBpdCBjb3VsZCBiZSB1c2VkXG4gKiB0byBhZGQgbWFyZ2lucyB0byB0aGUgcG9wcGVyIG1hcmdpbnMgbmVlZHMgdG8gYmUgY2FsY3VsYXRlZCB0byBnZXQgdGhlXG4gKiBjb3JyZWN0IHBvcHBlciBvZmZzZXRzLlxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5tb2RpZmllcnNcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHJlZmVyZW5jZSAtIFRoZSByZWZlcmVuY2UgZWxlbWVudCB1c2VkIHRvIHBvc2l0aW9uIHRoZSBwb3BwZXJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBvcHBlciAtIFRoZSBIVE1MIGVsZW1lbnQgdXNlZCBhcyBwb3BwZXJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gUG9wcGVyLmpzIG9wdGlvbnNcbiAqL1xuZnVuY3Rpb24gYXBwbHlTdHlsZU9uTG9hZChyZWZlcmVuY2UsIHBvcHBlciwgb3B0aW9ucywgbW9kaWZpZXJPcHRpb25zLCBzdGF0ZSkge1xuICAvLyBjb21wdXRlIHJlZmVyZW5jZSBlbGVtZW50IG9mZnNldHNcbiAgdmFyIHJlZmVyZW5jZU9mZnNldHMgPSBnZXRSZWZlcmVuY2VPZmZzZXRzKHN0YXRlLCBwb3BwZXIsIHJlZmVyZW5jZSwgb3B0aW9ucy5wb3NpdGlvbkZpeGVkKTtcblxuICAvLyBjb21wdXRlIGF1dG8gcGxhY2VtZW50LCBzdG9yZSBwbGFjZW1lbnQgaW5zaWRlIHRoZSBkYXRhIG9iamVjdCxcbiAgLy8gbW9kaWZpZXJzIHdpbGwgYmUgYWJsZSB0byBlZGl0IGBwbGFjZW1lbnRgIGlmIG5lZWRlZFxuICAvLyBhbmQgcmVmZXIgdG8gb3JpZ2luYWxQbGFjZW1lbnQgdG8ga25vdyB0aGUgb3JpZ2luYWwgdmFsdWVcbiAgdmFyIHBsYWNlbWVudCA9IGNvbXB1dGVBdXRvUGxhY2VtZW50KG9wdGlvbnMucGxhY2VtZW50LCByZWZlcmVuY2VPZmZzZXRzLCBwb3BwZXIsIHJlZmVyZW5jZSwgb3B0aW9ucy5tb2RpZmllcnMuZmxpcC5ib3VuZGFyaWVzRWxlbWVudCwgb3B0aW9ucy5tb2RpZmllcnMuZmxpcC5wYWRkaW5nKTtcblxuICBwb3BwZXIuc2V0QXR0cmlidXRlKCd4LXBsYWNlbWVudCcsIHBsYWNlbWVudCk7XG5cbiAgLy8gQXBwbHkgYHBvc2l0aW9uYCB0byBwb3BwZXIgYmVmb3JlIGFueXRoaW5nIGVsc2UgYmVjYXVzZVxuICAvLyB3aXRob3V0IHRoZSBwb3NpdGlvbiBhcHBsaWVkIHdlIGNhbid0IGd1YXJhbnRlZSBjb3JyZWN0IGNvbXB1dGF0aW9uc1xuICBzZXRTdHlsZXMocG9wcGVyLCB7IHBvc2l0aW9uOiBvcHRpb25zLnBvc2l0aW9uRml4ZWQgPyAnZml4ZWQnIDogJ2Fic29sdXRlJyB9KTtcblxuICByZXR1cm4gb3B0aW9ucztcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBNb2RpZmllcnNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSBgdXBkYXRlYCBtZXRob2RcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWRcbiAqL1xuZnVuY3Rpb24gY29tcHV0ZVN0eWxlKGRhdGEsIG9wdGlvbnMpIHtcbiAgdmFyIHggPSBvcHRpb25zLngsXG4gICAgICB5ID0gb3B0aW9ucy55O1xuICB2YXIgcG9wcGVyID0gZGF0YS5vZmZzZXRzLnBvcHBlcjtcblxuICAvLyBSZW1vdmUgdGhpcyBsZWdhY3kgc3VwcG9ydCBpbiBQb3BwZXIuanMgdjJcblxuICB2YXIgbGVnYWN5R3B1QWNjZWxlcmF0aW9uT3B0aW9uID0gZmluZChkYXRhLmluc3RhbmNlLm1vZGlmaWVycywgZnVuY3Rpb24gKG1vZGlmaWVyKSB7XG4gICAgcmV0dXJuIG1vZGlmaWVyLm5hbWUgPT09ICdhcHBseVN0eWxlJztcbiAgfSkuZ3B1QWNjZWxlcmF0aW9uO1xuICBpZiAobGVnYWN5R3B1QWNjZWxlcmF0aW9uT3B0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb25zb2xlLndhcm4oJ1dBUk5JTkc6IGBncHVBY2NlbGVyYXRpb25gIG9wdGlvbiBtb3ZlZCB0byBgY29tcHV0ZVN0eWxlYCBtb2RpZmllciBhbmQgd2lsbCBub3QgYmUgc3VwcG9ydGVkIGluIGZ1dHVyZSB2ZXJzaW9ucyBvZiBQb3BwZXIuanMhJyk7XG4gIH1cbiAgdmFyIGdwdUFjY2VsZXJhdGlvbiA9IGxlZ2FjeUdwdUFjY2VsZXJhdGlvbk9wdGlvbiAhPT0gdW5kZWZpbmVkID8gbGVnYWN5R3B1QWNjZWxlcmF0aW9uT3B0aW9uIDogb3B0aW9ucy5ncHVBY2NlbGVyYXRpb247XG5cbiAgdmFyIG9mZnNldFBhcmVudCA9IGdldE9mZnNldFBhcmVudChkYXRhLmluc3RhbmNlLnBvcHBlcik7XG4gIHZhciBvZmZzZXRQYXJlbnRSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KG9mZnNldFBhcmVudCk7XG5cbiAgLy8gU3R5bGVzXG4gIHZhciBzdHlsZXMgPSB7XG4gICAgcG9zaXRpb246IHBvcHBlci5wb3NpdGlvblxuICB9O1xuXG4gIC8vIEF2b2lkIGJsdXJyeSB0ZXh0IGJ5IHVzaW5nIGZ1bGwgcGl4ZWwgaW50ZWdlcnMuXG4gIC8vIEZvciBwaXhlbC1wZXJmZWN0IHBvc2l0aW9uaW5nLCB0b3AvYm90dG9tIHByZWZlcnMgcm91bmRlZFxuICAvLyB2YWx1ZXMsIHdoaWxlIGxlZnQvcmlnaHQgcHJlZmVycyBmbG9vcmVkIHZhbHVlcy5cbiAgdmFyIG9mZnNldHMgPSB7XG4gICAgbGVmdDogTWF0aC5mbG9vcihwb3BwZXIubGVmdCksXG4gICAgdG9wOiBNYXRoLnJvdW5kKHBvcHBlci50b3ApLFxuICAgIGJvdHRvbTogTWF0aC5yb3VuZChwb3BwZXIuYm90dG9tKSxcbiAgICByaWdodDogTWF0aC5mbG9vcihwb3BwZXIucmlnaHQpXG4gIH07XG5cbiAgdmFyIHNpZGVBID0geCA9PT0gJ2JvdHRvbScgPyAndG9wJyA6ICdib3R0b20nO1xuICB2YXIgc2lkZUIgPSB5ID09PSAncmlnaHQnID8gJ2xlZnQnIDogJ3JpZ2h0JztcblxuICAvLyBpZiBncHVBY2NlbGVyYXRpb24gaXMgc2V0IHRvIGB0cnVlYCBhbmQgdHJhbnNmb3JtIGlzIHN1cHBvcnRlZCxcbiAgLy8gIHdlIHVzZSBgdHJhbnNsYXRlM2RgIHRvIGFwcGx5IHRoZSBwb3NpdGlvbiB0byB0aGUgcG9wcGVyIHdlXG4gIC8vIGF1dG9tYXRpY2FsbHkgdXNlIHRoZSBzdXBwb3J0ZWQgcHJlZml4ZWQgdmVyc2lvbiBpZiBuZWVkZWRcbiAgdmFyIHByZWZpeGVkUHJvcGVydHkgPSBnZXRTdXBwb3J0ZWRQcm9wZXJ0eU5hbWUoJ3RyYW5zZm9ybScpO1xuXG4gIC8vIG5vdywgbGV0J3MgbWFrZSBhIHN0ZXAgYmFjayBhbmQgbG9vayBhdCB0aGlzIGNvZGUgY2xvc2VseSAod3RmPylcbiAgLy8gSWYgdGhlIGNvbnRlbnQgb2YgdGhlIHBvcHBlciBncm93cyBvbmNlIGl0J3MgYmVlbiBwb3NpdGlvbmVkLCBpdFxuICAvLyBtYXkgaGFwcGVuIHRoYXQgdGhlIHBvcHBlciBnZXRzIG1pc3BsYWNlZCBiZWNhdXNlIG9mIHRoZSBuZXcgY29udGVudFxuICAvLyBvdmVyZmxvd2luZyBpdHMgcmVmZXJlbmNlIGVsZW1lbnRcbiAgLy8gVG8gYXZvaWQgdGhpcyBwcm9ibGVtLCB3ZSBwcm92aWRlIHR3byBvcHRpb25zICh4IGFuZCB5KSwgd2hpY2ggYWxsb3dcbiAgLy8gdGhlIGNvbnN1bWVyIHRvIGRlZmluZSB0aGUgb2Zmc2V0IG9yaWdpbi5cbiAgLy8gSWYgd2UgcG9zaXRpb24gYSBwb3BwZXIgb24gdG9wIG9mIGEgcmVmZXJlbmNlIGVsZW1lbnQsIHdlIGNhbiBzZXRcbiAgLy8gYHhgIHRvIGB0b3BgIHRvIG1ha2UgdGhlIHBvcHBlciBncm93IHRvd2FyZHMgaXRzIHRvcCBpbnN0ZWFkIG9mXG4gIC8vIGl0cyBib3R0b20uXG4gIHZhciBsZWZ0ID0gdm9pZCAwLFxuICAgICAgdG9wID0gdm9pZCAwO1xuICBpZiAoc2lkZUEgPT09ICdib3R0b20nKSB7XG4gICAgdG9wID0gLW9mZnNldFBhcmVudFJlY3QuaGVpZ2h0ICsgb2Zmc2V0cy5ib3R0b207XG4gIH0gZWxzZSB7XG4gICAgdG9wID0gb2Zmc2V0cy50b3A7XG4gIH1cbiAgaWYgKHNpZGVCID09PSAncmlnaHQnKSB7XG4gICAgbGVmdCA9IC1vZmZzZXRQYXJlbnRSZWN0LndpZHRoICsgb2Zmc2V0cy5yaWdodDtcbiAgfSBlbHNlIHtcbiAgICBsZWZ0ID0gb2Zmc2V0cy5sZWZ0O1xuICB9XG4gIGlmIChncHVBY2NlbGVyYXRpb24gJiYgcHJlZml4ZWRQcm9wZXJ0eSkge1xuICAgIHN0eWxlc1twcmVmaXhlZFByb3BlcnR5XSA9ICd0cmFuc2xhdGUzZCgnICsgbGVmdCArICdweCwgJyArIHRvcCArICdweCwgMCknO1xuICAgIHN0eWxlc1tzaWRlQV0gPSAwO1xuICAgIHN0eWxlc1tzaWRlQl0gPSAwO1xuICAgIHN0eWxlcy53aWxsQ2hhbmdlID0gJ3RyYW5zZm9ybSc7XG4gIH0gZWxzZSB7XG4gICAgLy8gb3Rod2VyaXNlLCB3ZSB1c2UgdGhlIHN0YW5kYXJkIGB0b3BgLCBgbGVmdGAsIGBib3R0b21gIGFuZCBgcmlnaHRgIHByb3BlcnRpZXNcbiAgICB2YXIgaW52ZXJ0VG9wID0gc2lkZUEgPT09ICdib3R0b20nID8gLTEgOiAxO1xuICAgIHZhciBpbnZlcnRMZWZ0ID0gc2lkZUIgPT09ICdyaWdodCcgPyAtMSA6IDE7XG4gICAgc3R5bGVzW3NpZGVBXSA9IHRvcCAqIGludmVydFRvcDtcbiAgICBzdHlsZXNbc2lkZUJdID0gbGVmdCAqIGludmVydExlZnQ7XG4gICAgc3R5bGVzLndpbGxDaGFuZ2UgPSBzaWRlQSArICcsICcgKyBzaWRlQjtcbiAgfVxuXG4gIC8vIEF0dHJpYnV0ZXNcbiAgdmFyIGF0dHJpYnV0ZXMgPSB7XG4gICAgJ3gtcGxhY2VtZW50JzogZGF0YS5wbGFjZW1lbnRcbiAgfTtcblxuICAvLyBVcGRhdGUgYGRhdGFgIGF0dHJpYnV0ZXMsIHN0eWxlcyBhbmQgYXJyb3dTdHlsZXNcbiAgZGF0YS5hdHRyaWJ1dGVzID0gX2V4dGVuZHMkMSh7fSwgYXR0cmlidXRlcywgZGF0YS5hdHRyaWJ1dGVzKTtcbiAgZGF0YS5zdHlsZXMgPSBfZXh0ZW5kcyQxKHt9LCBzdHlsZXMsIGRhdGEuc3R5bGVzKTtcbiAgZGF0YS5hcnJvd1N0eWxlcyA9IF9leHRlbmRzJDEoe30sIGRhdGEub2Zmc2V0cy5hcnJvdywgZGF0YS5hcnJvd1N0eWxlcyk7XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogSGVscGVyIHVzZWQgdG8ga25vdyBpZiB0aGUgZ2l2ZW4gbW9kaWZpZXIgZGVwZW5kcyBmcm9tIGFub3RoZXIgb25lLjxiciAvPlxuICogSXQgY2hlY2tzIGlmIHRoZSBuZWVkZWQgbW9kaWZpZXIgaXMgbGlzdGVkIGFuZCBlbmFibGVkLlxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHBhcmFtIHtBcnJheX0gbW9kaWZpZXJzIC0gbGlzdCBvZiBtb2RpZmllcnNcbiAqIEBwYXJhbSB7U3RyaW5nfSByZXF1ZXN0aW5nTmFtZSAtIG5hbWUgb2YgcmVxdWVzdGluZyBtb2RpZmllclxuICogQHBhcmFtIHtTdHJpbmd9IHJlcXVlc3RlZE5hbWUgLSBuYW1lIG9mIHJlcXVlc3RlZCBtb2RpZmllclxuICogQHJldHVybnMge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzTW9kaWZpZXJSZXF1aXJlZChtb2RpZmllcnMsIHJlcXVlc3RpbmdOYW1lLCByZXF1ZXN0ZWROYW1lKSB7XG4gIHZhciByZXF1ZXN0aW5nID0gZmluZChtb2RpZmllcnMsIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIG5hbWUgPSBfcmVmLm5hbWU7XG4gICAgcmV0dXJuIG5hbWUgPT09IHJlcXVlc3RpbmdOYW1lO1xuICB9KTtcblxuICB2YXIgaXNSZXF1aXJlZCA9ICEhcmVxdWVzdGluZyAmJiBtb2RpZmllcnMuc29tZShmdW5jdGlvbiAobW9kaWZpZXIpIHtcbiAgICByZXR1cm4gbW9kaWZpZXIubmFtZSA9PT0gcmVxdWVzdGVkTmFtZSAmJiBtb2RpZmllci5lbmFibGVkICYmIG1vZGlmaWVyLm9yZGVyIDwgcmVxdWVzdGluZy5vcmRlcjtcbiAgfSk7XG5cbiAgaWYgKCFpc1JlcXVpcmVkKSB7XG4gICAgdmFyIF9yZXF1ZXN0aW5nID0gJ2AnICsgcmVxdWVzdGluZ05hbWUgKyAnYCc7XG4gICAgdmFyIHJlcXVlc3RlZCA9ICdgJyArIHJlcXVlc3RlZE5hbWUgKyAnYCc7XG4gICAgY29uc29sZS53YXJuKHJlcXVlc3RlZCArICcgbW9kaWZpZXIgaXMgcmVxdWlyZWQgYnkgJyArIF9yZXF1ZXN0aW5nICsgJyBtb2RpZmllciBpbiBvcmRlciB0byB3b3JrLCBiZSBzdXJlIHRvIGluY2x1ZGUgaXQgYmVmb3JlICcgKyBfcmVxdWVzdGluZyArICchJyk7XG4gIH1cbiAgcmV0dXJuIGlzUmVxdWlyZWQ7XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgdXBkYXRlIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBhcnJvdyhkYXRhLCBvcHRpb25zKSB7XG4gIHZhciBfZGF0YSRvZmZzZXRzJGFycm93O1xuXG4gIC8vIGFycm93IGRlcGVuZHMgb24ga2VlcFRvZ2V0aGVyIGluIG9yZGVyIHRvIHdvcmtcbiAgaWYgKCFpc01vZGlmaWVyUmVxdWlyZWQoZGF0YS5pbnN0YW5jZS5tb2RpZmllcnMsICdhcnJvdycsICdrZWVwVG9nZXRoZXInKSkge1xuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgdmFyIGFycm93RWxlbWVudCA9IG9wdGlvbnMuZWxlbWVudDtcblxuICAvLyBpZiBhcnJvd0VsZW1lbnQgaXMgYSBzdHJpbmcsIHN1cHBvc2UgaXQncyBhIENTUyBzZWxlY3RvclxuICBpZiAodHlwZW9mIGFycm93RWxlbWVudCA9PT0gJ3N0cmluZycpIHtcbiAgICBhcnJvd0VsZW1lbnQgPSBkYXRhLmluc3RhbmNlLnBvcHBlci5xdWVyeVNlbGVjdG9yKGFycm93RWxlbWVudCk7XG5cbiAgICAvLyBpZiBhcnJvd0VsZW1lbnQgaXMgbm90IGZvdW5kLCBkb24ndCBydW4gdGhlIG1vZGlmaWVyXG4gICAgaWYgKCFhcnJvd0VsZW1lbnQpIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBpZiB0aGUgYXJyb3dFbGVtZW50IGlzbid0IGEgcXVlcnkgc2VsZWN0b3Igd2UgbXVzdCBjaGVjayB0aGF0IHRoZVxuICAgIC8vIHByb3ZpZGVkIERPTSBub2RlIGlzIGNoaWxkIG9mIGl0cyBwb3BwZXIgbm9kZVxuICAgIGlmICghZGF0YS5pbnN0YW5jZS5wb3BwZXIuY29udGFpbnMoYXJyb3dFbGVtZW50KSkge1xuICAgICAgY29uc29sZS53YXJuKCdXQVJOSU5HOiBgYXJyb3cuZWxlbWVudGAgbXVzdCBiZSBjaGlsZCBvZiBpdHMgcG9wcGVyIGVsZW1lbnQhJyk7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gIH1cblxuICB2YXIgcGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQuc3BsaXQoJy0nKVswXTtcbiAgdmFyIF9kYXRhJG9mZnNldHMgPSBkYXRhLm9mZnNldHMsXG4gICAgICBwb3BwZXIgPSBfZGF0YSRvZmZzZXRzLnBvcHBlcixcbiAgICAgIHJlZmVyZW5jZSA9IF9kYXRhJG9mZnNldHMucmVmZXJlbmNlO1xuXG4gIHZhciBpc1ZlcnRpY2FsID0gWydsZWZ0JywgJ3JpZ2h0J10uaW5kZXhPZihwbGFjZW1lbnQpICE9PSAtMTtcblxuICB2YXIgbGVuID0gaXNWZXJ0aWNhbCA/ICdoZWlnaHQnIDogJ3dpZHRoJztcbiAgdmFyIHNpZGVDYXBpdGFsaXplZCA9IGlzVmVydGljYWwgPyAnVG9wJyA6ICdMZWZ0JztcbiAgdmFyIHNpZGUgPSBzaWRlQ2FwaXRhbGl6ZWQudG9Mb3dlckNhc2UoKTtcbiAgdmFyIGFsdFNpZGUgPSBpc1ZlcnRpY2FsID8gJ2xlZnQnIDogJ3RvcCc7XG4gIHZhciBvcFNpZGUgPSBpc1ZlcnRpY2FsID8gJ2JvdHRvbScgOiAncmlnaHQnO1xuICB2YXIgYXJyb3dFbGVtZW50U2l6ZSA9IGdldE91dGVyU2l6ZXMoYXJyb3dFbGVtZW50KVtsZW5dO1xuXG4gIC8vXG4gIC8vIGV4dGVuZHMga2VlcFRvZ2V0aGVyIGJlaGF2aW9yIG1ha2luZyBzdXJlIHRoZSBwb3BwZXIgYW5kIGl0c1xuICAvLyByZWZlcmVuY2UgaGF2ZSBlbm91Z2ggcGl4ZWxzIGluIGNvbmp1Y3Rpb25cbiAgLy9cblxuICAvLyB0b3AvbGVmdCBzaWRlXG4gIGlmIChyZWZlcmVuY2Vbb3BTaWRlXSAtIGFycm93RWxlbWVudFNpemUgPCBwb3BwZXJbc2lkZV0pIHtcbiAgICBkYXRhLm9mZnNldHMucG9wcGVyW3NpZGVdIC09IHBvcHBlcltzaWRlXSAtIChyZWZlcmVuY2Vbb3BTaWRlXSAtIGFycm93RWxlbWVudFNpemUpO1xuICB9XG4gIC8vIGJvdHRvbS9yaWdodCBzaWRlXG4gIGlmIChyZWZlcmVuY2Vbc2lkZV0gKyBhcnJvd0VsZW1lbnRTaXplID4gcG9wcGVyW29wU2lkZV0pIHtcbiAgICBkYXRhLm9mZnNldHMucG9wcGVyW3NpZGVdICs9IHJlZmVyZW5jZVtzaWRlXSArIGFycm93RWxlbWVudFNpemUgLSBwb3BwZXJbb3BTaWRlXTtcbiAgfVxuICBkYXRhLm9mZnNldHMucG9wcGVyID0gZ2V0Q2xpZW50UmVjdChkYXRhLm9mZnNldHMucG9wcGVyKTtcblxuICAvLyBjb21wdXRlIGNlbnRlciBvZiB0aGUgcG9wcGVyXG4gIHZhciBjZW50ZXIgPSByZWZlcmVuY2Vbc2lkZV0gKyByZWZlcmVuY2VbbGVuXSAvIDIgLSBhcnJvd0VsZW1lbnRTaXplIC8gMjtcblxuICAvLyBDb21wdXRlIHRoZSBzaWRlVmFsdWUgdXNpbmcgdGhlIHVwZGF0ZWQgcG9wcGVyIG9mZnNldHNcbiAgLy8gdGFrZSBwb3BwZXIgbWFyZ2luIGluIGFjY291bnQgYmVjYXVzZSB3ZSBkb24ndCBoYXZlIHRoaXMgaW5mbyBhdmFpbGFibGVcbiAgdmFyIGNzcyA9IGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShkYXRhLmluc3RhbmNlLnBvcHBlcik7XG4gIHZhciBwb3BwZXJNYXJnaW5TaWRlID0gcGFyc2VGbG9hdChjc3NbJ21hcmdpbicgKyBzaWRlQ2FwaXRhbGl6ZWRdLCAxMCk7XG4gIHZhciBwb3BwZXJCb3JkZXJTaWRlID0gcGFyc2VGbG9hdChjc3NbJ2JvcmRlcicgKyBzaWRlQ2FwaXRhbGl6ZWQgKyAnV2lkdGgnXSwgMTApO1xuICB2YXIgc2lkZVZhbHVlID0gY2VudGVyIC0gZGF0YS5vZmZzZXRzLnBvcHBlcltzaWRlXSAtIHBvcHBlck1hcmdpblNpZGUgLSBwb3BwZXJCb3JkZXJTaWRlO1xuXG4gIC8vIHByZXZlbnQgYXJyb3dFbGVtZW50IGZyb20gYmVpbmcgcGxhY2VkIG5vdCBjb250aWd1b3VzbHkgdG8gaXRzIHBvcHBlclxuICBzaWRlVmFsdWUgPSBNYXRoLm1heChNYXRoLm1pbihwb3BwZXJbbGVuXSAtIGFycm93RWxlbWVudFNpemUsIHNpZGVWYWx1ZSksIDApO1xuXG4gIGRhdGEuYXJyb3dFbGVtZW50ID0gYXJyb3dFbGVtZW50O1xuICBkYXRhLm9mZnNldHMuYXJyb3cgPSAoX2RhdGEkb2Zmc2V0cyRhcnJvdyA9IHt9LCBkZWZpbmVQcm9wZXJ0eSQxKF9kYXRhJG9mZnNldHMkYXJyb3csIHNpZGUsIE1hdGgucm91bmQoc2lkZVZhbHVlKSksIGRlZmluZVByb3BlcnR5JDEoX2RhdGEkb2Zmc2V0cyRhcnJvdywgYWx0U2lkZSwgJycpLCBfZGF0YSRvZmZzZXRzJGFycm93KTtcblxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIG9wcG9zaXRlIHBsYWNlbWVudCB2YXJpYXRpb24gb2YgdGhlIGdpdmVuIG9uZVxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtTdHJpbmd9IHBsYWNlbWVudCB2YXJpYXRpb25cbiAqIEByZXR1cm5zIHtTdHJpbmd9IGZsaXBwZWQgcGxhY2VtZW50IHZhcmlhdGlvblxuICovXG5mdW5jdGlvbiBnZXRPcHBvc2l0ZVZhcmlhdGlvbih2YXJpYXRpb24pIHtcbiAgaWYgKHZhcmlhdGlvbiA9PT0gJ2VuZCcpIHtcbiAgICByZXR1cm4gJ3N0YXJ0JztcbiAgfSBlbHNlIGlmICh2YXJpYXRpb24gPT09ICdzdGFydCcpIHtcbiAgICByZXR1cm4gJ2VuZCc7XG4gIH1cbiAgcmV0dXJuIHZhcmlhdGlvbjtcbn1cblxuLyoqXG4gKiBMaXN0IG9mIGFjY2VwdGVkIHBsYWNlbWVudHMgdG8gdXNlIGFzIHZhbHVlcyBvZiB0aGUgYHBsYWNlbWVudGAgb3B0aW9uLjxiciAvPlxuICogVmFsaWQgcGxhY2VtZW50cyBhcmU6XG4gKiAtIGBhdXRvYFxuICogLSBgdG9wYFxuICogLSBgcmlnaHRgXG4gKiAtIGBib3R0b21gXG4gKiAtIGBsZWZ0YFxuICpcbiAqIEVhY2ggcGxhY2VtZW50IGNhbiBoYXZlIGEgdmFyaWF0aW9uIGZyb20gdGhpcyBsaXN0OlxuICogLSBgLXN0YXJ0YFxuICogLSBgLWVuZGBcbiAqXG4gKiBWYXJpYXRpb25zIGFyZSBpbnRlcnByZXRlZCBlYXNpbHkgaWYgeW91IHRoaW5rIG9mIHRoZW0gYXMgdGhlIGxlZnQgdG8gcmlnaHRcbiAqIHdyaXR0ZW4gbGFuZ3VhZ2VzLiBIb3Jpem9udGFsbHkgKGB0b3BgIGFuZCBgYm90dG9tYCksIGBzdGFydGAgaXMgbGVmdCBhbmQgYGVuZGBcbiAqIGlzIHJpZ2h0LjxiciAvPlxuICogVmVydGljYWxseSAoYGxlZnRgIGFuZCBgcmlnaHRgKSwgYHN0YXJ0YCBpcyB0b3AgYW5kIGBlbmRgIGlzIGJvdHRvbS5cbiAqXG4gKiBTb21lIHZhbGlkIGV4YW1wbGVzIGFyZTpcbiAqIC0gYHRvcC1lbmRgIChvbiB0b3Agb2YgcmVmZXJlbmNlLCByaWdodCBhbGlnbmVkKVxuICogLSBgcmlnaHQtc3RhcnRgIChvbiByaWdodCBvZiByZWZlcmVuY2UsIHRvcCBhbGlnbmVkKVxuICogLSBgYm90dG9tYCAob24gYm90dG9tLCBjZW50ZXJlZClcbiAqIC0gYGF1dG8tcmlnaHRgIChvbiB0aGUgc2lkZSB3aXRoIG1vcmUgc3BhY2UgYXZhaWxhYmxlLCBhbGlnbm1lbnQgZGVwZW5kcyBieSBwbGFjZW1lbnQpXG4gKlxuICogQHN0YXRpY1xuICogQHR5cGUge0FycmF5fVxuICogQGVudW0ge1N0cmluZ31cbiAqIEByZWFkb25seVxuICogQG1ldGhvZCBwbGFjZW1lbnRzXG4gKiBAbWVtYmVyb2YgUG9wcGVyXG4gKi9cbnZhciBwbGFjZW1lbnRzID0gWydhdXRvLXN0YXJ0JywgJ2F1dG8nLCAnYXV0by1lbmQnLCAndG9wLXN0YXJ0JywgJ3RvcCcsICd0b3AtZW5kJywgJ3JpZ2h0LXN0YXJ0JywgJ3JpZ2h0JywgJ3JpZ2h0LWVuZCcsICdib3R0b20tZW5kJywgJ2JvdHRvbScsICdib3R0b20tc3RhcnQnLCAnbGVmdC1lbmQnLCAnbGVmdCcsICdsZWZ0LXN0YXJ0J107XG5cbi8vIEdldCByaWQgb2YgYGF1dG9gIGBhdXRvLXN0YXJ0YCBhbmQgYGF1dG8tZW5kYFxudmFyIHZhbGlkUGxhY2VtZW50cyA9IHBsYWNlbWVudHMuc2xpY2UoMyk7XG5cbi8qKlxuICogR2l2ZW4gYW4gaW5pdGlhbCBwbGFjZW1lbnQsIHJldHVybnMgYWxsIHRoZSBzdWJzZXF1ZW50IHBsYWNlbWVudHNcbiAqIGNsb2Nrd2lzZSAob3IgY291bnRlci1jbG9ja3dpc2UpLlxuICpcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7U3RyaW5nfSBwbGFjZW1lbnQgLSBBIHZhbGlkIHBsYWNlbWVudCAoaXQgYWNjZXB0cyB2YXJpYXRpb25zKVxuICogQGFyZ3VtZW50IHtCb29sZWFufSBjb3VudGVyIC0gU2V0IHRvIHRydWUgdG8gd2FsayB0aGUgcGxhY2VtZW50cyBjb3VudGVyY2xvY2t3aXNlXG4gKiBAcmV0dXJucyB7QXJyYXl9IHBsYWNlbWVudHMgaW5jbHVkaW5nIHRoZWlyIHZhcmlhdGlvbnNcbiAqL1xuZnVuY3Rpb24gY2xvY2t3aXNlKHBsYWNlbWVudCkge1xuICB2YXIgY291bnRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG5cbiAgdmFyIGluZGV4ID0gdmFsaWRQbGFjZW1lbnRzLmluZGV4T2YocGxhY2VtZW50KTtcbiAgdmFyIGFyciA9IHZhbGlkUGxhY2VtZW50cy5zbGljZShpbmRleCArIDEpLmNvbmNhdCh2YWxpZFBsYWNlbWVudHMuc2xpY2UoMCwgaW5kZXgpKTtcbiAgcmV0dXJuIGNvdW50ZXIgPyBhcnIucmV2ZXJzZSgpIDogYXJyO1xufVxuXG52YXIgQkVIQVZJT1JTID0ge1xuICBGTElQOiAnZmxpcCcsXG4gIENMT0NLV0lTRTogJ2Nsb2Nrd2lzZScsXG4gIENPVU5URVJDTE9DS1dJU0U6ICdjb3VudGVyY2xvY2t3aXNlJ1xufTtcblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBNb2RpZmllcnNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSB1cGRhdGUgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cbmZ1bmN0aW9uIGZsaXAoZGF0YSwgb3B0aW9ucykge1xuICAvLyBpZiBgaW5uZXJgIG1vZGlmaWVyIGlzIGVuYWJsZWQsIHdlIGNhbid0IHVzZSB0aGUgYGZsaXBgIG1vZGlmaWVyXG4gIGlmIChpc01vZGlmaWVyRW5hYmxlZChkYXRhLmluc3RhbmNlLm1vZGlmaWVycywgJ2lubmVyJykpIHtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIGlmIChkYXRhLmZsaXBwZWQgJiYgZGF0YS5wbGFjZW1lbnQgPT09IGRhdGEub3JpZ2luYWxQbGFjZW1lbnQpIHtcbiAgICAvLyBzZWVtcyBsaWtlIGZsaXAgaXMgdHJ5aW5nIHRvIGxvb3AsIHByb2JhYmx5IHRoZXJlJ3Mgbm90IGVub3VnaCBzcGFjZSBvbiBhbnkgb2YgdGhlIGZsaXBwYWJsZSBzaWRlc1xuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgdmFyIGJvdW5kYXJpZXMgPSBnZXRCb3VuZGFyaWVzKGRhdGEuaW5zdGFuY2UucG9wcGVyLCBkYXRhLmluc3RhbmNlLnJlZmVyZW5jZSwgb3B0aW9ucy5wYWRkaW5nLCBvcHRpb25zLmJvdW5kYXJpZXNFbGVtZW50LCBkYXRhLnBvc2l0aW9uRml4ZWQpO1xuXG4gIHZhciBwbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuICB2YXIgcGxhY2VtZW50T3Bwb3NpdGUgPSBnZXRPcHBvc2l0ZVBsYWNlbWVudChwbGFjZW1lbnQpO1xuICB2YXIgdmFyaWF0aW9uID0gZGF0YS5wbGFjZW1lbnQuc3BsaXQoJy0nKVsxXSB8fCAnJztcblxuICB2YXIgZmxpcE9yZGVyID0gW107XG5cbiAgc3dpdGNoIChvcHRpb25zLmJlaGF2aW9yKSB7XG4gICAgY2FzZSBCRUhBVklPUlMuRkxJUDpcbiAgICAgIGZsaXBPcmRlciA9IFtwbGFjZW1lbnQsIHBsYWNlbWVudE9wcG9zaXRlXTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQkVIQVZJT1JTLkNMT0NLV0lTRTpcbiAgICAgIGZsaXBPcmRlciA9IGNsb2Nrd2lzZShwbGFjZW1lbnQpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBCRUhBVklPUlMuQ09VTlRFUkNMT0NLV0lTRTpcbiAgICAgIGZsaXBPcmRlciA9IGNsb2Nrd2lzZShwbGFjZW1lbnQsIHRydWUpO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGZsaXBPcmRlciA9IG9wdGlvbnMuYmVoYXZpb3I7XG4gIH1cblxuICBmbGlwT3JkZXIuZm9yRWFjaChmdW5jdGlvbiAoc3RlcCwgaW5kZXgpIHtcbiAgICBpZiAocGxhY2VtZW50ICE9PSBzdGVwIHx8IGZsaXBPcmRlci5sZW5ndGggPT09IGluZGV4ICsgMSkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgcGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQuc3BsaXQoJy0nKVswXTtcbiAgICBwbGFjZW1lbnRPcHBvc2l0ZSA9IGdldE9wcG9zaXRlUGxhY2VtZW50KHBsYWNlbWVudCk7XG5cbiAgICB2YXIgcG9wcGVyT2Zmc2V0cyA9IGRhdGEub2Zmc2V0cy5wb3BwZXI7XG4gICAgdmFyIHJlZk9mZnNldHMgPSBkYXRhLm9mZnNldHMucmVmZXJlbmNlO1xuXG4gICAgLy8gdXNpbmcgZmxvb3IgYmVjYXVzZSB0aGUgcmVmZXJlbmNlIG9mZnNldHMgbWF5IGNvbnRhaW4gZGVjaW1hbHMgd2UgYXJlIG5vdCBnb2luZyB0byBjb25zaWRlciBoZXJlXG4gICAgdmFyIGZsb29yID0gTWF0aC5mbG9vcjtcbiAgICB2YXIgb3ZlcmxhcHNSZWYgPSBwbGFjZW1lbnQgPT09ICdsZWZ0JyAmJiBmbG9vcihwb3BwZXJPZmZzZXRzLnJpZ2h0KSA+IGZsb29yKHJlZk9mZnNldHMubGVmdCkgfHwgcGxhY2VtZW50ID09PSAncmlnaHQnICYmIGZsb29yKHBvcHBlck9mZnNldHMubGVmdCkgPCBmbG9vcihyZWZPZmZzZXRzLnJpZ2h0KSB8fCBwbGFjZW1lbnQgPT09ICd0b3AnICYmIGZsb29yKHBvcHBlck9mZnNldHMuYm90dG9tKSA+IGZsb29yKHJlZk9mZnNldHMudG9wKSB8fCBwbGFjZW1lbnQgPT09ICdib3R0b20nICYmIGZsb29yKHBvcHBlck9mZnNldHMudG9wKSA8IGZsb29yKHJlZk9mZnNldHMuYm90dG9tKTtcblxuICAgIHZhciBvdmVyZmxvd3NMZWZ0ID0gZmxvb3IocG9wcGVyT2Zmc2V0cy5sZWZ0KSA8IGZsb29yKGJvdW5kYXJpZXMubGVmdCk7XG4gICAgdmFyIG92ZXJmbG93c1JpZ2h0ID0gZmxvb3IocG9wcGVyT2Zmc2V0cy5yaWdodCkgPiBmbG9vcihib3VuZGFyaWVzLnJpZ2h0KTtcbiAgICB2YXIgb3ZlcmZsb3dzVG9wID0gZmxvb3IocG9wcGVyT2Zmc2V0cy50b3ApIDwgZmxvb3IoYm91bmRhcmllcy50b3ApO1xuICAgIHZhciBvdmVyZmxvd3NCb3R0b20gPSBmbG9vcihwb3BwZXJPZmZzZXRzLmJvdHRvbSkgPiBmbG9vcihib3VuZGFyaWVzLmJvdHRvbSk7XG5cbiAgICB2YXIgb3ZlcmZsb3dzQm91bmRhcmllcyA9IHBsYWNlbWVudCA9PT0gJ2xlZnQnICYmIG92ZXJmbG93c0xlZnQgfHwgcGxhY2VtZW50ID09PSAncmlnaHQnICYmIG92ZXJmbG93c1JpZ2h0IHx8IHBsYWNlbWVudCA9PT0gJ3RvcCcgJiYgb3ZlcmZsb3dzVG9wIHx8IHBsYWNlbWVudCA9PT0gJ2JvdHRvbScgJiYgb3ZlcmZsb3dzQm90dG9tO1xuXG4gICAgLy8gZmxpcCB0aGUgdmFyaWF0aW9uIGlmIHJlcXVpcmVkXG4gICAgdmFyIGlzVmVydGljYWwgPSBbJ3RvcCcsICdib3R0b20nXS5pbmRleE9mKHBsYWNlbWVudCkgIT09IC0xO1xuICAgIHZhciBmbGlwcGVkVmFyaWF0aW9uID0gISFvcHRpb25zLmZsaXBWYXJpYXRpb25zICYmIChpc1ZlcnRpY2FsICYmIHZhcmlhdGlvbiA9PT0gJ3N0YXJ0JyAmJiBvdmVyZmxvd3NMZWZ0IHx8IGlzVmVydGljYWwgJiYgdmFyaWF0aW9uID09PSAnZW5kJyAmJiBvdmVyZmxvd3NSaWdodCB8fCAhaXNWZXJ0aWNhbCAmJiB2YXJpYXRpb24gPT09ICdzdGFydCcgJiYgb3ZlcmZsb3dzVG9wIHx8ICFpc1ZlcnRpY2FsICYmIHZhcmlhdGlvbiA9PT0gJ2VuZCcgJiYgb3ZlcmZsb3dzQm90dG9tKTtcblxuICAgIGlmIChvdmVybGFwc1JlZiB8fCBvdmVyZmxvd3NCb3VuZGFyaWVzIHx8IGZsaXBwZWRWYXJpYXRpb24pIHtcbiAgICAgIC8vIHRoaXMgYm9vbGVhbiB0byBkZXRlY3QgYW55IGZsaXAgbG9vcFxuICAgICAgZGF0YS5mbGlwcGVkID0gdHJ1ZTtcblxuICAgICAgaWYgKG92ZXJsYXBzUmVmIHx8IG92ZXJmbG93c0JvdW5kYXJpZXMpIHtcbiAgICAgICAgcGxhY2VtZW50ID0gZmxpcE9yZGVyW2luZGV4ICsgMV07XG4gICAgICB9XG5cbiAgICAgIGlmIChmbGlwcGVkVmFyaWF0aW9uKSB7XG4gICAgICAgIHZhcmlhdGlvbiA9IGdldE9wcG9zaXRlVmFyaWF0aW9uKHZhcmlhdGlvbik7XG4gICAgICB9XG5cbiAgICAgIGRhdGEucGxhY2VtZW50ID0gcGxhY2VtZW50ICsgKHZhcmlhdGlvbiA/ICctJyArIHZhcmlhdGlvbiA6ICcnKTtcblxuICAgICAgLy8gdGhpcyBvYmplY3QgY29udGFpbnMgYHBvc2l0aW9uYCwgd2Ugd2FudCB0byBwcmVzZXJ2ZSBpdCBhbG9uZyB3aXRoXG4gICAgICAvLyBhbnkgYWRkaXRpb25hbCBwcm9wZXJ0eSB3ZSBtYXkgYWRkIGluIHRoZSBmdXR1cmVcbiAgICAgIGRhdGEub2Zmc2V0cy5wb3BwZXIgPSBfZXh0ZW5kcyQxKHt9LCBkYXRhLm9mZnNldHMucG9wcGVyLCBnZXRQb3BwZXJPZmZzZXRzKGRhdGEuaW5zdGFuY2UucG9wcGVyLCBkYXRhLm9mZnNldHMucmVmZXJlbmNlLCBkYXRhLnBsYWNlbWVudCkpO1xuXG4gICAgICBkYXRhID0gcnVuTW9kaWZpZXJzKGRhdGEuaW5zdGFuY2UubW9kaWZpZXJzLCBkYXRhLCAnZmxpcCcpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IHVwZGF0ZSBtZXRob2RcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWRcbiAqL1xuZnVuY3Rpb24ga2VlcFRvZ2V0aGVyKGRhdGEpIHtcbiAgdmFyIF9kYXRhJG9mZnNldHMgPSBkYXRhLm9mZnNldHMsXG4gICAgICBwb3BwZXIgPSBfZGF0YSRvZmZzZXRzLnBvcHBlcixcbiAgICAgIHJlZmVyZW5jZSA9IF9kYXRhJG9mZnNldHMucmVmZXJlbmNlO1xuXG4gIHZhciBwbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuICB2YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xuICB2YXIgaXNWZXJ0aWNhbCA9IFsndG9wJywgJ2JvdHRvbSddLmluZGV4T2YocGxhY2VtZW50KSAhPT0gLTE7XG4gIHZhciBzaWRlID0gaXNWZXJ0aWNhbCA/ICdyaWdodCcgOiAnYm90dG9tJztcbiAgdmFyIG9wU2lkZSA9IGlzVmVydGljYWwgPyAnbGVmdCcgOiAndG9wJztcbiAgdmFyIG1lYXN1cmVtZW50ID0gaXNWZXJ0aWNhbCA/ICd3aWR0aCcgOiAnaGVpZ2h0JztcblxuICBpZiAocG9wcGVyW3NpZGVdIDwgZmxvb3IocmVmZXJlbmNlW29wU2lkZV0pKSB7XG4gICAgZGF0YS5vZmZzZXRzLnBvcHBlcltvcFNpZGVdID0gZmxvb3IocmVmZXJlbmNlW29wU2lkZV0pIC0gcG9wcGVyW21lYXN1cmVtZW50XTtcbiAgfVxuICBpZiAocG9wcGVyW29wU2lkZV0gPiBmbG9vcihyZWZlcmVuY2Vbc2lkZV0pKSB7XG4gICAgZGF0YS5vZmZzZXRzLnBvcHBlcltvcFNpZGVdID0gZmxvb3IocmVmZXJlbmNlW3NpZGVdKTtcbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgc3RyaW5nIGNvbnRhaW5pbmcgdmFsdWUgKyB1bml0IGludG8gYSBweCB2YWx1ZSBudW1iZXJcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIHttb2RpZmllcnN+b2Zmc2V0fVxuICogQHByaXZhdGVcbiAqIEBhcmd1bWVudCB7U3RyaW5nfSBzdHIgLSBWYWx1ZSArIHVuaXQgc3RyaW5nXG4gKiBAYXJndW1lbnQge1N0cmluZ30gbWVhc3VyZW1lbnQgLSBgaGVpZ2h0YCBvciBgd2lkdGhgXG4gKiBAYXJndW1lbnQge09iamVjdH0gcG9wcGVyT2Zmc2V0c1xuICogQGFyZ3VtZW50IHtPYmplY3R9IHJlZmVyZW5jZU9mZnNldHNcbiAqIEByZXR1cm5zIHtOdW1iZXJ8U3RyaW5nfVxuICogVmFsdWUgaW4gcGl4ZWxzLCBvciBvcmlnaW5hbCBzdHJpbmcgaWYgbm8gdmFsdWVzIHdlcmUgZXh0cmFjdGVkXG4gKi9cbmZ1bmN0aW9uIHRvVmFsdWUoc3RyLCBtZWFzdXJlbWVudCwgcG9wcGVyT2Zmc2V0cywgcmVmZXJlbmNlT2Zmc2V0cykge1xuICAvLyBzZXBhcmF0ZSB2YWx1ZSBmcm9tIHVuaXRcbiAgdmFyIHNwbGl0ID0gc3RyLm1hdGNoKC8oKD86XFwtfFxcKyk/XFxkKlxcLj9cXGQqKSguKikvKTtcbiAgdmFyIHZhbHVlID0gK3NwbGl0WzFdO1xuICB2YXIgdW5pdCA9IHNwbGl0WzJdO1xuXG4gIC8vIElmIGl0J3Mgbm90IGEgbnVtYmVyIGl0J3MgYW4gb3BlcmF0b3IsIEkgZ3Vlc3NcbiAgaWYgKCF2YWx1ZSkge1xuICAgIHJldHVybiBzdHI7XG4gIH1cblxuICBpZiAodW5pdC5pbmRleE9mKCclJykgPT09IDApIHtcbiAgICB2YXIgZWxlbWVudCA9IHZvaWQgMDtcbiAgICBzd2l0Y2ggKHVuaXQpIHtcbiAgICAgIGNhc2UgJyVwJzpcbiAgICAgICAgZWxlbWVudCA9IHBvcHBlck9mZnNldHM7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnJSc6XG4gICAgICBjYXNlICclcic6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBlbGVtZW50ID0gcmVmZXJlbmNlT2Zmc2V0cztcbiAgICB9XG5cbiAgICB2YXIgcmVjdCA9IGdldENsaWVudFJlY3QoZWxlbWVudCk7XG4gICAgcmV0dXJuIHJlY3RbbWVhc3VyZW1lbnRdIC8gMTAwICogdmFsdWU7XG4gIH0gZWxzZSBpZiAodW5pdCA9PT0gJ3ZoJyB8fCB1bml0ID09PSAndncnKSB7XG4gICAgLy8gaWYgaXMgYSB2aCBvciB2dywgd2UgY2FsY3VsYXRlIHRoZSBzaXplIGJhc2VkIG9uIHRoZSB2aWV3cG9ydFxuICAgIHZhciBzaXplID0gdm9pZCAwO1xuICAgIGlmICh1bml0ID09PSAndmgnKSB7XG4gICAgICBzaXplID0gTWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCwgd2luZG93LmlubmVySGVpZ2h0IHx8IDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzaXplID0gTWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLCB3aW5kb3cuaW5uZXJXaWR0aCB8fCAwKTtcbiAgICB9XG4gICAgcmV0dXJuIHNpemUgLyAxMDAgKiB2YWx1ZTtcbiAgfSBlbHNlIHtcbiAgICAvLyBpZiBpcyBhbiBleHBsaWNpdCBwaXhlbCB1bml0LCB3ZSBnZXQgcmlkIG9mIHRoZSB1bml0IGFuZCBrZWVwIHRoZSB2YWx1ZVxuICAgIC8vIGlmIGlzIGFuIGltcGxpY2l0IHVuaXQsIGl0J3MgcHgsIGFuZCB3ZSByZXR1cm4ganVzdCB0aGUgdmFsdWVcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn1cblxuLyoqXG4gKiBQYXJzZSBhbiBgb2Zmc2V0YCBzdHJpbmcgdG8gZXh0cmFwb2xhdGUgYHhgIGFuZCBgeWAgbnVtZXJpYyBvZmZzZXRzLlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2Yge21vZGlmaWVyc35vZmZzZXR9XG4gKiBAcHJpdmF0ZVxuICogQGFyZ3VtZW50IHtTdHJpbmd9IG9mZnNldFxuICogQGFyZ3VtZW50IHtPYmplY3R9IHBvcHBlck9mZnNldHNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSByZWZlcmVuY2VPZmZzZXRzXG4gKiBAYXJndW1lbnQge1N0cmluZ30gYmFzZVBsYWNlbWVudFxuICogQHJldHVybnMge0FycmF5fSBhIHR3byBjZWxscyBhcnJheSB3aXRoIHggYW5kIHkgb2Zmc2V0cyBpbiBudW1iZXJzXG4gKi9cbmZ1bmN0aW9uIHBhcnNlT2Zmc2V0KG9mZnNldCwgcG9wcGVyT2Zmc2V0cywgcmVmZXJlbmNlT2Zmc2V0cywgYmFzZVBsYWNlbWVudCkge1xuICB2YXIgb2Zmc2V0cyA9IFswLCAwXTtcblxuICAvLyBVc2UgaGVpZ2h0IGlmIHBsYWNlbWVudCBpcyBsZWZ0IG9yIHJpZ2h0IGFuZCBpbmRleCBpcyAwIG90aGVyd2lzZSB1c2Ugd2lkdGhcbiAgLy8gaW4gdGhpcyB3YXkgdGhlIGZpcnN0IG9mZnNldCB3aWxsIHVzZSBhbiBheGlzIGFuZCB0aGUgc2Vjb25kIG9uZVxuICAvLyB3aWxsIHVzZSB0aGUgb3RoZXIgb25lXG4gIHZhciB1c2VIZWlnaHQgPSBbJ3JpZ2h0JywgJ2xlZnQnXS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpICE9PSAtMTtcblxuICAvLyBTcGxpdCB0aGUgb2Zmc2V0IHN0cmluZyB0byBvYnRhaW4gYSBsaXN0IG9mIHZhbHVlcyBhbmQgb3BlcmFuZHNcbiAgLy8gVGhlIHJlZ2V4IGFkZHJlc3NlcyB2YWx1ZXMgd2l0aCB0aGUgcGx1cyBvciBtaW51cyBzaWduIGluIGZyb250ICgrMTAsIC0yMCwgZXRjKVxuICB2YXIgZnJhZ21lbnRzID0gb2Zmc2V0LnNwbGl0KC8oXFwrfFxcLSkvKS5tYXAoZnVuY3Rpb24gKGZyYWcpIHtcbiAgICByZXR1cm4gZnJhZy50cmltKCk7XG4gIH0pO1xuXG4gIC8vIERldGVjdCBpZiB0aGUgb2Zmc2V0IHN0cmluZyBjb250YWlucyBhIHBhaXIgb2YgdmFsdWVzIG9yIGEgc2luZ2xlIG9uZVxuICAvLyB0aGV5IGNvdWxkIGJlIHNlcGFyYXRlZCBieSBjb21tYSBvciBzcGFjZVxuICB2YXIgZGl2aWRlciA9IGZyYWdtZW50cy5pbmRleE9mKGZpbmQoZnJhZ21lbnRzLCBmdW5jdGlvbiAoZnJhZykge1xuICAgIHJldHVybiBmcmFnLnNlYXJjaCgvLHxcXHMvKSAhPT0gLTE7XG4gIH0pKTtcblxuICBpZiAoZnJhZ21lbnRzW2RpdmlkZXJdICYmIGZyYWdtZW50c1tkaXZpZGVyXS5pbmRleE9mKCcsJykgPT09IC0xKSB7XG4gICAgY29uc29sZS53YXJuKCdPZmZzZXRzIHNlcGFyYXRlZCBieSB3aGl0ZSBzcGFjZShzKSBhcmUgZGVwcmVjYXRlZCwgdXNlIGEgY29tbWEgKCwpIGluc3RlYWQuJyk7XG4gIH1cblxuICAvLyBJZiBkaXZpZGVyIGlzIGZvdW5kLCB3ZSBkaXZpZGUgdGhlIGxpc3Qgb2YgdmFsdWVzIGFuZCBvcGVyYW5kcyB0byBkaXZpZGVcbiAgLy8gdGhlbSBieSBvZnNldCBYIGFuZCBZLlxuICB2YXIgc3BsaXRSZWdleCA9IC9cXHMqLFxccyp8XFxzKy87XG4gIHZhciBvcHMgPSBkaXZpZGVyICE9PSAtMSA/IFtmcmFnbWVudHMuc2xpY2UoMCwgZGl2aWRlcikuY29uY2F0KFtmcmFnbWVudHNbZGl2aWRlcl0uc3BsaXQoc3BsaXRSZWdleClbMF1dKSwgW2ZyYWdtZW50c1tkaXZpZGVyXS5zcGxpdChzcGxpdFJlZ2V4KVsxXV0uY29uY2F0KGZyYWdtZW50cy5zbGljZShkaXZpZGVyICsgMSkpXSA6IFtmcmFnbWVudHNdO1xuXG4gIC8vIENvbnZlcnQgdGhlIHZhbHVlcyB3aXRoIHVuaXRzIHRvIGFic29sdXRlIHBpeGVscyB0byBhbGxvdyBvdXIgY29tcHV0YXRpb25zXG4gIG9wcyA9IG9wcy5tYXAoZnVuY3Rpb24gKG9wLCBpbmRleCkge1xuICAgIC8vIE1vc3Qgb2YgdGhlIHVuaXRzIHJlbHkgb24gdGhlIG9yaWVudGF0aW9uIG9mIHRoZSBwb3BwZXJcbiAgICB2YXIgbWVhc3VyZW1lbnQgPSAoaW5kZXggPT09IDEgPyAhdXNlSGVpZ2h0IDogdXNlSGVpZ2h0KSA/ICdoZWlnaHQnIDogJ3dpZHRoJztcbiAgICB2YXIgbWVyZ2VXaXRoUHJldmlvdXMgPSBmYWxzZTtcbiAgICByZXR1cm4gb3BcbiAgICAvLyBUaGlzIGFnZ3JlZ2F0ZXMgYW55IGArYCBvciBgLWAgc2lnbiB0aGF0IGFyZW4ndCBjb25zaWRlcmVkIG9wZXJhdG9yc1xuICAgIC8vIGUuZy46IDEwICsgKzUgPT4gWzEwLCArLCArNV1cbiAgICAucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICBpZiAoYVthLmxlbmd0aCAtIDFdID09PSAnJyAmJiBbJysnLCAnLSddLmluZGV4T2YoYikgIT09IC0xKSB7XG4gICAgICAgIGFbYS5sZW5ndGggLSAxXSA9IGI7XG4gICAgICAgIG1lcmdlV2l0aFByZXZpb3VzID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgICB9IGVsc2UgaWYgKG1lcmdlV2l0aFByZXZpb3VzKSB7XG4gICAgICAgIGFbYS5sZW5ndGggLSAxXSArPSBiO1xuICAgICAgICBtZXJnZVdpdGhQcmV2aW91cyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gYTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBhLmNvbmNhdChiKTtcbiAgICAgIH1cbiAgICB9LCBbXSlcbiAgICAvLyBIZXJlIHdlIGNvbnZlcnQgdGhlIHN0cmluZyB2YWx1ZXMgaW50byBudW1iZXIgdmFsdWVzIChpbiBweClcbiAgICAubWFwKGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgIHJldHVybiB0b1ZhbHVlKHN0ciwgbWVhc3VyZW1lbnQsIHBvcHBlck9mZnNldHMsIHJlZmVyZW5jZU9mZnNldHMpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyBMb29wIHRyb3VnaCB0aGUgb2Zmc2V0cyBhcnJheXMgYW5kIGV4ZWN1dGUgdGhlIG9wZXJhdGlvbnNcbiAgb3BzLmZvckVhY2goZnVuY3Rpb24gKG9wLCBpbmRleCkge1xuICAgIG9wLmZvckVhY2goZnVuY3Rpb24gKGZyYWcsIGluZGV4Mikge1xuICAgICAgaWYgKGlzTnVtZXJpYyhmcmFnKSkge1xuICAgICAgICBvZmZzZXRzW2luZGV4XSArPSBmcmFnICogKG9wW2luZGV4MiAtIDFdID09PSAnLScgPyAtMSA6IDEpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIG9mZnNldHM7XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgdXBkYXRlIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQGFyZ3VtZW50IHtOdW1iZXJ8U3RyaW5nfSBvcHRpb25zLm9mZnNldD0wXG4gKiBUaGUgb2Zmc2V0IHZhbHVlIGFzIGRlc2NyaWJlZCBpbiB0aGUgbW9kaWZpZXIgZGVzY3JpcHRpb25cbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWRcbiAqL1xuZnVuY3Rpb24gb2Zmc2V0KGRhdGEsIF9yZWYpIHtcbiAgdmFyIG9mZnNldCA9IF9yZWYub2Zmc2V0O1xuICB2YXIgcGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQsXG4gICAgICBfZGF0YSRvZmZzZXRzID0gZGF0YS5vZmZzZXRzLFxuICAgICAgcG9wcGVyID0gX2RhdGEkb2Zmc2V0cy5wb3BwZXIsXG4gICAgICByZWZlcmVuY2UgPSBfZGF0YSRvZmZzZXRzLnJlZmVyZW5jZTtcblxuICB2YXIgYmFzZVBsYWNlbWVudCA9IHBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuXG4gIHZhciBvZmZzZXRzID0gdm9pZCAwO1xuICBpZiAoaXNOdW1lcmljKCtvZmZzZXQpKSB7XG4gICAgb2Zmc2V0cyA9IFsrb2Zmc2V0LCAwXTtcbiAgfSBlbHNlIHtcbiAgICBvZmZzZXRzID0gcGFyc2VPZmZzZXQob2Zmc2V0LCBwb3BwZXIsIHJlZmVyZW5jZSwgYmFzZVBsYWNlbWVudCk7XG4gIH1cblxuICBpZiAoYmFzZVBsYWNlbWVudCA9PT0gJ2xlZnQnKSB7XG4gICAgcG9wcGVyLnRvcCArPSBvZmZzZXRzWzBdO1xuICAgIHBvcHBlci5sZWZ0IC09IG9mZnNldHNbMV07XG4gIH0gZWxzZSBpZiAoYmFzZVBsYWNlbWVudCA9PT0gJ3JpZ2h0Jykge1xuICAgIHBvcHBlci50b3AgKz0gb2Zmc2V0c1swXTtcbiAgICBwb3BwZXIubGVmdCArPSBvZmZzZXRzWzFdO1xuICB9IGVsc2UgaWYgKGJhc2VQbGFjZW1lbnQgPT09ICd0b3AnKSB7XG4gICAgcG9wcGVyLmxlZnQgKz0gb2Zmc2V0c1swXTtcbiAgICBwb3BwZXIudG9wIC09IG9mZnNldHNbMV07XG4gIH0gZWxzZSBpZiAoYmFzZVBsYWNlbWVudCA9PT0gJ2JvdHRvbScpIHtcbiAgICBwb3BwZXIubGVmdCArPSBvZmZzZXRzWzBdO1xuICAgIHBvcHBlci50b3AgKz0gb2Zmc2V0c1sxXTtcbiAgfVxuXG4gIGRhdGEucG9wcGVyID0gcG9wcGVyO1xuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBNb2RpZmllcnNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSBgdXBkYXRlYCBtZXRob2RcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWRcbiAqL1xuZnVuY3Rpb24gcHJldmVudE92ZXJmbG93KGRhdGEsIG9wdGlvbnMpIHtcbiAgdmFyIGJvdW5kYXJpZXNFbGVtZW50ID0gb3B0aW9ucy5ib3VuZGFyaWVzRWxlbWVudCB8fCBnZXRPZmZzZXRQYXJlbnQoZGF0YS5pbnN0YW5jZS5wb3BwZXIpO1xuXG4gIC8vIElmIG9mZnNldFBhcmVudCBpcyB0aGUgcmVmZXJlbmNlIGVsZW1lbnQsIHdlIHJlYWxseSB3YW50IHRvXG4gIC8vIGdvIG9uZSBzdGVwIHVwIGFuZCB1c2UgdGhlIG5leHQgb2Zmc2V0UGFyZW50IGFzIHJlZmVyZW5jZSB0b1xuICAvLyBhdm9pZCB0byBtYWtlIHRoaXMgbW9kaWZpZXIgY29tcGxldGVseSB1c2VsZXNzIGFuZCBsb29rIGxpa2UgYnJva2VuXG4gIGlmIChkYXRhLmluc3RhbmNlLnJlZmVyZW5jZSA9PT0gYm91bmRhcmllc0VsZW1lbnQpIHtcbiAgICBib3VuZGFyaWVzRWxlbWVudCA9IGdldE9mZnNldFBhcmVudChib3VuZGFyaWVzRWxlbWVudCk7XG4gIH1cblxuICAvLyBOT1RFOiBET00gYWNjZXNzIGhlcmVcbiAgLy8gcmVzZXRzIHRoZSBwb3BwZXIncyBwb3NpdGlvbiBzbyB0aGF0IHRoZSBkb2N1bWVudCBzaXplIGNhbiBiZSBjYWxjdWxhdGVkIGV4Y2x1ZGluZ1xuICAvLyB0aGUgc2l6ZSBvZiB0aGUgcG9wcGVyIGVsZW1lbnQgaXRzZWxmXG4gIHZhciB0cmFuc2Zvcm1Qcm9wID0gZ2V0U3VwcG9ydGVkUHJvcGVydHlOYW1lKCd0cmFuc2Zvcm0nKTtcbiAgdmFyIHBvcHBlclN0eWxlcyA9IGRhdGEuaW5zdGFuY2UucG9wcGVyLnN0eWxlOyAvLyBhc3NpZ25tZW50IHRvIGhlbHAgbWluaWZpY2F0aW9uXG4gIHZhciB0b3AgPSBwb3BwZXJTdHlsZXMudG9wLFxuICAgICAgbGVmdCA9IHBvcHBlclN0eWxlcy5sZWZ0LFxuICAgICAgdHJhbnNmb3JtID0gcG9wcGVyU3R5bGVzW3RyYW5zZm9ybVByb3BdO1xuXG4gIHBvcHBlclN0eWxlcy50b3AgPSAnJztcbiAgcG9wcGVyU3R5bGVzLmxlZnQgPSAnJztcbiAgcG9wcGVyU3R5bGVzW3RyYW5zZm9ybVByb3BdID0gJyc7XG5cbiAgdmFyIGJvdW5kYXJpZXMgPSBnZXRCb3VuZGFyaWVzKGRhdGEuaW5zdGFuY2UucG9wcGVyLCBkYXRhLmluc3RhbmNlLnJlZmVyZW5jZSwgb3B0aW9ucy5wYWRkaW5nLCBib3VuZGFyaWVzRWxlbWVudCwgZGF0YS5wb3NpdGlvbkZpeGVkKTtcblxuICAvLyBOT1RFOiBET00gYWNjZXNzIGhlcmVcbiAgLy8gcmVzdG9yZXMgdGhlIG9yaWdpbmFsIHN0eWxlIHByb3BlcnRpZXMgYWZ0ZXIgdGhlIG9mZnNldHMgaGF2ZSBiZWVuIGNvbXB1dGVkXG4gIHBvcHBlclN0eWxlcy50b3AgPSB0b3A7XG4gIHBvcHBlclN0eWxlcy5sZWZ0ID0gbGVmdDtcbiAgcG9wcGVyU3R5bGVzW3RyYW5zZm9ybVByb3BdID0gdHJhbnNmb3JtO1xuXG4gIG9wdGlvbnMuYm91bmRhcmllcyA9IGJvdW5kYXJpZXM7XG5cbiAgdmFyIG9yZGVyID0gb3B0aW9ucy5wcmlvcml0eTtcbiAgdmFyIHBvcHBlciA9IGRhdGEub2Zmc2V0cy5wb3BwZXI7XG5cbiAgdmFyIGNoZWNrID0ge1xuICAgIHByaW1hcnk6IGZ1bmN0aW9uIHByaW1hcnkocGxhY2VtZW50KSB7XG4gICAgICB2YXIgdmFsdWUgPSBwb3BwZXJbcGxhY2VtZW50XTtcbiAgICAgIGlmIChwb3BwZXJbcGxhY2VtZW50XSA8IGJvdW5kYXJpZXNbcGxhY2VtZW50XSAmJiAhb3B0aW9ucy5lc2NhcGVXaXRoUmVmZXJlbmNlKSB7XG4gICAgICAgIHZhbHVlID0gTWF0aC5tYXgocG9wcGVyW3BsYWNlbWVudF0sIGJvdW5kYXJpZXNbcGxhY2VtZW50XSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVmaW5lUHJvcGVydHkkMSh7fSwgcGxhY2VtZW50LCB2YWx1ZSk7XG4gICAgfSxcbiAgICBzZWNvbmRhcnk6IGZ1bmN0aW9uIHNlY29uZGFyeShwbGFjZW1lbnQpIHtcbiAgICAgIHZhciBtYWluU2lkZSA9IHBsYWNlbWVudCA9PT0gJ3JpZ2h0JyA/ICdsZWZ0JyA6ICd0b3AnO1xuICAgICAgdmFyIHZhbHVlID0gcG9wcGVyW21haW5TaWRlXTtcbiAgICAgIGlmIChwb3BwZXJbcGxhY2VtZW50XSA+IGJvdW5kYXJpZXNbcGxhY2VtZW50XSAmJiAhb3B0aW9ucy5lc2NhcGVXaXRoUmVmZXJlbmNlKSB7XG4gICAgICAgIHZhbHVlID0gTWF0aC5taW4ocG9wcGVyW21haW5TaWRlXSwgYm91bmRhcmllc1twbGFjZW1lbnRdIC0gKHBsYWNlbWVudCA9PT0gJ3JpZ2h0JyA/IHBvcHBlci53aWR0aCA6IHBvcHBlci5oZWlnaHQpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWZpbmVQcm9wZXJ0eSQxKHt9LCBtYWluU2lkZSwgdmFsdWUpO1xuICAgIH1cbiAgfTtcblxuICBvcmRlci5mb3JFYWNoKGZ1bmN0aW9uIChwbGFjZW1lbnQpIHtcbiAgICB2YXIgc2lkZSA9IFsnbGVmdCcsICd0b3AnXS5pbmRleE9mKHBsYWNlbWVudCkgIT09IC0xID8gJ3ByaW1hcnknIDogJ3NlY29uZGFyeSc7XG4gICAgcG9wcGVyID0gX2V4dGVuZHMkMSh7fSwgcG9wcGVyLCBjaGVja1tzaWRlXShwbGFjZW1lbnQpKTtcbiAgfSk7XG5cbiAgZGF0YS5vZmZzZXRzLnBvcHBlciA9IHBvcHBlcjtcblxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBNb2RpZmllcnNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSBgdXBkYXRlYCBtZXRob2RcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWRcbiAqL1xuZnVuY3Rpb24gc2hpZnQoZGF0YSkge1xuICB2YXIgcGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQ7XG4gIHZhciBiYXNlUGxhY2VtZW50ID0gcGxhY2VtZW50LnNwbGl0KCctJylbMF07XG4gIHZhciBzaGlmdHZhcmlhdGlvbiA9IHBsYWNlbWVudC5zcGxpdCgnLScpWzFdO1xuXG4gIC8vIGlmIHNoaWZ0IHNoaWZ0dmFyaWF0aW9uIGlzIHNwZWNpZmllZCwgcnVuIHRoZSBtb2RpZmllclxuICBpZiAoc2hpZnR2YXJpYXRpb24pIHtcbiAgICB2YXIgX2RhdGEkb2Zmc2V0cyA9IGRhdGEub2Zmc2V0cyxcbiAgICAgICAgcmVmZXJlbmNlID0gX2RhdGEkb2Zmc2V0cy5yZWZlcmVuY2UsXG4gICAgICAgIHBvcHBlciA9IF9kYXRhJG9mZnNldHMucG9wcGVyO1xuXG4gICAgdmFyIGlzVmVydGljYWwgPSBbJ2JvdHRvbScsICd0b3AnXS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpICE9PSAtMTtcbiAgICB2YXIgc2lkZSA9IGlzVmVydGljYWwgPyAnbGVmdCcgOiAndG9wJztcbiAgICB2YXIgbWVhc3VyZW1lbnQgPSBpc1ZlcnRpY2FsID8gJ3dpZHRoJyA6ICdoZWlnaHQnO1xuXG4gICAgdmFyIHNoaWZ0T2Zmc2V0cyA9IHtcbiAgICAgIHN0YXJ0OiBkZWZpbmVQcm9wZXJ0eSQxKHt9LCBzaWRlLCByZWZlcmVuY2Vbc2lkZV0pLFxuICAgICAgZW5kOiBkZWZpbmVQcm9wZXJ0eSQxKHt9LCBzaWRlLCByZWZlcmVuY2Vbc2lkZV0gKyByZWZlcmVuY2VbbWVhc3VyZW1lbnRdIC0gcG9wcGVyW21lYXN1cmVtZW50XSlcbiAgICB9O1xuXG4gICAgZGF0YS5vZmZzZXRzLnBvcHBlciA9IF9leHRlbmRzJDEoe30sIHBvcHBlciwgc2hpZnRPZmZzZXRzW3NoaWZ0dmFyaWF0aW9uXSk7XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBNb2RpZmllcnNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSB1cGRhdGUgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cbmZ1bmN0aW9uIGhpZGUoZGF0YSkge1xuICBpZiAoIWlzTW9kaWZpZXJSZXF1aXJlZChkYXRhLmluc3RhbmNlLm1vZGlmaWVycywgJ2hpZGUnLCAncHJldmVudE92ZXJmbG93JykpIHtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIHZhciByZWZSZWN0ID0gZGF0YS5vZmZzZXRzLnJlZmVyZW5jZTtcbiAgdmFyIGJvdW5kID0gZmluZChkYXRhLmluc3RhbmNlLm1vZGlmaWVycywgZnVuY3Rpb24gKG1vZGlmaWVyKSB7XG4gICAgcmV0dXJuIG1vZGlmaWVyLm5hbWUgPT09ICdwcmV2ZW50T3ZlcmZsb3cnO1xuICB9KS5ib3VuZGFyaWVzO1xuXG4gIGlmIChyZWZSZWN0LmJvdHRvbSA8IGJvdW5kLnRvcCB8fCByZWZSZWN0LmxlZnQgPiBib3VuZC5yaWdodCB8fCByZWZSZWN0LnRvcCA+IGJvdW5kLmJvdHRvbSB8fCByZWZSZWN0LnJpZ2h0IDwgYm91bmQubGVmdCkge1xuICAgIC8vIEF2b2lkIHVubmVjZXNzYXJ5IERPTSBhY2Nlc3MgaWYgdmlzaWJpbGl0eSBoYXNuJ3QgY2hhbmdlZFxuICAgIGlmIChkYXRhLmhpZGUgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGRhdGEuaGlkZSA9IHRydWU7XG4gICAgZGF0YS5hdHRyaWJ1dGVzWyd4LW91dC1vZi1ib3VuZGFyaWVzJ10gPSAnJztcbiAgfSBlbHNlIHtcbiAgICAvLyBBdm9pZCB1bm5lY2Vzc2FyeSBET00gYWNjZXNzIGlmIHZpc2liaWxpdHkgaGFzbid0IGNoYW5nZWRcbiAgICBpZiAoZGF0YS5oaWRlID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgZGF0YS5oaWRlID0gZmFsc2U7XG4gICAgZGF0YS5hdHRyaWJ1dGVzWyd4LW91dC1vZi1ib3VuZGFyaWVzJ10gPSBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IGB1cGRhdGVgIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBpbm5lcihkYXRhKSB7XG4gIHZhciBwbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudDtcbiAgdmFyIGJhc2VQbGFjZW1lbnQgPSBwbGFjZW1lbnQuc3BsaXQoJy0nKVswXTtcbiAgdmFyIF9kYXRhJG9mZnNldHMgPSBkYXRhLm9mZnNldHMsXG4gICAgICBwb3BwZXIgPSBfZGF0YSRvZmZzZXRzLnBvcHBlcixcbiAgICAgIHJlZmVyZW5jZSA9IF9kYXRhJG9mZnNldHMucmVmZXJlbmNlO1xuXG4gIHZhciBpc0hvcml6ID0gWydsZWZ0JywgJ3JpZ2h0J10uaW5kZXhPZihiYXNlUGxhY2VtZW50KSAhPT0gLTE7XG5cbiAgdmFyIHN1YnRyYWN0TGVuZ3RoID0gWyd0b3AnLCAnbGVmdCddLmluZGV4T2YoYmFzZVBsYWNlbWVudCkgPT09IC0xO1xuXG4gIHBvcHBlcltpc0hvcml6ID8gJ2xlZnQnIDogJ3RvcCddID0gcmVmZXJlbmNlW2Jhc2VQbGFjZW1lbnRdIC0gKHN1YnRyYWN0TGVuZ3RoID8gcG9wcGVyW2lzSG9yaXogPyAnd2lkdGgnIDogJ2hlaWdodCddIDogMCk7XG5cbiAgZGF0YS5wbGFjZW1lbnQgPSBnZXRPcHBvc2l0ZVBsYWNlbWVudChwbGFjZW1lbnQpO1xuICBkYXRhLm9mZnNldHMucG9wcGVyID0gZ2V0Q2xpZW50UmVjdChwb3BwZXIpO1xuXG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIE1vZGlmaWVyIGZ1bmN0aW9uLCBlYWNoIG1vZGlmaWVyIGNhbiBoYXZlIGEgZnVuY3Rpb24gb2YgdGhpcyB0eXBlIGFzc2lnbmVkXG4gKiB0byBpdHMgYGZuYCBwcm9wZXJ0eS48YnIgLz5cbiAqIFRoZXNlIGZ1bmN0aW9ucyB3aWxsIGJlIGNhbGxlZCBvbiBlYWNoIHVwZGF0ZSwgdGhpcyBtZWFucyB0aGF0IHlvdSBtdXN0XG4gKiBtYWtlIHN1cmUgdGhleSBhcmUgcGVyZm9ybWFudCBlbm91Z2ggdG8gYXZvaWQgcGVyZm9ybWFuY2UgYm90dGxlbmVja3MuXG4gKlxuICogQGZ1bmN0aW9uIE1vZGlmaWVyRm5cbiAqIEBhcmd1bWVudCB7ZGF0YU9iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgYHVwZGF0ZWAgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7ZGF0YU9iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5cbi8qKlxuICogTW9kaWZpZXJzIGFyZSBwbHVnaW5zIHVzZWQgdG8gYWx0ZXIgdGhlIGJlaGF2aW9yIG9mIHlvdXIgcG9wcGVycy48YnIgLz5cbiAqIFBvcHBlci5qcyB1c2VzIGEgc2V0IG9mIDkgbW9kaWZpZXJzIHRvIHByb3ZpZGUgYWxsIHRoZSBiYXNpYyBmdW5jdGlvbmFsaXRpZXNcbiAqIG5lZWRlZCBieSB0aGUgbGlicmFyeS5cbiAqXG4gKiBVc3VhbGx5IHlvdSBkb24ndCB3YW50IHRvIG92ZXJyaWRlIHRoZSBgb3JkZXJgLCBgZm5gIGFuZCBgb25Mb2FkYCBwcm9wcy5cbiAqIEFsbCB0aGUgb3RoZXIgcHJvcGVydGllcyBhcmUgY29uZmlndXJhdGlvbnMgdGhhdCBjb3VsZCBiZSB0d2Vha2VkLlxuICogQG5hbWVzcGFjZSBtb2RpZmllcnNcbiAqL1xudmFyIG1vZGlmaWVycyA9IHtcbiAgLyoqXG4gICAqIE1vZGlmaWVyIHVzZWQgdG8gc2hpZnQgdGhlIHBvcHBlciBvbiB0aGUgc3RhcnQgb3IgZW5kIG9mIGl0cyByZWZlcmVuY2VcbiAgICogZWxlbWVudC48YnIgLz5cbiAgICogSXQgd2lsbCByZWFkIHRoZSB2YXJpYXRpb24gb2YgdGhlIGBwbGFjZW1lbnRgIHByb3BlcnR5LjxiciAvPlxuICAgKiBJdCBjYW4gYmUgb25lIGVpdGhlciBgLWVuZGAgb3IgYC1zdGFydGAuXG4gICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICogQGlubmVyXG4gICAqL1xuICBzaGlmdDoge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj0xMDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDEwMCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IHNoaWZ0XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoZSBgb2Zmc2V0YCBtb2RpZmllciBjYW4gc2hpZnQgeW91ciBwb3BwZXIgb24gYm90aCBpdHMgYXhpcy5cbiAgICpcbiAgICogSXQgYWNjZXB0cyB0aGUgZm9sbG93aW5nIHVuaXRzOlxuICAgKiAtIGBweGAgb3IgdW5pdGxlc3MsIGludGVycHJldGVkIGFzIHBpeGVsc1xuICAgKiAtIGAlYCBvciBgJXJgLCBwZXJjZW50YWdlIHJlbGF0aXZlIHRvIHRoZSBsZW5ndGggb2YgdGhlIHJlZmVyZW5jZSBlbGVtZW50XG4gICAqIC0gYCVwYCwgcGVyY2VudGFnZSByZWxhdGl2ZSB0byB0aGUgbGVuZ3RoIG9mIHRoZSBwb3BwZXIgZWxlbWVudFxuICAgKiAtIGB2d2AsIENTUyB2aWV3cG9ydCB3aWR0aCB1bml0XG4gICAqIC0gYHZoYCwgQ1NTIHZpZXdwb3J0IGhlaWdodCB1bml0XG4gICAqXG4gICAqIEZvciBsZW5ndGggaXMgaW50ZW5kZWQgdGhlIG1haW4gYXhpcyByZWxhdGl2ZSB0byB0aGUgcGxhY2VtZW50IG9mIHRoZSBwb3BwZXIuPGJyIC8+XG4gICAqIFRoaXMgbWVhbnMgdGhhdCBpZiB0aGUgcGxhY2VtZW50IGlzIGB0b3BgIG9yIGBib3R0b21gLCB0aGUgbGVuZ3RoIHdpbGwgYmUgdGhlXG4gICAqIGB3aWR0aGAuIEluIGNhc2Ugb2YgYGxlZnRgIG9yIGByaWdodGAsIGl0IHdpbGwgYmUgdGhlIGhlaWdodC5cbiAgICpcbiAgICogWW91IGNhbiBwcm92aWRlIGEgc2luZ2xlIHZhbHVlIChhcyBgTnVtYmVyYCBvciBgU3RyaW5nYCksIG9yIGEgcGFpciBvZiB2YWx1ZXNcbiAgICogYXMgYFN0cmluZ2AgZGl2aWRlZCBieSBhIGNvbW1hIG9yIG9uZSAob3IgbW9yZSkgd2hpdGUgc3BhY2VzLjxiciAvPlxuICAgKiBUaGUgbGF0dGVyIGlzIGEgZGVwcmVjYXRlZCBtZXRob2QgYmVjYXVzZSBpdCBsZWFkcyB0byBjb25mdXNpb24gYW5kIHdpbGwgYmVcbiAgICogcmVtb3ZlZCBpbiB2Mi48YnIgLz5cbiAgICogQWRkaXRpb25hbGx5LCBpdCBhY2NlcHRzIGFkZGl0aW9ucyBhbmQgc3VidHJhY3Rpb25zIGJldHdlZW4gZGlmZmVyZW50IHVuaXRzLlxuICAgKiBOb3RlIHRoYXQgbXVsdGlwbGljYXRpb25zIGFuZCBkaXZpc2lvbnMgYXJlbid0IHN1cHBvcnRlZC5cbiAgICpcbiAgICogVmFsaWQgZXhhbXBsZXMgYXJlOlxuICAgKiBgYGBcbiAgICogMTBcbiAgICogJzEwJSdcbiAgICogJzEwLCAxMCdcbiAgICogJzEwJSwgMTAnXG4gICAqICcxMCArIDEwJSdcbiAgICogJzEwIC0gNXZoICsgMyUnXG4gICAqICctMTBweCArIDV2aCwgNXB4IC0gNiUnXG4gICAqIGBgYFxuICAgKiA+ICoqTkIqKjogSWYgeW91IGRlc2lyZSB0byBhcHBseSBvZmZzZXRzIHRvIHlvdXIgcG9wcGVycyBpbiBhIHdheSB0aGF0IG1heSBtYWtlIHRoZW0gb3ZlcmxhcFxuICAgKiA+IHdpdGggdGhlaXIgcmVmZXJlbmNlIGVsZW1lbnQsIHVuZm9ydHVuYXRlbHksIHlvdSB3aWxsIGhhdmUgdG8gZGlzYWJsZSB0aGUgYGZsaXBgIG1vZGlmaWVyLlxuICAgKiA+IE1vcmUgb24gdGhpcyBbcmVhZGluZyB0aGlzIGlzc3VlXShodHRwczovL2dpdGh1Yi5jb20vRmV6VnJhc3RhL3BvcHBlci5qcy9pc3N1ZXMvMzczKVxuICAgKlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgb2Zmc2V0OiB7XG4gICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTIwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICBvcmRlcjogMjAwLFxuICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICBmbjogb2Zmc2V0LFxuICAgIC8qKiBAcHJvcCB7TnVtYmVyfFN0cmluZ30gb2Zmc2V0PTBcbiAgICAgKiBUaGUgb2Zmc2V0IHZhbHVlIGFzIGRlc2NyaWJlZCBpbiB0aGUgbW9kaWZpZXIgZGVzY3JpcHRpb25cbiAgICAgKi9cbiAgICBvZmZzZXQ6IDBcbiAgfSxcblxuICAvKipcbiAgICogTW9kaWZpZXIgdXNlZCB0byBwcmV2ZW50IHRoZSBwb3BwZXIgZnJvbSBiZWluZyBwb3NpdGlvbmVkIG91dHNpZGUgdGhlIGJvdW5kYXJ5LlxuICAgKlxuICAgKiBBbiBzY2VuYXJpbyBleGlzdHMgd2hlcmUgdGhlIHJlZmVyZW5jZSBpdHNlbGYgaXMgbm90IHdpdGhpbiB0aGUgYm91bmRhcmllcy48YnIgLz5cbiAgICogV2UgY2FuIHNheSBpdCBoYXMgXCJlc2NhcGVkIHRoZSBib3VuZGFyaWVzXCIg4oCUIG9yIGp1c3QgXCJlc2NhcGVkXCIuPGJyIC8+XG4gICAqIEluIHRoaXMgY2FzZSB3ZSBuZWVkIHRvIGRlY2lkZSB3aGV0aGVyIHRoZSBwb3BwZXIgc2hvdWxkIGVpdGhlcjpcbiAgICpcbiAgICogLSBkZXRhY2ggZnJvbSB0aGUgcmVmZXJlbmNlIGFuZCByZW1haW4gXCJ0cmFwcGVkXCIgaW4gdGhlIGJvdW5kYXJpZXMsIG9yXG4gICAqIC0gaWYgaXQgc2hvdWxkIGlnbm9yZSB0aGUgYm91bmRhcnkgYW5kIFwiZXNjYXBlIHdpdGggaXRzIHJlZmVyZW5jZVwiXG4gICAqXG4gICAqIFdoZW4gYGVzY2FwZVdpdGhSZWZlcmVuY2VgIGlzIHNldCB0b2B0cnVlYCBhbmQgcmVmZXJlbmNlIGlzIGNvbXBsZXRlbHlcbiAgICogb3V0c2lkZSBpdHMgYm91bmRhcmllcywgdGhlIHBvcHBlciB3aWxsIG92ZXJmbG93IChvciBjb21wbGV0ZWx5IGxlYXZlKVxuICAgKiB0aGUgYm91bmRhcmllcyBpbiBvcmRlciB0byByZW1haW4gYXR0YWNoZWQgdG8gdGhlIGVkZ2Ugb2YgdGhlIHJlZmVyZW5jZS5cbiAgICpcbiAgICogQG1lbWJlcm9mIG1vZGlmaWVyc1xuICAgKiBAaW5uZXJcbiAgICovXG4gIHByZXZlbnRPdmVyZmxvdzoge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj0zMDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDMwMCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IHByZXZlbnRPdmVyZmxvdyxcbiAgICAvKipcbiAgICAgKiBAcHJvcCB7QXJyYXl9IFtwcmlvcml0eT1bJ2xlZnQnLCdyaWdodCcsJ3RvcCcsJ2JvdHRvbSddXVxuICAgICAqIFBvcHBlciB3aWxsIHRyeSB0byBwcmV2ZW50IG92ZXJmbG93IGZvbGxvd2luZyB0aGVzZSBwcmlvcml0aWVzIGJ5IGRlZmF1bHQsXG4gICAgICogdGhlbiwgaXQgY291bGQgb3ZlcmZsb3cgb24gdGhlIGxlZnQgYW5kIG9uIHRvcCBvZiB0aGUgYGJvdW5kYXJpZXNFbGVtZW50YFxuICAgICAqL1xuICAgIHByaW9yaXR5OiBbJ2xlZnQnLCAncmlnaHQnLCAndG9wJywgJ2JvdHRvbSddLFxuICAgIC8qKlxuICAgICAqIEBwcm9wIHtudW1iZXJ9IHBhZGRpbmc9NVxuICAgICAqIEFtb3VudCBvZiBwaXhlbCB1c2VkIHRvIGRlZmluZSBhIG1pbmltdW0gZGlzdGFuY2UgYmV0d2VlbiB0aGUgYm91bmRhcmllc1xuICAgICAqIGFuZCB0aGUgcG9wcGVyIHRoaXMgbWFrZXMgc3VyZSB0aGUgcG9wcGVyIGhhcyBhbHdheXMgYSBsaXR0bGUgcGFkZGluZ1xuICAgICAqIGJldHdlZW4gdGhlIGVkZ2VzIG9mIGl0cyBjb250YWluZXJcbiAgICAgKi9cbiAgICBwYWRkaW5nOiA1LFxuICAgIC8qKlxuICAgICAqIEBwcm9wIHtTdHJpbmd8SFRNTEVsZW1lbnR9IGJvdW5kYXJpZXNFbGVtZW50PSdzY3JvbGxQYXJlbnQnXG4gICAgICogQm91bmRhcmllcyB1c2VkIGJ5IHRoZSBtb2RpZmllciwgY2FuIGJlIGBzY3JvbGxQYXJlbnRgLCBgd2luZG93YCxcbiAgICAgKiBgdmlld3BvcnRgIG9yIGFueSBET00gZWxlbWVudC5cbiAgICAgKi9cbiAgICBib3VuZGFyaWVzRWxlbWVudDogJ3Njcm9sbFBhcmVudCdcbiAgfSxcblxuICAvKipcbiAgICogTW9kaWZpZXIgdXNlZCB0byBtYWtlIHN1cmUgdGhlIHJlZmVyZW5jZSBhbmQgaXRzIHBvcHBlciBzdGF5IG5lYXIgZWFjaG90aGVyc1xuICAgKiB3aXRob3V0IGxlYXZpbmcgYW55IGdhcCBiZXR3ZWVuIHRoZSB0d28uIEV4cGVjaWFsbHkgdXNlZnVsIHdoZW4gdGhlIGFycm93IGlzXG4gICAqIGVuYWJsZWQgYW5kIHlvdSB3YW50IHRvIGFzc3VyZSBpdCB0byBwb2ludCB0byBpdHMgcmVmZXJlbmNlIGVsZW1lbnQuXG4gICAqIEl0IGNhcmVzIG9ubHkgYWJvdXQgdGhlIGZpcnN0IGF4aXMsIHlvdSBjYW4gc3RpbGwgaGF2ZSBwb3BwZXJzIHdpdGggbWFyZ2luXG4gICAqIGJldHdlZW4gdGhlIHBvcHBlciBhbmQgaXRzIHJlZmVyZW5jZSBlbGVtZW50LlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAga2VlcFRvZ2V0aGVyOiB7XG4gICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTQwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICBvcmRlcjogNDAwLFxuICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICBmbjoga2VlcFRvZ2V0aGVyXG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoaXMgbW9kaWZpZXIgaXMgdXNlZCB0byBtb3ZlIHRoZSBgYXJyb3dFbGVtZW50YCBvZiB0aGUgcG9wcGVyIHRvIG1ha2VcbiAgICogc3VyZSBpdCBpcyBwb3NpdGlvbmVkIGJldHdlZW4gdGhlIHJlZmVyZW5jZSBlbGVtZW50IGFuZCBpdHMgcG9wcGVyIGVsZW1lbnQuXG4gICAqIEl0IHdpbGwgcmVhZCB0aGUgb3V0ZXIgc2l6ZSBvZiB0aGUgYGFycm93RWxlbWVudGAgbm9kZSB0byBkZXRlY3QgaG93IG1hbnlcbiAgICogcGl4ZWxzIG9mIGNvbmp1Y3Rpb24gYXJlIG5lZWRlZC5cbiAgICpcbiAgICogSXQgaGFzIG5vIGVmZmVjdCBpZiBubyBgYXJyb3dFbGVtZW50YCBpcyBwcm92aWRlZC5cbiAgICogQG1lbWJlcm9mIG1vZGlmaWVyc1xuICAgKiBAaW5uZXJcbiAgICovXG4gIGFycm93OiB7XG4gICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTUwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICBvcmRlcjogNTAwLFxuICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICBmbjogYXJyb3csXG4gICAgLyoqIEBwcm9wIHtTdHJpbmd8SFRNTEVsZW1lbnR9IGVsZW1lbnQ9J1t4LWFycm93XScgLSBTZWxlY3RvciBvciBub2RlIHVzZWQgYXMgYXJyb3cgKi9cbiAgICBlbGVtZW50OiAnW3gtYXJyb3ddJ1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb2RpZmllciB1c2VkIHRvIGZsaXAgdGhlIHBvcHBlcidzIHBsYWNlbWVudCB3aGVuIGl0IHN0YXJ0cyB0byBvdmVybGFwIGl0c1xuICAgKiByZWZlcmVuY2UgZWxlbWVudC5cbiAgICpcbiAgICogUmVxdWlyZXMgdGhlIGBwcmV2ZW50T3ZlcmZsb3dgIG1vZGlmaWVyIGJlZm9yZSBpdCBpbiBvcmRlciB0byB3b3JrLlxuICAgKlxuICAgKiAqKk5PVEU6KiogdGhpcyBtb2RpZmllciB3aWxsIGludGVycnVwdCB0aGUgY3VycmVudCB1cGRhdGUgY3ljbGUgYW5kIHdpbGxcbiAgICogcmVzdGFydCBpdCBpZiBpdCBkZXRlY3RzIHRoZSBuZWVkIHRvIGZsaXAgdGhlIHBsYWNlbWVudC5cbiAgICogQG1lbWJlcm9mIG1vZGlmaWVyc1xuICAgKiBAaW5uZXJcbiAgICovXG4gIGZsaXA6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9NjAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiA2MDAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgIGZuOiBmbGlwLFxuICAgIC8qKlxuICAgICAqIEBwcm9wIHtTdHJpbmd8QXJyYXl9IGJlaGF2aW9yPSdmbGlwJ1xuICAgICAqIFRoZSBiZWhhdmlvciB1c2VkIHRvIGNoYW5nZSB0aGUgcG9wcGVyJ3MgcGxhY2VtZW50LiBJdCBjYW4gYmUgb25lIG9mXG4gICAgICogYGZsaXBgLCBgY2xvY2t3aXNlYCwgYGNvdW50ZXJjbG9ja3dpc2VgIG9yIGFuIGFycmF5IHdpdGggYSBsaXN0IG9mIHZhbGlkXG4gICAgICogcGxhY2VtZW50cyAod2l0aCBvcHRpb25hbCB2YXJpYXRpb25zKS5cbiAgICAgKi9cbiAgICBiZWhhdmlvcjogJ2ZsaXAnLFxuICAgIC8qKlxuICAgICAqIEBwcm9wIHtudW1iZXJ9IHBhZGRpbmc9NVxuICAgICAqIFRoZSBwb3BwZXIgd2lsbCBmbGlwIGlmIGl0IGhpdHMgdGhlIGVkZ2VzIG9mIHRoZSBgYm91bmRhcmllc0VsZW1lbnRgXG4gICAgICovXG4gICAgcGFkZGluZzogNSxcbiAgICAvKipcbiAgICAgKiBAcHJvcCB7U3RyaW5nfEhUTUxFbGVtZW50fSBib3VuZGFyaWVzRWxlbWVudD0ndmlld3BvcnQnXG4gICAgICogVGhlIGVsZW1lbnQgd2hpY2ggd2lsbCBkZWZpbmUgdGhlIGJvdW5kYXJpZXMgb2YgdGhlIHBvcHBlciBwb3NpdGlvbixcbiAgICAgKiB0aGUgcG9wcGVyIHdpbGwgbmV2ZXIgYmUgcGxhY2VkIG91dHNpZGUgb2YgdGhlIGRlZmluZWQgYm91bmRhcmllc1xuICAgICAqIChleGNlcHQgaWYga2VlcFRvZ2V0aGVyIGlzIGVuYWJsZWQpXG4gICAgICovXG4gICAgYm91bmRhcmllc0VsZW1lbnQ6ICd2aWV3cG9ydCdcbiAgfSxcblxuICAvKipcbiAgICogTW9kaWZpZXIgdXNlZCB0byBtYWtlIHRoZSBwb3BwZXIgZmxvdyB0b3dhcmQgdGhlIGlubmVyIG9mIHRoZSByZWZlcmVuY2UgZWxlbWVudC5cbiAgICogQnkgZGVmYXVsdCwgd2hlbiB0aGlzIG1vZGlmaWVyIGlzIGRpc2FibGVkLCB0aGUgcG9wcGVyIHdpbGwgYmUgcGxhY2VkIG91dHNpZGVcbiAgICogdGhlIHJlZmVyZW5jZSBlbGVtZW50LlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgaW5uZXI6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9NzAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiA3MDAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPWZhbHNlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IGlubmVyXG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vZGlmaWVyIHVzZWQgdG8gaGlkZSB0aGUgcG9wcGVyIHdoZW4gaXRzIHJlZmVyZW5jZSBlbGVtZW50IGlzIG91dHNpZGUgb2YgdGhlXG4gICAqIHBvcHBlciBib3VuZGFyaWVzLiBJdCB3aWxsIHNldCBhIGB4LW91dC1vZi1ib3VuZGFyaWVzYCBhdHRyaWJ1dGUgd2hpY2ggY2FuXG4gICAqIGJlIHVzZWQgdG8gaGlkZSB3aXRoIGEgQ1NTIHNlbGVjdG9yIHRoZSBwb3BwZXIgd2hlbiBpdHMgcmVmZXJlbmNlIGlzXG4gICAqIG91dCBvZiBib3VuZGFyaWVzLlxuICAgKlxuICAgKiBSZXF1aXJlcyB0aGUgYHByZXZlbnRPdmVyZmxvd2AgbW9kaWZpZXIgYmVmb3JlIGl0IGluIG9yZGVyIHRvIHdvcmsuXG4gICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICogQGlubmVyXG4gICAqL1xuICBoaWRlOiB7XG4gICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTgwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICBvcmRlcjogODAwLFxuICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICBmbjogaGlkZVxuICB9LFxuXG4gIC8qKlxuICAgKiBDb21wdXRlcyB0aGUgc3R5bGUgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlciBlbGVtZW50IHRvIGdldHNcbiAgICogcHJvcGVybHkgcG9zaXRpb25lZC5cbiAgICpcbiAgICogTm90ZSB0aGF0IHRoaXMgbW9kaWZpZXIgd2lsbCBub3QgdG91Y2ggdGhlIERPTSwgaXQganVzdCBwcmVwYXJlcyB0aGUgc3R5bGVzXG4gICAqIHNvIHRoYXQgYGFwcGx5U3R5bGVgIG1vZGlmaWVyIGNhbiBhcHBseSBpdC4gVGhpcyBzZXBhcmF0aW9uIGlzIHVzZWZ1bFxuICAgKiBpbiBjYXNlIHlvdSBuZWVkIHRvIHJlcGxhY2UgYGFwcGx5U3R5bGVgIHdpdGggYSBjdXN0b20gaW1wbGVtZW50YXRpb24uXG4gICAqXG4gICAqIFRoaXMgbW9kaWZpZXIgaGFzIGA4NTBgIGFzIGBvcmRlcmAgdmFsdWUgdG8gbWFpbnRhaW4gYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgKiB3aXRoIHByZXZpb3VzIHZlcnNpb25zIG9mIFBvcHBlci5qcy4gRXhwZWN0IHRoZSBtb2RpZmllcnMgb3JkZXJpbmcgbWV0aG9kXG4gICAqIHRvIGNoYW5nZSBpbiBmdXR1cmUgbWFqb3IgdmVyc2lvbnMgb2YgdGhlIGxpYnJhcnkuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICogQGlubmVyXG4gICAqL1xuICBjb21wdXRlU3R5bGU6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9ODUwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiA4NTAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgIGZuOiBjb21wdXRlU3R5bGUsXG4gICAgLyoqXG4gICAgICogQHByb3Age0Jvb2xlYW59IGdwdUFjY2VsZXJhdGlvbj10cnVlXG4gICAgICogSWYgdHJ1ZSwgaXQgdXNlcyB0aGUgQ1NTIDNkIHRyYW5zZm9ybWF0aW9uIHRvIHBvc2l0aW9uIHRoZSBwb3BwZXIuXG4gICAgICogT3RoZXJ3aXNlLCBpdCB3aWxsIHVzZSB0aGUgYHRvcGAgYW5kIGBsZWZ0YCBwcm9wZXJ0aWVzLlxuICAgICAqL1xuICAgIGdwdUFjY2VsZXJhdGlvbjogdHJ1ZSxcbiAgICAvKipcbiAgICAgKiBAcHJvcCB7c3RyaW5nfSBbeD0nYm90dG9tJ11cbiAgICAgKiBXaGVyZSB0byBhbmNob3IgdGhlIFggYXhpcyAoYGJvdHRvbWAgb3IgYHRvcGApLiBBS0EgWCBvZmZzZXQgb3JpZ2luLlxuICAgICAqIENoYW5nZSB0aGlzIGlmIHlvdXIgcG9wcGVyIHNob3VsZCBncm93IGluIGEgZGlyZWN0aW9uIGRpZmZlcmVudCBmcm9tIGBib3R0b21gXG4gICAgICovXG4gICAgeDogJ2JvdHRvbScsXG4gICAgLyoqXG4gICAgICogQHByb3Age3N0cmluZ30gW3g9J2xlZnQnXVxuICAgICAqIFdoZXJlIHRvIGFuY2hvciB0aGUgWSBheGlzIChgbGVmdGAgb3IgYHJpZ2h0YCkuIEFLQSBZIG9mZnNldCBvcmlnaW4uXG4gICAgICogQ2hhbmdlIHRoaXMgaWYgeW91ciBwb3BwZXIgc2hvdWxkIGdyb3cgaW4gYSBkaXJlY3Rpb24gZGlmZmVyZW50IGZyb20gYHJpZ2h0YFxuICAgICAqL1xuICAgIHk6ICdyaWdodCdcbiAgfSxcblxuICAvKipcbiAgICogQXBwbGllcyB0aGUgY29tcHV0ZWQgc3R5bGVzIHRvIHRoZSBwb3BwZXIgZWxlbWVudC5cbiAgICpcbiAgICogQWxsIHRoZSBET00gbWFuaXB1bGF0aW9ucyBhcmUgbGltaXRlZCB0byB0aGlzIG1vZGlmaWVyLiBUaGlzIGlzIHVzZWZ1bCBpbiBjYXNlXG4gICAqIHlvdSB3YW50IHRvIGludGVncmF0ZSBQb3BwZXIuanMgaW5zaWRlIGEgZnJhbWV3b3JrIG9yIHZpZXcgbGlicmFyeSBhbmQgeW91XG4gICAqIHdhbnQgdG8gZGVsZWdhdGUgYWxsIHRoZSBET00gbWFuaXB1bGF0aW9ucyB0byBpdC5cbiAgICpcbiAgICogTm90ZSB0aGF0IGlmIHlvdSBkaXNhYmxlIHRoaXMgbW9kaWZpZXIsIHlvdSBtdXN0IG1ha2Ugc3VyZSB0aGUgcG9wcGVyIGVsZW1lbnRcbiAgICogaGFzIGl0cyBwb3NpdGlvbiBzZXQgdG8gYGFic29sdXRlYCBiZWZvcmUgUG9wcGVyLmpzIGNhbiBkbyBpdHMgd29yayFcbiAgICpcbiAgICogSnVzdCBkaXNhYmxlIHRoaXMgbW9kaWZpZXIgYW5kIGRlZmluZSB5b3Ugb3duIHRvIGFjaGlldmUgdGhlIGRlc2lyZWQgZWZmZWN0LlxuICAgKlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgYXBwbHlTdHlsZToge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj05MDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDkwMCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IGFwcGx5U3R5bGUsXG4gICAgLyoqIEBwcm9wIHtGdW5jdGlvbn0gKi9cbiAgICBvbkxvYWQ6IGFwcGx5U3R5bGVPbkxvYWQsXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAxLjEwLjAsIHRoZSBwcm9wZXJ0eSBtb3ZlZCB0byBgY29tcHV0ZVN0eWxlYCBtb2RpZmllclxuICAgICAqIEBwcm9wIHtCb29sZWFufSBncHVBY2NlbGVyYXRpb249dHJ1ZVxuICAgICAqIElmIHRydWUsIGl0IHVzZXMgdGhlIENTUyAzZCB0cmFuc2Zvcm1hdGlvbiB0byBwb3NpdGlvbiB0aGUgcG9wcGVyLlxuICAgICAqIE90aGVyd2lzZSwgaXQgd2lsbCB1c2UgdGhlIGB0b3BgIGFuZCBgbGVmdGAgcHJvcGVydGllcy5cbiAgICAgKi9cbiAgICBncHVBY2NlbGVyYXRpb246IHVuZGVmaW5lZFxuICB9XG59O1xuXG4vKipcbiAqIFRoZSBgZGF0YU9iamVjdGAgaXMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBpbmZvcm1hdGlvbnMgdXNlZCBieSBQb3BwZXIuanNcbiAqIHRoaXMgb2JqZWN0IGdldCBwYXNzZWQgdG8gbW9kaWZpZXJzIGFuZCB0byB0aGUgYG9uQ3JlYXRlYCBhbmQgYG9uVXBkYXRlYCBjYWxsYmFja3MuXG4gKiBAbmFtZSBkYXRhT2JqZWN0XG4gKiBAcHJvcGVydHkge09iamVjdH0gZGF0YS5pbnN0YW5jZSBUaGUgUG9wcGVyLmpzIGluc3RhbmNlXG4gKiBAcHJvcGVydHkge1N0cmluZ30gZGF0YS5wbGFjZW1lbnQgUGxhY2VtZW50IGFwcGxpZWQgdG8gcG9wcGVyXG4gKiBAcHJvcGVydHkge1N0cmluZ30gZGF0YS5vcmlnaW5hbFBsYWNlbWVudCBQbGFjZW1lbnQgb3JpZ2luYWxseSBkZWZpbmVkIG9uIGluaXRcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gZGF0YS5mbGlwcGVkIFRydWUgaWYgcG9wcGVyIGhhcyBiZWVuIGZsaXBwZWQgYnkgZmxpcCBtb2RpZmllclxuICogQHByb3BlcnR5IHtCb29sZWFufSBkYXRhLmhpZGUgVHJ1ZSBpZiB0aGUgcmVmZXJlbmNlIGVsZW1lbnQgaXMgb3V0IG9mIGJvdW5kYXJpZXMsIHVzZWZ1bCB0byBrbm93IHdoZW4gdG8gaGlkZSB0aGUgcG9wcGVyLlxuICogQHByb3BlcnR5IHtIVE1MRWxlbWVudH0gZGF0YS5hcnJvd0VsZW1lbnQgTm9kZSB1c2VkIGFzIGFycm93IGJ5IGFycm93IG1vZGlmaWVyXG4gKiBAcHJvcGVydHkge09iamVjdH0gZGF0YS5zdHlsZXMgQW55IENTUyBwcm9wZXJ0eSBkZWZpbmVkIGhlcmUgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBwb3BwZXIsIGl0IGV4cGVjdHMgdGhlIEphdmFTY3JpcHQgbm9tZW5jbGF0dXJlIChlZy4gYG1hcmdpbkJvdHRvbWApXG4gKiBAcHJvcGVydHkge09iamVjdH0gZGF0YS5hcnJvd1N0eWxlcyBBbnkgQ1NTIHByb3BlcnR5IGRlZmluZWQgaGVyZSB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlciBhcnJvdywgaXQgZXhwZWN0cyB0aGUgSmF2YVNjcmlwdCBub21lbmNsYXR1cmUgKGVnLiBgbWFyZ2luQm90dG9tYClcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLmJvdW5kYXJpZXMgT2Zmc2V0cyBvZiB0aGUgcG9wcGVyIGJvdW5kYXJpZXNcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLm9mZnNldHMgVGhlIG1lYXN1cmVtZW50cyBvZiBwb3BwZXIsIHJlZmVyZW5jZSBhbmQgYXJyb3cgZWxlbWVudHMuXG4gKiBAcHJvcGVydHkge09iamVjdH0gZGF0YS5vZmZzZXRzLnBvcHBlciBgdG9wYCwgYGxlZnRgLCBgd2lkdGhgLCBgaGVpZ2h0YCB2YWx1ZXNcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLm9mZnNldHMucmVmZXJlbmNlIGB0b3BgLCBgbGVmdGAsIGB3aWR0aGAsIGBoZWlnaHRgIHZhbHVlc1xuICogQHByb3BlcnR5IHtPYmplY3R9IGRhdGEub2Zmc2V0cy5hcnJvd10gYHRvcGAgYW5kIGBsZWZ0YCBvZmZzZXRzLCBvbmx5IG9uZSBvZiB0aGVtIHdpbGwgYmUgZGlmZmVyZW50IGZyb20gMFxuICovXG5cbi8qKlxuICogRGVmYXVsdCBvcHRpb25zIHByb3ZpZGVkIHRvIFBvcHBlci5qcyBjb25zdHJ1Y3Rvci48YnIgLz5cbiAqIFRoZXNlIGNhbiBiZSBvdmVycmlkZW4gdXNpbmcgdGhlIGBvcHRpb25zYCBhcmd1bWVudCBvZiBQb3BwZXIuanMuPGJyIC8+XG4gKiBUbyBvdmVycmlkZSBhbiBvcHRpb24sIHNpbXBseSBwYXNzIGFzIDNyZCBhcmd1bWVudCBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZVxuICogc3RydWN0dXJlIG9mIHRoaXMgb2JqZWN0LCBleGFtcGxlOlxuICogYGBgXG4gKiBuZXcgUG9wcGVyKHJlZiwgcG9wLCB7XG4gKiAgIG1vZGlmaWVyczoge1xuICogICAgIHByZXZlbnRPdmVyZmxvdzogeyBlbmFibGVkOiBmYWxzZSB9XG4gKiAgIH1cbiAqIH0pXG4gKiBgYGBcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUG9wcGVyXG4gKi9cbnZhciBEZWZhdWx0cyA9IHtcbiAgLyoqXG4gICAqIFBvcHBlcidzIHBsYWNlbWVudFxuICAgKiBAcHJvcCB7UG9wcGVyLnBsYWNlbWVudHN9IHBsYWNlbWVudD0nYm90dG9tJ1xuICAgKi9cbiAgcGxhY2VtZW50OiAnYm90dG9tJyxcblxuICAvKipcbiAgICogU2V0IHRoaXMgdG8gdHJ1ZSBpZiB5b3Ugd2FudCBwb3BwZXIgdG8gcG9zaXRpb24gaXQgc2VsZiBpbiAnZml4ZWQnIG1vZGVcbiAgICogQHByb3Age0Jvb2xlYW59IHBvc2l0aW9uRml4ZWQ9ZmFsc2VcbiAgICovXG4gIHBvc2l0aW9uRml4ZWQ6IGZhbHNlLFxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIGV2ZW50cyAocmVzaXplLCBzY3JvbGwpIGFyZSBpbml0aWFsbHkgZW5hYmxlZFxuICAgKiBAcHJvcCB7Qm9vbGVhbn0gZXZlbnRzRW5hYmxlZD10cnVlXG4gICAqL1xuICBldmVudHNFbmFibGVkOiB0cnVlLFxuXG4gIC8qKlxuICAgKiBTZXQgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0byBhdXRvbWF0aWNhbGx5IHJlbW92ZSB0aGUgcG9wcGVyIHdoZW5cbiAgICogeW91IGNhbGwgdGhlIGBkZXN0cm95YCBtZXRob2QuXG4gICAqIEBwcm9wIHtCb29sZWFufSByZW1vdmVPbkRlc3Ryb3k9ZmFsc2VcbiAgICovXG4gIHJlbW92ZU9uRGVzdHJveTogZmFsc2UsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGNhbGxlZCB3aGVuIHRoZSBwb3BwZXIgaXMgY3JlYXRlZC48YnIgLz5cbiAgICogQnkgZGVmYXVsdCwgaXMgc2V0IHRvIG5vLW9wLjxiciAvPlxuICAgKiBBY2Nlc3MgUG9wcGVyLmpzIGluc3RhbmNlIHdpdGggYGRhdGEuaW5zdGFuY2VgLlxuICAgKiBAcHJvcCB7b25DcmVhdGV9XG4gICAqL1xuICBvbkNyZWF0ZTogZnVuY3Rpb24gb25DcmVhdGUoKSB7fSxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgY2FsbGVkIHdoZW4gdGhlIHBvcHBlciBpcyB1cGRhdGVkLCB0aGlzIGNhbGxiYWNrIGlzIG5vdCBjYWxsZWRcbiAgICogb24gdGhlIGluaXRpYWxpemF0aW9uL2NyZWF0aW9uIG9mIHRoZSBwb3BwZXIsIGJ1dCBvbmx5IG9uIHN1YnNlcXVlbnRcbiAgICogdXBkYXRlcy48YnIgLz5cbiAgICogQnkgZGVmYXVsdCwgaXMgc2V0IHRvIG5vLW9wLjxiciAvPlxuICAgKiBBY2Nlc3MgUG9wcGVyLmpzIGluc3RhbmNlIHdpdGggYGRhdGEuaW5zdGFuY2VgLlxuICAgKiBAcHJvcCB7b25VcGRhdGV9XG4gICAqL1xuICBvblVwZGF0ZTogZnVuY3Rpb24gb25VcGRhdGUoKSB7fSxcblxuICAvKipcbiAgICogTGlzdCBvZiBtb2RpZmllcnMgdXNlZCB0byBtb2RpZnkgdGhlIG9mZnNldHMgYmVmb3JlIHRoZXkgYXJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlci5cbiAgICogVGhleSBwcm92aWRlIG1vc3Qgb2YgdGhlIGZ1bmN0aW9uYWxpdGllcyBvZiBQb3BwZXIuanNcbiAgICogQHByb3Age21vZGlmaWVyc31cbiAgICovXG4gIG1vZGlmaWVyczogbW9kaWZpZXJzXG59O1xuXG4vKipcbiAqIEBjYWxsYmFjayBvbkNyZWF0ZVxuICogQHBhcmFtIHtkYXRhT2JqZWN0fSBkYXRhXG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgb25VcGRhdGVcbiAqIEBwYXJhbSB7ZGF0YU9iamVjdH0gZGF0YVxuICovXG5cbi8vIFV0aWxzXG4vLyBNZXRob2RzXG52YXIgUG9wcGVyID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IFBvcHBlci5qcyBpbnN0YW5jZVxuICAgKiBAY2xhc3MgUG9wcGVyXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8cmVmZXJlbmNlT2JqZWN0fSByZWZlcmVuY2UgLSBUaGUgcmVmZXJlbmNlIGVsZW1lbnQgdXNlZCB0byBwb3NpdGlvbiB0aGUgcG9wcGVyXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBvcHBlciAtIFRoZSBIVE1MIGVsZW1lbnQgdXNlZCBhcyBwb3BwZXIuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gWW91ciBjdXN0b20gb3B0aW9ucyB0byBvdmVycmlkZSB0aGUgb25lcyBkZWZpbmVkIGluIFtEZWZhdWx0c10oI2RlZmF1bHRzKVxuICAgKiBAcmV0dXJuIHtPYmplY3R9IGluc3RhbmNlIC0gVGhlIGdlbmVyYXRlZCBQb3BwZXIuanMgaW5zdGFuY2VcbiAgICovXG4gIGZ1bmN0aW9uIFBvcHBlcihyZWZlcmVuY2UsIHBvcHBlcikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgY2xhc3NDYWxsQ2hlY2skMSh0aGlzLCBQb3BwZXIpO1xuXG4gICAgdGhpcy5zY2hlZHVsZVVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoX3RoaXMudXBkYXRlKTtcbiAgICB9O1xuXG4gICAgLy8gbWFrZSB1cGRhdGUoKSBkZWJvdW5jZWQsIHNvIHRoYXQgaXQgb25seSBydW5zIGF0IG1vc3Qgb25jZS1wZXItdGlja1xuICAgIHRoaXMudXBkYXRlID0gZGVib3VuY2UodGhpcy51cGRhdGUuYmluZCh0aGlzKSk7XG5cbiAgICAvLyB3aXRoIHt9IHdlIGNyZWF0ZSBhIG5ldyBvYmplY3Qgd2l0aCB0aGUgb3B0aW9ucyBpbnNpZGUgaXRcbiAgICB0aGlzLm9wdGlvbnMgPSBfZXh0ZW5kcyQxKHt9LCBQb3BwZXIuRGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgLy8gaW5pdCBzdGF0ZVxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0Rlc3Ryb3llZDogZmFsc2UsXG4gICAgICBpc0NyZWF0ZWQ6IGZhbHNlLFxuICAgICAgc2Nyb2xsUGFyZW50czogW11cbiAgICB9O1xuXG4gICAgLy8gZ2V0IHJlZmVyZW5jZSBhbmQgcG9wcGVyIGVsZW1lbnRzIChhbGxvdyBqUXVlcnkgd3JhcHBlcnMpXG4gICAgdGhpcy5yZWZlcmVuY2UgPSByZWZlcmVuY2UgJiYgcmVmZXJlbmNlLmpxdWVyeSA/IHJlZmVyZW5jZVswXSA6IHJlZmVyZW5jZTtcbiAgICB0aGlzLnBvcHBlciA9IHBvcHBlciAmJiBwb3BwZXIuanF1ZXJ5ID8gcG9wcGVyWzBdIDogcG9wcGVyO1xuXG4gICAgLy8gRGVlcCBtZXJnZSBtb2RpZmllcnMgb3B0aW9uc1xuICAgIHRoaXMub3B0aW9ucy5tb2RpZmllcnMgPSB7fTtcbiAgICBPYmplY3Qua2V5cyhfZXh0ZW5kcyQxKHt9LCBQb3BwZXIuRGVmYXVsdHMubW9kaWZpZXJzLCBvcHRpb25zLm1vZGlmaWVycykpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIF90aGlzLm9wdGlvbnMubW9kaWZpZXJzW25hbWVdID0gX2V4dGVuZHMkMSh7fSwgUG9wcGVyLkRlZmF1bHRzLm1vZGlmaWVyc1tuYW1lXSB8fCB7fSwgb3B0aW9ucy5tb2RpZmllcnMgPyBvcHRpb25zLm1vZGlmaWVyc1tuYW1lXSA6IHt9KTtcbiAgICB9KTtcblxuICAgIC8vIFJlZmFjdG9yaW5nIG1vZGlmaWVycycgbGlzdCAoT2JqZWN0ID0+IEFycmF5KVxuICAgIHRoaXMubW9kaWZpZXJzID0gT2JqZWN0LmtleXModGhpcy5vcHRpb25zLm1vZGlmaWVycykubWFwKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICByZXR1cm4gX2V4dGVuZHMkMSh7XG4gICAgICAgIG5hbWU6IG5hbWVcbiAgICAgIH0sIF90aGlzLm9wdGlvbnMubW9kaWZpZXJzW25hbWVdKTtcbiAgICB9KVxuICAgIC8vIHNvcnQgdGhlIG1vZGlmaWVycyBieSBvcmRlclxuICAgIC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gYS5vcmRlciAtIGIub3JkZXI7XG4gICAgfSk7XG5cbiAgICAvLyBtb2RpZmllcnMgaGF2ZSB0aGUgYWJpbGl0eSB0byBleGVjdXRlIGFyYml0cmFyeSBjb2RlIHdoZW4gUG9wcGVyLmpzIGdldCBpbml0ZWRcbiAgICAvLyBzdWNoIGNvZGUgaXMgZXhlY3V0ZWQgaW4gdGhlIHNhbWUgb3JkZXIgb2YgaXRzIG1vZGlmaWVyXG4gICAgLy8gdGhleSBjb3VsZCBhZGQgbmV3IHByb3BlcnRpZXMgdG8gdGhlaXIgb3B0aW9ucyBjb25maWd1cmF0aW9uXG4gICAgLy8gQkUgQVdBUkU6IGRvbid0IGFkZCBvcHRpb25zIHRvIGBvcHRpb25zLm1vZGlmaWVycy5uYW1lYCBidXQgdG8gYG1vZGlmaWVyT3B0aW9uc2AhXG4gICAgdGhpcy5tb2RpZmllcnMuZm9yRWFjaChmdW5jdGlvbiAobW9kaWZpZXJPcHRpb25zKSB7XG4gICAgICBpZiAobW9kaWZpZXJPcHRpb25zLmVuYWJsZWQgJiYgaXNGdW5jdGlvbihtb2RpZmllck9wdGlvbnMub25Mb2FkKSkge1xuICAgICAgICBtb2RpZmllck9wdGlvbnMub25Mb2FkKF90aGlzLnJlZmVyZW5jZSwgX3RoaXMucG9wcGVyLCBfdGhpcy5vcHRpb25zLCBtb2RpZmllck9wdGlvbnMsIF90aGlzLnN0YXRlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIGZpcmUgdGhlIGZpcnN0IHVwZGF0ZSB0byBwb3NpdGlvbiB0aGUgcG9wcGVyIGluIHRoZSByaWdodCBwbGFjZVxuICAgIHRoaXMudXBkYXRlKCk7XG5cbiAgICB2YXIgZXZlbnRzRW5hYmxlZCA9IHRoaXMub3B0aW9ucy5ldmVudHNFbmFibGVkO1xuICAgIGlmIChldmVudHNFbmFibGVkKSB7XG4gICAgICAvLyBzZXR1cCBldmVudCBsaXN0ZW5lcnMsIHRoZXkgd2lsbCB0YWtlIGNhcmUgb2YgdXBkYXRlIHRoZSBwb3NpdGlvbiBpbiBzcGVjaWZpYyBzaXR1YXRpb25zXG4gICAgICB0aGlzLmVuYWJsZUV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZS5ldmVudHNFbmFibGVkID0gZXZlbnRzRW5hYmxlZDtcbiAgfVxuXG4gIC8vIFdlIGNhbid0IHVzZSBjbGFzcyBwcm9wZXJ0aWVzIGJlY2F1c2UgdGhleSBkb24ndCBnZXQgbGlzdGVkIGluIHRoZVxuICAvLyBjbGFzcyBwcm90b3R5cGUgYW5kIGJyZWFrIHN0dWZmIGxpa2UgU2lub24gc3R1YnNcblxuXG4gIGNyZWF0ZUNsYXNzJDEoUG9wcGVyLCBbe1xuICAgIGtleTogJ3VwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZSQkMSgpIHtcbiAgICAgIHJldHVybiB1cGRhdGUuY2FsbCh0aGlzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkZXN0cm95JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSQkMSgpIHtcbiAgICAgIHJldHVybiBkZXN0cm95LmNhbGwodGhpcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZW5hYmxlRXZlbnRMaXN0ZW5lcnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbmFibGVFdmVudExpc3RlbmVycyQkMSgpIHtcbiAgICAgIHJldHVybiBlbmFibGVFdmVudExpc3RlbmVycy5jYWxsKHRoaXMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Rpc2FibGVFdmVudExpc3RlbmVycycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpc2FibGVFdmVudExpc3RlbmVycyQkMSgpIHtcbiAgICAgIHJldHVybiBkaXNhYmxlRXZlbnRMaXN0ZW5lcnMuY2FsbCh0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTY2hlZHVsZSBhbiB1cGRhdGUsIGl0IHdpbGwgcnVuIG9uIHRoZSBuZXh0IFVJIHVwZGF0ZSBhdmFpbGFibGVcbiAgICAgKiBAbWV0aG9kIHNjaGVkdWxlVXBkYXRlXG4gICAgICogQG1lbWJlcm9mIFBvcHBlclxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQ29sbGVjdGlvbiBvZiB1dGlsaXRpZXMgdXNlZnVsIHdoZW4gd3JpdGluZyBjdXN0b20gbW9kaWZpZXJzLlxuICAgICAqIFN0YXJ0aW5nIGZyb20gdmVyc2lvbiAxLjcsIHRoaXMgbWV0aG9kIGlzIGF2YWlsYWJsZSBvbmx5IGlmIHlvdVxuICAgICAqIGluY2x1ZGUgYHBvcHBlci11dGlscy5qc2AgYmVmb3JlIGBwb3BwZXIuanNgLlxuICAgICAqXG4gICAgICogKipERVBSRUNBVElPTioqOiBUaGlzIHdheSB0byBhY2Nlc3MgUG9wcGVyVXRpbHMgaXMgZGVwcmVjYXRlZFxuICAgICAqIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdjIhIFVzZSB0aGUgUG9wcGVyVXRpbHMgbW9kdWxlIGRpcmVjdGx5IGluc3RlYWQuXG4gICAgICogRHVlIHRvIHRoZSBoaWdoIGluc3RhYmlsaXR5IG9mIHRoZSBtZXRob2RzIGNvbnRhaW5lZCBpbiBVdGlscywgd2UgY2FuJ3RcbiAgICAgKiBndWFyYW50ZWUgdGhlbSB0byBmb2xsb3cgc2VtdmVyLiBVc2UgdGhlbSBhdCB5b3VyIG93biByaXNrIVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAxLjhcbiAgICAgKiBAbWVtYmVyIFV0aWxzXG4gICAgICogQG1lbWJlcm9mIFBvcHBlclxuICAgICAqL1xuXG4gIH1dKTtcbiAgcmV0dXJuIFBvcHBlcjtcbn0oKTtcblxuLyoqXG4gKiBUaGUgYHJlZmVyZW5jZU9iamVjdGAgaXMgYW4gb2JqZWN0IHRoYXQgcHJvdmlkZXMgYW4gaW50ZXJmYWNlIGNvbXBhdGlibGUgd2l0aCBQb3BwZXIuanNcbiAqIGFuZCBsZXRzIHlvdSB1c2UgaXQgYXMgcmVwbGFjZW1lbnQgb2YgYSByZWFsIERPTSBub2RlLjxiciAvPlxuICogWW91IGNhbiB1c2UgdGhpcyBtZXRob2QgdG8gcG9zaXRpb24gYSBwb3BwZXIgcmVsYXRpdmVseSB0byBhIHNldCBvZiBjb29yZGluYXRlc1xuICogaW4gY2FzZSB5b3UgZG9uJ3QgaGF2ZSBhIERPTSBub2RlIHRvIHVzZSBhcyByZWZlcmVuY2UuXG4gKlxuICogYGBgXG4gKiBuZXcgUG9wcGVyKHJlZmVyZW5jZU9iamVjdCwgcG9wcGVyTm9kZSk7XG4gKiBgYGBcbiAqXG4gKiBOQjogVGhpcyBmZWF0dXJlIGlzbid0IHN1cHBvcnRlZCBpbiBJbnRlcm5ldCBFeHBsb3JlciAxMFxuICogQG5hbWUgcmVmZXJlbmNlT2JqZWN0XG4gKiBAcHJvcGVydHkge0Z1bmN0aW9ufSBkYXRhLmdldEJvdW5kaW5nQ2xpZW50UmVjdFxuICogQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBzZXQgb2YgY29vcmRpbmF0ZXMgY29tcGF0aWJsZSB3aXRoIHRoZSBuYXRpdmUgYGdldEJvdW5kaW5nQ2xpZW50UmVjdGAgbWV0aG9kLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRhdGEuY2xpZW50V2lkdGhcbiAqIEFuIEVTNiBnZXR0ZXIgdGhhdCB3aWxsIHJldHVybiB0aGUgd2lkdGggb2YgdGhlIHZpcnR1YWwgcmVmZXJlbmNlIGVsZW1lbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gZGF0YS5jbGllbnRIZWlnaHRcbiAqIEFuIEVTNiBnZXR0ZXIgdGhhdCB3aWxsIHJldHVybiB0aGUgaGVpZ2h0IG9mIHRoZSB2aXJ0dWFsIHJlZmVyZW5jZSBlbGVtZW50LlxuICovXG5cblBvcHBlci5VdGlscyA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IGdsb2JhbCkuUG9wcGVyVXRpbHM7XG5Qb3BwZXIucGxhY2VtZW50cyA9IHBsYWNlbWVudHM7XG5Qb3BwZXIuRGVmYXVsdHMgPSBEZWZhdWx0cztcblxuLyoqXG4gKiBUcmlnZ2VycyBkb2N1bWVudCByZWZsb3cuXG4gKiBVc2Ugdm9pZCBiZWNhdXNlIHNvbWUgbWluaWZpZXJzIG9yIGVuZ2luZXMgdGhpbmsgc2ltcGx5IGFjY2Vzc2luZyB0aGUgcHJvcGVydHlcbiAqIGlzIHVubmVjZXNzYXJ5LlxuICogQHBhcmFtIHtFbGVtZW50fSBwb3BwZXJcbiAqL1xuZnVuY3Rpb24gcmVmbG93KHBvcHBlcikge1xuICB2b2lkIHBvcHBlci5vZmZzZXRIZWlnaHQ7XG59XG5cbi8qKlxuICogV3JhcHBlciB1dGlsIGZvciBwb3BwZXIgcG9zaXRpb24gdXBkYXRpbmcuXG4gKiBVcGRhdGVzIHRoZSBwb3BwZXIncyBwb3NpdGlvbiBhbmQgaW52b2tlcyB0aGUgY2FsbGJhY2sgb24gdXBkYXRlLlxuICogSGFja2lzaCB3b3JrYXJvdW5kIHVudGlsIFBvcHBlciAyLjAncyB1cGRhdGUoKSBiZWNvbWVzIHN5bmMuXG4gKiBAcGFyYW0ge1BvcHBlcn0gcG9wcGVySW5zdGFuY2VcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrOiB0byBydW4gb25jZSBwb3BwZXIncyBwb3NpdGlvbiB3YXMgdXBkYXRlZFxuICogQHBhcmFtIHtCb29sZWFufSB1cGRhdGVBbHJlYWR5Q2FsbGVkOiB3YXMgc2NoZWR1bGVVcGRhdGUoKSBhbHJlYWR5IGNhbGxlZD9cbiAqL1xuZnVuY3Rpb24gdXBkYXRlUG9wcGVyUG9zaXRpb24ocG9wcGVySW5zdGFuY2UsIGNhbGxiYWNrLCB1cGRhdGVBbHJlYWR5Q2FsbGVkKSB7XG4gIHZhciBwb3BwZXIgPSBwb3BwZXJJbnN0YW5jZS5wb3BwZXIsXG4gICAgICBvcHRpb25zID0gcG9wcGVySW5zdGFuY2Uub3B0aW9ucztcblxuICB2YXIgb25DcmVhdGUgPSBvcHRpb25zLm9uQ3JlYXRlO1xuICB2YXIgb25VcGRhdGUgPSBvcHRpb25zLm9uVXBkYXRlO1xuXG4gIG9wdGlvbnMub25DcmVhdGUgPSBvcHRpb25zLm9uVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgIHJlZmxvdyhwb3BwZXIpLCBjYWxsYmFjayAmJiBjYWxsYmFjaygpLCBvblVwZGF0ZSgpO1xuICAgIG9wdGlvbnMub25DcmVhdGUgPSBvbkNyZWF0ZTtcbiAgICBvcHRpb25zLm9uVXBkYXRlID0gb25VcGRhdGU7XG4gIH07XG5cbiAgaWYgKCF1cGRhdGVBbHJlYWR5Q2FsbGVkKSB7XG4gICAgcG9wcGVySW5zdGFuY2Uuc2NoZWR1bGVVcGRhdGUoKTtcbiAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGNvcmUgcGxhY2VtZW50ICgndG9wJywgJ2JvdHRvbScsICdsZWZ0JywgJ3JpZ2h0Jykgb2YgYSBwb3BwZXJcbiAqIEBwYXJhbSB7RWxlbWVudH0gcG9wcGVyXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldFBvcHBlclBsYWNlbWVudChwb3BwZXIpIHtcbiAgcmV0dXJuIHBvcHBlci5nZXRBdHRyaWJ1dGUoJ3gtcGxhY2VtZW50JykucmVwbGFjZSgvLS4rLywgJycpO1xufVxuXG4vKipcbiAqIERldGVybWluZXMgaWYgdGhlIG1vdXNlJ3MgY3Vyc29yIGlzIG91dHNpZGUgdGhlIGludGVyYWN0aXZlIGJvcmRlclxuICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudFxuICogQHBhcmFtIHtFbGVtZW50fSBwb3BwZXJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBjdXJzb3JJc091dHNpZGVJbnRlcmFjdGl2ZUJvcmRlcihldmVudCwgcG9wcGVyLCBvcHRpb25zKSB7XG4gIGlmICghcG9wcGVyLmdldEF0dHJpYnV0ZSgneC1wbGFjZW1lbnQnKSkgcmV0dXJuIHRydWU7XG5cbiAgdmFyIHggPSBldmVudC5jbGllbnRYLFxuICAgICAgeSA9IGV2ZW50LmNsaWVudFk7XG4gIHZhciBpbnRlcmFjdGl2ZUJvcmRlciA9IG9wdGlvbnMuaW50ZXJhY3RpdmVCb3JkZXIsXG4gICAgICBkaXN0YW5jZSA9IG9wdGlvbnMuZGlzdGFuY2U7XG5cblxuICB2YXIgcmVjdCA9IHBvcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgdmFyIHBsYWNlbWVudCA9IGdldFBvcHBlclBsYWNlbWVudChwb3BwZXIpO1xuICB2YXIgYm9yZGVyV2l0aERpc3RhbmNlID0gaW50ZXJhY3RpdmVCb3JkZXIgKyBkaXN0YW5jZTtcblxuICB2YXIgZXhjZWVkcyA9IHtcbiAgICB0b3A6IHJlY3QudG9wIC0geSA+IGludGVyYWN0aXZlQm9yZGVyLFxuICAgIGJvdHRvbTogeSAtIHJlY3QuYm90dG9tID4gaW50ZXJhY3RpdmVCb3JkZXIsXG4gICAgbGVmdDogcmVjdC5sZWZ0IC0geCA+IGludGVyYWN0aXZlQm9yZGVyLFxuICAgIHJpZ2h0OiB4IC0gcmVjdC5yaWdodCA+IGludGVyYWN0aXZlQm9yZGVyXG4gIH07XG5cbiAgc3dpdGNoIChwbGFjZW1lbnQpIHtcbiAgICBjYXNlICd0b3AnOlxuICAgICAgZXhjZWVkcy50b3AgPSByZWN0LnRvcCAtIHkgPiBib3JkZXJXaXRoRGlzdGFuY2U7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdib3R0b20nOlxuICAgICAgZXhjZWVkcy5ib3R0b20gPSB5IC0gcmVjdC5ib3R0b20gPiBib3JkZXJXaXRoRGlzdGFuY2U7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdsZWZ0JzpcbiAgICAgIGV4Y2VlZHMubGVmdCA9IHJlY3QubGVmdCAtIHggPiBib3JkZXJXaXRoRGlzdGFuY2U7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdyaWdodCc6XG4gICAgICBleGNlZWRzLnJpZ2h0ID0geCAtIHJlY3QucmlnaHQgPiBib3JkZXJXaXRoRGlzdGFuY2U7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIHJldHVybiBleGNlZWRzLnRvcCB8fCBleGNlZWRzLmJvdHRvbSB8fCBleGNlZWRzLmxlZnQgfHwgZXhjZWVkcy5yaWdodDtcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSBgYXJyb3dUcmFuc2Zvcm1gIG51bWJlcnMgYmFzZWQgb24gdGhlIHBsYWNlbWVudCBheGlzXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZSAnc2NhbGUnIG9yICd0cmFuc2xhdGUnXG4gKiBAcGFyYW0ge051bWJlcltdfSBudW1iZXJzXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGlzVmVydGljYWxcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNSZXZlcnNlXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIHRyYW5zZm9ybU51bWJlcnNCYXNlZE9uUGxhY2VtZW50QXhpcyh0eXBlLCBudW1iZXJzLCBpc1ZlcnRpY2FsLCBpc1JldmVyc2UpIHtcbiAgaWYgKCFudW1iZXJzLmxlbmd0aCkgcmV0dXJuICcnO1xuXG4gIHZhciB0cmFuc2Zvcm1zID0ge1xuICAgIHNjYWxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAobnVtYmVycy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuICcnICsgbnVtYmVyc1swXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpc1ZlcnRpY2FsID8gbnVtYmVyc1swXSArICcsICcgKyBudW1iZXJzWzFdIDogbnVtYmVyc1sxXSArICcsICcgKyBudW1iZXJzWzBdO1xuICAgICAgfVxuICAgIH0oKSxcbiAgICB0cmFuc2xhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChudW1iZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gaXNSZXZlcnNlID8gLW51bWJlcnNbMF0gKyAncHgnIDogbnVtYmVyc1swXSArICdweCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaXNWZXJ0aWNhbCkge1xuICAgICAgICAgIHJldHVybiBpc1JldmVyc2UgPyBudW1iZXJzWzBdICsgJ3B4LCAnICsgLW51bWJlcnNbMV0gKyAncHgnIDogbnVtYmVyc1swXSArICdweCwgJyArIG51bWJlcnNbMV0gKyAncHgnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBpc1JldmVyc2UgPyAtbnVtYmVyc1sxXSArICdweCwgJyArIG51bWJlcnNbMF0gKyAncHgnIDogbnVtYmVyc1sxXSArICdweCwgJyArIG51bWJlcnNbMF0gKyAncHgnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSgpXG4gIH07XG5cbiAgcmV0dXJuIHRyYW5zZm9ybXNbdHlwZV07XG59XG5cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgYGFycm93VHJhbnNmb3JtYCB4IG9yIHkgYXhpcyBiYXNlZCBvbiB0aGUgcGxhY2VtZW50IGF4aXNcbiAqIEBwYXJhbSB7U3RyaW5nfSBheGlzICdYJywgJ1knLCAnJ1xuICogQHBhcmFtIHtCb29sZWFufSBpc1ZlcnRpY2FsXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIHRyYW5zZm9ybUF4aXMoYXhpcywgaXNWZXJ0aWNhbCkge1xuICBpZiAoIWF4aXMpIHJldHVybiAnJztcbiAgdmFyIG1hcCA9IHtcbiAgICBYOiAnWScsXG4gICAgWTogJ1gnXG4gIH07XG4gIHJldHVybiBpc1ZlcnRpY2FsID8gYXhpcyA6IG1hcFtheGlzXTtcbn1cblxuLyoqXG4gKiBDb21wdXRlcyBhbmQgYXBwbGllcyB0aGUgbmVjZXNzYXJ5IGFycm93IHRyYW5zZm9ybVxuICogQHBhcmFtIHtFbGVtZW50fSBwb3BwZXJcbiAqIEBwYXJhbSB7RWxlbWVudH0gYXJyb3dcbiAqIEBwYXJhbSB7U3RyaW5nfSBhcnJvd1RyYW5zZm9ybVxuICovXG5mdW5jdGlvbiBjb21wdXRlQXJyb3dUcmFuc2Zvcm0ocG9wcGVyLCBhcnJvdywgYXJyb3dUcmFuc2Zvcm0pIHtcbiAgdmFyIHBsYWNlbWVudCA9IGdldFBvcHBlclBsYWNlbWVudChwb3BwZXIpO1xuICB2YXIgaXNWZXJ0aWNhbCA9IHBsYWNlbWVudCA9PT0gJ3RvcCcgfHwgcGxhY2VtZW50ID09PSAnYm90dG9tJztcbiAgdmFyIGlzUmV2ZXJzZSA9IHBsYWNlbWVudCA9PT0gJ3JpZ2h0JyB8fCBwbGFjZW1lbnQgPT09ICdib3R0b20nO1xuXG4gIHZhciBnZXRBeGlzID0gZnVuY3Rpb24gZ2V0QXhpcyhyZSkge1xuICAgIHZhciBtYXRjaCA9IGFycm93VHJhbnNmb3JtLm1hdGNoKHJlKTtcbiAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXSA6ICcnO1xuICB9O1xuXG4gIHZhciBnZXROdW1iZXJzID0gZnVuY3Rpb24gZ2V0TnVtYmVycyhyZSkge1xuICAgIHZhciBtYXRjaCA9IGFycm93VHJhbnNmb3JtLm1hdGNoKHJlKTtcbiAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXS5zcGxpdCgnLCcpLm1hcChwYXJzZUZsb2F0KSA6IFtdO1xuICB9O1xuXG4gIHZhciByZSA9IHtcbiAgICB0cmFuc2xhdGU6IC90cmFuc2xhdGVYP1k/XFwoKFteKV0rKVxcKS8sXG4gICAgc2NhbGU6IC9zY2FsZVg/WT9cXCgoW14pXSspXFwpL1xuICB9O1xuXG4gIHZhciBtYXRjaGVzID0ge1xuICAgIHRyYW5zbGF0ZToge1xuICAgICAgYXhpczogZ2V0QXhpcygvdHJhbnNsYXRlKFtYWV0pLyksXG4gICAgICBudW1iZXJzOiBnZXROdW1iZXJzKHJlLnRyYW5zbGF0ZSlcbiAgICB9LFxuICAgIHNjYWxlOiB7XG4gICAgICBheGlzOiBnZXRBeGlzKC9zY2FsZShbWFldKS8pLFxuICAgICAgbnVtYmVyczogZ2V0TnVtYmVycyhyZS5zY2FsZSlcbiAgICB9XG4gIH07XG5cbiAgdmFyIGNvbXB1dGVkVHJhbnNmb3JtID0gYXJyb3dUcmFuc2Zvcm0ucmVwbGFjZShyZS50cmFuc2xhdGUsICd0cmFuc2xhdGUnICsgdHJhbnNmb3JtQXhpcyhtYXRjaGVzLnRyYW5zbGF0ZS5heGlzLCBpc1ZlcnRpY2FsKSArICcoJyArIHRyYW5zZm9ybU51bWJlcnNCYXNlZE9uUGxhY2VtZW50QXhpcygndHJhbnNsYXRlJywgbWF0Y2hlcy50cmFuc2xhdGUubnVtYmVycywgaXNWZXJ0aWNhbCwgaXNSZXZlcnNlKSArICcpJykucmVwbGFjZShyZS5zY2FsZSwgJ3NjYWxlJyArIHRyYW5zZm9ybUF4aXMobWF0Y2hlcy5zY2FsZS5heGlzLCBpc1ZlcnRpY2FsKSArICcoJyArIHRyYW5zZm9ybU51bWJlcnNCYXNlZE9uUGxhY2VtZW50QXhpcygnc2NhbGUnLCBtYXRjaGVzLnNjYWxlLm51bWJlcnMsIGlzVmVydGljYWwsIGlzUmV2ZXJzZSkgKyAnKScpO1xuXG4gIGFycm93LnN0eWxlW3ByZWZpeCgndHJhbnNmb3JtJyldID0gY29tcHV0ZWRUcmFuc2Zvcm07XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZGlzdGFuY2UgdGFraW5nIGludG8gYWNjb3VudCB0aGUgZGVmYXVsdCBkaXN0YW5jZSBkdWUgdG9cbiAqIHRoZSB0cmFuc2Zvcm06IHRyYW5zbGF0ZSBzZXR0aW5nIGluIENTU1xuICogQHBhcmFtIHtOdW1iZXJ9IGRpc3RhbmNlXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldE9mZnNldERpc3RhbmNlSW5QeChkaXN0YW5jZSkge1xuICByZXR1cm4gLShkaXN0YW5jZSAtIGRlZmF1bHRzLmRpc3RhbmNlKSArICdweCc7XG59XG5cbi8qKlxuICogV2FpdHMgdW50aWwgbmV4dCByZXBhaW50IHRvIGV4ZWN1dGUgYSBmblxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqL1xuZnVuY3Rpb24gZGVmZXIoZm4pIHtcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICBzZXRUaW1lb3V0KGZuLCAxKTtcbiAgfSk7XG59XG5cbnZhciBtYXRjaGVzID0ge307XG5cbmlmIChpc0Jyb3dzZXIpIHtcbiAgdmFyIGUgPSBFbGVtZW50LnByb3RvdHlwZTtcbiAgbWF0Y2hlcyA9IGUubWF0Y2hlcyB8fCBlLm1hdGNoZXNTZWxlY3RvciB8fCBlLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fCBlLm1vek1hdGNoZXNTZWxlY3RvciB8fCBlLm1zTWF0Y2hlc1NlbGVjdG9yIHx8IGZ1bmN0aW9uIChzKSB7XG4gICAgdmFyIG1hdGNoZXMgPSAodGhpcy5kb2N1bWVudCB8fCB0aGlzLm93bmVyRG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3JBbGwocyk7XG4gICAgdmFyIGkgPSBtYXRjaGVzLmxlbmd0aDtcbiAgICB3aGlsZSAoLS1pID49IDAgJiYgbWF0Y2hlcy5pdGVtKGkpICE9PSB0aGlzKSB7fSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVtcHR5XG4gICAgcmV0dXJuIGkgPiAtMTtcbiAgfTtcbn1cblxudmFyIG1hdGNoZXMkMSA9IG1hdGNoZXM7XG5cbi8qKlxuICogUG9ueWZpbGwgdG8gZ2V0IHRoZSBjbG9zZXN0IHBhcmVudCBlbGVtZW50XG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBjaGlsZCBvZiBwYXJlbnQgdG8gYmUgcmV0dXJuZWRcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXJlbnRTZWxlY3RvciAtIHNlbGVjdG9yIHRvIG1hdGNoIHRoZSBwYXJlbnQgaWYgZm91bmRcbiAqIEByZXR1cm4ge0VsZW1lbnR9XG4gKi9cbmZ1bmN0aW9uIGNsb3Nlc3QoZWxlbWVudCwgcGFyZW50U2VsZWN0b3IpIHtcbiAgdmFyIGZuID0gRWxlbWVudC5wcm90b3R5cGUuY2xvc2VzdCB8fCBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICB2YXIgZWwgPSB0aGlzO1xuICAgIHdoaWxlIChlbCkge1xuICAgICAgaWYgKG1hdGNoZXMkMS5jYWxsKGVsLCBzZWxlY3RvcikpIHtcbiAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgfVxuICAgICAgZWwgPSBlbC5wYXJlbnRFbGVtZW50O1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gZm4uY2FsbChlbGVtZW50LCBwYXJlbnRTZWxlY3Rvcik7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgdmFsdWUgdGFraW5nIGludG8gYWNjb3VudCB0aGUgdmFsdWUgYmVpbmcgZWl0aGVyIGEgbnVtYmVyIG9yIGFycmF5XG4gKiBAcGFyYW0ge051bWJlcnxBcnJheX0gdmFsdWVcbiAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleFxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5mdW5jdGlvbiBnZXRWYWx1ZSh2YWx1ZSwgaW5kZXgpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWVbaW5kZXhdIDogdmFsdWU7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgdmlzaWJpbGl0eSBzdGF0ZSBvZiBhbiBlbGVtZW50IGZvciB0cmFuc2l0aW9uIHRvIGJlZ2luXG4gKiBAcGFyYW0ge0VsZW1lbnRbXX0gZWxzIC0gYXJyYXkgb2YgZWxlbWVudHNcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIC0gJ3Zpc2libGUnIG9yICdoaWRkZW4nXG4gKi9cbmZ1bmN0aW9uIHNldFZpc2liaWxpdHlTdGF0ZShlbHMsIHR5cGUpIHtcbiAgZWxzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgaWYgKCFlbCkgcmV0dXJuO1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnZGF0YS1zdGF0ZScsIHR5cGUpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSB0cmFuc2l0aW9uIHByb3BlcnR5IHRvIGVhY2ggZWxlbWVudFxuICogQHBhcmFtIHtFbGVtZW50W119IGVscyAtIEFycmF5IG9mIGVsZW1lbnRzXG4gKiBAcGFyYW0ge1N0cmluZ30gdmFsdWVcbiAqL1xuZnVuY3Rpb24gYXBwbHlUcmFuc2l0aW9uRHVyYXRpb24oZWxzLCB2YWx1ZSkge1xuICBlbHMuZmlsdGVyKEJvb2xlYW4pLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgZWwuc3R5bGVbcHJlZml4KCd0cmFuc2l0aW9uRHVyYXRpb24nKV0gPSB2YWx1ZSArICdtcyc7XG4gIH0pO1xufVxuXG4vKipcbiAqIEZvY3VzZXMgYW4gZWxlbWVudCB3aGlsZSBwcmV2ZW50aW5nIGEgc2Nyb2xsIGp1bXAgaWYgaXQncyBub3QgZW50aXJlbHkgd2l0aGluIHRoZSB2aWV3cG9ydFxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICovXG5mdW5jdGlvbiBmb2N1cyhlbCkge1xuICB2YXIgeCA9IHdpbmRvdy5zY3JvbGxYIHx8IHdpbmRvdy5wYWdlWE9mZnNldDtcbiAgdmFyIHkgPSB3aW5kb3cuc2Nyb2xsWSB8fCB3aW5kb3cucGFnZVlPZmZzZXQ7XG4gIGVsLmZvY3VzKCk7XG4gIHNjcm9sbCh4LCB5KTtcbn1cblxudmFyIGtleSA9IHt9O1xudmFyIHN0b3JlID0gZnVuY3Rpb24gc3RvcmUoZGF0YSkge1xuICByZXR1cm4gZnVuY3Rpb24gKGspIHtcbiAgICByZXR1cm4gayA9PT0ga2V5ICYmIGRhdGE7XG4gIH07XG59O1xuXG52YXIgVGlwcHkgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFRpcHB5KGNvbmZpZykge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIFRpcHB5KTtcblxuICAgIGZvciAodmFyIF9rZXkgaW4gY29uZmlnKSB7XG4gICAgICB0aGlzW19rZXldID0gY29uZmlnW19rZXldO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBkZXN0cm95ZWQ6IGZhbHNlLFxuICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICBlbmFibGVkOiB0cnVlXG4gICAgfTtcblxuICAgIHRoaXMuXyA9IHN0b3JlKHtcbiAgICAgIG11dGF0aW9uT2JzZXJ2ZXJzOiBbXVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgdGhlIHRvb2x0aXAgdG8gYWxsb3cgaXQgdG8gc2hvdyBvciBoaWRlXG4gICAqIEBtZW1iZXJvZiBUaXBweVxuICAgKiBAcHVibGljXG4gICAqL1xuXG5cbiAgY3JlYXRlQ2xhc3MoVGlwcHksIFt7XG4gICAga2V5OiAnZW5hYmxlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZW5hYmxlKCkge1xuICAgICAgdGhpcy5zdGF0ZS5lbmFibGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyB0aGUgdG9vbHRpcCBmcm9tIHNob3dpbmcgb3IgaGlkaW5nLCBidXQgZG9lcyBub3QgZGVzdHJveSBpdFxuICAgICAqIEBtZW1iZXJvZiBUaXBweVxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZGlzYWJsZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gICAgICB0aGlzLnN0YXRlLmVuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaG93cyB0aGUgdG9vbHRpcFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHNcbiAgICAgKiBAbWVtYmVyb2YgVGlwcHlcbiAgICAgKiBAcHVibGljXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3Nob3cnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93KGR1cmF0aW9uKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5zdGF0ZS5kZXN0cm95ZWQgfHwgIXRoaXMuc3RhdGUuZW5hYmxlZCkgcmV0dXJuO1xuXG4gICAgICB2YXIgcG9wcGVyID0gdGhpcy5wb3BwZXIsXG4gICAgICAgICAgcmVmZXJlbmNlID0gdGhpcy5yZWZlcmVuY2UsXG4gICAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgdmFyIF9nZXRJbm5lckVsZW1lbnRzID0gZ2V0SW5uZXJFbGVtZW50cyhwb3BwZXIpLFxuICAgICAgICAgIHRvb2x0aXAgPSBfZ2V0SW5uZXJFbGVtZW50cy50b29sdGlwLFxuICAgICAgICAgIGJhY2tkcm9wID0gX2dldElubmVyRWxlbWVudHMuYmFja2Ryb3AsXG4gICAgICAgICAgY29udGVudCA9IF9nZXRJbm5lckVsZW1lbnRzLmNvbnRlbnQ7XG5cbiAgICAgIC8vIElmIHRoZSBgZHluYW1pY1RpdGxlYCBvcHRpb24gaXMgdHJ1ZSwgdGhlIGluc3RhbmNlIGlzIGFsbG93ZWRcbiAgICAgIC8vIHRvIGJlIGNyZWF0ZWQgd2l0aCBhbiBlbXB0eSB0aXRsZS4gTWFrZSBzdXJlIHRoYXQgdGhlIHRvb2x0aXBcbiAgICAgIC8vIGNvbnRlbnQgaXMgbm90IGVtcHR5IGJlZm9yZSBzaG93aW5nIGl0XG5cblxuICAgICAgaWYgKG9wdGlvbnMuZHluYW1pY1RpdGxlICYmICFyZWZlcmVuY2UuZ2V0QXR0cmlidXRlKCdkYXRhLW9yaWdpbmFsLXRpdGxlJykpIHJldHVybjtcblxuICAgICAgLy8gRG8gbm90IHNob3cgdG9vbHRpcCBpZiByZWZlcmVuY2UgY29udGFpbnMgJ2Rpc2FibGVkJyBhdHRyaWJ1dGUuIEZGIGZpeCBmb3IgIzIyMVxuICAgICAgaWYgKHJlZmVyZW5jZS5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpIHJldHVybjtcblxuICAgICAgLy8gRGVzdHJveSB0b29sdGlwIGlmIHRoZSByZWZlcmVuY2UgZWxlbWVudCBpcyBubyBsb25nZXIgb24gdGhlIERPTVxuICAgICAgaWYgKCFyZWZlcmVuY2UucmVmT2JqICYmICFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY29udGFpbnMocmVmZXJlbmNlKSkge1xuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBvcHRpb25zLm9uU2hvdy5jYWxsKHBvcHBlciwgdGhpcyk7XG5cbiAgICAgIGR1cmF0aW9uID0gZ2V0VmFsdWUoZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IGR1cmF0aW9uIDogb3B0aW9ucy5kdXJhdGlvbiwgMCk7XG5cbiAgICAgIC8vIFByZXZlbnQgYSB0cmFuc2l0aW9uIHdoZW4gcG9wcGVyIGNoYW5nZXMgcG9zaXRpb25cbiAgICAgIGFwcGx5VHJhbnNpdGlvbkR1cmF0aW9uKFtwb3BwZXIsIHRvb2x0aXAsIGJhY2tkcm9wXSwgMCk7XG5cbiAgICAgIHBvcHBlci5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICAgICAgdGhpcy5zdGF0ZS52aXNpYmxlID0gdHJ1ZTtcblxuICAgICAgX21vdW50LmNhbGwodGhpcywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIV90aGlzLnN0YXRlLnZpc2libGUpIHJldHVybjtcblxuICAgICAgICBpZiAoIV9oYXNGb2xsb3dDdXJzb3JCZWhhdmlvci5jYWxsKF90aGlzKSkge1xuICAgICAgICAgIC8vIEZJWDogQXJyb3cgd2lsbCBzb21ldGltZXMgbm90IGJlIHBvc2l0aW9uZWQgY29ycmVjdGx5LiBGb3JjZSBhbm90aGVyIHVwZGF0ZS5cbiAgICAgICAgICBfdGhpcy5wb3BwZXJJbnN0YW5jZS5zY2hlZHVsZVVwZGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IGluaXRpYWwgcG9zaXRpb24gbmVhciB0aGUgY3Vyc29yXG4gICAgICAgIGlmIChfaGFzRm9sbG93Q3Vyc29yQmVoYXZpb3IuY2FsbChfdGhpcykpIHtcbiAgICAgICAgICBfdGhpcy5wb3BwZXJJbnN0YW5jZS5kaXNhYmxlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgICB2YXIgZGVsYXkgPSBnZXRWYWx1ZShvcHRpb25zLmRlbGF5LCAwKTtcbiAgICAgICAgICB2YXIgbGFzdFRyaWdnZXJFdmVudCA9IF90aGlzLl8oa2V5KS5sYXN0VHJpZ2dlckV2ZW50O1xuICAgICAgICAgIGlmIChsYXN0VHJpZ2dlckV2ZW50KSB7XG4gICAgICAgICAgICBfdGhpcy5fKGtleSkuZm9sbG93Q3Vyc29yTGlzdGVuZXIoZGVsYXkgJiYgX3RoaXMuXyhrZXkpLmxhc3RNb3VzZU1vdmVFdmVudCA/IF90aGlzLl8oa2V5KS5sYXN0TW91c2VNb3ZlRXZlbnQgOiBsYXN0VHJpZ2dlckV2ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZS1hcHBseSB0cmFuc2l0aW9uIGR1cmF0aW9uc1xuICAgICAgICBhcHBseVRyYW5zaXRpb25EdXJhdGlvbihbdG9vbHRpcCwgYmFja2Ryb3AsIGJhY2tkcm9wID8gY29udGVudCA6IG51bGxdLCBkdXJhdGlvbik7XG5cbiAgICAgICAgaWYgKGJhY2tkcm9wKSB7XG4gICAgICAgICAgZ2V0Q29tcHV0ZWRTdHlsZShiYWNrZHJvcClbcHJlZml4KCd0cmFuc2Zvcm0nKV07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5pbnRlcmFjdGl2ZSkge1xuICAgICAgICAgIHJlZmVyZW5jZS5jbGFzc0xpc3QuYWRkKCd0aXBweS1hY3RpdmUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLnN0aWNreSkge1xuICAgICAgICAgIF9tYWtlU3RpY2t5LmNhbGwoX3RoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0VmlzaWJpbGl0eVN0YXRlKFt0b29sdGlwLCBiYWNrZHJvcF0sICd2aXNpYmxlJyk7XG5cbiAgICAgICAgX29uVHJhbnNpdGlvbkVuZC5jYWxsKF90aGlzLCBkdXJhdGlvbiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICghb3B0aW9ucy51cGRhdGVEdXJhdGlvbikge1xuICAgICAgICAgICAgdG9vbHRpcC5jbGFzc0xpc3QuYWRkKCd0aXBweS1ub3RyYW5zaXRpb24nKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAob3B0aW9ucy5pbnRlcmFjdGl2ZSkge1xuICAgICAgICAgICAgZm9jdXMocG9wcGVyKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZWZlcmVuY2Uuc2V0QXR0cmlidXRlKCdhcmlhLWRlc2NyaWJlZGJ5JywgJ3RpcHB5LScgKyBfdGhpcy5pZCk7XG5cbiAgICAgICAgICBvcHRpb25zLm9uU2hvd24uY2FsbChwb3BwZXIsIF90aGlzKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIaWRlcyB0aGUgdG9vbHRpcFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHNcbiAgICAgKiBAbWVtYmVyb2YgVGlwcHlcbiAgICAgKiBAcHVibGljXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2hpZGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlKGR1cmF0aW9uKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMuc3RhdGUuZGVzdHJveWVkIHx8ICF0aGlzLnN0YXRlLmVuYWJsZWQpIHJldHVybjtcblxuICAgICAgdmFyIHBvcHBlciA9IHRoaXMucG9wcGVyLFxuICAgICAgICAgIHJlZmVyZW5jZSA9IHRoaXMucmVmZXJlbmNlLFxuICAgICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgIHZhciBfZ2V0SW5uZXJFbGVtZW50czIgPSBnZXRJbm5lckVsZW1lbnRzKHBvcHBlciksXG4gICAgICAgICAgdG9vbHRpcCA9IF9nZXRJbm5lckVsZW1lbnRzMi50b29sdGlwLFxuICAgICAgICAgIGJhY2tkcm9wID0gX2dldElubmVyRWxlbWVudHMyLmJhY2tkcm9wLFxuICAgICAgICAgIGNvbnRlbnQgPSBfZ2V0SW5uZXJFbGVtZW50czIuY29udGVudDtcblxuICAgICAgb3B0aW9ucy5vbkhpZGUuY2FsbChwb3BwZXIsIHRoaXMpO1xuXG4gICAgICBkdXJhdGlvbiA9IGdldFZhbHVlKGR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBkdXJhdGlvbiA6IG9wdGlvbnMuZHVyYXRpb24sIDEpO1xuXG4gICAgICBpZiAoIW9wdGlvbnMudXBkYXRlRHVyYXRpb24pIHtcbiAgICAgICAgdG9vbHRpcC5jbGFzc0xpc3QucmVtb3ZlKCd0aXBweS1ub3RyYW5zaXRpb24nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMuaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgcmVmZXJlbmNlLmNsYXNzTGlzdC5yZW1vdmUoJ3RpcHB5LWFjdGl2ZScpO1xuICAgICAgfVxuXG4gICAgICBwb3BwZXIuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgICAgdGhpcy5zdGF0ZS52aXNpYmxlID0gZmFsc2U7XG5cbiAgICAgIGFwcGx5VHJhbnNpdGlvbkR1cmF0aW9uKFt0b29sdGlwLCBiYWNrZHJvcCwgYmFja2Ryb3AgPyBjb250ZW50IDogbnVsbF0sIGR1cmF0aW9uKTtcblxuICAgICAgc2V0VmlzaWJpbGl0eVN0YXRlKFt0b29sdGlwLCBiYWNrZHJvcF0sICdoaWRkZW4nKTtcblxuICAgICAgaWYgKG9wdGlvbnMuaW50ZXJhY3RpdmUgJiYgb3B0aW9ucy50cmlnZ2VyLmluZGV4T2YoJ2NsaWNrJykgPiAtMSkge1xuICAgICAgICBmb2N1cyhyZWZlcmVuY2UpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnBvcHBlckluc3RhbmNlLmRpc2FibGVFdmVudExpc3RlbmVycygpO1xuXG4gICAgICAvKlxuICAgICAgKiBUaGlzIGNhbGwgaXMgZGVmZXJyZWQgYmVjYXVzZSBzb21ldGltZXMgd2hlbiB0aGUgdG9vbHRpcCBpcyBzdGlsbCB0cmFuc2l0aW9uaW5nIGluIGJ1dCBoaWRlKClcbiAgICAgICogaXMgY2FsbGVkIGJlZm9yZSBpdCBmaW5pc2hlcywgdGhlIENTUyB0cmFuc2l0aW9uIHdvbid0IHJldmVyc2UgcXVpY2tseSBlbm91Z2gsIG1lYW5pbmdcbiAgICAgICogdGhlIENTUyB0cmFuc2l0aW9uIHdpbGwgZmluaXNoIDEtMiBmcmFtZXMgbGF0ZXIsIGFuZCBvbkhpZGRlbigpIHdpbGwgcnVuIHNpbmNlIHRoZSBKUyBzZXQgaXRcbiAgICAgICogbW9yZSBxdWlja2x5LiBJdCBzaG91bGQgYWN0dWFsbHkgYmUgb25TaG93bigpLiBTZWVtcyB0byBiZSBzb21ldGhpbmcgQ2hyb21lIGRvZXMsIG5vdCBTYWZhcmlcbiAgICAgICovXG4gICAgICBkZWZlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9vblRyYW5zaXRpb25FbmQuY2FsbChfdGhpczIsIGR1cmF0aW9uLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKF90aGlzMi5zdGF0ZS52aXNpYmxlIHx8ICFvcHRpb25zLmFwcGVuZFRvLmNvbnRhaW5zKHBvcHBlcikpIHJldHVybjtcblxuICAgICAgICAgIGlmICghX3RoaXMyLl8oa2V5KS5pc1ByZXBhcmluZ1RvU2hvdykge1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgX3RoaXMyLl8oa2V5KS5mb2xsb3dDdXJzb3JMaXN0ZW5lcik7XG4gICAgICAgICAgICBfdGhpczIuXyhrZXkpLmxhc3RNb3VzZU1vdmVFdmVudCA9IG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVmZXJlbmNlLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1kZXNjcmliZWRieScpO1xuXG4gICAgICAgICAgb3B0aW9ucy5hcHBlbmRUby5yZW1vdmVDaGlsZChwb3BwZXIpO1xuXG4gICAgICAgICAgb3B0aW9ucy5vbkhpZGRlbi5jYWxsKHBvcHBlciwgX3RoaXMyKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgdG9vbHRpcCBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZGVzdHJveVRhcmdldEluc3RhbmNlcyAtIHJlbGV2YW50IG9ubHkgd2hlbiBkZXN0cm95aW5nIGRlbGVnYXRlc1xuICAgICAqIEBtZW1iZXJvZiBUaXBweVxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZGVzdHJveScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdmFyIGRlc3Ryb3lUYXJnZXRJbnN0YW5jZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHRydWU7XG5cbiAgICAgIGlmICh0aGlzLnN0YXRlLmRlc3Ryb3llZCkgcmV0dXJuO1xuXG4gICAgICAvLyBFbnN1cmUgdGhlIHBvcHBlciBpcyBoaWRkZW5cbiAgICAgIGlmICh0aGlzLnN0YXRlLnZpc2libGUpIHtcbiAgICAgICAgdGhpcy5oaWRlKDApO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICBfdGhpczMucmVmZXJlbmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIobGlzdGVuZXIuZXZlbnQsIGxpc3RlbmVyLmhhbmRsZXIpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFJlc3RvcmUgdGl0bGVcbiAgICAgIGlmICh0aGlzLnRpdGxlKSB7XG4gICAgICAgIHRoaXMucmVmZXJlbmNlLnNldEF0dHJpYnV0ZSgndGl0bGUnLCB0aGlzLnRpdGxlKTtcbiAgICAgIH1cblxuICAgICAgZGVsZXRlIHRoaXMucmVmZXJlbmNlLl90aXBweTtcblxuICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBbJ2RhdGEtb3JpZ2luYWwtdGl0bGUnLCAnZGF0YS10aXBweScsICdkYXRhLXRpcHB5LWRlbGVnYXRlJ107XG4gICAgICBhdHRyaWJ1dGVzLmZvckVhY2goZnVuY3Rpb24gKGF0dHIpIHtcbiAgICAgICAgX3RoaXMzLnJlZmVyZW5jZS5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy50YXJnZXQgJiYgZGVzdHJveVRhcmdldEluc3RhbmNlcykge1xuICAgICAgICB0b0FycmF5KHRoaXMucmVmZXJlbmNlLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5vcHRpb25zLnRhcmdldCkpLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgcmV0dXJuIGNoaWxkLl90aXBweSAmJiBjaGlsZC5fdGlwcHkuZGVzdHJveSgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMucG9wcGVySW5zdGFuY2UpIHtcbiAgICAgICAgdGhpcy5wb3BwZXJJbnN0YW5jZS5kZXN0cm95KCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuXyhrZXkpLm11dGF0aW9uT2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnN0YXRlLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBUaXBweTtcbn0oKTtcblxuLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFByaXZhdGUgbWV0aG9kc1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBTdGFuZGFsb25lIGZ1bmN0aW9ucyB0byBiZSBjYWxsZWQgd2l0aCB0aGUgaW5zdGFuY2UncyBgdGhpc2AgY29udGV4dCB0byBtYWtlXG4gKiB0aGVtIHRydWx5IHByaXZhdGUgYW5kIG5vdCBhY2Nlc3NpYmxlIG9uIHRoZSBwcm90b3R5cGVcbiAqL1xuXG4vKipcbiAqIERldGVybWluZXMgaWYgdGhlIHRvb2x0aXAgaW5zdGFuY2UgaGFzIGZvbGxvd0N1cnNvciBiZWhhdmlvclxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqIEBtZW1iZXJvZiBUaXBweVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2hhc0ZvbGxvd0N1cnNvckJlaGF2aW9yKCkge1xuICB2YXIgbGFzdFRyaWdnZXJFdmVudCA9IHRoaXMuXyhrZXkpLmxhc3RUcmlnZ2VyRXZlbnQ7XG4gIHJldHVybiB0aGlzLm9wdGlvbnMuZm9sbG93Q3Vyc29yICYmICFicm93c2VyLnVzaW5nVG91Y2ggJiYgbGFzdFRyaWdnZXJFdmVudCAmJiBsYXN0VHJpZ2dlckV2ZW50LnR5cGUgIT09ICdmb2N1cyc7XG59XG5cbi8qKlxuICogQ3JlYXRlcyB0aGUgVGlwcHkgaW5zdGFuY2UgZm9yIHRoZSBjaGlsZCB0YXJnZXQgb2YgdGhlIGRlbGVnYXRlIGNvbnRhaW5lclxuICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAqIEBtZW1iZXJvZiBUaXBweVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2NyZWF0ZURlbGVnYXRlQ2hpbGRUaXBweShldmVudCkge1xuICB2YXIgdGFyZ2V0RWwgPSBjbG9zZXN0KGV2ZW50LnRhcmdldCwgdGhpcy5vcHRpb25zLnRhcmdldCk7XG4gIGlmICh0YXJnZXRFbCAmJiAhdGFyZ2V0RWwuX3RpcHB5KSB7XG4gICAgdmFyIHRpdGxlID0gdGFyZ2V0RWwuZ2V0QXR0cmlidXRlKCd0aXRsZScpIHx8IHRoaXMudGl0bGU7XG4gICAgaWYgKHRpdGxlKSB7XG4gICAgICB0YXJnZXRFbC5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgdGl0bGUpO1xuICAgICAgdGlwcHkodGFyZ2V0RWwsIF9leHRlbmRzKHt9LCB0aGlzLm9wdGlvbnMsIHsgdGFyZ2V0OiBudWxsIH0pKTtcbiAgICAgIF9lbnRlci5jYWxsKHRhcmdldEVsLl90aXBweSwgZXZlbnQpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIE1ldGhvZCB1c2VkIGJ5IGV2ZW50IGxpc3RlbmVycyB0byBpbnZva2UgdGhlIHNob3cgbWV0aG9kLCB0YWtpbmcgaW50byBhY2NvdW50IGRlbGF5cyBhbmRcbiAqIHRoZSBgd2FpdGAgb3B0aW9uXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICogQG1lbWJlcm9mIFRpcHB5XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfZW50ZXIoZXZlbnQpIHtcbiAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cblxuICBfY2xlYXJEZWxheVRpbWVvdXRzLmNhbGwodGhpcyk7XG5cbiAgaWYgKHRoaXMuc3RhdGUudmlzaWJsZSkgcmV0dXJuO1xuXG4gIC8vIElzIGEgZGVsZWdhdGUsIGNyZWF0ZSBUaXBweSBpbnN0YW5jZSBmb3IgdGhlIGNoaWxkIHRhcmdldFxuICBpZiAob3B0aW9ucy50YXJnZXQpIHtcbiAgICBfY3JlYXRlRGVsZWdhdGVDaGlsZFRpcHB5LmNhbGwodGhpcywgZXZlbnQpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuXyhrZXkpLmlzUHJlcGFyaW5nVG9TaG93ID0gdHJ1ZTtcblxuICBpZiAob3B0aW9ucy53YWl0KSB7XG4gICAgb3B0aW9ucy53YWl0LmNhbGwodGhpcy5wb3BwZXIsIHRoaXMuc2hvdy5iaW5kKHRoaXMpLCBldmVudCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gSWYgdGhlIHRvb2x0aXAgaGFzIGEgZGVsYXksIHdlIG5lZWQgdG8gYmUgbGlzdGVuaW5nIHRvIHRoZSBtb3VzZW1vdmUgYXMgc29vbiBhcyB0aGUgdHJpZ2dlclxuICAvLyBldmVudCBpcyBmaXJlZCBzbyB0aGF0IGl0J3MgaW4gdGhlIGNvcnJlY3QgcG9zaXRpb24gdXBvbiBtb3VudC5cbiAgaWYgKF9oYXNGb2xsb3dDdXJzb3JCZWhhdmlvci5jYWxsKHRoaXMpKSB7XG4gICAgaWYgKCF0aGlzLl8oa2V5KS5mb2xsb3dDdXJzb3JMaXN0ZW5lcikge1xuICAgICAgX3NldEZvbGxvd0N1cnNvckxpc3RlbmVyLmNhbGwodGhpcyk7XG4gICAgfVxuXG4gICAgdmFyIF9nZXRJbm5lckVsZW1lbnRzMyA9IGdldElubmVyRWxlbWVudHModGhpcy5wb3BwZXIpLFxuICAgICAgICBhcnJvdyA9IF9nZXRJbm5lckVsZW1lbnRzMy5hcnJvdztcblxuICAgIGlmIChhcnJvdykgYXJyb3cuc3R5bGUubWFyZ2luID0gJzAnO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuXyhrZXkpLmZvbGxvd0N1cnNvckxpc3RlbmVyKTtcbiAgfVxuXG4gIHZhciBkZWxheSA9IGdldFZhbHVlKG9wdGlvbnMuZGVsYXksIDApO1xuXG4gIGlmIChkZWxheSkge1xuICAgIHRoaXMuXyhrZXkpLnNob3dUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpczQuc2hvdygpO1xuICAgIH0sIGRlbGF5KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnNob3coKTtcbiAgfVxufVxuXG4vKipcbiAqIE1ldGhvZCB1c2VkIGJ5IGV2ZW50IGxpc3RlbmVycyB0byBpbnZva2UgdGhlIGhpZGUgbWV0aG9kLCB0YWtpbmcgaW50byBhY2NvdW50IGRlbGF5c1xuICogQG1lbWJlcm9mIFRpcHB5XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfbGVhdmUoKSB7XG4gIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gIF9jbGVhckRlbGF5VGltZW91dHMuY2FsbCh0aGlzKTtcblxuICBpZiAoIXRoaXMuc3RhdGUudmlzaWJsZSkgcmV0dXJuO1xuXG4gIHRoaXMuXyhrZXkpLmlzUHJlcGFyaW5nVG9TaG93ID0gZmFsc2U7XG5cbiAgdmFyIGRlbGF5ID0gZ2V0VmFsdWUodGhpcy5vcHRpb25zLmRlbGF5LCAxKTtcblxuICBpZiAoZGVsYXkpIHtcbiAgICB0aGlzLl8oa2V5KS5oaWRlVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzNS5zdGF0ZS52aXNpYmxlKSB7XG4gICAgICAgIF90aGlzNS5oaWRlKCk7XG4gICAgICB9XG4gICAgfSwgZGVsYXkpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuaGlkZSgpO1xuICB9XG59XG5cbi8qKlxuICogUmV0dXJucyByZWxldmFudCBsaXN0ZW5lcnMgZm9yIHRoZSBpbnN0YW5jZVxuICogQHJldHVybiB7T2JqZWN0fSBvZiBsaXN0ZW5lcnNcbiAqIEBtZW1iZXJvZiBUaXBweVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2dldEV2ZW50TGlzdGVuZXJzKCkge1xuICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICB2YXIgb25UcmlnZ2VyID0gZnVuY3Rpb24gb25UcmlnZ2VyKGV2ZW50KSB7XG4gICAgaWYgKCFfdGhpczYuc3RhdGUuZW5hYmxlZCkgcmV0dXJuO1xuXG4gICAgdmFyIHNob3VsZFN0b3BFdmVudCA9IGJyb3dzZXIuc3VwcG9ydHNUb3VjaCAmJiBicm93c2VyLnVzaW5nVG91Y2ggJiYgWydtb3VzZWVudGVyJywgJ21vdXNlb3ZlcicsICdmb2N1cyddLmluZGV4T2YoZXZlbnQudHlwZSkgPiAtMTtcblxuICAgIGlmIChzaG91bGRTdG9wRXZlbnQgJiYgX3RoaXM2Lm9wdGlvbnMudG91Y2hIb2xkKSByZXR1cm47XG5cbiAgICBfdGhpczYuXyhrZXkpLmxhc3RUcmlnZ2VyRXZlbnQgPSBldmVudDtcblxuICAgIC8vIFRvZ2dsZSBzaG93L2hpZGUgd2hlbiBjbGlja2luZyBjbGljay10cmlnZ2VyZWQgdG9vbHRpcHNcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2NsaWNrJyAmJiBfdGhpczYub3B0aW9ucy5oaWRlT25DbGljayAhPT0gJ3BlcnNpc3RlbnQnICYmIF90aGlzNi5zdGF0ZS52aXNpYmxlKSB7XG4gICAgICBfbGVhdmUuY2FsbChfdGhpczYpO1xuICAgIH0gZWxzZSB7XG4gICAgICBfZW50ZXIuY2FsbChfdGhpczYsIGV2ZW50KTtcbiAgICB9XG5cbiAgICAvLyBpT1MgcHJldmVudHMgY2xpY2sgZXZlbnRzIGZyb20gZmlyaW5nXG4gICAgaWYgKHNob3VsZFN0b3BFdmVudCAmJiBicm93c2VyLmlPUyAmJiBfdGhpczYucmVmZXJlbmNlLmNsaWNrKSB7XG4gICAgICBfdGhpczYucmVmZXJlbmNlLmNsaWNrKCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbk1vdXNlTGVhdmUgPSBmdW5jdGlvbiBvbk1vdXNlTGVhdmUoZXZlbnQpIHtcbiAgICBpZiAoWydtb3VzZWxlYXZlJywgJ21vdXNlb3V0J10uaW5kZXhPZihldmVudC50eXBlKSA+IC0xICYmIGJyb3dzZXIuc3VwcG9ydHNUb3VjaCAmJiBicm93c2VyLnVzaW5nVG91Y2ggJiYgX3RoaXM2Lm9wdGlvbnMudG91Y2hIb2xkKSByZXR1cm47XG5cbiAgICBpZiAoX3RoaXM2Lm9wdGlvbnMuaW50ZXJhY3RpdmUpIHtcbiAgICAgIHZhciBoaWRlID0gX2xlYXZlLmJpbmQoX3RoaXM2KTtcblxuICAgICAgdmFyIG9uTW91c2VNb3ZlID0gZnVuY3Rpb24gb25Nb3VzZU1vdmUoZXZlbnQpIHtcbiAgICAgICAgdmFyIHJlZmVyZW5jZUN1cnNvcklzT3ZlciA9IGNsb3Nlc3QoZXZlbnQudGFyZ2V0LCBzZWxlY3RvcnMuUkVGRVJFTkNFKTtcbiAgICAgICAgdmFyIGN1cnNvcklzT3ZlclBvcHBlciA9IGNsb3Nlc3QoZXZlbnQudGFyZ2V0LCBzZWxlY3RvcnMuUE9QUEVSKSA9PT0gX3RoaXM2LnBvcHBlcjtcbiAgICAgICAgdmFyIGN1cnNvcklzT3ZlclJlZmVyZW5jZSA9IHJlZmVyZW5jZUN1cnNvcklzT3ZlciA9PT0gX3RoaXM2LnJlZmVyZW5jZTtcblxuICAgICAgICBpZiAoY3Vyc29ySXNPdmVyUG9wcGVyIHx8IGN1cnNvcklzT3ZlclJlZmVyZW5jZSkgcmV0dXJuO1xuXG4gICAgICAgIGlmIChjdXJzb3JJc091dHNpZGVJbnRlcmFjdGl2ZUJvcmRlcihldmVudCwgX3RoaXM2LnBvcHBlciwgX3RoaXM2Lm9wdGlvbnMpKSB7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgaGlkZSk7XG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUpO1xuXG4gICAgICAgICAgX2xlYXZlLmNhbGwoX3RoaXM2LCBvbk1vdXNlTW92ZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGhpZGUpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIF9sZWF2ZS5jYWxsKF90aGlzNik7XG4gIH07XG5cbiAgdmFyIG9uQmx1ciA9IGZ1bmN0aW9uIG9uQmx1cihldmVudCkge1xuICAgIGlmIChldmVudC50YXJnZXQgIT09IF90aGlzNi5yZWZlcmVuY2UgfHwgYnJvd3Nlci51c2luZ1RvdWNoKSByZXR1cm47XG5cbiAgICBpZiAoX3RoaXM2Lm9wdGlvbnMuaW50ZXJhY3RpdmUpIHtcbiAgICAgIGlmICghZXZlbnQucmVsYXRlZFRhcmdldCkgcmV0dXJuO1xuICAgICAgaWYgKGNsb3Nlc3QoZXZlbnQucmVsYXRlZFRhcmdldCwgc2VsZWN0b3JzLlBPUFBFUikpIHJldHVybjtcbiAgICB9XG5cbiAgICBfbGVhdmUuY2FsbChfdGhpczYpO1xuICB9O1xuXG4gIHZhciBvbkRlbGVnYXRlU2hvdyA9IGZ1bmN0aW9uIG9uRGVsZWdhdGVTaG93KGV2ZW50KSB7XG4gICAgaWYgKGNsb3Nlc3QoZXZlbnQudGFyZ2V0LCBfdGhpczYub3B0aW9ucy50YXJnZXQpKSB7XG4gICAgICBfZW50ZXIuY2FsbChfdGhpczYsIGV2ZW50KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uRGVsZWdhdGVIaWRlID0gZnVuY3Rpb24gb25EZWxlZ2F0ZUhpZGUoZXZlbnQpIHtcbiAgICBpZiAoY2xvc2VzdChldmVudC50YXJnZXQsIF90aGlzNi5vcHRpb25zLnRhcmdldCkpIHtcbiAgICAgIF9sZWF2ZS5jYWxsKF90aGlzNik7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB7XG4gICAgb25UcmlnZ2VyOiBvblRyaWdnZXIsXG4gICAgb25Nb3VzZUxlYXZlOiBvbk1vdXNlTGVhdmUsXG4gICAgb25CbHVyOiBvbkJsdXIsXG4gICAgb25EZWxlZ2F0ZVNob3c6IG9uRGVsZWdhdGVTaG93LFxuICAgIG9uRGVsZWdhdGVIaWRlOiBvbkRlbGVnYXRlSGlkZVxuICB9O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW5kIHJldHVybnMgYSBuZXcgcG9wcGVyIGluc3RhbmNlXG4gKiBAcmV0dXJuIHtQb3BwZXJ9XG4gKiBAbWVtYmVyb2YgVGlwcHlcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9jcmVhdGVQb3BwZXJJbnN0YW5jZSgpIHtcbiAgdmFyIF90aGlzNyA9IHRoaXM7XG5cbiAgdmFyIHBvcHBlciA9IHRoaXMucG9wcGVyLFxuICAgICAgcmVmZXJlbmNlID0gdGhpcy5yZWZlcmVuY2UsXG4gICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gIHZhciBfZ2V0SW5uZXJFbGVtZW50czQgPSBnZXRJbm5lckVsZW1lbnRzKHBvcHBlciksXG4gICAgICB0b29sdGlwID0gX2dldElubmVyRWxlbWVudHM0LnRvb2x0aXA7XG5cbiAgdmFyIHBvcHBlck9wdGlvbnMgPSBvcHRpb25zLnBvcHBlck9wdGlvbnM7XG5cbiAgdmFyIGFycm93U2VsZWN0b3IgPSBvcHRpb25zLmFycm93VHlwZSA9PT0gJ3JvdW5kJyA/IHNlbGVjdG9ycy5ST1VORF9BUlJPVyA6IHNlbGVjdG9ycy5BUlJPVztcbiAgdmFyIGFycm93ID0gdG9vbHRpcC5xdWVyeVNlbGVjdG9yKGFycm93U2VsZWN0b3IpO1xuXG4gIHZhciBjb25maWcgPSBfZXh0ZW5kcyh7XG4gICAgcGxhY2VtZW50OiBvcHRpb25zLnBsYWNlbWVudFxuICB9LCBwb3BwZXJPcHRpb25zIHx8IHt9LCB7XG4gICAgbW9kaWZpZXJzOiBfZXh0ZW5kcyh7fSwgcG9wcGVyT3B0aW9ucyA/IHBvcHBlck9wdGlvbnMubW9kaWZpZXJzIDoge30sIHtcbiAgICAgIGFycm93OiBfZXh0ZW5kcyh7XG4gICAgICAgIGVsZW1lbnQ6IGFycm93U2VsZWN0b3JcbiAgICAgIH0sIHBvcHBlck9wdGlvbnMgJiYgcG9wcGVyT3B0aW9ucy5tb2RpZmllcnMgPyBwb3BwZXJPcHRpb25zLm1vZGlmaWVycy5hcnJvdyA6IHt9KSxcbiAgICAgIGZsaXA6IF9leHRlbmRzKHtcbiAgICAgICAgZW5hYmxlZDogb3B0aW9ucy5mbGlwLFxuICAgICAgICBwYWRkaW5nOiBvcHRpb25zLmRpc3RhbmNlICsgNSAvKiA1cHggZnJvbSB2aWV3cG9ydCBib3VuZGFyeSAqL1xuICAgICAgICAsIGJlaGF2aW9yOiBvcHRpb25zLmZsaXBCZWhhdmlvclxuICAgICAgfSwgcG9wcGVyT3B0aW9ucyAmJiBwb3BwZXJPcHRpb25zLm1vZGlmaWVycyA/IHBvcHBlck9wdGlvbnMubW9kaWZpZXJzLmZsaXAgOiB7fSksXG4gICAgICBvZmZzZXQ6IF9leHRlbmRzKHtcbiAgICAgICAgb2Zmc2V0OiBvcHRpb25zLm9mZnNldFxuICAgICAgfSwgcG9wcGVyT3B0aW9ucyAmJiBwb3BwZXJPcHRpb25zLm1vZGlmaWVycyA/IHBvcHBlck9wdGlvbnMubW9kaWZpZXJzLm9mZnNldCA6IHt9KVxuICAgIH0pLFxuICAgIG9uQ3JlYXRlOiBmdW5jdGlvbiBvbkNyZWF0ZSgpIHtcbiAgICAgIHRvb2x0aXAuc3R5bGVbZ2V0UG9wcGVyUGxhY2VtZW50KHBvcHBlcildID0gZ2V0T2Zmc2V0RGlzdGFuY2VJblB4KG9wdGlvbnMuZGlzdGFuY2UpO1xuXG4gICAgICBpZiAoYXJyb3cgJiYgb3B0aW9ucy5hcnJvd1RyYW5zZm9ybSkge1xuICAgICAgICBjb21wdXRlQXJyb3dUcmFuc2Zvcm0ocG9wcGVyLCBhcnJvdywgb3B0aW9ucy5hcnJvd1RyYW5zZm9ybSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBvblVwZGF0ZTogZnVuY3Rpb24gb25VcGRhdGUoKSB7XG4gICAgICB2YXIgc3R5bGVzID0gdG9vbHRpcC5zdHlsZTtcbiAgICAgIHN0eWxlcy50b3AgPSAnJztcbiAgICAgIHN0eWxlcy5ib3R0b20gPSAnJztcbiAgICAgIHN0eWxlcy5sZWZ0ID0gJyc7XG4gICAgICBzdHlsZXMucmlnaHQgPSAnJztcbiAgICAgIHN0eWxlc1tnZXRQb3BwZXJQbGFjZW1lbnQocG9wcGVyKV0gPSBnZXRPZmZzZXREaXN0YW5jZUluUHgob3B0aW9ucy5kaXN0YW5jZSk7XG5cbiAgICAgIGlmIChhcnJvdyAmJiBvcHRpb25zLmFycm93VHJhbnNmb3JtKSB7XG4gICAgICAgIGNvbXB1dGVBcnJvd1RyYW5zZm9ybShwb3BwZXIsIGFycm93LCBvcHRpb25zLmFycm93VHJhbnNmb3JtKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIF9hZGRNdXRhdGlvbk9ic2VydmVyLmNhbGwodGhpcywge1xuICAgIHRhcmdldDogcG9wcGVyLFxuICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgIF90aGlzNy5wb3BwZXJJbnN0YW5jZS51cGRhdGUoKTtcbiAgICB9LFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgIHN1YnRyZWU6IHRydWUsXG4gICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlXG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gbmV3IFBvcHBlcihyZWZlcmVuY2UsIHBvcHBlciwgY29uZmlnKTtcbn1cblxuLyoqXG4gKiBBcHBlbmRzIHRoZSBwb3BwZXIgZWxlbWVudCB0byB0aGUgRE9NLCB1cGRhdGluZyBvciBjcmVhdGluZyB0aGUgcG9wcGVyIGluc3RhbmNlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQG1lbWJlcm9mIFRpcHB5XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfbW91bnQoY2FsbGJhY2spIHtcbiAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cblxuICBpZiAoIXRoaXMucG9wcGVySW5zdGFuY2UpIHtcbiAgICB0aGlzLnBvcHBlckluc3RhbmNlID0gX2NyZWF0ZVBvcHBlckluc3RhbmNlLmNhbGwodGhpcyk7XG4gICAgaWYgKCFvcHRpb25zLmxpdmVQbGFjZW1lbnQpIHtcbiAgICAgIHRoaXMucG9wcGVySW5zdGFuY2UuZGlzYWJsZUV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRoaXMucG9wcGVySW5zdGFuY2Uuc2NoZWR1bGVVcGRhdGUoKTtcbiAgICBpZiAob3B0aW9ucy5saXZlUGxhY2VtZW50ICYmICFfaGFzRm9sbG93Q3Vyc29yQmVoYXZpb3IuY2FsbCh0aGlzKSkge1xuICAgICAgdGhpcy5wb3BwZXJJbnN0YW5jZS5lbmFibGVFdmVudExpc3RlbmVycygpO1xuICAgIH1cbiAgfVxuXG4gIC8vIElmIHRoZSBpbnN0YW5jZSBwcmV2aW91c2x5IGhhZCBmb2xsb3dDdXJzb3IgYmVoYXZpb3IsIGl0IHdpbGwgYmUgcG9zaXRpb25lZCBpbmNvcnJlY3RseVxuICAvLyBpZiB0cmlnZ2VyZWQgYnkgYGZvY3VzYCBhZnRlcndhcmRzIC0gdXBkYXRlIHRoZSByZWZlcmVuY2UgYmFjayB0byB0aGUgcmVhbCBET00gZWxlbWVudFxuICBpZiAoIV9oYXNGb2xsb3dDdXJzb3JCZWhhdmlvci5jYWxsKHRoaXMpKSB7XG4gICAgdmFyIF9nZXRJbm5lckVsZW1lbnRzNSA9IGdldElubmVyRWxlbWVudHModGhpcy5wb3BwZXIpLFxuICAgICAgICBhcnJvdyA9IF9nZXRJbm5lckVsZW1lbnRzNS5hcnJvdztcblxuICAgIGlmIChhcnJvdykgYXJyb3cuc3R5bGUubWFyZ2luID0gJyc7XG4gICAgdGhpcy5wb3BwZXJJbnN0YW5jZS5yZWZlcmVuY2UgPSB0aGlzLnJlZmVyZW5jZTtcbiAgfVxuXG4gIHVwZGF0ZVBvcHBlclBvc2l0aW9uKHRoaXMucG9wcGVySW5zdGFuY2UsIGNhbGxiYWNrLCB0cnVlKTtcblxuICBpZiAoIW9wdGlvbnMuYXBwZW5kVG8uY29udGFpbnModGhpcy5wb3BwZXIpKSB7XG4gICAgb3B0aW9ucy5hcHBlbmRUby5hcHBlbmRDaGlsZCh0aGlzLnBvcHBlcik7XG4gIH1cbn1cblxuLyoqXG4gKiBDbGVhcnMgdGhlIHNob3cgYW5kIGhpZGUgZGVsYXkgdGltZW91dHNcbiAqIEBtZW1iZXJvZiBUaXBweVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2NsZWFyRGVsYXlUaW1lb3V0cygpIHtcbiAgdmFyIF9yZWYgPSB0aGlzLl8oa2V5KSxcbiAgICAgIHNob3dUaW1lb3V0ID0gX3JlZi5zaG93VGltZW91dCxcbiAgICAgIGhpZGVUaW1lb3V0ID0gX3JlZi5oaWRlVGltZW91dDtcblxuICBjbGVhclRpbWVvdXQoc2hvd1RpbWVvdXQpO1xuICBjbGVhclRpbWVvdXQoaGlkZVRpbWVvdXQpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIG1vdXNlbW92ZSBldmVudCBsaXN0ZW5lciBmdW5jdGlvbiBmb3IgYGZvbGxvd0N1cnNvcmAgb3B0aW9uXG4gKiBAbWVtYmVyb2YgVGlwcHlcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9zZXRGb2xsb3dDdXJzb3JMaXN0ZW5lcigpIHtcbiAgdmFyIF90aGlzOCA9IHRoaXM7XG5cbiAgdGhpcy5fKGtleSkuZm9sbG93Q3Vyc29yTGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB2YXIgXyRsYXN0TW91c2VNb3ZlRXZlbnQgPSBfdGhpczguXyhrZXkpLmxhc3RNb3VzZU1vdmVFdmVudCA9IGV2ZW50LFxuICAgICAgICBjbGllbnRYID0gXyRsYXN0TW91c2VNb3ZlRXZlbnQuY2xpZW50WCxcbiAgICAgICAgY2xpZW50WSA9IF8kbGFzdE1vdXNlTW92ZUV2ZW50LmNsaWVudFk7XG5cbiAgICBpZiAoIV90aGlzOC5wb3BwZXJJbnN0YW5jZSkgcmV0dXJuO1xuXG4gICAgX3RoaXM4LnBvcHBlckluc3RhbmNlLnJlZmVyZW5jZSA9IHtcbiAgICAgIGdldEJvdW5kaW5nQ2xpZW50UmVjdDogZnVuY3Rpb24gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgICB0b3A6IGNsaWVudFksXG4gICAgICAgICAgbGVmdDogY2xpZW50WCxcbiAgICAgICAgICByaWdodDogY2xpZW50WCxcbiAgICAgICAgICBib3R0b206IGNsaWVudFlcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBjbGllbnRXaWR0aDogMCxcbiAgICAgIGNsaWVudEhlaWdodDogMFxuICAgIH07XG5cbiAgICBfdGhpczgucG9wcGVySW5zdGFuY2Uuc2NoZWR1bGVVcGRhdGUoKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBVcGRhdGVzIHRoZSBwb3BwZXIncyBwb3NpdGlvbiBvbiBlYWNoIGFuaW1hdGlvbiBmcmFtZVxuICogQG1lbWJlcm9mIFRpcHB5XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfbWFrZVN0aWNreSgpIHtcbiAgdmFyIF90aGlzOSA9IHRoaXM7XG5cbiAgdmFyIGFwcGx5VHJhbnNpdGlvbkR1cmF0aW9uJCQxID0gZnVuY3Rpb24gYXBwbHlUcmFuc2l0aW9uRHVyYXRpb24kJDEoKSB7XG4gICAgX3RoaXM5LnBvcHBlci5zdHlsZVtwcmVmaXgoJ3RyYW5zaXRpb25EdXJhdGlvbicpXSA9IF90aGlzOS5vcHRpb25zLnVwZGF0ZUR1cmF0aW9uICsgJ21zJztcbiAgfTtcblxuICB2YXIgcmVtb3ZlVHJhbnNpdGlvbkR1cmF0aW9uID0gZnVuY3Rpb24gcmVtb3ZlVHJhbnNpdGlvbkR1cmF0aW9uKCkge1xuICAgIF90aGlzOS5wb3BwZXIuc3R5bGVbcHJlZml4KCd0cmFuc2l0aW9uRHVyYXRpb24nKV0gPSAnJztcbiAgfTtcblxuICB2YXIgdXBkYXRlUG9zaXRpb24gPSBmdW5jdGlvbiB1cGRhdGVQb3NpdGlvbigpIHtcbiAgICBpZiAoX3RoaXM5LnBvcHBlckluc3RhbmNlKSB7XG4gICAgICBfdGhpczkucG9wcGVySW5zdGFuY2UudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgYXBwbHlUcmFuc2l0aW9uRHVyYXRpb24kJDEoKTtcblxuICAgIGlmIChfdGhpczkuc3RhdGUudmlzaWJsZSkge1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZVBvc2l0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlVHJhbnNpdGlvbkR1cmF0aW9uKCk7XG4gICAgfVxuICB9O1xuXG4gIHVwZGF0ZVBvc2l0aW9uKCk7XG59XG5cbi8qKlxuICogQWRkcyBhIG11dGF0aW9uIG9ic2VydmVyIHRvIGFuIGVsZW1lbnQgYW5kIHN0b3JlcyBpdCBpbiB0aGUgaW5zdGFuY2VcbiAqIEBwYXJhbSB7T2JqZWN0fVxuICogQG1lbWJlcm9mIFRpcHB5XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfYWRkTXV0YXRpb25PYnNlcnZlcihfcmVmMikge1xuICB2YXIgdGFyZ2V0ID0gX3JlZjIudGFyZ2V0LFxuICAgICAgY2FsbGJhY2sgPSBfcmVmMi5jYWxsYmFjayxcbiAgICAgIG9wdGlvbnMgPSBfcmVmMi5vcHRpb25zO1xuXG4gIGlmICghd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIpIHJldHVybjtcblxuICB2YXIgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihjYWxsYmFjayk7XG4gIG9ic2VydmVyLm9ic2VydmUodGFyZ2V0LCBvcHRpb25zKTtcblxuICB0aGlzLl8oa2V5KS5tdXRhdGlvbk9ic2VydmVycy5wdXNoKG9ic2VydmVyKTtcbn1cblxuLyoqXG4gKiBGaXJlcyB0aGUgY2FsbGJhY2sgZnVuY3Rpb25zIG9uY2UgdGhlIENTUyB0cmFuc2l0aW9uIGVuZHMgZm9yIGBzaG93YCBhbmQgYGhpZGVgIG1ldGhvZHNcbiAqIEBwYXJhbSB7TnVtYmVyfSBkdXJhdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBjYWxsYmFjayBmdW5jdGlvbiB0byBmaXJlIG9uY2UgdHJhbnNpdGlvbiBjb21wbGV0ZXNcbiAqIEBtZW1iZXJvZiBUaXBweVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX29uVHJhbnNpdGlvbkVuZChkdXJhdGlvbiwgY2FsbGJhY2spIHtcbiAgLy8gTWFrZSBjYWxsYmFjayBzeW5jaHJvbm91cyBpZiBkdXJhdGlvbiBpcyAwXG4gIGlmICghZHVyYXRpb24pIHtcbiAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgfVxuXG4gIHZhciBfZ2V0SW5uZXJFbGVtZW50czYgPSBnZXRJbm5lckVsZW1lbnRzKHRoaXMucG9wcGVyKSxcbiAgICAgIHRvb2x0aXAgPSBfZ2V0SW5uZXJFbGVtZW50czYudG9vbHRpcDtcblxuICB2YXIgdG9nZ2xlTGlzdGVuZXJzID0gZnVuY3Rpb24gdG9nZ2xlTGlzdGVuZXJzKGFjdGlvbiwgbGlzdGVuZXIpIHtcbiAgICBpZiAoIWxpc3RlbmVyKSByZXR1cm47XG4gICAgdG9vbHRpcFthY3Rpb24gKyAnRXZlbnRMaXN0ZW5lciddKCdvbnRyYW5zaXRpb25lbmQnIGluIHdpbmRvdyA/ICd0cmFuc2l0aW9uZW5kJyA6ICd3ZWJraXRUcmFuc2l0aW9uRW5kJywgbGlzdGVuZXIpO1xuICB9O1xuXG4gIHZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uIGxpc3RlbmVyKGUpIHtcbiAgICBpZiAoZS50YXJnZXQgPT09IHRvb2x0aXApIHtcbiAgICAgIHRvZ2dsZUxpc3RlbmVycygncmVtb3ZlJywgbGlzdGVuZXIpO1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH07XG5cbiAgdG9nZ2xlTGlzdGVuZXJzKCdyZW1vdmUnLCB0aGlzLl8oa2V5KS50cmFuc2l0aW9uZW5kTGlzdGVuZXIpO1xuICB0b2dnbGVMaXN0ZW5lcnMoJ2FkZCcsIGxpc3RlbmVyKTtcblxuICB0aGlzLl8oa2V5KS50cmFuc2l0aW9uZW5kTGlzdGVuZXIgPSBsaXN0ZW5lcjtcbn1cblxudmFyIGlkQ291bnRlciA9IDE7XG5cbi8qKlxuICogQ3JlYXRlcyB0b29sdGlwcyBmb3IgZWFjaCByZWZlcmVuY2UgZWxlbWVudFxuICogQHBhcmFtIHtFbGVtZW50W119IGVsc1xuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICogQHJldHVybiB7VGlwcHlbXX0gQXJyYXkgb2YgVGlwcHkgaW5zdGFuY2VzXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVRvb2x0aXBzKGVscywgY29uZmlnKSB7XG4gIHJldHVybiBlbHMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHJlZmVyZW5jZSkge1xuICAgIHZhciBpZCA9IGlkQ291bnRlcjtcblxuICAgIHZhciBvcHRpb25zID0gZXZhbHVhdGVPcHRpb25zKHJlZmVyZW5jZSwgY29uZmlnLnBlcmZvcm1hbmNlID8gY29uZmlnIDogZ2V0SW5kaXZpZHVhbE9wdGlvbnMocmVmZXJlbmNlLCBjb25maWcpKTtcblxuICAgIHZhciB0aXRsZSA9IHJlZmVyZW5jZS5nZXRBdHRyaWJ1dGUoJ3RpdGxlJyk7XG5cbiAgICAvLyBEb24ndCBjcmVhdGUgYW4gaW5zdGFuY2Ugd2hlbjpcbiAgICAvLyAqIHRoZSBgdGl0bGVgIGF0dHJpYnV0ZSBpcyBmYWxzeSAobnVsbCBvciBlbXB0eSBzdHJpbmcpLCBhbmRcbiAgICAvLyAqIGl0J3Mgbm90IGEgZGVsZWdhdGUgZm9yIHRvb2x0aXBzLCBhbmRcbiAgICAvLyAqIHRoZXJlIGlzIG5vIGh0bWwgdGVtcGxhdGUgc3BlY2lmaWVkLCBhbmRcbiAgICAvLyAqIGBkeW5hbWljVGl0bGVgIG9wdGlvbiBpcyBmYWxzZVxuICAgIGlmICghdGl0bGUgJiYgIW9wdGlvbnMudGFyZ2V0ICYmICFvcHRpb25zLmh0bWwgJiYgIW9wdGlvbnMuZHluYW1pY1RpdGxlKSB7XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH1cblxuICAgIC8vIERlbGVnYXRlcyBzaG91bGQgYmUgaGlnaGxpZ2h0ZWQgYXMgZGlmZmVyZW50XG4gICAgcmVmZXJlbmNlLnNldEF0dHJpYnV0ZShvcHRpb25zLnRhcmdldCA/ICdkYXRhLXRpcHB5LWRlbGVnYXRlJyA6ICdkYXRhLXRpcHB5JywgJycpO1xuXG4gICAgcmVtb3ZlVGl0bGUocmVmZXJlbmNlKTtcblxuICAgIHZhciBwb3BwZXIgPSBjcmVhdGVQb3BwZXJFbGVtZW50KGlkLCB0aXRsZSwgb3B0aW9ucyk7XG5cbiAgICB2YXIgdGlwcHkgPSBuZXcgVGlwcHkoe1xuICAgICAgaWQ6IGlkLFxuICAgICAgcmVmZXJlbmNlOiByZWZlcmVuY2UsXG4gICAgICBwb3BwZXI6IHBvcHBlcixcbiAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICB0aXRsZTogdGl0bGUsXG4gICAgICBwb3BwZXJJbnN0YW5jZTogbnVsbFxuICAgIH0pO1xuXG4gICAgaWYgKG9wdGlvbnMuY3JlYXRlUG9wcGVySW5zdGFuY2VPbkluaXQpIHtcbiAgICAgIHRpcHB5LnBvcHBlckluc3RhbmNlID0gX2NyZWF0ZVBvcHBlckluc3RhbmNlLmNhbGwodGlwcHkpO1xuICAgICAgdGlwcHkucG9wcGVySW5zdGFuY2UuZGlzYWJsZUV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfVxuXG4gICAgdmFyIGxpc3RlbmVycyA9IF9nZXRFdmVudExpc3RlbmVycy5jYWxsKHRpcHB5KTtcbiAgICB0aXBweS5saXN0ZW5lcnMgPSBvcHRpb25zLnRyaWdnZXIudHJpbSgpLnNwbGl0KCcgJykucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGV2ZW50VHlwZSkge1xuICAgICAgcmV0dXJuIGFjYy5jb25jYXQoY3JlYXRlVHJpZ2dlcihldmVudFR5cGUsIHJlZmVyZW5jZSwgbGlzdGVuZXJzLCBvcHRpb25zKSk7XG4gICAgfSwgW10pO1xuXG4gICAgLy8gVXBkYXRlIHRvb2x0aXAgY29udGVudCB3aGVuZXZlciB0aGUgdGl0bGUgYXR0cmlidXRlIG9uIHRoZSByZWZlcmVuY2UgY2hhbmdlc1xuICAgIGlmIChvcHRpb25zLmR5bmFtaWNUaXRsZSkge1xuICAgICAgX2FkZE11dGF0aW9uT2JzZXJ2ZXIuY2FsbCh0aXBweSwge1xuICAgICAgICB0YXJnZXQ6IHJlZmVyZW5jZSxcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgIHZhciBfZ2V0SW5uZXJFbGVtZW50cyA9IGdldElubmVyRWxlbWVudHMocG9wcGVyKSxcbiAgICAgICAgICAgICAgY29udGVudCA9IF9nZXRJbm5lckVsZW1lbnRzLmNvbnRlbnQ7XG5cbiAgICAgICAgICB2YXIgdGl0bGUgPSByZWZlcmVuY2UuZ2V0QXR0cmlidXRlKCd0aXRsZScpO1xuICAgICAgICAgIGlmICh0aXRsZSkge1xuICAgICAgICAgICAgY29udGVudFtvcHRpb25zLmFsbG93VGl0bGVIVE1MID8gJ2lubmVySFRNTCcgOiAndGV4dENvbnRlbnQnXSA9IHRpcHB5LnRpdGxlID0gdGl0bGU7XG4gICAgICAgICAgICByZW1vdmVUaXRsZShyZWZlcmVuY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgYXR0cmlidXRlczogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBTaG9ydGN1dHNcbiAgICByZWZlcmVuY2UuX3RpcHB5ID0gdGlwcHk7XG4gICAgcG9wcGVyLl90aXBweSA9IHRpcHB5O1xuICAgIHBvcHBlci5fcmVmZXJlbmNlID0gcmVmZXJlbmNlO1xuXG4gICAgYWNjLnB1c2godGlwcHkpO1xuXG4gICAgaWRDb3VudGVyKys7XG5cbiAgICByZXR1cm4gYWNjO1xuICB9LCBbXSk7XG59XG5cbi8qKlxuICogSGlkZXMgYWxsIHBvcHBlcnNcbiAqIEBwYXJhbSB7VGlwcHl9IGV4Y2x1ZGVUaXBweSAtIHRpcHB5IHRvIGV4Y2x1ZGUgaWYgbmVlZGVkXG4gKi9cbmZ1bmN0aW9uIGhpZGVBbGxQb3BwZXJzKGV4Y2x1ZGVUaXBweSkge1xuICB2YXIgcG9wcGVycyA9IHRvQXJyYXkoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcnMuUE9QUEVSKSk7XG5cbiAgcG9wcGVycy5mb3JFYWNoKGZ1bmN0aW9uIChwb3BwZXIpIHtcbiAgICB2YXIgdGlwcHkgPSBwb3BwZXIuX3RpcHB5O1xuICAgIGlmICghdGlwcHkpIHJldHVybjtcblxuICAgIHZhciBvcHRpb25zID0gdGlwcHkub3B0aW9ucztcblxuXG4gICAgaWYgKChvcHRpb25zLmhpZGVPbkNsaWNrID09PSB0cnVlIHx8IG9wdGlvbnMudHJpZ2dlci5pbmRleE9mKCdmb2N1cycpID4gLTEpICYmICghZXhjbHVkZVRpcHB5IHx8IHBvcHBlciAhPT0gZXhjbHVkZVRpcHB5LnBvcHBlcikpIHtcbiAgICAgIHRpcHB5LmhpZGUoKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIEFkZHMgdGhlIG5lZWRlZCBldmVudCBsaXN0ZW5lcnNcbiAqL1xuZnVuY3Rpb24gYmluZEV2ZW50TGlzdGVuZXJzKCkge1xuICB2YXIgb25Eb2N1bWVudFRvdWNoID0gZnVuY3Rpb24gb25Eb2N1bWVudFRvdWNoKCkge1xuICAgIGlmIChicm93c2VyLnVzaW5nVG91Y2gpIHJldHVybjtcblxuICAgIGJyb3dzZXIudXNpbmdUb3VjaCA9IHRydWU7XG5cbiAgICBpZiAoYnJvd3Nlci5pT1MpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgndGlwcHktdG91Y2gnKTtcbiAgICB9XG5cbiAgICBpZiAoYnJvd3Nlci5keW5hbWljSW5wdXREZXRlY3Rpb24gJiYgd2luZG93LnBlcmZvcm1hbmNlKSB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbkRvY3VtZW50TW91c2VNb3ZlKTtcbiAgICB9XG5cbiAgICBicm93c2VyLm9uVXNlcklucHV0Q2hhbmdlKCd0b3VjaCcpO1xuICB9O1xuXG4gIHZhciBvbkRvY3VtZW50TW91c2VNb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aW1lID0gdm9pZCAwO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTtcblxuICAgICAgLy8gQ2hyb21lIDYwKyBpcyAxIG1vdXNlbW92ZSBwZXIgYW5pbWF0aW9uIGZyYW1lLCB1c2UgMjBtcyB0aW1lIGRpZmZlcmVuY2VcbiAgICAgIGlmIChub3cgLSB0aW1lIDwgMjApIHtcbiAgICAgICAgYnJvd3Nlci51c2luZ1RvdWNoID0gZmFsc2U7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uRG9jdW1lbnRNb3VzZU1vdmUpO1xuICAgICAgICBpZiAoIWJyb3dzZXIuaU9TKSB7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCd0aXBweS10b3VjaCcpO1xuICAgICAgICB9XG4gICAgICAgIGJyb3dzZXIub25Vc2VySW5wdXRDaGFuZ2UoJ21vdXNlJyk7XG4gICAgICB9XG5cbiAgICAgIHRpbWUgPSBub3c7XG4gICAgfTtcbiAgfSgpO1xuXG4gIHZhciBvbkRvY3VtZW50Q2xpY2sgPSBmdW5jdGlvbiBvbkRvY3VtZW50Q2xpY2soZXZlbnQpIHtcbiAgICAvLyBTaW11bGF0ZWQgZXZlbnRzIGRpc3BhdGNoZWQgb24gdGhlIGRvY3VtZW50XG4gICAgaWYgKCEoZXZlbnQudGFyZ2V0IGluc3RhbmNlb2YgRWxlbWVudCkpIHtcbiAgICAgIHJldHVybiBoaWRlQWxsUG9wcGVycygpO1xuICAgIH1cblxuICAgIHZhciByZWZlcmVuY2UgPSBjbG9zZXN0KGV2ZW50LnRhcmdldCwgc2VsZWN0b3JzLlJFRkVSRU5DRSk7XG4gICAgdmFyIHBvcHBlciA9IGNsb3Nlc3QoZXZlbnQudGFyZ2V0LCBzZWxlY3RvcnMuUE9QUEVSKTtcblxuICAgIGlmIChwb3BwZXIgJiYgcG9wcGVyLl90aXBweSAmJiBwb3BwZXIuX3RpcHB5Lm9wdGlvbnMuaW50ZXJhY3RpdmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocmVmZXJlbmNlICYmIHJlZmVyZW5jZS5fdGlwcHkpIHtcbiAgICAgIHZhciBvcHRpb25zID0gcmVmZXJlbmNlLl90aXBweS5vcHRpb25zO1xuXG4gICAgICB2YXIgaXNDbGlja1RyaWdnZXIgPSBvcHRpb25zLnRyaWdnZXIuaW5kZXhPZignY2xpY2snKSA+IC0xO1xuICAgICAgdmFyIGlzTXVsdGlwbGUgPSBvcHRpb25zLm11bHRpcGxlO1xuXG4gICAgICAvLyBIaWRlIGFsbCBwb3BwZXJzIGV4Y2VwdCB0aGUgb25lIGJlbG9uZ2luZyB0byB0aGUgZWxlbWVudCB0aGF0IHdhcyBjbGlja2VkXG4gICAgICBpZiAoIWlzTXVsdGlwbGUgJiYgYnJvd3Nlci51c2luZ1RvdWNoIHx8ICFpc011bHRpcGxlICYmIGlzQ2xpY2tUcmlnZ2VyKSB7XG4gICAgICAgIHJldHVybiBoaWRlQWxsUG9wcGVycyhyZWZlcmVuY2UuX3RpcHB5KTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMuaGlkZU9uQ2xpY2sgIT09IHRydWUgfHwgaXNDbGlja1RyaWdnZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGhpZGVBbGxQb3BwZXJzKCk7XG4gIH07XG5cbiAgdmFyIG9uV2luZG93Qmx1ciA9IGZ1bmN0aW9uIG9uV2luZG93Qmx1cigpIHtcbiAgICB2YXIgX2RvY3VtZW50ID0gZG9jdW1lbnQsXG4gICAgICAgIGVsID0gX2RvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cbiAgICBpZiAoZWwgJiYgZWwuYmx1ciAmJiBtYXRjaGVzJDEuY2FsbChlbCwgc2VsZWN0b3JzLlJFRkVSRU5DRSkpIHtcbiAgICAgIGVsLmJsdXIoKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uV2luZG93UmVzaXplID0gZnVuY3Rpb24gb25XaW5kb3dSZXNpemUoKSB7XG4gICAgdG9BcnJheShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9ycy5QT1BQRVIpKS5mb3JFYWNoKGZ1bmN0aW9uIChwb3BwZXIpIHtcbiAgICAgIHZhciB0aXBweUluc3RhbmNlID0gcG9wcGVyLl90aXBweTtcbiAgICAgIGlmICh0aXBweUluc3RhbmNlICYmICF0aXBweUluc3RhbmNlLm9wdGlvbnMubGl2ZVBsYWNlbWVudCkge1xuICAgICAgICB0aXBweUluc3RhbmNlLnBvcHBlckluc3RhbmNlLnNjaGVkdWxlVXBkYXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkRvY3VtZW50Q2xpY2spO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgb25Eb2N1bWVudFRvdWNoKTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBvbldpbmRvd0JsdXIpO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgb25XaW5kb3dSZXNpemUpO1xuXG4gIGlmICghYnJvd3Nlci5zdXBwb3J0c1RvdWNoICYmIChuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgfHwgbmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHMpKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBvbkRvY3VtZW50VG91Y2gpO1xuICB9XG59XG5cbnZhciBldmVudExpc3RlbmVyc0JvdW5kID0gZmFsc2U7XG5cbi8qKlxuICogRXhwb3J0ZWQgbW9kdWxlXG4gKiBAcGFyYW0ge1N0cmluZ3xFbGVtZW50fEVsZW1lbnRbXXxOb2RlTGlzdHxPYmplY3R9IHNlbGVjdG9yXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtCb29sZWFufSBvbmUgLSBjcmVhdGUgb25lIHRvb2x0aXBcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gdGlwcHkoc2VsZWN0b3IsIG9wdGlvbnMsIG9uZSkge1xuICBpZiAoYnJvd3Nlci5zdXBwb3J0ZWQgJiYgIWV2ZW50TGlzdGVuZXJzQm91bmQpIHtcbiAgICBiaW5kRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICBldmVudExpc3RlbmVyc0JvdW5kID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChpc09iamVjdExpdGVyYWwoc2VsZWN0b3IpKSB7XG4gICAgcG9seWZpbGxWaXJ0dWFsUmVmZXJlbmNlUHJvcHMoc2VsZWN0b3IpO1xuICB9XG5cbiAgb3B0aW9ucyA9IF9leHRlbmRzKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgdmFyIHJlZmVyZW5jZXMgPSBnZXRBcnJheU9mRWxlbWVudHMoc2VsZWN0b3IpO1xuICB2YXIgZmlyc3RSZWZlcmVuY2UgPSByZWZlcmVuY2VzWzBdO1xuXG4gIHJldHVybiB7XG4gICAgc2VsZWN0b3I6IHNlbGVjdG9yLFxuICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgdG9vbHRpcHM6IGJyb3dzZXIuc3VwcG9ydGVkID8gY3JlYXRlVG9vbHRpcHMob25lICYmIGZpcnN0UmVmZXJlbmNlID8gW2ZpcnN0UmVmZXJlbmNlXSA6IHJlZmVyZW5jZXMsIG9wdGlvbnMpIDogW10sXG4gICAgZGVzdHJveUFsbDogZnVuY3Rpb24gZGVzdHJveUFsbCgpIHtcbiAgICAgIHRoaXMudG9vbHRpcHMuZm9yRWFjaChmdW5jdGlvbiAodG9vbHRpcCkge1xuICAgICAgICByZXR1cm4gdG9vbHRpcC5kZXN0cm95KCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMudG9vbHRpcHMgPSBbXTtcbiAgICB9XG4gIH07XG59XG5cbnRpcHB5LnZlcnNpb24gPSB2ZXJzaW9uO1xudGlwcHkuYnJvd3NlciA9IGJyb3dzZXI7XG50aXBweS5kZWZhdWx0cyA9IGRlZmF1bHRzO1xudGlwcHkub25lID0gZnVuY3Rpb24gKHNlbGVjdG9yLCBvcHRpb25zKSB7XG4gIHJldHVybiB0aXBweShzZWxlY3Rvciwgb3B0aW9ucywgdHJ1ZSkudG9vbHRpcHNbMF07XG59O1xudGlwcHkuZGlzYWJsZUFuaW1hdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gIGRlZmF1bHRzLnVwZGF0ZUR1cmF0aW9uID0gZGVmYXVsdHMuZHVyYXRpb24gPSAwO1xuICBkZWZhdWx0cy5hbmltYXRlRmlsbCA9IGZhbHNlO1xufTtcblxuLyoqXG4gKiBJbmplY3RzIENTUyBzdHlsZXMgdG8gZG9jdW1lbnQgaGVhZFxuICogQHBhcmFtIHtTdHJpbmd9IGNzc1xuICovXG5mdW5jdGlvbiBpbmplY3RDU1MoKSB7XG4gIHZhciBjc3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuXG4gIGlmIChpc0Jyb3dzZXIgJiYgYnJvd3Nlci5zdXBwb3J0ZWQpIHtcbiAgICB2YXIgaGVhZCA9IGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZCcpO1xuICAgIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgc3R5bGUudHlwZSA9ICd0ZXh0L2Nzcyc7XG4gICAgaGVhZC5pbnNlcnRCZWZvcmUoc3R5bGUsIGhlYWQuZmlyc3RDaGlsZCk7XG5cbiAgICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgICB9XG4gIH1cbn1cblxuaW5qZWN0Q1NTKHN0eWxlcyk7XG5cbnJldHVybiB0aXBweTtcblxufSkpKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gW3tcInRvcGljXCI6XCJBaXIgcXVhbGl0eVwiLFwia2V5XCI6XCJGVUdWNDlVQlwiLFwidGl0bGVcIjpcIkV4cGxvcmUgaG93IG9pbCBhbmQgZ2FzIGRldmVsb3BtZW50IGNhbiBhZmZlY3QgbG9jYWwgYW5kIHJlZ2lvbmFsIGFpciBxdWFsaXR5XCJ9LHtcInRvcGljXCI6XCJDbGltYXRlIGNoYW5nZVwiLFwia2V5XCI6XCJDTVBGR1BSS1wiLFwidGl0bGVcIjpcIkV4YW1pbmUgdGhlIGltcGxpY2F0aW9ucyBvZiBpbmNyZWFzZWQgb2lsIGFuZCBnYXMgZGV2ZWxvcG1lbnQgZm9yIGNsaW1hdGUgY2hhbmdlXCJ9LHtcInRvcGljXCI6XCJDb21tdW5pdHkgaW1wYWN0c1wiLFwia2V5XCI6XCJWNTM4WTdUOVwiLFwidGl0bGVcIjpcInVuZGVmaW5lZFwifSx7XCJ0b3BpY1wiOlwiQ29tbXVuaXR5LWluZHVzdHJ5IGludGVyYWN0aW9uXCIsXCJrZXlcIjpcIkY4UTVENlJTXCIsXCJ0aXRsZVwiOlwiVW5kZXJzdGFuZCBob3cgY29tbXVuaXRpZXMgYW5kIG9pbCBhbmQgZ2FzIGNvbXBhbmllcyBpbnRlcmFjdCBvbiBhIHZhcmlldHkgb2YgaXNzdWVzXCJ9LHtcInRvcGljXCI6XCJDdW11bGF0aXZlIGltcGFjdHNcIixcImtleVwiOlwibWlzc2luZzFcIixcInRpdGxlXCI6XCJFeHBsb3JlIHN0dWRpZXMgdGhhdCBhZ2dyZWdhdGUgbXVsdGlwbGUgZWZmZWN0cyBvZiBvaWwgYW5kIGdhcyBkZXZlbG9wbWVudFwifSx7XCJ0b3BpY1wiOlwiRWNvbm9taWNzIG9mIHNoYWxlIGRldmVsb3BtZW50XCIsXCJrZXlcIjpcIjQySDU0VFFTXCIsXCJ0aXRsZVwiOlwiRXhhbWluZSB0aGUgY29zdHMsIGlubm92YXRpb25zLCBhbmQgdHJlbmRzIHRoYXQgc2hhcGUgdGhlIGVjb25vbWljcyBvZiBzaGFsZSBkZXZlbG9wbWVudFwifSx7XCJ0b3BpY1wiOlwiRWNvc3lzdGVtcywgaGFiaXRhdHMsIHNwZWNpZXNcIixcImtleVwiOlwiTTQzQzZNVEZcIixcInRpdGxlXCI6XCJVbmRlcnN0YW5kIGhvdyBvaWwgYW5kIGdhcyBkZXZlbG9wbWVudCBjYW4gYWZmZWN0IGxvY2FsIGFuZCByZWdpb25hbCBlY29zeXN0ZW1zLCBoYWJpdGF0cywgYW5kIHNwZWNpZXNcIn0se1widG9waWNcIjpcIkVudmlyb25tZW50YWwganVzdGljZVwiLFwia2V5XCI6XCJYNVpFRFNNUVwiLFwidGl0bGVcIjpcIkRvZXMgb2lsIGFuZCBnYXMgZGV2ZWxvcG1lbnQgaGF2ZSBhIGRpc3Byb3BvcnRpb25hdGUgaW1wYWN0IG9uIGxvdy1pbmNvbWUgb3IgbWlub3JpdHkgY29tbXVuaXRpZXM/XCJ9LHtcInRvcGljXCI6XCJGZWRlcmFsIHJlZ3VsYXRpb25cIixcImtleVwiOlwiU0ZMVVM1STRcIixcInRpdGxlXCI6XCJIb3cgZG9lcyB0aGUgZmVkZXJhbCBnb3Zlcm5tZW50IHJlZ3VsYXRlIHRoZSBvaWwgYW5kIGdhcyBpbmR1c3RyeT9cIn0se1widG9waWNcIjpcIkdyb3VuZHdhdGVyXCIsXCJrZXlcIjpcIlE3TVZKMkVEXCIsXCJ0aXRsZVwiOlwiVW5kZXJzdGFuZCB0aGUgcG90ZW50aWFsIGltcGFjdHMgb2Ygb2lsIGFuZCBnYXMgZGV2ZWxvcG1lbnQgb24gZ3JvdW5kd2F0ZXIgcmVzb3VyY2VzXCJ9LHtcInRvcGljXCI6XCJIdW1hbiBoZWFsdGhcIixcImtleVwiOlwiNVcyWkpUSkNcIixcInRpdGxlXCI6XCJFeHBsb3JlIHRoZSBwb3RlbnRpYWwgaW1wYWN0cyBvZiBvaWwgYW5kIGdhcyBkZXZlbG9wbWVudCBvbiBodW1hbiBoZWFsdGhcIn0se1widG9waWNcIjpcIkxvY2FsIGdvdmVybm1lbnRzXCIsXCJrZXlcIjpcIkVYTFMzTlY0XCIsXCJ0aXRsZVwiOlwiVW5kZXJzdGFuZCBob3cgb2lsIGFuZCBnYXMgZGV2ZWxvcG1lbnQgYWZmZWN0cyBsb2NhbCBnb3Zlcm5tZW50c1wifSx7XCJ0b3BpY1wiOlwiTmF0aW9uYWwgKFVTKS9zZWN0b3JhbCBlY29ub215XCIsXCJrZXlcIjpcIjROUEkzR1lNXCIsXCJ0aXRsZVwiOlwiRXhhbWluZSB0aGUgZWNvbm9taWMgaW1wYWN0cyBvZiBvaWwgYW5kIGdhcyBkZXZlbG9wbWVudCBmb3IgdGhlIFUuUy4gYW5kIG1ham9yIGVjb25vbWljIHNlY3RvcnNcIn0se1widG9waWNcIjpcIk9jY3VwYXRpb25hbCBoYXphcmRzXCIsXCJrZXlcIjpcIm1pc3NpbmcyXCIsXCJ0aXRsZVwiOlwiV2hhdCBhcmUgdGhlIHJpc2tzIG9mIHdvcmtpbmcgaW4gb2lsIGFuZCBnYXMgcHJvZHVjdGlvbj9cIn0se1widG9waWNcIjpcIlByb3BlcnR5IHZhbHVlc1wiLFwia2V5XCI6XCJOWFNZVjRJTVwiLFwidGl0bGVcIjpcIkhvdyBkb2VzIG9pbCBhbmQgZ2FzIGRldmVsb3BtZW50IGFmZmVjdCBuZWFyYnkgcHJvcGVydHkgdmFsdWVzP1wifSx7XCJ0b3BpY1wiOlwiUHVibGljIG9waW5pb25cIixcImtleVwiOlwiWUpEWVU5Vk1cIixcInRpdGxlXCI6XCJIb3cgZG9lcyB0aGUgcHVibGljIHZpZXcgdGhlIGVmZmVjdHMgb2Ygb2lsIGFuZCBnYXMgZGV2ZWxvcG1lbnQ/XCJ9LHtcInRvcGljXCI6XCJRdWFsaXR5IG9mIGxpZmUvQ29tbXVuaXR5IGltcGFjdHNcIixcImtleVwiOlwiWE43R1hORlFcIixcInRpdGxlXCI6XCJFeGFtaW5lIGNvbW11bml0eSBpbXBhY3RzIHN1Y2ggYXMgaG91c2luZyBhZmZvcmRhYmlsaXR5LCBjcmltZSwgZWR1Y2F0aW9uLCB0cnVjayB0cmFmZmljLCBub2lzZSwgYW5kIG1vcmVcIn0se1widG9waWNcIjpcIlNlaXNtaWNpdHlcIixcImtleVwiOlwiRldNWUdVV0lcIixcInRpdGxlXCI6XCJFeHBsb3JlIHRoZSBjb25uZWN0aW9uIGJldHdlZW4gb2lsIGFuZCBnYXMgZGV2ZWxvcG1lbnQgYW5kIGVhcnRocXVha2VzXCJ9LHtcInRvcGljXCI6XCJTdGF0ZSBnb3Zlcm5tZW50XCIsXCJrZXlcIjpcIkFQUkkzVk1aXCIsXCJ0aXRsZVwiOlwiVW5kZXJzdGFuZCBob3cgc3RhdGUgZ292ZXJubWVudHMgYXJlIGFmZmVjdGVkIGJ5LCBhbmQgaG93IHRoZXkgYWZmZWN0LCBvaWwgYW5kIGdhcyBkZXZlbG9wbWVudFwifSx7XCJ0b3BpY1wiOlwiU3RhdGUgcmVndWxhdGlvblwiLFwia2V5XCI6XCI5SUwzVENLRlwiLFwidGl0bGVcIjpcIkhvdyBkbyBzdGF0ZSBnb3Zlcm5tZW50cyByZWd1bGF0ZSB0aGUgb2lsIGFuZCBnYXMgaW5kdXN0cnk/XCJ9LHtcInRvcGljXCI6XCJTdWJuYXRpb25hbCBlY29ub21pZXNcIixcImtleVwiOlwiWDlEU1RJR0VcIixcInRpdGxlXCI6XCJFeGFtaW5lIGhvdyBvaWwgYW5kIGdhcyBkZXZlbG9wbWVudCBhZmZlY3RzIGxvY2FsLCBzdGF0ZSwgYW5kIHJlZ2lvbmFsIGVjb25vbWllc1wifSx7XCJ0b3BpY1wiOlwiU3VyZmFjZSB3YXRlclwiLFwia2V5XCI6XCJRQ1czN1BQMlwiLFwidGl0bGVcIjpcIkV4YW1pbmUgdGhlIGltcGFjdHMgb2Ygb2lsIGFuZCBnYXMgZGV2ZWxvcG1lbnQgb24gdGhlIHF1YW50aXR5IGFuZCBxdWFsaXR5IG9mIHN1cmZhY2Ugd2F0ZXIgcmVzb3VyY2VzXCJ9XSIsImV4cG9ydCBjb25zdCBTdHJpbmdIZWxwZXJzID0gKGZ1bmN0aW9uKCl7XG4gICAgU3RyaW5nLnByb3RvdHlwZS5jbGVhblN0cmluZyA9IGZ1bmN0aW9uKCkgeyAvLyBsb3dlcmNhc2UgYW5kIHJlbW92ZSBwdW5jdHVhdGlvbiBhbmQgcmVwbGFjZSBzcGFjZXMgd2l0aCBoeXBoZW5zOyBkZWxldGUgcHVuY3R1YXRpb25cbiAgICAgICAgcmV0dXJuIHRoaXMucmVwbGFjZSgvWyAvXS9nLCctJykucmVwbGFjZSgvWydcIuKAneKAmeKAnOKAmCwuIT87KCkmXS9nLCcnKS50b0xvd2VyQ2FzZSgpO1xuICAgIH07XG5cbiAgICBTdHJpbmcucHJvdG90eXBlLnJlbW92ZVVuZGVyc2NvcmVzID0gZnVuY3Rpb24oKSB7IFxuICAgICAgICByZXR1cm4gdGhpcy5yZXBsYWNlKC9fL2csJyAnKTtcbiAgICB9O1xuXG4gICAgU3RyaW5nLnByb3RvdHlwZS51bmRvQ2FtZWxDYXNlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcGxhY2UoLyhbQS1aXSkvZywgJyAkMScpLnRvTG93ZXJDYXNlKCk7XG4gICAgfTtcblxuICAgIFN0cmluZy5wcm90b3R5cGUudHJ1bmMgPSBTdHJpbmcucHJvdG90eXBlLnRydW5jIHx8IC8vIGh0IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMTk5NDIwXG4gICAgICAgICBmdW5jdGlvbiggbiwgdXNlV29yZEJvdW5kYXJ5ICl7XG4gICAgICAgICAgICAgaWYgKHRoaXMubGVuZ3RoIDw9IG4pIHsgcmV0dXJuIHRoaXM7IH1cbiAgICAgICAgICAgICB2YXIgc3ViU3RyaW5nID0gdGhpcy5zdWJzdHIoMCwgbi0xKTtcbiAgICAgICAgICAgICByZXR1cm4gKHVzZVdvcmRCb3VuZGFyeSBcbiAgICAgICAgICAgICAgICA/IHN1YlN0cmluZy5zdWJzdHIoMCwgc3ViU3RyaW5nLmxhc3RJbmRleE9mKCcgJykpIFxuICAgICAgICAgICAgICAgIDogc3ViU3RyaW5nKSArIFwiLi4uXCI7XG4gICAgICAgICAgfTtcbn0pKCk7IiwiaW1wb3J0ICcuL2Nzcy9tYWluLnNjc3MnO1xuaW1wb3J0ICcuLi9oZWxwZXJzL3N0cmluZy1oZWxwZXJzJztcbmltcG9ydCB0b29sdGlwcyBmcm9tICcuL2RhdGEvdG9vbHRpcHMuY3N2JztcbmltcG9ydCB0aXBweSBmcm9tICd0aXBweS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVCcm93c2VDYXRlZ29yeSwgY3JlYXRlVG9waWNLZXkgfSBmcm9tICcuL2NvbXBvbmVudHMvQnJvd3NlQnV0dG9ucyc7XG5pbXBvcnQgeyBjcmVhdGVSZXN1bHRzQ29udGFpbmVyLCBjcmVhdGVSZXN1bHRJdGVtLCBmaWx0ZXJSZXN1bHRzIH0gZnJvbSAnLi9jb21wb25lbnRzL1Jlc3VsdEl0ZW1zJzsgXG5pbXBvcnQgU1dIYW5kbGVyIGZyb20gJy4vdXRpbHMvc2VydmljZS13b3JrZXItaGFuZGxlci5qcyc7XG4gICBcbihmdW5jdGlvbigpeyAgICAgXG4vKiBnbG9iYWwgZDMgKi9cblwidXNlIHN0cmljdFwiOyAgXG4gICAgY29uc3QgZ3JvdXBJZCA9ICcyMTI3OTQ4JztcbiAgICB2YXIgY29udHJvbGxlciA9IHsgXG4gICAgICAgIGdhdGVDaGVjazogMCwgXG4gICAgICAgIHNlYXJjaFR5cGU6ICdmaWVsZHMnLFxuICAgICAgICBpbml0KHVzZUxvY2FsKXsgLy8gcGFzcyBpbiB0cnVlIHRvIGJ5cGFzcyBBUEkgYW5kIHVzZSBsb2NhbCBkYXRhXG5cbiAgICAgICAgICAgIFNXSGFuZGxlci5pbml0KCk7XG5cbiAgICAgICAgICAgIHdpbmRvdy5SRkZBcHAubW9kZWwudG9waWNCdXR0b25Qcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuUkZGQXBwLm1vZGVsLnJlc29sdmVUb3BpY0J1dHRvbnMgPSByZXNvbHZlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmdldFpvdGVyb0NvbGxlY3Rpb25zKHVzZUxvY2FsKTtcbiAgICAgICAgICAgIHRoaXMuZ2V0Wm90ZXJvSXRlbXModXNlTG9jYWwpO1xuICAgICAgICAgICAgdGhpcy5zZXR1cFNlYXJjaCgpO1xuICAgICAgICAgICAgY29uc29sZS5sb2codG9vbHRpcHMpO1xuICAgICAgICAgICAgXG4gICAgICAgIH0sXG4gICAgICAgIHNldHVwU2VhcmNoKCl7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29sbGVjdGlvbi1zZWFyY2gnKS5vbnN1Ym1pdCA9IGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB2aWV3LmxvYWRpbmcodHJ1ZSk7XG4gICAgICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLnZhbHVlO1xuICAgICAgICAgICAgICAgIHZhciBBUElTdHJpbmcgPSAnaHR0cHM6Ly9hcGkuem90ZXJvLm9yZy9ncm91cHMvJyArIGdyb3VwSWQgKyAnL2l0ZW1zP3E9JyArIGlucHV0ICsgJyZmb3JtYXQ9a2V5cyc7XG4gICAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSxyZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZDMudGV4dChBUElTdHJpbmcsIChlcnJvcixkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGRhdGEuc3BsaXQoL1xcbi8pKTsgXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHByb21pc2UudGhlbih2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codik7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2WzBdICE9PSAnJyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmdldFNlYXJjaEl0ZW1zKHYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5sb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0U2VhcmNoSXRlbXMoa2V5cyl7XG4gICAgICAgICAgICB2YXIgc2VhcmNoSXRlbXMgPSBtb2RlbC56b3Rlcm9JdGVtcy5maWx0ZXIoaXRlbSA9PiBrZXlzLmluZGV4T2YoaXRlbS5rZXkpICE9PSAtMSApO1xuICAgICAgICAgICAgY29uc29sZS5sb2coc2VhcmNoSXRlbXMpO1xuICAgICAgICAgICAgZmlsdGVyUmVzdWx0cy5jYWxsKHZpZXcsIHNlYXJjaEl0ZW1zLCBjb250cm9sbGVyKTtcbiAgICAgICAgfSxcbiAgICAgICBcbiAgICAgICAgY2hpbGRyZW5pZnkoZGF0YSl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTsgXG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCBkLmRhdGEucGFyZW50Q29sbGVjdGlvbiAhPT0gZmFsc2UgJiYgZC5tZXRhLm51bUl0ZW1zID4gMCApIHsgLy8gaWUgaGFzIGEgcGFyZW50IGFuZCBoYXMgaXRlbXMgKGV4Y2x1ZGUgZW1wdHkgc3ViY29sbGVjdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXRjaCA9IGRhdGEuZmluZChjb2xsZWN0aW9uID0+IGNvbGxlY3Rpb24ua2V5ID09PSBkLmRhdGEucGFyZW50Q29sbGVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmICggbWF0Y2ggIT09IHVuZGVmaW5lZCApe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2guY2hpbGRyZW4gPSBtYXRjaC5jaGlsZHJlbiB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoLmNoaWxkcmVuLnB1c2goZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTsgXG4gICAgICAgICAgICByZXR1cm4gZGF0YTsgXG4gXG4gICAgICAgIH0sXG4gICAgICAgIHJldHVybktleVZhbHVlcyh2YWx1ZXMsIGNvZXJjZSl7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWVzLnNsaWNlKDEpLm1hcChyb3cgPT4gcm93LnJlZHVjZSgoYWNjLCBjdXIsIGkpID0+IHsgXG4gICAgICAgICAgICBcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgYWNjW3ZhbHVlc1swXVtpXV0gPSBjb2VyY2UgPT09IHRydWUgPyBpc05hTigrY3VyKSB8fCBjdXIgPT09ICcnID8gY3VyIDogK2N1ciA6IGN1cjsgXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRlc3QgZm9yIGVtcHR5IHN0cmluZ3MgYmVmb3JlIGNvZXJjaW5nIGJjICsnJyA9PiAwXG4gICAgICAgICAgICB9LCB7fSkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgIFxuICAgICAgICB9LFxuICAgICAgICBuZXN0UHJlbGltKG5lc3RCeUFycmF5KXtcbiAgICAgICAgICAgIC8vIHJlY3Vyc2l2ZSAgbmVzdGluZyBmdW5jdGlvbiwgcHJlbGltIHN0ZXAgdG8gcmVjdXJzaXZlTmVzdFxuICAgICAgICAgICAgcmV0dXJuIG5lc3RCeUFycmF5LnJlZHVjZSgoYWNjLCBjdXIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGN1ciAhPT0gJ3N0cmluZycgJiYgdHlwZW9mIGN1ciAhPT0gJ2Z1bmN0aW9uJyApIHsgdGhyb3cgJ2VhY2ggbmVzdEJ5IGl0ZW0gbXVzdCBiZSBhIHN0cmluZyBvciBmdW5jdGlvbic7IH1cbiAgICAgICAgICAgICAgICB2YXIgcnRuO1xuICAgICAgICAgICAgICAgIGlmICggdHlwZW9mIGN1ciA9PT0gJ3N0cmluZycgKXtcbiAgICAgICAgICAgICAgICAgICAgcnRuID0gYWNjLmtleShmdW5jdGlvbihkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkW2N1cl07XG4gICAgICAgICAgICAgICAgICAgIH0pOyAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCB0eXBlb2YgY3VyID09PSAnZnVuY3Rpb24nICl7XG4gICAgICAgICAgICAgICAgICAgIHJ0biA9IGFjYy5rZXkoZnVuY3Rpb24oZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VyKGQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJ0bjtcbiAgICAgICAgICAgIH0sIGQzLm5lc3QoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlY3Vyc2l2ZU5lc3QodmFsdWVzLCBuZXN0QnksIG5lc3RUeXBlID0gJ3Nlcmllcycpe1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBuZXN0QnkgPSBzdHJpbmcgb3IgYXJyYXkgb2YgZmllbGQocykgdG8gbmVzdCBieSwgb3IgYSBjdXN0b20gZnVuY3Rpb24sIG9yIGFuIGFycmF5IG9mIHN0cmluZ3Mgb3IgZnVuY3Rpb25zO1xuICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCB0eXBlb2YgbmVzdEJ5ID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgbmVzdEJ5ID09PSAnZnVuY3Rpb24nICkgeyAvLyBpZSBvbmx5IG9uZSBuZXN0QnkgZmllbGQgb3IgZnVuY2l0b25cbiAgICAgICAgICAgICAgICB0aGlzLm5lc3RCeUFycmF5ID0gW25lc3RCeV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShuZXN0QnkpKSB7IHRocm93ICduZXN0QnkgdmFyaWFibGUgbXVzdCBiZSBhIHN0cmluZywgZnVuY3Rpb24sIG9yIGFycmF5IG9mIHN0cmluZ3Mgb3IgZnVuY3Rpb25zJzsgfVxuICAgICAgICAgICAgICAgIHRoaXMubmVzdEJ5QXJyYXkgPSBuZXN0Qnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcHJlbGltID0gdGhpcy5uZXN0UHJlbGltKHRoaXMubmVzdEJ5QXJyYXkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIG5lc3RUeXBlID09PSAnb2JqZWN0JyApe1xuICAgICAgICAgICAgICAgIHJldHVybiBwcmVsaW1cbiAgICAgICAgICAgICAgICAgICAgLm9iamVjdCh2YWx1ZXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJlbGltXG4gICAgICAgICAgICAgICAgICAgIC5lbnRyaWVzKHZhbHVlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldFpvdGVyb0NvbGxlY3Rpb25zKHVzZUxvY2FsKXsgLy8gSU1QT1JUQU5UIHRoaXMgd2lsbCBicmVhayBpZiAjIG9mIGNvbGxlY3Rpb25zIGV4Y2VlZHMgMTAwLiB3aWxsIG5lZWRzIHRvIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpbXBsZW1lbnQgc3RyYXRlZ3kgdXNlIGZvciBnZXR0aW5nIGl0ZW1zXG5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCB1c2VMb2NhbCApe1xuICAgICAgICAgICAgICAgIGQzLmpzb24oJ2RhdGEvem90ZXJvQ29sbGVjdGlvbnMtNy0xNi0xOC5qc29uJywgKGVycm9yLGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBlcnJvciApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmNvbGxlY3Rpb25zID0gdGhpcy5jaGlsZHJlbmlmeShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2luY3JlbWVudCBnYXRlQ2hlY2sgZnJvbSBnZXQgY29sbGVjdGlvbnMnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYXRlQ2hlY2srKztcbiAgICAgICAgICAgICAgICAgICAgdmlldy5pbml0KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSxyZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBkMy5qc29uKCdodHRwczovL2FwaS56b3Rlcm8ub3JnL2dyb3Vwcy8nICsgZ3JvdXBJZCArICcvY29sbGVjdGlvbnM/bGltaXQ9MTAwJywgKGVycm9yLGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5jb2xsZWN0aW9ucyA9IHRoaXMuY2hpbGRyZW5pZnkoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgLy8gbW9kZWwuY29sbGVjdGlvbnMgPSB0aGlzLnJlY3Vyc2l2ZU5lc3QoZGF0YSwgW2QgPT4gZC5kYXRhLnBhcmVudENvbGxlY3Rpb24sIGQgPT4gZC5kYXRhLnBhcmVudENvbGxlY3Rpb25dKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShtb2RlbC5jb2xsZWN0aW9ucyk7IFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwcm9taXNlLnRoZW4oZGF0YSA9PiB7ICBcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnaW5jcmVtZW50IGdhdGVDaGVjayBmcm9tIGdldCBjb2xsZWN0aW9ucycpO1xuICAgICAgICAgICAgICAgIHRoaXMuZ2F0ZUNoZWNrKys7XG4gICAgICAgICAgICAgICAgdmlldy5pbml0KCk7XG4gICAgICAgICAgICB9KTsgXG4gICAgICAgIH0sIFxuICAgICAgICBnZXRab3Rlcm9JdGVtcyh1c2VMb2NhbCl7ICAgXG5cbiAgICAgICAgICAgIGlmICggdXNlTG9jYWwgKXtcbiAgICAgICAgICAgICAgICBkMy5qc29uKCdkYXRhL3pvdGVyb0l0ZW1zLTctMTYtMTguanNvbicsIChlcnJvcixkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICggZXJyb3IgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtb2RlbC56b3Rlcm9JdGVtcyA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyc2Vab3Rlcm9JdGVtRGF0ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2luY3JlbWVudCBnYXRlQ2hlY2sgZnJvbSBnZXQgaXRlbXMnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYXRlQ2hlY2srKztcbiAgICAgICAgICAgICAgICAgICAgdmlldy5pbml0KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgaW5pdGlhbEl0ZW1zUHJvbWlzZXMgPSBbXSxcbiAgICAgICAgICAgICAgICBzdWJzZXF1ZW50SXRlbXNQcm9taXNlcyA9IFtdLFxuICAgICAgICAgICAgICAgIGluaXRpYWxNYXggPSA5OyAvLyBsYXN0IGtub3duIG51bWJlciBvZiB0aW1lcyB0aGUgQVBJIG11c3QgYmUgaGl0IHRvIGdldCBhbGwgcmVzdWx0cy4gMTAwIHJldHVybmVkIGF0IGEgdGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc28gMyB3b3VsZCBnZXQgdXAgdG8gMzAwIGh1bmRyZWQuIHRpbWUgb2YgY29kaW5nIHRvdGFsIHdhcyAyODQ7IHdoZW4gdGhlIHRvYWwgaW5jcmVhc2VzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBjb2RlIGJlbG93IHdpbGwgbWFrZSBhZGRpdGlvbiBBUEkgY2FsbHNcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZnVuY3Rpb24gY29uc3RydWN0UHJvbWlzZShpKXtcbiAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCkgPT4geyAvLyB1c2luZyBkMy5yZXF1ZXN0IGluc3RlYWQgb2YgLmpzb24gdG8gaGF2ZSBhY2Nlc3MgdG8gdGhlIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlc3BvbnNlIGhlYWRlcnMuICdUb3RhbC1SZXN1bHRzJywgaW4gcGFydHVjdWxhclxuICAgICAgICAgICAgICAgICAgICBkMy5yZXF1ZXN0KCdodHRwczovL2FwaS56b3Rlcm8ub3JnL2dyb3Vwcy8nICsgZ3JvdXBJZCArICcvaXRlbXMvdG9wP2luY2x1ZGU9ZGF0YSxiaWImbGltaXQ9MTAwJnN0YXJ0PScgKyAoIGkgKiAxMDAgKSwgKGVycm9yLHhocikgPT4geyBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygreGhyLmdldFJlc3BvbnNlSGVhZGVyKCdsYXN0LW1vZGlmaWVkLXZlcnNpb24nKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL21vZGVsLmxhc3RNb2RpZmllZFZlcnNpb24gPSBtb2RlbC5sYXN0TW9kaWZpZWRWZXJzaW9uIHx8ICt4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ2xhc3QtbW9kaWZpZWQtdmVyc2lvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWw6ICt4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ1RvdGFsLVJlc3VsdHMnKSwgLy8gKyBvcGVyYW5kIGNvZXJjZXMgdG8gbnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7IFxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlOyAgICAgXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAoIGxldCBpID0gMDsgaSA8IGluaXRpYWxNYXg7IGkrKyApe1xuICAgICAgICAgICAgICAgIGluaXRpYWxJdGVtc1Byb21pc2VzLnB1c2goY29uc3RydWN0UHJvbWlzZShpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBQcm9taXNlLnJhY2UoaW5pdGlhbEl0ZW1zUHJvbWlzZXMpLnRoZW4odmFsdWUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAoIHZhbHVlLnRvdGFsID4gaW5pdGlhbE1heCApIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICggbGV0IGkgPSBpbml0aWFsTWF4OyBpIDwgTWF0aC5jZWlsKHZhbHVlLnRvdGFsIC8gMTAwKTsgaSsrICl7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzZXF1ZW50SXRlbXNQcm9taXNlcy5wdXNoKGNvbnN0cnVjdFByb21pc2UoaSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFByb21pc2UuYWxsKFsuLi5pbml0aWFsSXRlbXNQcm9taXNlcywuLi5zdWJzZXF1ZW50SXRlbXNQcm9taXNlc10pLnRoZW4oKHZhbHVlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmRhdGVTdHJpbmdzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh2YWx1ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzLmZvckVhY2godmFsdWUgPT4geyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHZhbHVlLmRhdGEuZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuem90ZXJvSXRlbXMucHVzaCguLi52YWx1ZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkobW9kZWwuem90ZXJvSXRlbXMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyc2Vab3Rlcm9JdGVtRGF0ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2F0ZUNoZWNrKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3LmluaXQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgUHJvbWlzZS5hbGwoaW5pdGlhbEl0ZW1zUHJvbWlzZXMpLnRoZW4oKHZhbHVlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codmFsdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcy5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC56b3Rlcm9JdGVtcy5wdXNoKC4uLnZhbHVlLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnNlWm90ZXJvSXRlbURhdGVzKCk7IFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nYXRlQ2VjaysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5pbml0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgfSxcbiAgICAgICAgcGFyc2Vab3Rlcm9JdGVtRGF0ZXMoKXtcbiAgICAgICAgICAgIG1vZGVsLnpvdGVyb0l0ZW1zLmZvckVhY2goZCA9PiB7IC8vIFRPRE8gIHdheSB0b28gcmVwZXRpdGl2ZSBvZiBhYm92ZVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXIgcGFyc2VkRGF0ZXMgPSB0aGlzLmdldERhdGVzRnJvbVN0cmluZyhkLmRhdGEuZGF0ZSk7XG4gICAgICAgICAgICAgICAgZC5kYXRhLmRhdGVTdHJpbmcgPSBwYXJzZWREYXRlcy5kaXNwbGF5O1xuICAgICAgICAgICAgICAgIGQuZGF0YS5kYXRlVmFsdWUgPSBwYXJzZWREYXRlcy52YWx1ZTtcbiAgICAgICAgICAgIH0pOyBcbiAgICAgICAgICAgIG1vZGVsLnpvdGVyb0l0ZW1zLnNvcnQoKGEsYikgPT4gZDMuZGVzY2VuZGluZyhhLmRhdGEuZGF0ZVZhbHVlLCBiLmRhdGEuZGF0ZVZhbHVlKSk7IFxuICAgICAgfSxcbiAgICAgICAgZ2V0Q29sbGVjdGlvbkl0ZW1zKGNvbGxlY3Rpb25LZXkpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coY29sbGVjdGlvbktleSk7XG4gICAgICAgICAgICB2YXIgY29sbGVjdGlvbiA9IG1vZGVsLmNvbGxlY3Rpb25zLmZpbmQoYyA9PiBjLmtleSA9PT0gY29sbGVjdGlvbktleSApO1xuICAgICAgICAgICAgY29uc29sZS5sb2coY29sbGVjdGlvbik7XG4gICAgICAgICAgICB2YXIgY29sbGVjdGlvbkl0ZW1zID0gbW9kZWwuem90ZXJvSXRlbXMuZmlsdGVyKHogPT4gei5kYXRhLmNvbGxlY3Rpb25zLmluZGV4T2YoY29sbGVjdGlvbktleSkgIT09IC0xKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvbGxlY3Rpb25JdGVtcyk7XG4gICAgICAgICAgICB2YXIgc3ludGhlc2lzSXRlbXMgPSBbXTsgXG4gICAgICAgICAgICBpZiAoIGNvbGxlY3Rpb24uY2hpbGRyZW4gKSB7XG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbi5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHsgLy8gdG8gZG8gbWFrZSBtb3JlIERSWVxuICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IG1vZGVsLnpvdGVyb0l0ZW1zLmZpbHRlcih6ID0+IHouZGF0YS5jb2xsZWN0aW9ucy5pbmRleE9mKGNoaWxkLmtleSkgIT09IC0xKTtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcy5mb3JFYWNoKG1hdGNoID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoLnN5bnRoZXNpc1R5cGUgPSBjaGlsZC5kYXRhLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzeW50aGVzaXNJdGVtcy5wdXNoKC4uLm1hdGNoZXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3JlYXRlUmVzdWx0c0NvbnRhaW5lci5jYWxsKHZpZXcpO1xuICAgICAgICAgICAgZmlsdGVyUmVzdWx0cy5jYWxsKHZpZXcsIGNvbGxlY3Rpb25JdGVtcywgY29udHJvbGxlcik7XG4gICAgICAgICAgICB2aWV3LmZpbHRlclN5bnRoZXNpc1Jlc3VsdHMoc3ludGhlc2lzSXRlbXMpO1xuICAgICAgICAgICAgLyp2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGQzLnRleHQoJ2h0dHBzOi8vYXBpLnpvdGVyby5vcmcvZ3JvdXBzLycgKyBncm91cElkICsgJy9jb2xsZWN0aW9ucy8nICsgY29sbGVjdGlvbktleSArICcvaXRlbXM/Zm9ybWF0PWtleXMnLCAoZXJyb3IsdGV4dCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRleHQpOyBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcHJvbWlzZS50aGVuKHRleHQgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBrZXlzID0gdGV4dC5zcGxpdCgnXFxuJyk7IC8vIEFQSSByZXNwb25zZSBpcyB0ZXh0IG9mIGtleXMgd2l0aCBuZXdsaW5lIGJldHdlZW5cbiAgICAgICAgICAgICAgICBpZiAoIGtleXNba2V5cy5sZW5ndGggLSAxXSA9PT0gJycgKXsgLy8gdGhlIGxhc3QgaXRlbSBzZWVtcyB0byBiZSBhbiBlbXB0eSBzdHJpbmcgKG5ld2xpbmUgYXQgZW5kKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGNoZWNrcyBmb3IgdGhhdCBhbmQgcmVtb3ZlcyBpdCAocG9wKCkpIGlmIHRydWVcbiAgICAgICAgICAgICAgICAgICAga2V5cy5wb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTsqL1xuICAgICAgICB9LFxuICAgICAgICBnZXREYXRlc0Zyb21TdHJpbmcoc3RyaW5nKXtcbiAgICAgICAvLyAgICAgY29uc29sZS5sb2coc3RyaW5nKTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IG5ldyBEYXRlKDE3NzYsMyw0KSwgLy8gc28gdGhhdCBwdWJzIHdpdGhvdXQgZGF0ZXMgYXJlIHNvcnRlZCBwcm9wZXJseSAobnVsbCA9PSAwID09IDE5NzApO1xuICAgICAgICAgICAgICAgIGRpc3BsYXkgPSAnJyxcbiAgICAgICAgICAgICAgICBtYXRjaFR5cGVzID0ge1xuICAgICAgICAgICAgICAgICAgICBmb3J0aGNvbWluZzovZm9ydGhjb21pbmcvLFxuICAgICAgICAgICAgICAgICAgICB5eXl5OiAgICAgICAvXihcXGR7NH0pJC8sXG4gICAgICAgICAgICAgICAgICAgIHl5eXltbWRkOiAgIC8oXFxkezR9KVstL10oXFxkezEsMn0pWy0vXShcXGR7MSwyfSkvLCBcbiAgICAgICAgICAgICAgICAgICAgbW9udGhkZHl5eXk6L14oXFx3KylcXC4qICooXFxkezEsMn0pLCAqKFxcZHs0fSkvLFxuICAgICAgICAgICAgICAgICAgICBtb250aHl5eXk6ICAvXihcXHcrKVxcLiogKFxcZHs0fSkvLFxuICAgICAgICAgICAgICAgICAgICB5eXl5bW06ICAgICAvXihcXGR7NH0pWy0vXShcXGR7MSwyfSkkLyxcbiAgICAgICAgICAgICAgICAgICAgbW1kZHl5eXk6ICAgL14oXFxkezEsMn0pWy0vXShcXGR7MSwyfSlbLS9dKFxcZHs0fSkvLFxuICAgICAgICAgICAgICAgICAgICB5eXl5eXl5eTogICAvXihcXGR7NH0pWy3igJPigJRdXFxkezR9LyxcbiAgICAgICAgICAgICAgICAgICAgeXl5eW1vbnRoZGQ6L14oXFxkezR9KSAqKFxcdyspXFwuKiAqKFxcZHsxLDJ9KS8gXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBmdW5jdGlvbiBjaGVja01vbnRoKHN0cil7XG4gICAgICAgICAgICAgICAgaWYgKCBtb250aHNbc3RyXSAhPT0gdW5kZWZpbmVkICYmIGlzTmFOKG1vbnRoc1tzdHJdKSApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vbnRoc1tzdHJdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgbW9udGhzID0ge1xuICAgICAgICAgICAgICAgICcwJzogJ0phbnVhcnknLFxuICAgICAgICAgICAgICAgICcxJzogJ0ZlYnJ1YXJ5JyxcbiAgICAgICAgICAgICAgICAnMic6ICdNYXJjaCcsXG4gICAgICAgICAgICAgICAgJzMnOiAnQXByaWwnLFxuICAgICAgICAgICAgICAgICc0JzogJ01heScsXG4gICAgICAgICAgICAgICAgJzUnOiAnSnVuZScsXG4gICAgICAgICAgICAgICAgJzYnOiAnSnVseScsXG4gICAgICAgICAgICAgICAgJzcnOiAnQXVndXN0JyxcbiAgICAgICAgICAgICAgICAnOCc6ICdTZXB0ZW1iZXInLFxuICAgICAgICAgICAgICAgICc5JzogJ09jdG9iZXInLFxuICAgICAgICAgICAgICAgJzEwJzogJ05vdmVtYmVyJyxcbiAgICAgICAgICAgICAgICcxMSc6ICdEZWNlbWJlcicsXG4gICAgICAgICAgICAgICAgJ0phbnVhcnknOiAgMCxcbiAgICAgICAgICAgICAgICAnRmVicnVhcnknOiAxLFxuICAgICAgICAgICAgICAgICdNYXJjaCc6ICAgIDIsXG4gICAgICAgICAgICAgICAgJ0FwcmlsJzogICAgMyxcbiAgICAgICAgICAgICAgICAnTWF5JzogICAgICA0LFxuICAgICAgICAgICAgICAgICdKdW5lJzogICAgIDUsXG4gICAgICAgICAgICAgICAgJ0p1bHknOiAgICAgNixcbiAgICAgICAgICAgICAgICAnQXVndXN0JzogICA3LFxuICAgICAgICAgICAgICAgICdTZXB0ZW1iZXInOjgsXG4gICAgICAgICAgICAgICAgJ09jdG9iZXInOiAgOSxcbiAgICAgICAgICAgICAgICAnTm92ZW1iZXInOiAxMCxcbiAgICAgICAgICAgICAgICAnRGVjZW1iZXInOiAxMSxcbiAgICAgICAgICAgICAgICAnV2ludGVyJzogICAxMSxcbiAgICAgICAgICAgICAgICAnU3ByaW5nJzogICAyLFxuICAgICAgICAgICAgICAgICdTdW1tZXInOiAgIDUsXG4gICAgICAgICAgICAgICAgJ0ZhbGwnOiAgICAgOCxcbiAgICAgICAgICAgICAgICAnQXV0dW1uJzogICA4LFxuICAgICAgICAgICAgICAgICdKYW4nOiAnSmFudWFyeScsXG4gICAgICAgICAgICAgICAgJ0ZlYic6ICdGZWJydWFyeScsXG4gICAgICAgICAgICAgICAgJ01hcic6ICdNYXJjaCcsXG4gICAgICAgICAgICAgICAgJ0Fwcic6ICdBcHJpbCcsXG4gICAgICAgICAgICAgICAgJ0p1bic6ICdKdW5lJyxcbiAgICAgICAgICAgICAgICAnSnVsJzogJ0p1bHknLFxuICAgICAgICAgICAgICAgICdBdWcnOiAnQXVndXN0JyxcbiAgICAgICAgICAgICAgICAnU2VwJzogJ1NlcHRlbWJlcicsXG4gICAgICAgICAgICAgICAgJ1NlcHQnOiAnU2VwdGVtYmVyJyxcbiAgICAgICAgICAgICAgICAnT2N0JzogJ09jdG9iZXInLFxuICAgICAgICAgICAgICAgICdOb3YnOiAnTm92ZW1lYmVyJyxcbiAgICAgICAgICAgICAgICAnRGVjJzogJ0RlY2VtYmVyJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZvciAodmFyIHR5cGUgaW4gbWF0Y2hUeXBlcykge1xuICAgICAgICAgICAgICAgIGlmICggbWF0Y2hUeXBlcy5oYXNPd25Qcm9wZXJ0eSh0eXBlKSAmJiBzdHJpbmcgIT09IHVuZGVmaW5lZCApIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1hdGNoID0gc3RyaW5nLm1hdGNoKG1hdGNoVHlwZXNbdHlwZV0pOyAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkge1xuICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICggdHlwZSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd5eXl5JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheSA9IHN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSgrbWF0Y2hbMV0sMCwxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAneXl5eW1tZGQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5ID0gYCR7bW9udGhzWygrbWF0Y2hbMl0gLSAxKS50b1N0cmluZygpXX0gJHsrbWF0Y2hbM119LCAke21hdGNoWzFdfWA7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKCttYXRjaFsxXSwgK21hdGNoWzJdIC0gMSwgK21hdGNoWzNdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnbW9udGhkZHl5eXknOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5ID0gYCR7Y2hlY2tNb250aChtYXRjaFsxXSl9ICR7K21hdGNoWzJdfSwgJHttYXRjaFszXX1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKCttYXRjaFszXSwgbW9udGhzW2NoZWNrTW9udGgobWF0Y2hbMV0pXSwgK21hdGNoWzJdKTsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ21vbnRoeXl5eSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXkgPSBgJHtjaGVja01vbnRoKG1hdGNoWzFdKX0gJHttYXRjaFsyXX1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKCttYXRjaFsyXSwgbW9udGhzW2NoZWNrTW9udGgobWF0Y2hbMV0pXSwgMSk7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd5eXl5bW0nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5ID0gbW9udGhzWygrbWF0Y2hbMl0gLSAxKV0gKyAnICcgKyBtYXRjaFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSgrbWF0Y2hbMV0sICttYXRjaFsyXSAtIDEsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdtbWRkeXl5eSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXkgPSBgJHttb250aHNbKCttYXRjaFsxXSAtIDEpXX0gJHsrbWF0Y2hbMl19LCAke21hdGNoWzNdfWA7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKCttYXRjaFszXSwgK21hdGNoWzFdIC0gMSwgK21hdGNoWzJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAneXl5eXl5eXknOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5ID0gc3RyaW5nLnJlcGxhY2UoJy0nLCfigJQnKS5yZXBsYWNlKCctJywn4oCTJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUoK21hdGNoWzFdLDAsMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3l5eXltb250aGRkJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheSA9IGAke2NoZWNrTW9udGgobWF0Y2hbMl0pfSAkeyttYXRjaFszXX0sICR7bWF0Y2hbMV19YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSgrbWF0Y2hbMV0sIG1vbnRoc1tjaGVja01vbnRoKG1hdGNoWzJdKV0sICttYXRjaFszXSk7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdmb3J0aGNvbWluZyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXkgPSAgJ2ZvcnRoY29taW5nJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAgbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSAgXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgIGRpc3BsYXlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGJpYmxpb1Rvb2x0aXBzKCl7XG4gICAgICAgICAgICB0aXBweSgnLnRpcHB5LWNsaXBib2FyZCcsIHtcbiAgICAgICAgICAgICAgICBhcnJvdzogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aGVtZTonUkZGJyxcbiAgICAgICAgICAgICAgICB0cmlnZ2VyOiAnbWFudWFsJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aXBweSgnLmNvcHktYmliJywge1xuICAgICAgICAgICAgICAgIGFycm93OiB0cnVlLFxuICAgICAgICAgICAgICAgIGhpZGVPbkNsaWNrOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aGVtZTonUkZGJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBjb3B5QmliVGV4dCgpe1xuICAgICAgICAgIC8vIHRoaXMgPSBlbGVtZW50XG4gICAgICAgICAgdmFyIGJpYkVudHJ5ID0gdGhpcy5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJy5iaWItY29udGFpbmVyJyk7XG4gICAgICAgICAvLyBiaWJFbnRyeS5mb2N1cygpO1xuICAgICAgICAgIGJpYkVudHJ5LnNlbGVjdCgpO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgc3VjY2Vzc2Z1bCA9IGRvY3VtZW50LmV4ZWNDb21tYW5kKCdjb3B5Jyk7XG4gICAgICAgICAgICB2YXIgbXNnID0gc3VjY2Vzc2Z1bCA/ICdzdWNjZXNzZnVsJyA6ICd1bnN1Y2Nlc3NmdWwnO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0NvcHlpbmcgdGV4dCBjb21tYW5kIHdhcyAnICsgbXNnKTtcbiAgICAgICAgICAgIGlmICggc3VjY2Vzc2Z1bCApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudE5vZGUuX3RpcHB5LnNob3coKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnROb2RlLl90aXBweS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgfSwxMDAwKTtcbiAgICAgICAgICAgICAgICAvL3RoaXMuX3RpcHB5LnBvcHBlci5xdWVyeVNlbGVjdG9yKCcudGlwcHktY29udGVudCcpLnRleHRDb250ZW50ID0gJ0NvcGllZCB0byBjbGlwYm9hcmQnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ09vcHMsIHVuYWJsZSB0byBjb3B5Jyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH0gIFxuXG5cbiAgICB9OyBcbiBcbiAgICB2YXIgbW9kZWwgPSB7XG4gICAgICAgIHpvdGVyb0l0ZW1zOiBbXVxuICAgIH07IFxuICAgIFxuICAgIHZhciB2aWV3ID0geyBcbiAgICAgICAgaW5pdCgpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coY29udHJvbGxlci5nYXRlQ2hlY2spO1xuICAgICAgICAgICAgaWYgKCBjb250cm9sbGVyLmdhdGVDaGVjayA8IDIgKXtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdyZXR1cm4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUkVBRFkhJyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhtb2RlbC56b3Rlcm9JdGVtcyk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclRvcGljQnV0dG9ucygpO1xuICAgICAgICAgICAgdGhpcy5hdHRhY2hUb29sdGlwcygpO1xuICAgICAgICAgICAgY29uc29sZS5sb2cobW9kZWwuY29sbGVjdGlvbnMpO1xuICAgICAgICAgICAgdmFyIGluaXRpYWxDYXRlZ29yeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5icm93c2UtYnV0dG9ucyBkaXYuYWN0aXZlJykuZGF0YXNldC5jb2xsZWN0aW9uO1xuICAgICAgICAgICAgY29udHJvbGxlci5nZXRDb2xsZWN0aW9uSXRlbXMoaW5pdGlhbENhdGVnb3J5KTtcbiAgICAgICAgICAgIHRoaXMuc2V0dXBTaWRlYmFyKCk7XG4gICAgICAgICAgICB0aGlzLmxvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICBcbiAgICAgICAgfSxcbiAgICAgICAgYXR0YWNoVG9vbHRpcHMoKXtcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5icm93c2UtYnV0dG9ucyA+IGRpdicpLmZvckVhY2goYnRuID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2ggPSB0b29sdGlwcy5maW5kKGQgPT4gZC5rZXkgPT09IGJ0bi5kYXRhc2V0LmNvbGxlY3Rpb24pO1xuICAgICAgICAgICAgICAgIGlmICggbWF0Y2ggIT09IHVuZGVmaW5lZCApe1xuICAgICAgICAgICAgICAgICAgICBidG4uc2V0QXR0cmlidXRlKCd0aXRsZScsIG1hdGNoLnRpdGxlKTtcbiAgICAgICAgICAgICAgICAgICAgdGlwcHkub25lKGJ0biwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhlbWU6J1JGRicsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcnJvdzogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0dXBTaWRlYmFyKCl7XG4gICAgICAgICAgXG4gICAgICAgICAgICB2YXIgbW9udGhzID0ge1xuICAgICAgICAgICAgICAgICcwJzogJ0phbnVhcnknLFxuICAgICAgICAgICAgICAgICcxJzogJ0ZlYnJ1YXJ5JyxcbiAgICAgICAgICAgICAgICAnMic6ICdNYXJjaCcsXG4gICAgICAgICAgICAgICAgJzMnOiAnQXByaWwnLFxuICAgICAgICAgICAgICAgICc0JzogJ01heScsXG4gICAgICAgICAgICAgICAgJzUnOiAnSnVuZScsXG4gICAgICAgICAgICAgICAgJzYnOiAnSnVseScsXG4gICAgICAgICAgICAgICAgJzcnOiAnQXVndXN0JyxcbiAgICAgICAgICAgICAgICAnOCc6ICdTZXB0ZW1iZXInLFxuICAgICAgICAgICAgICAgICc5JzogJ09jdG9iZXInLFxuICAgICAgICAgICAgICAgJzEwJzogJ05vdmVtYmVyJyxcbiAgICAgICAgICAgICAgICcxMSc6ICdEZWNlbWJlcidcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgbGFzdE1vZGlmaWVkRGF0ZSA9IGQzLm1heChtb2RlbC56b3Rlcm9JdGVtcywgZCA9PiBuZXcgRGF0ZShkLmRhdGEuZGF0ZU1vZGlmaWVkKSk7XG4gICAgICAgICAgICB2YXIgdmVyc2lvbiA9IGQzLm1heChtb2RlbC56b3Rlcm9JdGVtcywgZCA9PiBkLmRhdGEudmVyc2lvbik7XG4gICAgICAgICAgICB2YXIgc2lkZWJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzaWRlYmFyJyk7XG4gICAgICAgICAgICBzaWRlYmFyLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxoMj5MaWJyYXJ5IGluZm88L2gyPlxuICAgICAgICAgICAgPHA+RGF0ZSBsYXN0IG1vZGlmaWVkOiAke2xhc3RNb2RpZmllZERhdGUuZ2V0RGF0ZSgpfSAke21vbnRoc1tsYXN0TW9kaWZpZWREYXRlLmdldE1vbnRoKCldfSAke2xhc3RNb2RpZmllZERhdGUuZ2V0RnVsbFllYXIoKX08YnIgLz4oVmVyc2lvbiAke3ZlcnNpb259KTwvcD5cbiAgICAgICAgICAgIGA7XG5cbiAgICAgICAgICAgIHRoaXMubWFrZVBpZUNoYXJ0KCk7ICBcblxuICAgICAgICAgICAgdGhpcy5zaWJlYmFyRG9jdW1lbnRhdGlvbigpOyAgICAgXG4gICAgICAgICAgICB0aGlzLnNpZGViYXJDb250YWN0KCk7ICAgXG5cbiAgICAgICAgfSxcbiAgICAgICAgc2liZWJhckRvY3VtZW50YXRpb24oKXtcbiAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGRpdi5jbGFzc05hbWUgPSAnZG9jdW1lbnRhdGlvbic7XG4gICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPGgzPkRvY3VtZW50YXRpb248L2gzPlxuICAgICAgICAgICAgPHA+PGEgaHJlZj1cIiNcIj5TSEFSQyBGcmVxdWVudGx5IEFza2VkIFF1ZXN0aW9uczwvYT4gKFBERik8L3A+XG4gICAgICAgICAgICA8cD48YSBocmVmPVwiI1wiPkhvdyBTSEFSQyBJcyBCdWlsdDwvYT4gKFBERik8L3A+XG4gICAgICAgICAgICBgO1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NpZGViYXInKS5hcHBlbmQoZGl2KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2lkZWJhckNvbnRhY3QoKXtcbiAgICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBkaXYuY2xhc3NOYW1lID0gJ2NvbnRhY3QtdXMnO1xuICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8aDM+UXVlc3Rpb25zPyBHZXQgaW4gdG91Y2g8L2gzPlxuICAgICAgICAgICAgICA8Zm9ybT48IS0tPGZvcm0gbWV0aG9kPVwiUE9TVFwiIGFjdGlvbj1cImh0dHA6Ly9mb3Jtc3ByZWUuaW8vWFhYWFhYWFwiIF9scGNoZWNrZWQ9XCIxXCI+LS0+XG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZW1haWxcIiBuYW1lPVwiZW1haWxcIiBwbGFjZWhvbGRlcj1cIllvdXIgZW1haWxcIj5cbiAgICAgICAgICAgICAgPHRleHRhcmVhIG5hbWU9XCJtZXNzYWdlXCIgcGxhY2Vob2xkZXI9XCJZb3VyIG1lc3NhZ2VcIj48L3RleHRhcmVhPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJfZ290Y2hhXCIgc3R5bGU9XCJkaXNwbGF5Om5vbmVcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJfbmV4dFwiIHZhbHVlPVwiL3Byb2plY3RzLz90aGFua3NcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCI+U2VuZDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgIGA7ICBcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2lkZWJhcicpLmFwcGVuZChkaXYpO1xuICAgICAgICB9LFxuICAgICAgICBtYWtlUGllQ2hhcnQoKXtcbiAgICAgICAgICAgIHZhciBzdmcgPSBkMy5zZWxlY3QoJyNzaWRlYmFyJylcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCdzdmcnKVxuICAgICAgICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgJzEwMCUnKVxuICAgICAgICAgICAgICAgICAgLmF0dHIoJ3htbG5zJywnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnKVxuICAgICAgICAgICAgICAgICAgLmF0dHIoJ3ZlcnNpb24nLCcxLjEnKVxuICAgICAgICAgICAgICAgICAgLmF0dHIoJ3ZpZXdCb3gnLCBgMCAwIDEwMCA2MmApXG4gICAgICAgICAgICAgICAgICAuYXR0cignZm9jdXNhYmxlJyxmYWxzZSlcbiAgICAgICAgICAgICAgICAgIC5hdHRyKCdhcmlhLWxhYmVsbGVkYnknLCBgc3ZnVGl0bGUgc3ZnRGVzY2ApXG4gICAgICAgICAgICAgICAgICAuYXR0cigncm9sZScsJ2dyYXBoaWNzLWRhdGF1bml0JylcbiAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdwdWJ0eXBlLXBpZScpO1xuXG4gICAgICAgICAgICAgICAgc3ZnLmFwcGVuZCgndGl0bGUnKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignaWQnLCBgc3ZnVGl0bGVgKVxuICAgICAgICAgICAgICAgICAgICAudGV4dChgUGllIGNoYXJ0IG9mIHB1YmxpY2F0aW9uIHR5cGVzYCk7XG5cbiAgICAgICAgICAgICAgICBzdmcuYXBwZW5kKCdkZXNjJylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2lkJyxgc3ZnRGVzY2ApXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KGBQaWUgY2hhcnQgb2YgcHVibGljYXRpb24gdHlwZXNgKTtcblxuICAgICAgICAgICAgdmFyIHJhZGl1cyA9IDMwO1xuICAgICAgICAgICAgdmFyIGcgPSBzdmcuYXBwZW5kKCdnJylcbiAgICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3JhZGl1c30sJHtyYWRpdXN9KWApO1xuXG4gICAgICAgICAgICB2YXIgcGllU2VnbWVudHMgPSA1O1xuXG5cbiAgICAgICAgICAgIHZhciByb2xsdXAgPSBkMy5uZXN0KCkua2V5KGQgPT4gZC5kYXRhLml0ZW1UeXBlKS5yb2xsdXAodiA9PiB2Lmxlbmd0aCkuZW50cmllcyhtb2RlbC56b3Rlcm9JdGVtcy5maWx0ZXIoZCA9PiBkLmRhdGEuaXRlbVR5cGUgIT09ICdhdHRhY2htZW50JykpLnNvcnQoKGEsYikgPT4gZDMuZGVzY2VuZGluZyhhLnZhbHVlLCBiLnZhbHVlKSk7XG4gICAgICAgICAgICB2YXIgdG90YWxOdW1iZXIgPSByb2xsdXAucmVkdWNlKChhY2MsY3VyKSA9PiBhY2MgKyBjdXIudmFsdWUsIDApO1xuXG4gICAgICAgICAgICB2YXIgcGllRGF0YSA9IFtdO1xuICAgICAgICAgICAgcm9sbHVwLmZvckVhY2goKGQsIGkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIGkgPCBwaWVTZWdtZW50cyAtIDEgKXtcbiAgICAgICAgICAgICAgICAgICAgcGllRGF0YS5wdXNoKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGQua2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIGkgPT09IHBpZVNlZ21lbnRzIC0gMSApe1xuICAgICAgICAgICAgICAgICAgICBsZXQgY29tYmluZWRWYWx1ZSA9IHJvbGx1cC5zbGljZShpKS5yZWR1Y2UoKGFjYywgY3VyKSA9PiBhY2MgKyBjdXIudmFsdWUsMCk7XG4gICAgICAgICAgICAgICAgICAgIHBpZURhdGEucHVzaCgge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnb3RoZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY29tYmluZWRWYWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHBpZURhdGEpO1xuICAgICAgICAgICAgdmFyIHBpZSA9IGQzLnBpZSgpLnNvcnQobnVsbCkudmFsdWUoZCA9PiBkLnZhbHVlKTtcblxuICAgICAgICAgICAgdmFyIHBhdGggPSBkMy5hcmMoKVxuICAgICAgICAgICAgICAgIC5vdXRlclJhZGl1cyhyYWRpdXMpXG4gICAgICAgICAgICAgICAgLmlubmVyUmFkaXVzKHJhZGl1cyAvIDEuNSApO1xuXG4gICAgICAgICAgICB2YXIgbGFiZWwgPSBkMy5hcmMoKVxuICAgICAgICAgICAgICAgIC5vdXRlclJhZGl1cyhyYWRpdXMgKiAuODUpXG4gICAgICAgICAgICAgICAgLmlubmVyUmFkaXVzKCByYWRpdXMgKiAuODUgKTtcbiAgICAgICAgICAgXG4gICAgICAgICAgICAgdmFyIGFyYyA9IGcuc2VsZWN0QWxsKCcuYXJjJylcbiAgICAgICAgICAgICAgICAuZGF0YShwaWUocGllRGF0YSkpXG4gICAgICAgICAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdnJylcbiAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsIGQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdhcmMgJyArIGQuZGF0YS5uYW1lO1xuICAgICAgICAgICAgICAgIH0pO1xuXG5cblxuICAgICAgICAgICAgICBhcmMuYXBwZW5kKCdwYXRoJylcbiAgICAgICAgICAgICAgICAgIC5hdHRyKCdkJywgcGF0aCk7XG5cbiAgICAgICAgICAgICBhcmMuYXBwZW5kKCd0ZXh0JylcbiAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGQgPT4gJ3RyYW5zbGF0ZSgnICsgbGFiZWwuY2VudHJvaWQoZCkgKyAnKScpXG4gICAgICAgICAgICAgIC5hdHRyKCdkeScsICcwLjM1ZW0nKVxuICAgICAgICAgICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnbWlkZGxlJylcbiAgICAgICAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIDQpXG4gICAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgZCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGQuZGF0YS5uYW1lID09PSAnam91cm5hbEFydGljbGUnIHx8IGQuZGF0YS5uYW1lID09PSAnYm9vaycgfHwgZC5kYXRhLm5hbWUgPT09ICdyZXBvcnQnKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcjZmZmZmZmJztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyMwMDAwMDAnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLnRleHQoZCA9PiBkLmRhdGEudmFsdWUpO1xuXG4gICAgICAgICAgICB2YXIgcHViVHlwZXMgPSB7XG4gICAgICAgICAgICAgICAgam91cm5hbEFydGljbGU6ICdqb3VybmFsIGFydGljbGVzJyxcbiAgICAgICAgICAgICAgICByZXBvcnQ6ICdyZXBvcnRzJyxcbiAgICAgICAgICAgICAgICB3ZWJwYWdlOiAnd2VicGFnZXMnLFxuICAgICAgICAgICAgICAgIGJvb2s6ICdib29rcycsXG4gICAgICAgICAgICAgICAgb3RoZXI6ICdvdGhlcidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBsZWdlbmRJdGVtcyA9IHN2Zy5hcHBlbmQoJ2cnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsJ2xlZ2VuZCcpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArICggcmFkaXVzICogMiArIDUgKSArICcsMiknKVxuICAgICAgICAgICAgICAgIC5zZWxlY3RBbGwoJy5sZWdlbmQtaXRlbScpXG4gICAgICAgICAgICAgICAgLmRhdGEocGllKHBpZURhdGEpKVxuICAgICAgICAgICAgICAgIC5lbnRlcigpLmFwcGVuZCgnZycpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgZCA9PiAnbGVnZW5kLWl0ZW0gJyArIGQuZGF0YS5uYW1lKVxuICAgICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAoZCxpKSA9PiAndHJhbnNsYXRlKDAsJyArIGkgKiA3ICsgJyknKTtcblxuICAgICAgICAgICAgICAgIGxlZ2VuZEl0ZW1zXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3JlY3QnKVxuICAgICAgICAgICAgICAgICAgICAvLy5hdHRyKCdjbGFzcycsIGQgPT4gZC5kYXRhLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIDUpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCA1KTtcblxuICAgICAgICAgICAgICAgIGxlZ2VuZEl0ZW1zXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3RleHQnKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSg3LDQpJylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIDQpXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KGQgPT4gcHViVHlwZXNbZC5kYXRhLm5hbWVdKTtcblxuICAgICAgICAgICAgc3ZnLmFwcGVuZCgndGV4dCcpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtyYWRpdXN9LCR7cmFkaXVzfSlgKVxuICAgICAgICAgICAgICAgIC50ZXh0KHRvdGFsTnVtYmVyKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdmb250LXNpemUnLCAxMClcbiAgICAgICAgICAgICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnbWlkZGxlJyk7XG5cblxuICAgICAgICAgIFxuICAgICAgICB9LFxuICAgICAgICBsb2FkaW5nKGlzTG9hZGluZyl7XG4gICAgICAgICAgICBpZiAoIGlzTG9hZGluZyApe1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5jbGFzc0xpc3QuYWRkKCdsb2FkaW5nJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5jbGFzc0xpc3QucmVtb3ZlKCdsb2FkaW5nJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHJlbmRlclRvcGljQnV0dG9ucygpe1xuICAgICAgICAgICAgdmFyIHNlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJvd3NlLWJ1dHRvbnMtY29udGFpbmVyJyk7XG4gICAgICAgICAgICB2YXIgY2F0ZWdvcmllcyA9IG1vZGVsLmNvbGxlY3Rpb25zLmZpbHRlcihkID0+IGQuZGF0YS5wYXJlbnRDb2xsZWN0aW9uID09PSBmYWxzZSkuc29ydCgoYSxiKSA9PiBkMy5hc2NlbmRpbmcoYS5kYXRhLm5hbWUsIGIuZGF0YS5uYW1lKSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjYXRlZ29yaWVzKTtcbiAgICAgICAgICAgIC8vbW9kZWwuY29sbGVjdGlvbnMuZmFsc2Uuc29ydCgoYSxiKSA9PiBkMy5hc2NlbmRpbmcoYS5kYXRhLm5hbWUsIGIuZGF0YS5uYW1lKSk7IC8vICdmYWxzZScga2V5ID0+IHRvcC1sdmVsIGNhdGVnb3JpZXNcbiAgICAgICAgICAgIGNhdGVnb3JpZXMuZmlsdGVyKGQgPT4gZC5jaGlsZHJlbiAhPT0gdW5kZWZpbmVkKS5mb3JFYWNoKGZ1bmN0aW9uKGQsaSl7XG4gICAgICAgICAgICAgICAgc2VjdGlvbi5hcHBlbmRDaGlsZChjcmVhdGVCcm93c2VDYXRlZ29yeShkLGksdHJ1ZSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYXRlZ29yaWVzLmZpbHRlcihkID0+IGQuY2hpbGRyZW4gPT09IHVuZGVmaW5lZCkuZm9yRWFjaChmdW5jdGlvbihkLGkpe1xuICAgICAgICAgICAgICAgIHNlY3Rpb24uYXBwZW5kQ2hpbGQoY3JlYXRlQnJvd3NlQ2F0ZWdvcnkoZCxpLGZhbHNlKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHdpbmRvdy5SRkZBcHAubW9kZWwucmVzb2x2ZVRvcGljQnV0dG9ucyh0cnVlKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyU2hvd0FsbEJ1dHRvbigpO1xuICAgICAgICB9LFxuICAgICAgICByZW5kZXJTaG93QWxsQnV0dG9uKCl7XG4gICAgICAgICAgICB2YXIgc2hvd0FsbCA9IGQzLnNlbGVjdCgnLmJyb3dzZS1idXR0b25zLnVuY2F0ZWdvcml6ZWQnKSAgLy8gc2hvdWxkIGJlIGluIHRoZSB2aWV3IG1vZHVsZVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgICAgICAgICAgICAgLmNsYXNzZWQoJ2J1dHRvbiBidXR0b24tLXRlcnRpYXJ5IHNob3ctYWxsJyx0cnVlKVxuICAgICAgICAgICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5icm93c2UtYnV0dG9ucyAuYnV0dG9uJykgIC8vIG5vdCBEUlk7IG5lZWQgdG8gYnJpbmcgb3V0IGludG8gZm47IGJyb3dzZWJ1dHRvbnMgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG8gdGhlIHNhbWUgdGhpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCdhY3RpdmUnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ2FjdGl2ZScsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJSZXN1bHRzLmNhbGwodmlldywgdW5kZWZpbmVkLCBjb250cm9sbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5maWx0ZXJTeW50aGVzaXNSZXN1bHRzLmNhbGwodmlldyxbXSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzaG93QWxsICAgICBcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCdzcGFuJylcbiAgICAgICAgICAgICAgICAudGV4dCgnU2hvdyBhbGwnKTtcbiAgICAgICAgICAgIGNyZWF0ZVRvcGljS2V5KCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmlsdGVyU3ludGhlc2lzUmVzdWx0cyhtYXRjaGVzKXsgLy8gbmVlZHMgdG8gYmUgbW9yZSBEUlkgcmU6IGNvZGUgYWJvdmVcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG1hdGNoZXMpO1xuICAgICAgICAgICAgdmFyIGl0ZW1zID0gZDMuc2VsZWN0KCcuc3ludGhlc2lzLXJlc3VsdHMgdWwnKS5zZWxlY3RBbGwoJy5saXN0LWl0ZW0nKVxuICAgICAgICAgICAgICAgIC5kYXRhKG1hdGNoZXMsIGQgPT4gZC5kYXRhLmtleSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coaXRlbXMpO1xuICAgICAgICAgICAgaXRlbXMuZXhpdCgpXG4gICAgICAgICAgICAgICAgLmNsYXNzZWQoJ2VudGVyZWQnLGZhbHNlKVxuICAgICAgICAgICAgICAgIC5jbGFzc2VkKCdleGl0aW5nJywgdHJ1ZSlcbiAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigxNTAwKS5yZW1vdmUoKTtcblxuICAgICAgICAgICAgdmFyIGVudGVyaW5nID0gaXRlbXMuZW50ZXIoKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2xpJylcbiAgICAgICAgICAgICAgICAuYXR0cignaWQnLCBkID0+IGQua2V5KVxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsIChkLGkpID0+ICggZC5zeW50aGVzaXNUeXBlLmNsZWFuU3RyaW5nKCkgfHwgZC5kYXRhLml0ZW1UeXBlICkgICsgJyBpbmRleC0nICsgaSArICggZC5kYXRhLmluc3RpdHV0aW9uID09PSAnUkZGJyB8fCBkLmRhdGEuaW5zdGl0dXRpb24gPT09ICdSZXNvdXJjZXMgZm9yIHRoZSBGdXR1cmUnID8gJyBSRkYnIDogJycpKVxuICAgICAgICAgICAgICAgIC5jbGFzc2VkKCdSRkYnLCB0cnVlKVxuICAgICAgICAgICAgICAgIC5jbGFzc2VkKCdlbnRlcmluZycsIHRydWUpXG4gICAgICAgICAgICAgICAgLmNsYXNzZWQoJ2xpc3QtaXRlbScsIHRydWUpXG4gICAgICAgICAgICAgICAgLmh0bWwoZCA9PiBjcmVhdGVSZXN1bHRJdGVtKGQpKVxuICAgICAgICAgICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cub3BlbignLi9wZGYvJyArIHRoaXMuaWQgKyAnLnBkZicsICdfYmxhbmsnKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGVudGVyaW5nLmNsYXNzZWQoJ2VudGVyaW5nJyxmYWxzZSk7ICAgIFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuc3ludGhlc2lzSXRlbXMgPSBlbnRlcmluZy5tZXJnZShpdGVtcyk7IFxuICAgICAgICAgICBcblxuICAgICAgICB9XG4gICAgfTtcbiAgICB3aW5kb3cuUkZGQXBwID0ge1xuICAgICAgICBjb250cm9sbGVyLFxuICAgICAgICBtb2RlbCBcbiAgICB9O1xuICAgIGNvbnRyb2xsZXIuaW5pdCgpOyAvLyBwYXNzIGluIGB0cnVlYCB0byB1c2UgbG9jYWwgc25hcHNob3QgaW5zdGVhZCBvZiBBUElcbiAgICAgXG59KCkpOyAvLyBlbmQgSUlGRSAiXSwic291cmNlUm9vdCI6IiJ9