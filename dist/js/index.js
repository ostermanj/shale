!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=13)}([function(t,e,n){!function(){"use strict";t.exports={polyfill:function(){var t=window,e=document;if(!("scrollBehavior"in e.documentElement.style&&!0!==t.__forceSmoothScrollPolyfill__)){var n,o=t.HTMLElement||t.Element,r=468,i={scroll:t.scroll||t.scrollTo,scrollBy:t.scrollBy,elementScroll:o.prototype.scroll||l,scrollIntoView:o.prototype.scrollIntoView},a=t.performance&&t.performance.now?t.performance.now.bind(t.performance):Date.now,s=(n=t.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(n)?1:0);t.scroll=t.scrollTo=function(){void 0!==arguments[0]&&(!0!==p(arguments[0])?m.call(t,e.body,void 0!==arguments[0].left?~~arguments[0].left:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:t.scrollY||t.pageYOffset):i.scroll.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:t.scrollY||t.pageYOffset))},t.scrollBy=function(){void 0!==arguments[0]&&(p(arguments[0])?i.scrollBy.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):m.call(t,e.body,~~arguments[0].left+(t.scrollX||t.pageXOffset),~~arguments[0].top+(t.scrollY||t.pageYOffset)))},o.prototype.scroll=o.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==p(arguments[0])){var t=arguments[0].left,e=arguments[0].top;m.call(this,this,void 0===t?this.scrollLeft:~~t,void 0===e?this.scrollTop:~~e)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},o.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==p(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},o.prototype.scrollIntoView=function(){if(!0!==p(arguments[0])){var n=function(t){var n;do{n=(t=t.parentNode)===e.body}while(!1===n&&!1===u(t));return n=null,t}(this),o=n.getBoundingClientRect(),r=this.getBoundingClientRect();n!==e.body?(m.call(this,n,n.scrollLeft+r.left-o.left,n.scrollTop+r.top-o.top),"fixed"!==t.getComputedStyle(n).position&&t.scrollBy({left:o.left,top:o.top,behavior:"smooth"})):t.scrollBy({left:r.left,top:r.top,behavior:"smooth"})}else i.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function l(t,e){this.scrollLeft=t,this.scrollTop=e}function p(t){if(null===t||"object"!=typeof t||void 0===t.behavior||"auto"===t.behavior||"instant"===t.behavior)return!0;if("object"==typeof t&&"smooth"===t.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+t.behavior+" is not a valid value for enumeration ScrollBehavior.")}function c(t,e){return"Y"===e?t.clientHeight+s<t.scrollHeight:"X"===e?t.clientWidth+s<t.scrollWidth:void 0}function d(e,n){var o=t.getComputedStyle(e,null)["overflow"+n];return"auto"===o||"scroll"===o}function u(t){var e=c(t,"Y")&&d(t,"Y"),n=c(t,"X")&&d(t,"X");return e||n}function f(e){var n,o,i,s,l=(a()-e.startTime)/r;s=l=l>1?1:l,n=.5*(1-Math.cos(Math.PI*s)),o=e.startX+(e.x-e.startX)*n,i=e.startY+(e.y-e.startY)*n,e.method.call(e.scrollable,o,i),o===e.x&&i===e.y||t.requestAnimationFrame(f.bind(t,e))}function m(n,o,r){var s,p,c,d,u=a();n===e.body?(s=t,p=t.scrollX||t.pageXOffset,c=t.scrollY||t.pageYOffset,d=i.scroll):(s=n,p=n.scrollLeft,c=n.scrollTop,d=l),f({scrollable:s,method:d,startTime:u,startX:p,startY:c,x:o,y:r})}}}}()},,function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.filterResults=e.createResultItem=e.createResultsContainer=void 0;var o,r=n(2),i=(o=r)&&o.__esModule?o:{default:o};console.log(i.default);e.createResultsContainer=function(){document.getElementById("results-container").innerHTML='<div class="synthesis-results">\n                  <ul class="flex space-between"></ul>\n              </div>\n              <div class="results">\n                  <ul class="loadable"></ul>\n              </div> ',this.results=document.querySelector("div.results ul")};var a=e.createResultItem=function(t){var e,n;if(void 0===t.data.creators)e="";else if(e=(n=t.data.creators.map(function(t){return t.firstName+" "+t.lastName})).join(","),2===n.length)e=e.replace(","," and ");else if(n.length>4)e=n[0]+" et al.";else{var o=(e=e.replace(/,/g,", ")).lastIndexOf(",");-1!==o&&(e=e.substr(0,o+1)+" and"+e.substr(o+1))}var r,i,a=t.data.publisher||t.data.journalAbbreviation||t.data.publicationTitle||t.data.institution||t.data.websiteTitle||"",s=document.createElement("div");if(s.className="links-div tippy-clipboard",s.setAttribute("title","Copied to clipboard"),t.data.url&&""!==t.data.url){var l=document.createElement("a");r=t.data.url,l.setAttribute("href",r),l.setAttribute("target","_blank"),l.setAttribute("class","details-link"),l.innerHTML="Go to link",s.appendChild(l)}if(t.bib&&""!==t.bib){var p=document.createElement("div");p.innerHTML=t.bib;var c=p.querySelector(".csl-entry").innerHTML,d=document.createElement("textarea");d.innerHTML=c,d.setAttribute("class","bib-container");var u=document.createElement("a");u.setAttribute("href","#"),u.setAttribute("class","copy-bib"),u.setAttribute("title",c),u.innerHTML="Copy biblio. info",s.appendChild(d),s.appendChild(u)}return i=void 0!==r?'<a class="item-title-link" target="_blank" href="'+r+'">'+t.data.title+"</a>":""+t.data.title,'\n              \n              <div class="summary-results">\n                  <div class="flex space-between">\n                      <span class="flex item-info items-center">\n                          <span class="list-item__label">'+(t.synthesisType||t.data.itemType.undoCamelCase())+'</span>\n                          <span class="list-item__meta publisher-name">'+a.trunc(90,!0)+'</span>\n                      </span>\n                      <span class="list-item__meta">'+t.data.dateString+'</span>\n                  </div>\n                  <h3 class="list-item__title">'+i+'</h3>\n                  <span class="list-item__meta">'+e+"</span>\n                  "+s.outerHTML+"\n              </div>\n              "};e.filterResults=function(t,e,n){console.log("list-item",t);var o=void 0===t?window.RFFApp.model.zoteroItems:"none"===t?[]:t;console.log(o);var r=d3.select(this.results).selectAll(".list-item").data(o,function(t){return t.key});r.exit().classed("entered",!1).classed("exiting",!0).transition(1500).remove();var i=r.enter().append("li").attr("class",function(t,e){return t.key+" "+t.data.itemType+" index-"+e+("RFF"===t.data.institution||"Resources for the Future"===t.data.institution?" RFF":"")}).classed("entering",!0).classed("list-item",!0).html(function(t){return a(t)});setTimeout(function(){i.classed("entering",!1)}),this.items=i.merge(r),d3.selectAll(".copy-bib").on("click",function(){d3.event.preventDefault(),e.copyBibText.call(this)}),e.biblioTooltips(),"initial"!==n&&this.smoothScroll(document.querySelector(".synthesis-results"))}},,function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTopicKey=e.createBrowseCategory=void 0;var o,r=n(5),i=(o=r)&&o.__esModule?o:{default:o};console.log(i.default);e.createBrowseCategory=function(t,e,n){var o,r=document.createElement("div");if(console.log(e,n),0===e&&n){var a=document.createElement("h2");a.id="browse-heading",a.innerHTML="Browse by topic",r.appendChild(a)}return n?(r.insertAdjacentHTML("beforeend","<h3>"+t.data.name+"</h3>"),(o=document.createElement("div")).className="browse-buttons",t.children.sort(function(t,e){return d3.ascending(t.data.name,e.data.name)}).forEach(function(t,e){o.appendChild(s(t))})):((o=document.querySelector(".browse-buttons.uncategorized")||document.createElement("div")).className="browse-buttons uncategorized",0!==t.data.name.indexOf("_")&&o.appendChild(s(t))),console.log(t),r.appendChild(o),console.log(r),r;function s(t){var e=[];t.children&&(e=t.children.map(function(t){return t.data.name.cleanString()})),console.log(i.default,e);var o=document.createElement("div");o.innerHTML='\n    <div title="not loaded" data-collection="'+t.key+'" class="button button--'+(n?"secondary":"tertiary")+" "+e.reduce(function(t,e){return t+e+" "},"")+'">\n      <span>'+t.data.name+"</span>\n    </div>";var r=o.children[0];return r.onclick=function(){console.log(this),d3.selectAll(".browse-buttons .button").classed("active",!1),d3.select(this).classed("active",!0),RFFApp.controller.getCollectionItems(t.data.key),RFFApp.controller.clearSearch()},r}},e.createTopicKey=function(){var t=document.getElementById("browse-heading"),e='<div id="topic-key">\n                  <div class="'+i.default.keyMark+'">= issue brief and/or literature review available</div>\n              </div>';t.insertAdjacentHTML("afterend",e)}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(e){
/*!
* Tippy.js v2.5.2
* (c) 2017-2018 atomiks
* MIT
*/var n;n=function(){"use strict";var t="undefined"!=typeof window,n=t&&/MSIE |Trident\//.test(navigator.userAgent),o={};t&&(o.supported="requestAnimationFrame"in window,o.supportsTouch="ontouchstart"in window,o.usingTouch=!1,o.dynamicInputDetection=!0,o.iOS=/iPhone|iPad|iPod/.test(navigator.platform)&&!window.MSStream,o.onUserInputChange=function(){});var r={POPPER:".tippy-popper",TOOLTIP:".tippy-tooltip",CONTENT:".tippy-content",BACKDROP:".tippy-backdrop",ARROW:".tippy-arrow",ROUND_ARROW:".tippy-roundarrow",REFERENCE:"[data-tippy]"},i={placement:"top",livePlacement:!0,trigger:"mouseenter focus",animation:"shift-away",html:!1,animateFill:!0,arrow:!1,delay:0,duration:[350,300],interactive:!1,interactiveBorder:2,theme:"dark",size:"regular",distance:10,offset:0,hideOnClick:!0,multiple:!1,followCursor:!1,inertia:!1,updateDuration:350,sticky:!1,appendTo:function(){return document.body},zIndex:9999,touchHold:!1,performance:!1,dynamicTitle:!1,flip:!0,flipBehavior:"flip",arrowType:"sharp",arrowTransform:"",maxWidth:"",target:null,allowTitleHTML:!0,popperOptions:{},createPopperInstanceOnInit:!1,onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){}},a=o.supported&&Object.keys(i);function s(t){return"[object Object]"==={}.toString.call(t)}function l(t){return[].slice.call(t)}function p(t){for(var e=["","webkit"],n=t.charAt(0).toUpperCase()+t.slice(1),o=0;o<e.length;o++){var r=e[o],i=r?r+n:t;if(void 0!==document.body.style[i])return i}return null}function c(){return document.createElement("div")}var d=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};function m(t){var e=function(e){return t.querySelector(e)};return{tooltip:e(r.TOOLTIP),backdrop:e(r.BACKDROP),content:e(r.CONTENT),arrow:e(r.ARROW)||e(r.ROUND_ARROW)}}function h(t){var e=t.getAttribute("title");e&&t.setAttribute("data-original-title",e),t.removeAttribute("title")}
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.14.3
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */for(var y="undefined"!=typeof window&&"undefined"!=typeof document,v=["Edge","Trident","Firefox"],b=0,g=0;g<v.length;g+=1)if(y&&navigator.userAgent.indexOf(v[g])>=0){b=1;break}var w=y&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},b))}};function x(t){return t&&"[object Function]"==={}.toString.call(t)}function k(t,e){if(1!==t.nodeType)return[];var n=getComputedStyle(t,null);return e?n[e]:n}function E(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function T(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=k(t),n=e.overflow,o=e.overflowX,r=e.overflowY;return/(auto|scroll|overlay)/.test(n+r+o)?t:T(E(t))}var S=y&&!(!window.MSInputMethodContext||!document.documentMode),A=y&&/MSIE 10/.test(navigator.userAgent);function C(t){return 11===t?S:10===t?A:S||A}function O(t){if(!t)return document.documentElement;for(var e=C(10)?document.body:null,n=t.offsetParent;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var o=n&&n.nodeName;return o&&"BODY"!==o&&"HTML"!==o?-1!==["TD","TABLE"].indexOf(n.nodeName)&&"static"===k(n,"position")?O(n):n:t?t.ownerDocument.documentElement:document.documentElement}function L(t){return null!==t.parentNode?L(t.parentNode):t}function I(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,o=n?t:e,r=n?e:t,i=document.createRange();i.setStart(o,0),i.setEnd(r,0);var a,s,l=i.commonAncestorContainer;if(t!==l&&e!==l||o.contains(r))return"BODY"===(s=(a=l).nodeName)||"HTML"!==s&&O(a.firstElementChild)!==a?O(l):l;var p=L(t);return p.host?I(p.host,e):I(t,L(e).host)}function M(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var o=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||o)[e]}return t[e]}function F(t,e){var n="x"===e?"Left":"Top",o="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+o+"Width"],10)}function P(t,e,n,o){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],C(10)?n["offset"+t]+o["margin"+("Height"===t?"Top":"Left")]+o["margin"+("Height"===t?"Bottom":"Right")]:0)}function R(){var t=document.body,e=document.documentElement,n=C(10)&&getComputedStyle(e);return{height:P("Height",t,e,n),width:P("Width",t,e,n)}}var D=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Y=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),X=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},N=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};function _(t){return N({},t,{right:t.left+t.width,bottom:t.top+t.height})}function H(t){var e={};try{if(C(10)){e=t.getBoundingClientRect();var n=M(t,"top"),o=M(t,"left");e.top+=n,e.left+=o,e.bottom+=n,e.right+=o}else e=t.getBoundingClientRect()}catch(t){}var r={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},i="HTML"===t.nodeName?R():{},a=i.width||t.clientWidth||r.right-r.left,s=i.height||t.clientHeight||r.bottom-r.top,l=t.offsetWidth-a,p=t.offsetHeight-s;if(l||p){var c=k(t);l-=F(c,"x"),p-=F(c,"y"),r.width-=l,r.height-=p}return _(r)}function B(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=C(10),r="HTML"===e.nodeName,i=H(t),a=H(e),s=T(t),l=k(e),p=parseFloat(l.borderTopWidth,10),c=parseFloat(l.borderLeftWidth,10);n&&"HTML"===e.nodeName&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var d=_({top:i.top-a.top-p,left:i.left-a.left-c,width:i.width,height:i.height});if(d.marginTop=0,d.marginLeft=0,!o&&r){var u=parseFloat(l.marginTop,10),f=parseFloat(l.marginLeft,10);d.top-=p-u,d.bottom-=p-u,d.left-=c-f,d.right-=c-f,d.marginTop=u,d.marginLeft=f}return(o&&!n?e.contains(s):e===s&&"BODY"!==s.nodeName)&&(d=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=M(e,"top"),r=M(e,"left"),i=n?-1:1;return t.top+=o*i,t.bottom+=o*i,t.left+=r*i,t.right+=r*i,t}(d,e)),d}function z(t){if(!t||!t.parentElement||C())return document.documentElement;for(var e=t.parentElement;e&&"none"===k(e,"transform");)e=e.parentElement;return e||document.documentElement}function j(t,e,n,o){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},a=r?z(t):I(t,e);if("viewport"===o)i=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,o=B(t,n),r=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:M(n),s=e?0:M(n,"left");return _({top:a-o.top+o.marginTop,left:s-o.left+o.marginLeft,width:r,height:i})}(a,r);else{var s=void 0;"scrollParent"===o?"BODY"===(s=T(E(e))).nodeName&&(s=t.ownerDocument.documentElement):s="window"===o?t.ownerDocument.documentElement:o;var l=B(s,a,r);if("HTML"!==s.nodeName||function t(e){var n=e.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===k(e,"position")||t(E(e)))}(a))i=l;else{var p=R(),c=p.height,d=p.width;i.top+=l.top-l.marginTop,i.bottom=c+l.top,i.left+=l.left-l.marginLeft,i.right=d+l.left}}return i.left+=n,i.top+=n,i.right-=n,i.bottom-=n,i}function W(t,e,n,o,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=j(n,o,i,r),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},l=Object.keys(s).map(function(t){return N({key:t},s[t],{area:(e=s[t],e.width*e.height)});var e}).sort(function(t,e){return e.area-t.area}),p=l.filter(function(t){var e=t.width,o=t.height;return e>=n.clientWidth&&o>=n.clientHeight}),c=p.length>0?p[0].key:l[0].key,d=t.split("-")[1];return c+(d?"-"+d:"")}function q(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return B(n,o?z(e):I(e,n),o)}function U(t){var e=getComputedStyle(t),n=parseFloat(e.marginTop)+parseFloat(e.marginBottom),o=parseFloat(e.marginLeft)+parseFloat(e.marginRight);return{width:t.offsetWidth+o,height:t.offsetHeight+n}}function J(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function V(t,e,n){n=n.split("-")[0];var o=U(t),r={width:o.width,height:o.height},i=-1!==["right","left"].indexOf(n),a=i?"top":"left",s=i?"left":"top",l=i?"height":"width",p=i?"width":"height";return r[a]=e[a]+e[l]/2-o[l]/2,r[s]=n===s?e[s]-o[p]:e[J(s)],r}function G(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function K(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var o=G(t,function(t){return t[e]===n});return t.indexOf(o)}(t,"name",n))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&x(n)&&(e.offsets.popper=_(e.offsets.popper),e.offsets.reference=_(e.offsets.reference),e=n(e,t))}),e}function Z(t,e){return t.some(function(t){var n=t.name;return t.enabled&&n===e})}function Q(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),o=0;o<e.length;o++){var r=e[o],i=r?""+r+n:t;if(void 0!==document.body.style[i])return i}return null}function $(t){var e=t.ownerDocument;return e?e.defaultView:window}function tt(t,e,n,o){n.updateBound=o,$(t).addEventListener("resize",n.updateBound,{passive:!0});var r=T(t);return function t(e,n,o,r){var i="BODY"===e.nodeName,a=i?e.ownerDocument.defaultView:e;a.addEventListener(n,o,{passive:!0}),i||t(T(a.parentNode),n,o,r),r.push(a)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function et(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,$(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function nt(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function ot(t,e){Object.keys(e).forEach(function(n){var o="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&nt(e[n])&&(o="px"),t.style[n]=e[n]+o})}function rt(t,e,n){var o=G(t,function(t){return t.name===e}),r=!!o&&t.some(function(t){return t.name===n&&t.enabled&&t.order<o.order});if(!r){var i="`"+e+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return r}var it=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],at=it.slice(3);function st(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=at.indexOf(t),o=at.slice(n+1).concat(at.slice(0,n));return e?o.reverse():o}var lt={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function pt(t,e,n,o){var r=[0,0],i=-1!==["right","left"].indexOf(o),a=t.split(/(\+|\-)/).map(function(t){return t.trim()}),s=a.indexOf(G(a,function(t){return-1!==t.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,p=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(p=p.map(function(t,o){var r=(1===o?!i:i)?"height":"width",a=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)},[]).map(function(t){return function(t,e,n,o){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+r[1],a=r[2];if(!i)return t;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=o}return _(s)[e]/100*i}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i;return i}(t,r,e,n)})})).forEach(function(t,e){t.forEach(function(n,o){nt(n)&&(r[e]+=n*("-"===t[o-1]?-1:1))})}),r}var ct={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],o=e.split("-")[1];if(o){var r=t.offsets,i=r.reference,a=r.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",p=s?"width":"height",c={start:X({},l,i[l]),end:X({},l,i[l]+i[p]-a[p])};t.offsets.popper=N({},a,c[o])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,o=t.placement,r=t.offsets,i=r.popper,a=r.reference,s=o.split("-")[0],l=void 0;return l=nt(+n)?[+n,0]:pt(n,i,a,s),"left"===s?(i.top+=l[0],i.left-=l[1]):"right"===s?(i.top+=l[0],i.left+=l[1]):"top"===s?(i.left+=l[0],i.top-=l[1]):"bottom"===s&&(i.left+=l[0],i.top+=l[1]),t.popper=i,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||O(t.instance.popper);t.instance.reference===n&&(n=O(n));var o=Q("transform"),r=t.instance.popper.style,i=r.top,a=r.left,s=r[o];r.top="",r.left="",r[o]="";var l=j(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);r.top=i,r.left=a,r[o]=s,e.boundaries=l;var p=e.priority,c=t.offsets.popper,d={primary:function(t){var n=c[t];return c[t]<l[t]&&!e.escapeWithReference&&(n=Math.max(c[t],l[t])),X({},t,n)},secondary:function(t){var n="right"===t?"left":"top",o=c[n];return c[t]>l[t]&&!e.escapeWithReference&&(o=Math.min(c[n],l[t]-("right"===t?c.width:c.height))),X({},n,o)}};return p.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";c=N({},c,d[e](t))}),t.offsets.popper=c,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,o=e.reference,r=t.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(r),s=a?"right":"bottom",l=a?"left":"top",p=a?"width":"height";return n[s]<i(o[l])&&(t.offsets.popper[l]=i(o[l])-n[p]),n[l]>i(o[s])&&(t.offsets.popper[l]=i(o[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!rt(t.instance.modifiers,"arrow","keepTogether"))return t;var o=e.element;if("string"==typeof o){if(!(o=t.instance.popper.querySelector(o)))return t}else if(!t.instance.popper.contains(o))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var r=t.placement.split("-")[0],i=t.offsets,a=i.popper,s=i.reference,l=-1!==["left","right"].indexOf(r),p=l?"height":"width",c=l?"Top":"Left",d=c.toLowerCase(),u=l?"left":"top",f=l?"bottom":"right",m=U(o)[p];s[f]-m<a[d]&&(t.offsets.popper[d]-=a[d]-(s[f]-m)),s[d]+m>a[f]&&(t.offsets.popper[d]+=s[d]+m-a[f]),t.offsets.popper=_(t.offsets.popper);var h=s[d]+s[p]/2-m/2,y=k(t.instance.popper),v=parseFloat(y["margin"+c],10),b=parseFloat(y["border"+c+"Width"],10),g=h-t.offsets.popper[d]-v-b;return g=Math.max(Math.min(a[p]-m,g),0),t.arrowElement=o,t.offsets.arrow=(X(n={},d,Math.round(g)),X(n,u,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(Z(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=j(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),o=t.placement.split("-")[0],r=J(o),i=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case lt.FLIP:a=[o,r];break;case lt.CLOCKWISE:a=st(o);break;case lt.COUNTERCLOCKWISE:a=st(o,!0);break;default:a=e.behavior}return a.forEach(function(s,l){if(o!==s||a.length===l+1)return t;o=t.placement.split("-")[0],r=J(o);var p=t.offsets.popper,c=t.offsets.reference,d=Math.floor,u="left"===o&&d(p.right)>d(c.left)||"right"===o&&d(p.left)<d(c.right)||"top"===o&&d(p.bottom)>d(c.top)||"bottom"===o&&d(p.top)<d(c.bottom),f=d(p.left)<d(n.left),m=d(p.right)>d(n.right),h=d(p.top)<d(n.top),y=d(p.bottom)>d(n.bottom),v="left"===o&&f||"right"===o&&m||"top"===o&&h||"bottom"===o&&y,b=-1!==["top","bottom"].indexOf(o),g=!!e.flipVariations&&(b&&"start"===i&&f||b&&"end"===i&&m||!b&&"start"===i&&h||!b&&"end"===i&&y);(u||v||g)&&(t.flipped=!0,(u||v)&&(o=a[l+1]),g&&(i=function(t){return"end"===t?"start":"start"===t?"end":t}(i)),t.placement=o+(i?"-"+i:""),t.offsets.popper=N({},t.offsets.popper,V(t.instance.popper,t.offsets.reference,t.placement)),t=K(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],o=t.offsets,r=o.popper,i=o.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return r[a?"left":"top"]=i[n]-(s?r[a?"width":"height"]:0),t.placement=J(e),t.offsets.popper=_(r),t}},hide:{order:800,enabled:!0,fn:function(t){if(!rt(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=G(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,o=e.y,r=t.offsets.popper,i=G(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==i?i:e.gpuAcceleration,s=H(O(t.instance.popper)),l={position:r.position},p={left:Math.floor(r.left),top:Math.round(r.top),bottom:Math.round(r.bottom),right:Math.floor(r.right)},c="bottom"===n?"top":"bottom",d="right"===o?"left":"right",u=Q("transform"),f=void 0,m=void 0;if(m="bottom"===c?-s.height+p.bottom:p.top,f="right"===d?-s.width+p.right:p.left,a&&u)l[u]="translate3d("+f+"px, "+m+"px, 0)",l[c]=0,l[d]=0,l.willChange="transform";else{var h="bottom"===c?-1:1,y="right"===d?-1:1;l[c]=m*h,l[d]=f*y,l.willChange=c+", "+d}var v={"x-placement":t.placement};return t.attributes=N({},v,t.attributes),t.styles=N({},l,t.styles),t.arrowStyles=N({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return ot(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach(function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)}),t.arrowElement&&Object.keys(t.arrowStyles).length&&ot(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,o,r){var i=q(r,e,t,n.positionFixed),a=W(n.placement,i,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",a),ot(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},dt=function(){function t(e,n){var o=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};D(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(o.update)},this.update=w(this.update.bind(this)),this.options=N({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(N({},t.Defaults.modifiers,r.modifiers)).forEach(function(e){o.options.modifiers[e]=N({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return N({name:t},o.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&x(t.onLoad)&&t.onLoad(o.reference,o.popper,o.options,t,o.state)}),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return Y(t,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=q(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=W(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=V(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=K(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,Z(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Q("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=tt(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return et.call(this)}}]),t}();function ut(t){return t.getAttribute("x-placement").replace(/-.+/,"")}function ft(t,e,n,o){return e.length?{scale:1===e.length?""+e[0]:n?e[0]+", "+e[1]:e[1]+", "+e[0],translate:1===e.length?o?-e[0]+"px":e[0]+"px":n?o?e[0]+"px, "+-e[1]+"px":e[0]+"px, "+e[1]+"px":o?-e[1]+"px, "+e[0]+"px":e[1]+"px, "+e[0]+"px"}[t]:""}function mt(t,e){if(!t)return"";return e?t:{X:"Y",Y:"X"}[t]}function ht(t,e,n){var o=ut(t),r="top"===o||"bottom"===o,i="right"===o||"bottom"===o,a=function(t){var e=n.match(t);return e?e[1]:""},s=function(t){var e=n.match(t);return e?e[1].split(",").map(parseFloat):[]},l=/translateX?Y?\(([^)]+)\)/,c=/scaleX?Y?\(([^)]+)\)/,d={translate:{axis:a(/translate([XY])/),numbers:s(l)},scale:{axis:a(/scale([XY])/),numbers:s(c)}},u=n.replace(l,"translate"+mt(d.translate.axis,r)+"("+ft("translate",d.translate.numbers,r,i)+")").replace(c,"scale"+mt(d.scale.axis,r)+"("+ft("scale",d.scale.numbers,r,i)+")");e.style[p("transform")]=u}function yt(t){return-(t-i.distance)+"px"}dt.Utils=("undefined"!=typeof window?window:e).PopperUtils,dt.placements=it,dt.Defaults=ct;var vt={};if(t){var bt=Element.prototype;vt=bt.matches||bt.matchesSelector||bt.webkitMatchesSelector||bt.mozMatchesSelector||bt.msMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;--n>=0&&e.item(n)!==this;);return n>-1}}var gt=vt;function wt(t,e){return(Element.prototype.closest||function(t){for(var e=this;e;){if(gt.call(e,t))return e;e=e.parentElement}}).call(t,e)}function xt(t,e){return Array.isArray(t)?t[e]:t}function kt(t,e){t.forEach(function(t){t&&t.setAttribute("data-state",e)})}function Et(t,e){t.filter(Boolean).forEach(function(t){t.style[p("transitionDuration")]=e+"ms"})}function Tt(t){var e=window.scrollX||window.pageXOffset,n=window.scrollY||window.pageYOffset;t.focus(),scroll(e,n)}var St={},At=function(t){return function(e){return e===St&&t}},Ct=function(){function t(e){for(var n in d(this,t),e)this[n]=e[n];this.state={destroyed:!1,visible:!1,enabled:!0},this._=At({mutationObservers:[]})}return u(t,[{key:"enable",value:function(){this.state.enabled=!0}},{key:"disable",value:function(){this.state.enabled=!1}},{key:"show",value:function(t){var e=this;if(!this.state.destroyed&&this.state.enabled){var n=this.popper,o=this.reference,r=this.options,i=m(n),a=i.tooltip,s=i.backdrop,l=i.content;r.dynamicTitle&&!o.getAttribute("data-original-title")||o.hasAttribute("disabled")||(o.refObj||document.documentElement.contains(o)?(r.onShow.call(n,this),t=xt(void 0!==t?t:r.duration,0),Et([n,a,s],0),n.style.visibility="visible",this.state.visible=!0,function(t){var e=this.options;this.popperInstance?(this.popperInstance.scheduleUpdate(),e.livePlacement&&!Ot.call(this)&&this.popperInstance.enableEventListeners()):(this.popperInstance=Ft.call(this),e.livePlacement||this.popperInstance.disableEventListeners());if(!Ot.call(this)){var n=m(this.popper),o=n.arrow;o&&(o.style.margin=""),this.popperInstance.reference=this.reference}(function(t,e,n){var o=t.popper,r=t.options,i=r.onCreate,a=r.onUpdate;r.onCreate=r.onUpdate=function(){(function(t){t.offsetHeight})(o),e&&e(),a(),r.onCreate=i,r.onUpdate=a},n||t.scheduleUpdate()})(this.popperInstance,t,!0),e.appendTo.contains(this.popper)||e.appendTo.appendChild(this.popper)}.call(this,function(){if(e.state.visible){if(Ot.call(e)||e.popperInstance.scheduleUpdate(),Ot.call(e)){e.popperInstance.disableEventListeners();var i=xt(r.delay,0),c=e._(St).lastTriggerEvent;c&&e._(St).followCursorListener(i&&e._(St).lastMouseMoveEvent?e._(St).lastMouseMoveEvent:c)}Et([a,s,s?l:null],t),s&&getComputedStyle(s)[p("transform")],r.interactive&&o.classList.add("tippy-active"),r.sticky&&function(){var t=this;!function e(){t.popperInstance&&t.popperInstance.update(),t.popper.style[p("transitionDuration")]=t.options.updateDuration+"ms",t.state.visible?requestAnimationFrame(e):t.popper.style[p("transitionDuration")]=""}()}.call(e),kt([a,s],"visible"),Dt.call(e,t,function(){r.updateDuration||a.classList.add("tippy-notransition"),r.interactive&&Tt(n),o.setAttribute("aria-describedby","tippy-"+e.id),r.onShown.call(n,e)})}})):this.destroy())}}},{key:"hide",value:function(t){var e=this;if(!this.state.destroyed&&this.state.enabled){var n,o=this.popper,r=this.reference,i=this.options,a=m(o),s=a.tooltip,l=a.backdrop,p=a.content;i.onHide.call(o,this),t=xt(void 0!==t?t:i.duration,1),i.updateDuration||s.classList.remove("tippy-notransition"),i.interactive&&r.classList.remove("tippy-active"),o.style.visibility="hidden",this.state.visible=!1,Et([s,l,l?p:null],t),kt([s,l],"hidden"),i.interactive&&i.trigger.indexOf("click")>-1&&Tt(r),this.popperInstance.disableEventListeners(),n=function(){Dt.call(e,t,function(){!e.state.visible&&i.appendTo.contains(o)&&(e._(St).isPreparingToShow||(document.removeEventListener("mousemove",e._(St).followCursorListener),e._(St).lastMouseMoveEvent=null),r.removeAttribute("aria-describedby"),i.appendTo.removeChild(o),i.onHidden.call(o,e))})},requestAnimationFrame(function(){setTimeout(n,1)})}}},{key:"destroy",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.state.destroyed){this.state.visible&&this.hide(0),this.listeners.forEach(function(e){t.reference.removeEventListener(e.event,e.handler)}),this.title&&this.reference.setAttribute("title",this.title),delete this.reference._tippy;["data-original-title","data-tippy","data-tippy-delegate"].forEach(function(e){t.reference.removeAttribute(e)}),this.options.target&&e&&l(this.reference.querySelectorAll(this.options.target)).forEach(function(t){return t._tippy&&t._tippy.destroy()}),this.popperInstance&&this.popperInstance.destroy(),this._(St).mutationObservers.forEach(function(t){t.disconnect()}),this.state.destroyed=!0}}}]),t}();function Ot(){var t=this._(St).lastTriggerEvent;return this.options.followCursor&&!o.usingTouch&&t&&"focus"!==t.type}function Lt(t){var e=this,n=this.options;if(Pt.call(this),!this.state.visible)if(n.target)(function(t){var e=wt(t.target,this.options.target);if(e&&!e._tippy){var n=e.getAttribute("title")||this.title;n&&(e.setAttribute("title",n),Ht(e,f({},this.options,{target:null})),Lt.call(e._tippy,t))}}).call(this,t);else if(this._(St).isPreparingToShow=!0,n.wait)n.wait.call(this.popper,this.show.bind(this),t);else{if(Ot.call(this)){this._(St).followCursorListener||function(){var t=this;this._(St).followCursorListener=function(e){var n=t._(St).lastMouseMoveEvent=e,o=n.clientX,r=n.clientY;t.popperInstance&&(t.popperInstance.reference={getBoundingClientRect:function(){return{width:0,height:0,top:r,left:o,right:o,bottom:r}},clientWidth:0,clientHeight:0},t.popperInstance.scheduleUpdate())}}.call(this);var o=m(this.popper).arrow;o&&(o.style.margin="0"),document.addEventListener("mousemove",this._(St).followCursorListener)}var r=xt(n.delay,0);r?this._(St).showTimeout=setTimeout(function(){e.show()},r):this.show()}}function It(){var t=this;if(Pt.call(this),this.state.visible){this._(St).isPreparingToShow=!1;var e=xt(this.options.delay,1);e?this._(St).hideTimeout=setTimeout(function(){t.state.visible&&t.hide()},e):this.hide()}}function Mt(){var t=this;return{onTrigger:function(e){if(t.state.enabled){var n=o.supportsTouch&&o.usingTouch&&["mouseenter","mouseover","focus"].indexOf(e.type)>-1;n&&t.options.touchHold||(t._(St).lastTriggerEvent=e,"click"===e.type&&"persistent"!==t.options.hideOnClick&&t.state.visible?It.call(t):Lt.call(t,e),n&&o.iOS&&t.reference.click&&t.reference.click())}},onMouseLeave:function(e){if(!(["mouseleave","mouseout"].indexOf(e.type)>-1&&o.supportsTouch&&o.usingTouch&&t.options.touchHold)){if(t.options.interactive){var n=It.bind(t);return document.body.addEventListener("mouseleave",n),void document.addEventListener("mousemove",function e(o){var i=wt(o.target,r.REFERENCE),a=wt(o.target,r.POPPER)===t.popper,s=i===t.reference;a||s||function(t,e,n){if(!e.getAttribute("x-placement"))return!0;var o=t.clientX,r=t.clientY,i=n.interactiveBorder,a=n.distance,s=e.getBoundingClientRect(),l=ut(e),p=i+a,c={top:s.top-r>i,bottom:r-s.bottom>i,left:s.left-o>i,right:o-s.right>i};switch(l){case"top":c.top=s.top-r>p;break;case"bottom":c.bottom=r-s.bottom>p;break;case"left":c.left=s.left-o>p;break;case"right":c.right=o-s.right>p}return c.top||c.bottom||c.left||c.right}(o,t.popper,t.options)&&(document.body.removeEventListener("mouseleave",n),document.removeEventListener("mousemove",e),It.call(t,e))})}It.call(t)}},onBlur:function(e){if(e.target===t.reference&&!o.usingTouch){if(t.options.interactive){if(!e.relatedTarget)return;if(wt(e.relatedTarget,r.POPPER))return}It.call(t)}},onDelegateShow:function(e){wt(e.target,t.options.target)&&Lt.call(t,e)},onDelegateHide:function(e){wt(e.target,t.options.target)&&It.call(t)}}}function Ft(){var t=this,e=this.popper,n=this.reference,o=this.options,i=m(e).tooltip,a=o.popperOptions,s="round"===o.arrowType?r.ROUND_ARROW:r.ARROW,l=i.querySelector(s),p=f({placement:o.placement},a||{},{modifiers:f({},a?a.modifiers:{},{arrow:f({element:s},a&&a.modifiers?a.modifiers.arrow:{}),flip:f({enabled:o.flip,padding:o.distance+5,behavior:o.flipBehavior},a&&a.modifiers?a.modifiers.flip:{}),offset:f({offset:o.offset},a&&a.modifiers?a.modifiers.offset:{})}),onCreate:function(){i.style[ut(e)]=yt(o.distance),l&&o.arrowTransform&&ht(e,l,o.arrowTransform)},onUpdate:function(){var t=i.style;t.top="",t.bottom="",t.left="",t.right="",t[ut(e)]=yt(o.distance),l&&o.arrowTransform&&ht(e,l,o.arrowTransform)}});return Rt.call(this,{target:e,callback:function(){t.popperInstance.update()},options:{childList:!0,subtree:!0,characterData:!0}}),new dt(n,e,p)}function Pt(){var t=this._(St),e=t.showTimeout,n=t.hideTimeout;clearTimeout(e),clearTimeout(n)}function Rt(t){var e=t.target,n=t.callback,o=t.options;if(window.MutationObserver){var r=new MutationObserver(n);r.observe(e,o),this._(St).mutationObservers.push(r)}}function Dt(t,e){if(!t)return e();var n=m(this.popper).tooltip,o=function(t,e){e&&n[t+"EventListener"]("ontransitionend"in window?"transitionend":"webkitTransitionEnd",e)},r=function t(r){r.target===n&&(o("remove",t),e())};o("remove",this._(St).transitionendListener),o("add",r),this._(St).transitionendListener=r}var Yt=1;function Xt(t,e){return t.reduce(function(t,r){var i=Yt,s=function(t,e){return e.arrow&&(e.animateFill=!1),e.appendTo&&"function"==typeof e.appendTo&&(e.appendTo=e.appendTo()),"function"==typeof e.html&&(e.html=e.html(t)),e}(r,e.performance?e:function(t,e){var n=a.reduce(function(n,o){var r=t.getAttribute("data-tippy-"+o.toLowerCase())||e[o];return"false"===r&&(r=!1),"true"===r&&(r=!0),isFinite(r)&&!isNaN(parseFloat(r))&&(r=parseFloat(r)),"target"!==o&&"string"==typeof r&&"["===r.trim().charAt(0)&&(r=JSON.parse(r)),n[o]=r,n},{});return f({},e,n)}(r,e)),l=r.getAttribute("title");if(!(l||s.target||s.html||s.dynamicTitle))return t;r.setAttribute(s.target?"data-tippy-delegate":"data-tippy",""),h(r);var d=function(t,e,n){var o=c();o.setAttribute("class","tippy-popper"),o.setAttribute("role","tooltip"),o.setAttribute("id","tippy-"+t),o.style.zIndex=n.zIndex,o.style.maxWidth=n.maxWidth;var r=c();r.setAttribute("class","tippy-tooltip"),r.setAttribute("data-size",n.size),r.setAttribute("data-animation",n.animation),r.setAttribute("data-state","hidden"),n.theme.split(" ").forEach(function(t){r.classList.add(t+"-theme")});var i=c();if(i.setAttribute("class","tippy-content"),n.arrow){var a=c();a.style[p("transform")]=n.arrowTransform,"round"===n.arrowType?(a.classList.add("tippy-roundarrow"),a.innerHTML='<svg viewBox="0 0 24 8" xmlns="http://www.w3.org/2000/svg"><path d="M3 8s2.021-.015 5.253-4.218C9.584 2.051 10.797 1.007 12 1c1.203-.007 2.416 1.035 3.761 2.782C19.012 8.005 21 8 21 8H3z"/></svg>'):a.classList.add("tippy-arrow"),r.appendChild(a)}if(n.animateFill){r.setAttribute("data-animatefill","");var s=c();s.classList.add("tippy-backdrop"),s.setAttribute("data-state","hidden"),r.appendChild(s)}n.inertia&&r.setAttribute("data-inertia",""),n.interactive&&r.setAttribute("data-interactive","");var l=n.html;if(l){var d=void 0;l instanceof Element?(i.appendChild(l),d="#"+(l.id||"tippy-html-template")):(i.innerHTML=document.querySelector(l).innerHTML,d=l),o.setAttribute("data-html",""),r.setAttribute("data-template-id",d),n.interactive&&o.setAttribute("tabindex","-1")}else i[n.allowTitleHTML?"innerHTML":"textContent"]=e;return r.appendChild(i),o.appendChild(r),o}(i,l,s),u=new Ct({id:i,reference:r,popper:d,options:s,title:l,popperInstance:null});s.createPopperInstanceOnInit&&(u.popperInstance=Ft.call(u),u.popperInstance.disableEventListeners());var y=Mt.call(u);return u.listeners=s.trigger.trim().split(" ").reduce(function(t,e){return t.concat(function(t,e,r,i){var a=r.onTrigger,s=r.onMouseLeave,l=r.onBlur,p=r.onDelegateShow,c=r.onDelegateHide,d=[];if("manual"===t)return d;var u=function(t,n){e.addEventListener(t,n),d.push({event:t,handler:n})};return i.target?(o.supportsTouch&&i.touchHold&&(u("touchstart",p),u("touchend",c)),"mouseenter"===t&&(u("mouseover",p),u("mouseout",c)),"focus"===t&&(u("focusin",p),u("focusout",c)),"click"===t&&u("click",p)):(u(t,a),o.supportsTouch&&i.touchHold&&(u("touchstart",a),u("touchend",s)),"mouseenter"===t&&u("mouseleave",s),"focus"===t&&u(n?"focusout":"blur",l)),d}(e,r,y,s))},[]),s.dynamicTitle&&Rt.call(u,{target:r,callback:function(){var t=m(d).content,e=r.getAttribute("title");e&&(t[s.allowTitleHTML?"innerHTML":"textContent"]=u.title=e,h(r))},options:{attributes:!0}}),r._tippy=u,d._tippy=u,d._reference=r,t.push(u),Yt++,t},[])}function Nt(t){l(document.querySelectorAll(r.POPPER)).forEach(function(e){var n=e._tippy;if(n){var o=n.options;!(!0===o.hideOnClick||o.trigger.indexOf("focus")>-1)||t&&e===t.popper||n.hide()}})}var _t=!1;function Ht(t,e,n){var a,p,c,d;o.supported&&!_t&&(p=function(){o.usingTouch||(o.usingTouch=!0,o.iOS&&document.body.classList.add("tippy-touch"),o.dynamicInputDetection&&window.performance&&document.addEventListener("mousemove",c),o.onUserInputChange("touch"))},a=void 0,c=function(){var t=performance.now();t-a<20&&(o.usingTouch=!1,document.removeEventListener("mousemove",c),o.iOS||document.body.classList.remove("tippy-touch"),o.onUserInputChange("mouse")),a=t},document.addEventListener("click",function(t){if(!(t.target instanceof Element))return Nt();var e=wt(t.target,r.REFERENCE),n=wt(t.target,r.POPPER);if(!(n&&n._tippy&&n._tippy.options.interactive)){if(e&&e._tippy){var i=e._tippy.options,a=i.trigger.indexOf("click")>-1,s=i.multiple;if(!s&&o.usingTouch||!s&&a)return Nt(e._tippy);if(!0!==i.hideOnClick||a)return}Nt()}}),document.addEventListener("touchstart",p),window.addEventListener("blur",function(){var t=document.activeElement;t&&t.blur&&gt.call(t,r.REFERENCE)&&t.blur()}),window.addEventListener("resize",function(){l(document.querySelectorAll(r.POPPER)).forEach(function(t){var e=t._tippy;e&&!e.options.livePlacement&&e.popperInstance.scheduleUpdate()})}),o.supportsTouch||!navigator.maxTouchPoints&&!navigator.msMaxTouchPoints||document.addEventListener("pointerdown",p),_t=!0),s(t)&&((d=t).refObj=!0,d.attributes=d.attributes||{},d.setAttribute=function(t,e){d.attributes[t]=e},d.getAttribute=function(t){return d.attributes[t]},d.removeAttribute=function(t){delete d.attributes[t]},d.hasAttribute=function(t){return t in d.attributes},d.addEventListener=function(){},d.removeEventListener=function(){},d.classList={classNames:{},add:function(t){return d.classList.classNames[t]=!0},remove:function(t){return delete d.classList.classNames[t],!0},contains:function(t){return t in d.classList.classNames}}),e=f({},i,e);var u=function(t){if(t instanceof Element||s(t))return[t];if(t instanceof NodeList)return l(t);if(Array.isArray(t))return t;try{return l(document.querySelectorAll(t))}catch(t){return[]}}(t),m=u[0];return{selector:t,options:e,tooltips:o.supported?Xt(n&&m?[m]:u,e):[],destroyAll:function(){this.tooltips.forEach(function(t){return t.destroy()}),this.tooltips=[]}}}return Ht.version="2.5.2",Ht.browser=o,Ht.defaults=i,Ht.one=function(t,e){return Ht(t,e,!0).tooltips[0]},Ht.disableAnimations=function(){i.updateDuration=i.duration=0,i.animateFill=!1},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t&&o.supported){var n=document.head||document.querySelector("head"),r=document.createElement("style");r.type="text/css",n.insertBefore(r,n.firstChild),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}('.tippy-touch{cursor:pointer!important}.tippy-notransition{transition:none!important}.tippy-popper{max-width:350px;-webkit-perspective:700px;perspective:700px;z-index:9999;outline:0;transition-timing-function:cubic-bezier(.165,.84,.44,1);pointer-events:none;line-height:1.4}.tippy-popper[data-html]{max-width:96%;max-width:calc(100% - 20px)}.tippy-popper[x-placement^=top] .tippy-backdrop{border-radius:40% 40% 0 0}.tippy-popper[x-placement^=top] .tippy-roundarrow{bottom:-8px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.tippy-popper[x-placement^=top] .tippy-arrow{border-top:7px solid #333;border-right:7px solid transparent;border-left:7px solid transparent;bottom:-7px;margin:0 6px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-backdrop{-webkit-transform-origin:0 90%;transform-origin:0 90%}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(6) translate(-50%,25%);transform:scale(6) translate(-50%,25%);opacity:1}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1) translate(-50%,25%);transform:scale(1) translate(-50%,25%);opacity:0}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(-20px);transform:translateY(-20px)}.tippy-popper[x-placement^=top] [data-animation=perspective]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px) rotateX(0);transform:translateY(-10px) rotateX(0)}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) rotateX(90deg);transform:translateY(0) rotateX(90deg)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px) scale(1);transform:translateY(-10px) scale(1)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) scale(0);transform:translateY(0) scale(0)}.tippy-popper[x-placement^=bottom] .tippy-backdrop{border-radius:0 0 30% 30%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow{top:-8px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(0);transform:rotate(0)}.tippy-popper[x-placement^=bottom] .tippy-arrow{border-bottom:7px solid #333;border-right:7px solid transparent;border-left:7px solid transparent;top:-7px;margin:0 6px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-backdrop{-webkit-transform-origin:0 -90%;transform-origin:0 -90%}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(6) translate(-50%,-125%);transform:scale(6) translate(-50%,-125%);opacity:1}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1) translate(-50%,-125%);transform:scale(1) translate(-50%,-125%);opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateY(10px) rotateX(0);transform:translateY(10px) rotateX(0)}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) rotateX(-90deg);transform:translateY(0) rotateX(-90deg)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateY(10px) scale(1);transform:translateY(10px) scale(1)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) scale(0);transform:translateY(0) scale(0)}.tippy-popper[x-placement^=left] .tippy-backdrop{border-radius:50% 0 0 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow{right:-16px;-webkit-transform-origin:33.33333333% 50%;transform-origin:33.33333333% 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.tippy-popper[x-placement^=left] .tippy-arrow{border-left:7px solid #333;border-top:7px solid transparent;border-bottom:7px solid transparent;right:-7px;margin:3px 0;-webkit-transform-origin:0 50%;transform-origin:0 50%}.tippy-popper[x-placement^=left] .tippy-backdrop{-webkit-transform-origin:100% 0;transform-origin:100% 0}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(6) translate(40%,-50%);transform:scale(6) translate(40%,-50%);opacity:1}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1.5) translate(40%,-50%);transform:scale(1.5) translate(40%,-50%);opacity:0}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(-20px);transform:translateX(-20px)}.tippy-popper[x-placement^=left] [data-animation=perspective]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px) rotateY(0);transform:translateX(-10px) rotateY(0)}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) rotateY(-90deg);transform:translateX(0) rotateY(-90deg)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px) scale(1);transform:translateX(-10px) scale(1)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) scale(0);transform:translateX(0) scale(0)}.tippy-popper[x-placement^=right] .tippy-backdrop{border-radius:0 50% 50% 0}.tippy-popper[x-placement^=right] .tippy-roundarrow{left:-16px;-webkit-transform-origin:66.66666666% 50%;transform-origin:66.66666666% 50%}.tippy-popper[x-placement^=right] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.tippy-popper[x-placement^=right] .tippy-arrow{border-right:7px solid #333;border-top:7px solid transparent;border-bottom:7px solid transparent;left:-7px;margin:3px 0;-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.tippy-popper[x-placement^=right] .tippy-backdrop{-webkit-transform-origin:-100% 0;transform-origin:-100% 0}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(6) translate(-140%,-50%);transform:scale(6) translate(-140%,-50%);opacity:1}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1.5) translate(-140%,-50%);transform:scale(1.5) translate(-140%,-50%);opacity:0}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(20px);transform:translateX(20px)}.tippy-popper[x-placement^=right] [data-animation=perspective]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateX(10px) rotateY(0);transform:translateX(10px) rotateY(0)}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) rotateY(90deg);transform:translateX(0) rotateY(90deg)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateX(10px) scale(1);transform:translateX(10px) scale(1)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) scale(0);transform:translateX(0) scale(0)}.tippy-tooltip{position:relative;color:#fff;border-radius:4px;font-size:.9rem;padding:.3rem .6rem;text-align:center;will-change:transform;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:#333}.tippy-tooltip[data-size=small]{padding:.2rem .4rem;font-size:.75rem}.tippy-tooltip[data-size=large]{padding:.4rem .8rem;font-size:1rem}.tippy-tooltip[data-animatefill]{overflow:hidden;background-color:transparent}.tippy-tooltip[data-animatefill] .tippy-content{transition:-webkit-clip-path cubic-bezier(.46,.1,.52,.98);transition:clip-path cubic-bezier(.46,.1,.52,.98);transition:clip-path cubic-bezier(.46,.1,.52,.98),-webkit-clip-path cubic-bezier(.46,.1,.52,.98)}.tippy-tooltip[data-interactive],.tippy-tooltip[data-interactive] path{pointer-events:auto}.tippy-tooltip[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.53,2,.36,.85)}.tippy-tooltip[data-inertia][data-state=hidden]{transition-timing-function:ease}.tippy-arrow,.tippy-roundarrow{position:absolute;width:0;height:0}.tippy-roundarrow{width:24px;height:8px;fill:#333;pointer-events:none}.tippy-backdrop{position:absolute;will-change:transform;background-color:#333;border-radius:50%;width:26%;left:50%;top:50%;z-index:-1;transition:all cubic-bezier(.46,.1,.52,.98);-webkit-backface-visibility:hidden;backface-visibility:hidden}.tippy-backdrop:after{content:"";float:left;padding-top:100%}body:not(.tippy-touch) .tippy-tooltip[data-animatefill][data-state=visible] .tippy-content{-webkit-clip-path:ellipse(100% 100% at 50% 50%);clip-path:ellipse(100% 100% at 50% 50%)}body:not(.tippy-touch) .tippy-tooltip[data-animatefill][data-state=hidden] .tippy-content{-webkit-clip-path:ellipse(5% 50% at 50% 50%);clip-path:ellipse(5% 50% at 50% 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=right] .tippy-tooltip[data-animatefill][data-state=visible] .tippy-content{-webkit-clip-path:ellipse(135% 100% at 0 50%);clip-path:ellipse(135% 100% at 0 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=right] .tippy-tooltip[data-animatefill][data-state=hidden] .tippy-content{-webkit-clip-path:ellipse(40% 100% at 0 50%);clip-path:ellipse(40% 100% at 0 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=left] .tippy-tooltip[data-animatefill][data-state=visible] .tippy-content{-webkit-clip-path:ellipse(135% 100% at 100% 50%);clip-path:ellipse(135% 100% at 100% 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=left] .tippy-tooltip[data-animatefill][data-state=hidden] .tippy-content{-webkit-clip-path:ellipse(40% 100% at 100% 50%);clip-path:ellipse(40% 100% at 100% 50%)}@media (max-width:360px){.tippy-popper{max-width:96%;max-width:calc(100% - 20px)}}'),Ht},t.exports=n()}).call(this,n(7))},function(t,e){t.exports=[{topic:"Air quality",key:"FUGV49UB",title:"Explore how oil and gas development can affect local and regional air quality"},{topic:"Climate change",key:"CMPFGPRK",title:"Examine the implications of increased oil and gas development for climate change"},{topic:"Community impacts",key:"V538Y7T9",title:"undefined"},{topic:"Community-industry interaction",key:"F8Q5D6RS",title:"Understand how communities and oil and gas companies interact on a variety of issues"},{topic:"Cumulative impacts",key:"missing1",title:"Explore studies that aggregate multiple effects of oil and gas development"},{topic:"Economics of shale development",key:"42H54TQS",title:"Examine the costs, innovations, and trends that shape the economics of shale development"},{topic:"Ecosystems, habitats, species",key:"M43C6MTF",title:"Understand how oil and gas development can affect local and regional ecosystems, habitats, and species"},{topic:"Environmental justice",key:"X5ZEDSMQ",title:"Does oil and gas development have a disproportionate impact on low-income or minority communities?"},{topic:"Federal regulation",key:"SFLUS5I4",title:"How does the federal government regulate the oil and gas industry?"},{topic:"Groundwater",key:"Q7MVJ2ED",title:"Understand the potential impacts of oil and gas development on groundwater resources"},{topic:"Human health",key:"5W2ZJTJC",title:"Explore the potential impacts of oil and gas development on human health"},{topic:"Local governments",key:"EXLS3NV4",title:"Understand how oil and gas development affects local governments"},{topic:"National (US)/sectoral economy",key:"4NPI3GYM",title:"Examine the economic impacts of oil and gas development for the U.S. and major economic sectors"},{topic:"Occupational hazards",key:"missing2",title:"What are the risks of working in oil and gas production?"},{topic:"Property values",key:"NXSYV4IM",title:"How does oil and gas development affect nearby property values?"},{topic:"Public opinion",key:"YJDYU9VM",title:"How does the public view the effects of oil and gas development?"},{topic:"Quality of life/Community impacts",key:"XN7GXNFQ",title:"Examine community impacts such as housing affordability, crime, education, truck traffic, noise, and more"},{topic:"Seismicity",key:"FWMYGUWI",title:"Explore the connection between oil and gas development and earthquakes"},{topic:"State government",key:"APRI3VMZ",title:"Understand how state governments are affected by, and how they affect, oil and gas development"},{topic:"State regulation",key:"9IL3TCKF",title:"How do state governments regulate the oil and gas industry?"},{topic:"Subnational economies",key:"X9DSTIGE",title:"Examine how oil and gas development affects local, state, and regional economies"},{topic:"Surface water",key:"QCW37PP2",title:"Examine the impacts of oil and gas development on the quantity and quality of surface water resources"}]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.StringHelpers=(String.prototype.cleanString=function(){return this.replace(/[ /]/g,"-").replace(/['"”’“‘,.!?;()&]/g,"").toLowerCase()},String.prototype.removeUnderscores=function(){return this.replace(/_/g," ")},String.prototype.undoCamelCase=function(){return this.replace(/([A-Z])/g," $1").toLowerCase()},void(String.prototype.trunc=String.prototype.trunc||function(t,e){if(this.length<=t)return this;var n=this.substr(0,t-1);return(e?n.substr(0,n.lastIndexOf(" ")):n)+"..."}))},,function(t,e,n){},function(t,e,n){"use strict";n(12),n(10);var o,r,i,a,s=u(n(9)),l=u(n(8)),p=n(6),c=n(3),d=u(n(0));function u(t){return t&&t.__esModule?t:{default:t}}function f(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}o="2127948",r={gateCheck:0,searchType:"fields",init:function(t){window.RFFApp.model.topicButtonPromise=new Promise(function(t){window.RFFApp.model.resolveTopicButtons=t}),this.getZoteroCollections(t),this.getZoteroItems(t),this.setupSearch(),console.log(s.default)},clearSearch:function(){var t=document.querySelector("#collection-search input");t.value="",t.setAttribute("placeholder","Search the collection (by title, author, or year)")},setupSearch:function(){document.getElementById("collection-search").onsubmit=function(t){t.preventDefault(),a.loading(!0);var e=this.querySelector("input").value,n="https://api.zotero.org/groups/"+o+"/items?q="+e+"&format=keys";new Promise(function(t,e){d3.text(n,function(n,o){if(n)throw e(n),n;t(o.split(/\n/))})}).then(function(t){console.log(t),""!==t[0]&&(r.getSearchItems(t,e),a.loading(!1))})}},getSearchItems:function(t,e){var n=i.zoteroItems.filter(function(e){return-1!==t.indexOf(e.key)});console.log(n),c.filterResults.call(a,n,r),a.updatePieChart(n,'matching search: "'+e+'"')},childrenify:function(t){return console.log(t),t.forEach(function(e){if(!1!==e.data.parentCollection&&e.meta.numItems>0){var n=t.find(function(t){return t.key===e.data.parentCollection});void 0!==n&&(n.children=n.children||[],n.children.push(e))}}),t},returnKeyValues:function(t,e){return t.slice(1).map(function(n){return n.reduce(function(n,o,r){return n[t[0][r]]=!0===e?isNaN(+o)||""===o?o:+o:o,n},{})})},nestPrelim:function(t){return t.reduce(function(t,e){if("string"!=typeof e&&"function"!=typeof e)throw"each nestBy item must be a string or function";var n;return"string"==typeof e&&(n=t.key(function(t){return t[e]})),"function"==typeof e&&(n=t.key(function(t){return e(t)})),n},d3.nest())},recursiveNest:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"series";if("string"==typeof e||"function"==typeof e)this.nestByArray=[e];else{if(!Array.isArray(e))throw"nestBy variable must be a string, function, or array of strings or functions";this.nestByArray=e}var o=this.nestPrelim(this.nestByArray);return"object"===n?o.object(t):o.entries(t)},getZoteroCollections:function(t){var e=this;t?d3.json("data/zoteroCollections-7-25-18.json",function(t,n){if(t)throw t;i.collections=e.childrenify(n),console.log("increment gateCheck from get collections"),e.gateCheck++,a.init()}):new Promise(function(t,n){var r=0;(function e(){var a=this;d3.json("https://api.zotero.org/groups/"+o+"/collections?limit=100",function(o,s){if(console.log(s),o){if(!(r<3))throw n(o),o;console.log("Error, attempt "+r+": ",o),r++,e()}else console.log(JSON.stringify(s)),i.collections=a.childrenify(s),t(i.collections)})}).call(e)}).then(function(t){console.log(t),console.log("increment gateCheck from get collections"),e.gateCheck++,a.init()})},getZoteroItems:function(t){var e=this;if(t)d3.json("data/zoteroItems-7-25-18.json",function(t,n){if(t)throw t;i.zoteroItems=n,e.parseZoteroItemDates(),console.log("increment gateCheck from get items"),e.gateCheck++,a.init()});else{for(var n=[],r=[],s=0;s<9;s++)setTimeout(n.push(l(s)),500*s);Promise.race(n).then(function(t){if(console.log(t),t.total>9){for(var o=9;o<Math.ceil(t.total/100);o++)r.push(l(o));Promise.all([].concat(n,r)).then(function(t){window.dateStrings=[],t.forEach(function(t){var e;(e=i.zoteroItems).push.apply(e,f(t.data))}),console.log(JSON.stringify(i.zoteroItems)),e.parseZoteroItemDates(),e.gateCheck++,a.init()})}else Promise.all(n).then(function(t){console.log(t),t.forEach(function(t){var e;(e=i.zoteroItems).push.apply(e,f(t.data))}),e.parseZoteroItemDates(),e.gateCeck++,a.init()})})}function l(t){return new Promise(function(e,n){var r=0;!function i(){d3.request("https://api.zotero.org/groups/"+o+"/items/top?include=data,bib&limit=100&start="+100*t,function(t,o){if(t){if(!(r<3))throw n(t),t;console.log("Error, attempt "+r+": ",t),r++,i()}else console.log(+o.getResponseHeader("last-modified-version")),e({total:+o.getResponseHeader("Total-Results"),data:JSON.parse(o.responseText)})})}()})}},parseZoteroItemDates:function(){var t=this;i.zoteroItems.forEach(function(e){var n=t.getDatesFromString(e.data.date);e.data.dateString=n.display,e.data.dateValue=n.value}),i.zoteroItems.sort(function(t,e){return d3.descending(t.data.dateValue,e.data.dateValue)})},getCollectionItems:function(t){console.log("In get collection Items"),console.log(t);var e=[],n=[];"initial"!==t&&(e="syntheses-only"!==t?[i.collections.find(function(e){return e.key===t})]:i.collections);var o="initial"===t?i.zoteroItems:"syntheses-only"===t?[]:i.zoteroItems.filter(function(e){return-1!==e.data.collections.indexOf(t)});console.log(o),e.forEach(function(t){void 0!==t&&t.children&&t.children.forEach(function(t){var e=i.zoteroItems.filter(function(e){return-1!==e.data.collections.indexOf(t.key)&&("Literature Review"===t.data.name||"Issue Brief"===t.data.name)});e.forEach(function(e){console.log(t.data),e.synthesisType=t.data.name}),n.push.apply(n,f(e))})}),c.createResultsContainer.call(a),c.filterResults.call(a,o,r,t),a.filterSynthesisResults(n),a.updatePieChart(o,0===e.length?"All topics":1===e.length?e[0].data.name:"Curated reviews")},getDatesFromString:function(t){var e=new Date(1776,3,4),n="",o={forthcoming:/forthcoming/,yyyy:/^(\d{4})$/,yyyymmdd:/(\d{4})[-/](\d{1,2})[-/](\d{1,2})/,monthddyyyy:/^(\w+)\.* *(\d{1,2}), *(\d{4})/,monthyyyy:/^(\w+)\.* (\d{4})/,yyyymm:/^(\d{4})[-/](\d{1,2})$/,mmddyyyy:/^(\d{1,2})[-/](\d{1,2})[-/](\d{4})/,yyyyyyyy:/^(\d{4})[-–—]\d{4}/,yyyymonthdd:/^(\d{4}) *(\w+)\.* *(\d{1,2})/};function r(t){return void 0!==i[t]&&isNaN(i[t])?i[t]:t}var i={0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December",January:0,February:1,March:2,April:3,May:4,June:5,July:6,August:7,September:8,October:9,November:10,December:11,Winter:11,Spring:2,Summer:5,Fall:8,Autumn:8,Jan:"January",Feb:"February",Mar:"March",Apr:"April",Jun:"June",Jul:"July",Aug:"August",Sep:"September",Sept:"September",Oct:"October",Nov:"Novemeber",Dec:"December"};for(var a in o)if(o.hasOwnProperty(a)&&void 0!==t){var s=t.match(o[a]);if(null!==s)switch(a){case"yyyy":n=t,e=new Date(+s[1],0,1);break;case"yyyymmdd":n=i[(+s[2]-1).toString()]+" "+ +s[3]+", "+s[1],e=new Date(+s[1],+s[2]-1,+s[3]);break;case"monthddyyyy":n=r(s[1])+" "+ +s[2]+", "+s[3],e=new Date(+s[3],i[r(s[1])],+s[2]);break;case"monthyyyy":n=r(s[1])+" "+s[2],e=new Date(+s[2],i[r(s[1])],1);break;case"yyyymm":n=i[+s[2]-1]+" "+s[1],e=new Date(+s[1],+s[2]-1,1);break;case"mmddyyyy":n=i[+s[1]-1]+" "+ +s[2]+", "+s[3],e=new Date(+s[3],+s[1]-1,+s[2]);break;case"yyyyyyyy":n=t.replace("-","—").replace("-","–"),e=new Date(+s[1],0,1);break;case"yyyymonthdd":n=r(s[2])+" "+ +s[3]+", "+s[1],e=new Date(+s[1],i[r(s[2])],+s[3]);break;case"forthcoming":n="forthcoming",e=new Date}}return{value:e,display:n}},biblioTooltips:function(){(0,l.default)(".tippy-clipboard",{arrow:!0,theme:"RFF",trigger:"manual"}),(0,l.default)(".copy-bib",{arrow:!0,hideOnClick:!1,interactive:!0,theme:"RFF"})},copyBibText:function(){var t=this;this.parentNode.querySelector(".bib-container").select();try{var e=document.execCommand("copy"),n=e?"successful":"unsuccessful";console.log("Copying text command was "+n),e&&(this.parentNode._tippy.show(),setTimeout(function(){t.parentNode._tippy.hide()},1e3))}catch(t){console.log("Oops, unable to copy")}}},i={zoteroItems:[]},a={init:function(){d.default.polyfill(),console.log(r.gateCheck),r.gateCheck<2||(console.log("READY!"),console.log(i.zoteroItems),this.renderTopicButtons(),this.attachTooltips(),console.log(i.collections),r.getCollectionItems("initial"),this.setupSidebar(),this.loading(!1))},smoothScroll:function(t){t.scrollIntoView({behavior:"smooth"})},attachTooltips:function(){document.querySelectorAll(".browse-buttons > div").forEach(function(t){var e=s.default.find(function(e){return e.key===t.dataset.collection});void 0!==e&&(t.setAttribute("title",e.title),l.default.one(t,{theme:"RFF",arrow:!0}))})},setupSidebar:function(){var t=d3.max(i.zoteroItems,function(t){return new Date(t.data.dateModified)}),e=d3.max(i.zoteroItems,function(t){return t.data.version}),n=document.querySelector("#sidebar"),o="\n            <h2>Library info</h2>\n            <p>Date last modified: "+t.getDate()+" "+{0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"}[t.getMonth()]+" "+t.getFullYear()+"<br />(Version "+e+")</p>\n            ";n.insertAdjacentHTML("beforeend",o),this.sidebarContact(),this.sibebarDocumentation(),this.makePieChart()},sibebarDocumentation:function(){var t=document.createElement("div");t.className="documentation",t.innerHTML='\n            <h3>Documentation</h3>\n            <p><a href="http://www.rff.org/files/faq.pdf">SHARC Frequently Asked Questions</a> (PDF)</p>\n            <p><a href="http://www.rff.org/files/how-sharc-is-built.pdf">How SHARC Is Built</a> (PDF)</p>\n            ',document.querySelector("#sidebar").append(t)},sidebarContact:function(){var t=document.createElement("div");t.className="contact-us",t.innerHTML='\n            <h3>Get in touch</h3>\n              <form>\x3c!--<form method="POST" action="http://formspree.io/XXXXXXX" _lpchecked="1">--\x3e\n              <input type="email" name="email" placeholder="Your email">\n              <textarea name="message" placeholder="Your message"></textarea>\n                <input type="text" name="_gotcha" style="display:none">\n                <input type="hidden" name="_next" value="/projects/?thanks">\n              <button type="submit">Send</button>\n            </form>\n          ',document.querySelector("#sidebar").append(t)},makePieChart:function(){var t=d3.select("#sidebar2").append("svg").attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").attr("version","1.1").attr("viewBox","0 0 100 62").attr("focusable",!1).attr("aria-labelledby","svgTitle svgDesc").attr("role","graphics-dataunit").attr("class","pubtype-pie");t.append("title").attr("id","svgTitle").text("Pie chart of publication types"),t.append("desc").attr("id","svgDesc").text("Pie chart of publication types"),t.append("g"),d3.select("#sidebar2 svg").append("g").attr("class","legend"),d3.select("#sidebar2 svg").append("text").attr("class","total").attr("font-size",10).attr("text-anchor","middle"),this.updatePieChart(i.zoteroItems,"All topics")},updatePieChart:function(t,e){d3.select("#sidebar2 #pie-header").text(e),console.log(t);var n=d3.nest().key(function(t){return t.data.itemType}).rollup(function(t){return t.length}).entries(t.filter(function(t){return"attachment"!==t.data.itemType})).sort(function(t,e){return d3.descending(t.value,e.value)}),o=n.reduce(function(t,e){return t+e.value},0),r=[];n.forEach(function(t,e){if(e<4)r.push({name:t.key,value:t.value});else if(4===e){var o=n.slice(e).reduce(function(t,e){return t+e.value},0);r.push({name:"other",value:o})}}),console.log(r);var i=d3.pie().sort(null).value(function(t){return t.value});console.log(i(r));var a=d3.arc().outerRadius(30).innerRadius(20),s=d3.arc().outerRadius(25.5).innerRadius(25.5),l=d3.select("#sidebar2 svg g").attr("transform","translate(30,30)").selectAll(".arc").data(i(r),function(t){return t.data.name});l.select("path").attr("d",a),l.select("text").attr("transform",function(t){return"translate("+s.centroid(t)+")"}).text(function(t){return t.data.value}),l.exit().remove();var p=l.enter().append("g").attr("class",function(t){return console.log(t),"arc "+t.data.name});p.append("path").attr("d",a),p.append("text").attr("transform",function(t){return"translate("+s.centroid(t)+")"}).attr("dy","0.35em").attr("text-anchor","middle").attr("font-size",4).attr("fill",function(t){return"journalArticle"===t.data.name||"book"===t.data.name||"report"===t.data.name?"#ffffff":"#000000"}).text(function(t){return t.data.value});var c={journalArticle:"journal articles",report:"reports",webpage:"webpages",book:"books",other:"other",bookSection:"chapters",document:"documents",magazineArticle:"magazine articles",presentation:"presentations"},d=d3.select("#sidebar2 svg g.legend").attr("transform","translate(65,2)").selectAll(".legend-item").data(i(r),function(t){return t.data.name});d.select("g.legend-item").attr("transform",function(t,e){return"translate(0,"+7*e+")"}),d.exit().remove();var u=d.enter().append("g").attr("class",function(t){return"legend-item "+t.data.name}).attr("transform",function(t,e){return"translate(0,"+7*e+")"});u.append("rect").attr("width",5).attr("height",5),u.append("text").attr("transform","translate(7,4)").attr("font-size",4).text(function(t){return c[t.data.name]}),d3.select("#sidebar2 svg text.total").attr("transform","translate(30,30)").text(function(){return o>0?o:null})},loading:function(t){t?document.querySelector("body").classList.add("loading"):document.querySelector("body").classList.remove("loading")},renderTopicButtons:function(){var t=document.getElementById("browse-buttons-container"),e=i.collections.filter(function(t){return!1===t.data.parentCollection}).sort(function(t,e){return d3.ascending(t.data.name,e.data.name)});console.log(e),e.filter(function(t){return void 0!==t.children}).forEach(function(e,n){t.appendChild((0,p.createBrowseCategory)(e,n,!0))}),e.filter(function(t){return void 0===t.children}).forEach(function(e,n){t.appendChild((0,p.createBrowseCategory)(e,n,!1))}),window.RFFApp.model.resolveTopicButtons(!0),(0,p.createTopicKey)(),this.renderShowAllButton(),this.renderShowAllSyntheses()},renderShowAllButton:function(){var t=document.createElement("div");t.id="show-all-container",t.className="browse-buttons";var e=document.createElement("div");e.className="button button--secondary show-all active",t.appendChild(e),document.querySelector("#browse-buttons-container").insertAdjacentHTML("afterbegin",t.outerHTML);var n=d3.select("div.show-all");n.on("click",function(){d3.selectAll(".browse-buttons .button").classed("active",!1),d3.select(this).classed("active",!0),c.filterResults.call(a,void 0,r),a.filterSynthesisResults.call(a,[]),a.updatePieChart(i.zoteroItems,"All topics"),r.clearSearch()}),n.append("span").text("Show full collection")},renderShowAllSyntheses:function(){var t=d3.select("#show-all-container").append("div").attr("class","button button--secondary show-syntheses");t.on("click",function(){d3.selectAll(".browse-buttons .button").classed("active",!1),d3.select(this).classed("active",!0),r.getCollectionItems("syntheses-only"),r.clearSearch()}),t.append("span").text("Show curated reviews")},filterSynthesisResults:function(t){console.log(t);var e=d3.select(".synthesis-results ul").selectAll(".list-item").data(t,function(t){return t.data.key});console.log(e),e.exit().classed("entered",!1).classed("exiting",!0).transition(1500).remove();var n=e.enter().append("li").attr("id",function(t){return t.key}).attr("class",function(t,e){return(t.synthesisType.cleanString()||t.data.itemType)+" index-"+e+("RFF"===t.data.institution||"Resources for the Future"===t.data.institution?" RFF":"")}).classed("RFF",!0).classed("entering",!0).classed("list-item",!0).html(function(t){return(0,c.createResultItem)(t)}).on("click",function(){window.open("./pdf/"+this.id+".pdf","_blank")});setTimeout(function(){n.classed("entering",!1)}),this.synthesisItems=n.merge(e)}},window.RFFApp={controller:r,model:i},r.init(!0)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Ntb290aHNjcm9sbC1wb2x5ZmlsbC9kaXN0L3Ntb290aHNjcm9sbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9SZXN1bHRJdGVtcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Ccm93c2VCdXR0b25zLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RpcHB5LmpzL2Rpc3QvdGlwcHkuYWxsLmpzIiwid2VicGFjazovLy8uL3NyYy9kYXRhL3Rvb2x0aXBzLmNzdiIsIndlYnBhY2s6Ly8vLi9oZWxwZXJzL3N0cmluZy1oZWxwZXJzLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJ2YWx1ZSIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwicG9seWZpbGwiLCJ3Iiwid2luZG93IiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJzdHlsZSIsIl9fZm9yY2VTbW9vdGhTY3JvbGxQb2x5ZmlsbF9fIiwidXNlckFnZW50IiwiRWxlbWVudCIsIkhUTUxFbGVtZW50IiwiU0NST0xMX1RJTUUiLCJvcmlnaW5hbCIsInNjcm9sbCIsInNjcm9sbFRvIiwic2Nyb2xsQnkiLCJlbGVtZW50U2Nyb2xsIiwic2Nyb2xsRWxlbWVudCIsInNjcm9sbEludG9WaWV3Iiwibm93IiwicGVyZm9ybWFuY2UiLCJiaW5kIiwiRGF0ZSIsIlJPVU5ESU5HX1RPTEVSQU5DRSIsIm5hdmlnYXRvciIsIlJlZ0V4cCIsImpvaW4iLCJ0ZXN0IiwidW5kZWZpbmVkIiwiYXJndW1lbnRzIiwic2hvdWxkQmFpbE91dCIsInNtb290aFNjcm9sbCIsImJvZHkiLCJsZWZ0Iiwic2Nyb2xsWCIsInBhZ2VYT2Zmc2V0IiwidG9wIiwic2Nyb2xsWSIsInBhZ2VZT2Zmc2V0IiwidGhpcyIsInNjcm9sbExlZnQiLCJzY3JvbGxUb3AiLCJTeW50YXhFcnJvciIsImJlaGF2aW9yIiwic2Nyb2xsYWJsZVBhcmVudCIsImVsIiwiaXNCb2R5IiwicGFyZW50Tm9kZSIsImlzU2Nyb2xsYWJsZSIsImZpbmRTY3JvbGxhYmxlUGFyZW50IiwicGFyZW50UmVjdHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJjbGllbnRSZWN0cyIsImdldENvbXB1dGVkU3R5bGUiLCJwb3NpdGlvbiIsIngiLCJ5IiwiZmlyc3RBcmciLCJUeXBlRXJyb3IiLCJoYXNTY3JvbGxhYmxlU3BhY2UiLCJheGlzIiwiY2xpZW50SGVpZ2h0Iiwic2Nyb2xsSGVpZ2h0IiwiY2xpZW50V2lkdGgiLCJzY3JvbGxXaWR0aCIsImNhbk92ZXJmbG93Iiwib3ZlcmZsb3dWYWx1ZSIsImlzU2Nyb2xsYWJsZVkiLCJpc1Njcm9sbGFibGVYIiwic3RlcCIsImNvbnRleHQiLCJjdXJyZW50WCIsImN1cnJlbnRZIiwiayIsImVsYXBzZWQiLCJzdGFydFRpbWUiLCJNYXRoIiwiY29zIiwiUEkiLCJzdGFydFgiLCJzdGFydFkiLCJtZXRob2QiLCJzY3JvbGxhYmxlIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiX3Jlc3VsdHNJdGVtcyIsImNvbnNvbGUiLCJsb2ciLCJfcmVzdWx0c0l0ZW1zMiIsImRlZmF1bHQiLCJjcmVhdGVSZXN1bHRzQ29udGFpbmVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJpbm5lckhUTUwiLCJodG1sIiwicmVzdWx0cyIsInF1ZXJ5U2VsZWN0b3IiLCJjcmVhdGVSZXN1bHRJdGVtIiwiYXV0aG9yU3RyIiwiYXV0aG9ycyIsImRhdGEiLCJjcmVhdG9ycyIsIm1hcCIsImVhY2giLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImxlbmd0aCIsInJlcGxhY2UiLCJsYXN0SW5kZXhPZiIsInN1YnN0ciIsInB1YlVSTCIsInRpdGxlSW5uZXJIVE1MIiwicHVibGlzaGVyIiwiam91cm5hbEFiYnJldmlhdGlvbiIsInB1YmxpY2F0aW9uVGl0bGUiLCJpbnN0aXR1dGlvbiIsIndlYnNpdGVUaXRsZSIsImxpbmtzRGl2IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsInNldEF0dHJpYnV0ZSIsInVybCIsImxpbmsiLCJhcHBlbmRDaGlsZCIsImJpYiIsInBsYWNlaG9sZGVyIiwidGV4dE9ubHkiLCJiaWJDb250YWluZXIiLCJ0aXRsZSIsInN5bnRoZXNpc1R5cGUiLCJpdGVtVHlwZSIsInVuZG9DYW1lbENhc2UiLCJ0cnVuYyIsImRhdGVTdHJpbmciLCJvdXRlckhUTUwiLCJmaWx0ZXJSZXN1bHRzIiwibWF0Y2hlcyIsImNvbnRyb2xsZXIiLCJrZXkiLCJmaWx0ZXJlZERhdGEiLCJSRkZBcHAiLCJtb2RlbCIsInpvdGVyb0l0ZW1zIiwiaXRlbXMiLCJkMyIsInNlbGVjdCIsInNlbGVjdEFsbCIsImV4aXQiLCJjbGFzc2VkIiwidHJhbnNpdGlvbiIsInJlbW92ZSIsImVudGVyaW5nIiwiZW50ZXIiLCJhcHBlbmQiLCJhdHRyIiwic2V0VGltZW91dCIsIm1lcmdlIiwib24iLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiY29weUJpYlRleHQiLCJiaWJsaW9Ub29sdGlwcyIsIl9icm93c2VCdXR0b25zIiwiX2Jyb3dzZUJ1dHRvbnMyIiwiY3JlYXRlQnJvd3NlQ2F0ZWdvcnkiLCJjYXRlZ29yeSIsImluZGV4IiwiaXNDYXRlZ29yaXplZCIsImNvbnRhaW5lciIsImNhdGVnb3J5RGl2IiwiaGVhZGluZyIsImlkIiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiY2hpbGRyZW4iLCJzb3J0IiwiYSIsImIiLCJhc2NlbmRpbmciLCJmb3JFYWNoIiwiY3JlYXRlQnJvd3NlQnV0dG9uIiwiaW5kZXhPZiIsImNvbGxlY3Rpb24iLCJjaGlsZHJlbkNsYXNzZXMiLCJjbGVhblN0cmluZyIsInBhcmVudCIsInJlZHVjZSIsImFjYyIsImN1ciIsImJyb3dzZUJ1dHRvbiIsIm9uY2xpY2siLCJnZXRDb2xsZWN0aW9uSXRlbXMiLCJjbGVhclNlYXJjaCIsImNyZWF0ZVRvcGljS2V5IiwiY29udCIsImtleU1hcmsiLCJnIiwiRnVuY3Rpb24iLCJldmFsIiwiZSIsImdsb2JhbCIsImZhY3RvcnkiLCJpc0Jyb3dzZXIiLCJpc0lFIiwiYnJvd3NlciIsInN1cHBvcnRlZCIsInN1cHBvcnRzVG91Y2giLCJ1c2luZ1RvdWNoIiwiZHluYW1pY0lucHV0RGV0ZWN0aW9uIiwiaU9TIiwicGxhdGZvcm0iLCJNU1N0cmVhbSIsIm9uVXNlcklucHV0Q2hhbmdlIiwic2VsZWN0b3JzIiwiUE9QUEVSIiwiVE9PTFRJUCIsIkNPTlRFTlQiLCJCQUNLRFJPUCIsIkFSUk9XIiwiUk9VTkRfQVJST1ciLCJSRUZFUkVOQ0UiLCJkZWZhdWx0cyIsInBsYWNlbWVudCIsImxpdmVQbGFjZW1lbnQiLCJ0cmlnZ2VyIiwiYW5pbWF0aW9uIiwiYW5pbWF0ZUZpbGwiLCJhcnJvdyIsImRlbGF5IiwiZHVyYXRpb24iLCJpbnRlcmFjdGl2ZSIsImludGVyYWN0aXZlQm9yZGVyIiwidGhlbWUiLCJzaXplIiwiZGlzdGFuY2UiLCJvZmZzZXQiLCJoaWRlT25DbGljayIsIm11bHRpcGxlIiwiZm9sbG93Q3Vyc29yIiwiaW5lcnRpYSIsInVwZGF0ZUR1cmF0aW9uIiwic3RpY2t5IiwiYXBwZW5kVG8iLCJ6SW5kZXgiLCJ0b3VjaEhvbGQiLCJkeW5hbWljVGl0bGUiLCJmbGlwIiwiZmxpcEJlaGF2aW9yIiwiYXJyb3dUeXBlIiwiYXJyb3dUcmFuc2Zvcm0iLCJtYXhXaWR0aCIsInRhcmdldCIsImFsbG93VGl0bGVIVE1MIiwicG9wcGVyT3B0aW9ucyIsImNyZWF0ZVBvcHBlckluc3RhbmNlT25Jbml0Iiwib25TaG93Iiwib25TaG93biIsIm9uSGlkZSIsIm9uSGlkZGVuIiwiZGVmYXVsdHNLZXlzIiwia2V5cyIsImlzT2JqZWN0TGl0ZXJhbCIsInRvU3RyaW5nIiwidG9BcnJheSIsInNsaWNlIiwicHJlZml4IiwicHJlZml4ZXMiLCJ1cHBlclByb3AiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsIl9wcmVmaXgiLCJwcmVmaXhlZFByb3AiLCJkaXYiLCJjbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJjcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJ3cml0YWJsZSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9leHRlbmRzIiwiYXNzaWduIiwic291cmNlIiwiZ2V0SW5uZXJFbGVtZW50cyIsInBvcHBlciIsInRvb2x0aXAiLCJiYWNrZHJvcCIsImNvbnRlbnQiLCJyZW1vdmVUaXRsZSIsImdldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsImlzQnJvd3NlciQxIiwibG9uZ2VyVGltZW91dEJyb3dzZXJzIiwidGltZW91dER1cmF0aW9uIiwiZGVib3VuY2UiLCJQcm9taXNlIiwiZm4iLCJjYWxsZWQiLCJyZXNvbHZlIiwidGhlbiIsInNjaGVkdWxlZCIsImlzRnVuY3Rpb24iLCJmdW5jdGlvblRvQ2hlY2siLCJnZXRTdHlsZUNvbXB1dGVkUHJvcGVydHkiLCJlbGVtZW50Iiwibm9kZVR5cGUiLCJjc3MiLCJnZXRQYXJlbnROb2RlIiwibm9kZU5hbWUiLCJob3N0IiwiZ2V0U2Nyb2xsUGFyZW50Iiwib3duZXJEb2N1bWVudCIsIl9nZXRTdHlsZUNvbXB1dGVkUHJvcCIsIm92ZXJmbG93Iiwib3ZlcmZsb3dYIiwib3ZlcmZsb3dZIiwiaXNJRTExIiwiTVNJbnB1dE1ldGhvZENvbnRleHQiLCJkb2N1bWVudE1vZGUiLCJpc0lFMTAiLCJpc0lFJDEiLCJ2ZXJzaW9uIiwiZ2V0T2Zmc2V0UGFyZW50Iiwibm9PZmZzZXRQYXJlbnQiLCJvZmZzZXRQYXJlbnQiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJnZXRSb290Iiwibm9kZSIsImZpbmRDb21tb25PZmZzZXRQYXJlbnQiLCJlbGVtZW50MSIsImVsZW1lbnQyIiwib3JkZXIiLCJjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiIsIk5vZGUiLCJET0NVTUVOVF9QT1NJVElPTl9GT0xMT1dJTkciLCJzdGFydCIsImVuZCIsInJhbmdlIiwiY3JlYXRlUmFuZ2UiLCJzZXRTdGFydCIsInNldEVuZCIsImNvbW1vbkFuY2VzdG9yQ29udGFpbmVyIiwiY29udGFpbnMiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImVsZW1lbnQxcm9vdCIsImdldFNjcm9sbCIsInVwcGVyU2lkZSIsInNjcm9sbGluZ0VsZW1lbnQiLCJnZXRCb3JkZXJzU2l6ZSIsInN0eWxlcyIsInNpZGVBIiwic2lkZUIiLCJwYXJzZUZsb2F0IiwiZ2V0U2l6ZSIsImNvbXB1dGVkU3R5bGUiLCJtYXgiLCJnZXRXaW5kb3dTaXplcyIsImhlaWdodCIsIndpZHRoIiwiY2xhc3NDYWxsQ2hlY2skMSIsImNyZWF0ZUNsYXNzJDEiLCJkZWZpbmVQcm9wZXJ0eSQxIiwib2JqIiwiX2V4dGVuZHMkMSIsImdldENsaWVudFJlY3QiLCJvZmZzZXRzIiwicmlnaHQiLCJib3R0b20iLCJyZWN0IiwicmVzdWx0Iiwic2l6ZXMiLCJob3JpelNjcm9sbGJhciIsIm9mZnNldFdpZHRoIiwidmVydFNjcm9sbGJhciIsIm9mZnNldEhlaWdodCIsImdldE9mZnNldFJlY3RSZWxhdGl2ZVRvQXJiaXRyYXJ5Tm9kZSIsImZpeGVkUG9zaXRpb24iLCJpc0hUTUwiLCJjaGlsZHJlblJlY3QiLCJwYXJlbnRSZWN0Iiwic2Nyb2xsUGFyZW50IiwiYm9yZGVyVG9wV2lkdGgiLCJib3JkZXJMZWZ0V2lkdGgiLCJtYXJnaW5Ub3AiLCJtYXJnaW5MZWZ0Iiwic3VidHJhY3QiLCJtb2RpZmllciIsImluY2x1ZGVTY3JvbGwiLCJnZXRGaXhlZFBvc2l0aW9uT2Zmc2V0UGFyZW50IiwicGFyZW50RWxlbWVudCIsImdldEJvdW5kYXJpZXMiLCJyZWZlcmVuY2UiLCJwYWRkaW5nIiwiYm91bmRhcmllc0VsZW1lbnQiLCJib3VuZGFyaWVzIiwiZXhjbHVkZVNjcm9sbCIsInJlbGF0aXZlT2Zmc2V0IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiZ2V0Vmlld3BvcnRPZmZzZXRSZWN0UmVsYXRpdmVUb0FydGJpdHJhcnlOb2RlIiwiYm91bmRhcmllc05vZGUiLCJpc0ZpeGVkIiwiX2dldFdpbmRvd1NpemVzIiwiY29tcHV0ZUF1dG9QbGFjZW1lbnQiLCJyZWZSZWN0IiwicmVjdHMiLCJzb3J0ZWRBcmVhcyIsImFyZWEiLCJfcmVmIiwiZmlsdGVyZWRBcmVhcyIsImZpbHRlciIsIl9yZWYyIiwiY29tcHV0ZWRQbGFjZW1lbnQiLCJ2YXJpYXRpb24iLCJzcGxpdCIsImdldFJlZmVyZW5jZU9mZnNldHMiLCJzdGF0ZSIsImdldE91dGVyU2l6ZXMiLCJtYXJnaW5Cb3R0b20iLCJtYXJnaW5SaWdodCIsImdldE9wcG9zaXRlUGxhY2VtZW50IiwiaGFzaCIsIm1hdGNoZWQiLCJnZXRQb3BwZXJPZmZzZXRzIiwicmVmZXJlbmNlT2Zmc2V0cyIsInBvcHBlclJlY3QiLCJwb3BwZXJPZmZzZXRzIiwiaXNIb3JpeiIsIm1haW5TaWRlIiwic2Vjb25kYXJ5U2lkZSIsIm1lYXN1cmVtZW50Iiwic2Vjb25kYXJ5TWVhc3VyZW1lbnQiLCJmaW5kIiwiYXJyIiwiY2hlY2siLCJBcnJheSIsInJ1bk1vZGlmaWVycyIsIm1vZGlmaWVycyIsImVuZHMiLCJwcm9wIiwiZmluZEluZGV4IiwibWF0Y2giLCJ3YXJuIiwiZW5hYmxlZCIsImlzTW9kaWZpZXJFbmFibGVkIiwibW9kaWZpZXJOYW1lIiwic29tZSIsImdldFN1cHBvcnRlZFByb3BlcnR5TmFtZSIsInRvQ2hlY2siLCJnZXRXaW5kb3ciLCJkZWZhdWx0VmlldyIsInNldHVwRXZlbnRMaXN0ZW5lcnMiLCJvcHRpb25zIiwidXBkYXRlQm91bmQiLCJhZGRFdmVudExpc3RlbmVyIiwicGFzc2l2ZSIsImF0dGFjaFRvU2Nyb2xsUGFyZW50cyIsImNhbGxiYWNrIiwic2Nyb2xsUGFyZW50cyIsInB1c2giLCJldmVudHNFbmFibGVkIiwiZGlzYWJsZUV2ZW50TGlzdGVuZXJzIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJzY2hlZHVsZVVwZGF0ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpc051bWVyaWMiLCJpc05hTiIsImlzRmluaXRlIiwic2V0U3R5bGVzIiwidW5pdCIsImlzTW9kaWZpZXJSZXF1aXJlZCIsInJlcXVlc3RpbmdOYW1lIiwicmVxdWVzdGVkTmFtZSIsInJlcXVlc3RpbmciLCJpc1JlcXVpcmVkIiwiX3JlcXVlc3RpbmciLCJyZXF1ZXN0ZWQiLCJwbGFjZW1lbnRzIiwidmFsaWRQbGFjZW1lbnRzIiwiY2xvY2t3aXNlIiwiY291bnRlciIsImNvbmNhdCIsInJldmVyc2UiLCJCRUhBVklPUlMiLCJGTElQIiwiQ0xPQ0tXSVNFIiwiQ09VTlRFUkNMT0NLV0lTRSIsInBhcnNlT2Zmc2V0IiwiYmFzZVBsYWNlbWVudCIsInVzZUhlaWdodCIsImZyYWdtZW50cyIsImZyYWciLCJ0cmltIiwiZGl2aWRlciIsInNlYXJjaCIsInNwbGl0UmVnZXgiLCJvcHMiLCJvcCIsIm1lcmdlV2l0aFByZXZpb3VzIiwic3RyIiwidG9WYWx1ZSIsImluZGV4MiIsIkRlZmF1bHRzIiwicG9zaXRpb25GaXhlZCIsInJlbW92ZU9uRGVzdHJveSIsIm9uQ3JlYXRlIiwib25VcGRhdGUiLCJzaGlmdCIsInNoaWZ0dmFyaWF0aW9uIiwiX2RhdGEkb2Zmc2V0cyIsImlzVmVydGljYWwiLCJzaWRlIiwic2hpZnRPZmZzZXRzIiwicHJldmVudE92ZXJmbG93IiwidHJhbnNmb3JtUHJvcCIsInBvcHBlclN0eWxlcyIsInRyYW5zZm9ybSIsInByaW9yaXR5IiwicHJpbWFyeSIsImVzY2FwZVdpdGhSZWZlcmVuY2UiLCJzZWNvbmRhcnkiLCJtaW4iLCJrZWVwVG9nZXRoZXIiLCJmbG9vciIsIm9wU2lkZSIsIl9kYXRhJG9mZnNldHMkYXJyb3ciLCJhcnJvd0VsZW1lbnQiLCJsZW4iLCJzaWRlQ2FwaXRhbGl6ZWQiLCJ0b0xvd2VyQ2FzZSIsImFsdFNpZGUiLCJhcnJvd0VsZW1lbnRTaXplIiwiY2VudGVyIiwicG9wcGVyTWFyZ2luU2lkZSIsInBvcHBlckJvcmRlclNpZGUiLCJzaWRlVmFsdWUiLCJyb3VuZCIsImZsaXBwZWQiLCJvcmlnaW5hbFBsYWNlbWVudCIsInBsYWNlbWVudE9wcG9zaXRlIiwiZmxpcE9yZGVyIiwicmVmT2Zmc2V0cyIsIm92ZXJsYXBzUmVmIiwib3ZlcmZsb3dzTGVmdCIsIm92ZXJmbG93c1JpZ2h0Iiwib3ZlcmZsb3dzVG9wIiwib3ZlcmZsb3dzQm90dG9tIiwib3ZlcmZsb3dzQm91bmRhcmllcyIsImZsaXBwZWRWYXJpYXRpb24iLCJmbGlwVmFyaWF0aW9ucyIsImdldE9wcG9zaXRlVmFyaWF0aW9uIiwiaW5uZXIiLCJzdWJ0cmFjdExlbmd0aCIsImhpZGUiLCJib3VuZCIsImF0dHJpYnV0ZXMiLCJjb21wdXRlU3R5bGUiLCJsZWdhY3lHcHVBY2NlbGVyYXRpb25PcHRpb24iLCJncHVBY2NlbGVyYXRpb24iLCJvZmZzZXRQYXJlbnRSZWN0IiwicHJlZml4ZWRQcm9wZXJ0eSIsIndpbGxDaGFuZ2UiLCJpbnZlcnRUb3AiLCJpbnZlcnRMZWZ0IiwieC1wbGFjZW1lbnQiLCJhcnJvd1N0eWxlcyIsImFwcGx5U3R5bGUiLCJvbkxvYWQiLCJtb2RpZmllck9wdGlvbnMiLCJQb3BwZXIiLCJfdGhpcyIsInVwZGF0ZSIsImlzRGVzdHJveWVkIiwiaXNDcmVhdGVkIiwianF1ZXJ5IiwiZW5hYmxlRXZlbnRMaXN0ZW5lcnMiLCJyZW1vdmVDaGlsZCIsImdldFBvcHBlclBsYWNlbWVudCIsInRyYW5zZm9ybU51bWJlcnNCYXNlZE9uUGxhY2VtZW50QXhpcyIsInR5cGUiLCJudW1iZXJzIiwiaXNSZXZlcnNlIiwic2NhbGUiLCJ0cmFuc2xhdGUiLCJ0cmFuc2Zvcm1BeGlzIiwiWCIsIlkiLCJjb21wdXRlQXJyb3dUcmFuc2Zvcm0iLCJnZXRBeGlzIiwicmUiLCJnZXROdW1iZXJzIiwiY29tcHV0ZWRUcmFuc2Zvcm0iLCJnZXRPZmZzZXREaXN0YW5jZUluUHgiLCJVdGlscyIsIlBvcHBlclV0aWxzIiwibWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIiwibW96TWF0Y2hlc1NlbGVjdG9yIiwibXNNYXRjaGVzU2VsZWN0b3IiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaXRlbSIsIm1hdGNoZXMkMSIsImNsb3Nlc3QiLCJwYXJlbnRTZWxlY3RvciIsInNlbGVjdG9yIiwiZ2V0VmFsdWUiLCJpc0FycmF5Iiwic2V0VmlzaWJpbGl0eVN0YXRlIiwiZWxzIiwiYXBwbHlUcmFuc2l0aW9uRHVyYXRpb24iLCJCb29sZWFuIiwiZm9jdXMiLCJzdG9yZSIsIlRpcHB5IiwiY29uZmlnIiwiX2tleSIsImRlc3Ryb3llZCIsInZpc2libGUiLCJfIiwibXV0YXRpb25PYnNlcnZlcnMiLCJfZ2V0SW5uZXJFbGVtZW50cyIsImhhc0F0dHJpYnV0ZSIsInJlZk9iaiIsInZpc2liaWxpdHkiLCJwb3BwZXJJbnN0YW5jZSIsIl9oYXNGb2xsb3dDdXJzb3JCZWhhdmlvciIsIl9jcmVhdGVQb3BwZXJJbnN0YW5jZSIsIl9nZXRJbm5lckVsZW1lbnRzNSIsIm1hcmdpbiIsInVwZGF0ZUFscmVhZHlDYWxsZWQiLCJyZWZsb3ciLCJ1cGRhdGVQb3BwZXJQb3NpdGlvbiIsImxhc3RUcmlnZ2VyRXZlbnQiLCJmb2xsb3dDdXJzb3JMaXN0ZW5lciIsImxhc3RNb3VzZU1vdmVFdmVudCIsImNsYXNzTGlzdCIsImFkZCIsIl90aGlzOSIsInVwZGF0ZVBvc2l0aW9uIiwiX29uVHJhbnNpdGlvbkVuZCIsImRlc3Ryb3kiLCJfdGhpczIiLCJfZ2V0SW5uZXJFbGVtZW50czIiLCJpc1ByZXBhcmluZ1RvU2hvdyIsIl90aGlzMyIsImRlc3Ryb3lUYXJnZXRJbnN0YW5jZXMiLCJsaXN0ZW5lcnMiLCJsaXN0ZW5lciIsImhhbmRsZXIiLCJfdGlwcHkiLCJjaGlsZCIsIm9ic2VydmVyIiwiZGlzY29ubmVjdCIsIl9lbnRlciIsIl90aGlzNCIsIl9jbGVhckRlbGF5VGltZW91dHMiLCJ0YXJnZXRFbCIsInRpcHB5Iiwid2FpdCIsInNob3ciLCJfdGhpczgiLCJfJGxhc3RNb3VzZU1vdmVFdmVudCIsImNsaWVudFgiLCJjbGllbnRZIiwic2hvd1RpbWVvdXQiLCJfbGVhdmUiLCJfdGhpczUiLCJoaWRlVGltZW91dCIsIl9nZXRFdmVudExpc3RlbmVycyIsIl90aGlzNiIsIm9uVHJpZ2dlciIsInNob3VsZFN0b3BFdmVudCIsImNsaWNrIiwib25Nb3VzZUxlYXZlIiwib25Nb3VzZU1vdmUiLCJyZWZlcmVuY2VDdXJzb3JJc092ZXIiLCJjdXJzb3JJc092ZXJQb3BwZXIiLCJjdXJzb3JJc092ZXJSZWZlcmVuY2UiLCJib3JkZXJXaXRoRGlzdGFuY2UiLCJleGNlZWRzIiwiY3Vyc29ySXNPdXRzaWRlSW50ZXJhY3RpdmVCb3JkZXIiLCJvbkJsdXIiLCJyZWxhdGVkVGFyZ2V0Iiwib25EZWxlZ2F0ZVNob3ciLCJvbkRlbGVnYXRlSGlkZSIsIl90aGlzNyIsImFycm93U2VsZWN0b3IiLCJfYWRkTXV0YXRpb25PYnNlcnZlciIsImNoaWxkTGlzdCIsInN1YnRyZWUiLCJjaGFyYWN0ZXJEYXRhIiwiY2xlYXJUaW1lb3V0IiwiTXV0YXRpb25PYnNlcnZlciIsIm9ic2VydmUiLCJ0b2dnbGVMaXN0ZW5lcnMiLCJhY3Rpb24iLCJ0cmFuc2l0aW9uZW5kTGlzdGVuZXIiLCJpZENvdW50ZXIiLCJjcmVhdGVUb29sdGlwcyIsImV2YWx1YXRlT3B0aW9ucyIsImluc3RhbmNlT3B0aW9ucyIsInZhbCIsIkpTT04iLCJwYXJzZSIsImdldEluZGl2aWR1YWxPcHRpb25zIiwidCIsInRlbXBsYXRlSWQiLCJjcmVhdGVQb3BwZXJFbGVtZW50IiwiZXZlbnRUeXBlIiwiaGFuZGxlcnMiLCJjcmVhdGVUcmlnZ2VyIiwiX3JlZmVyZW5jZSIsImhpZGVBbGxQb3BwZXJzIiwiZXhjbHVkZVRpcHB5IiwiZXZlbnRMaXN0ZW5lcnNCb3VuZCIsIm9uZSIsInRpbWUiLCJvbkRvY3VtZW50VG91Y2giLCJvbkRvY3VtZW50TW91c2VNb3ZlIiwiaXNDbGlja1RyaWdnZXIiLCJpc011bHRpcGxlIiwiYWN0aXZlRWxlbWVudCIsImJsdXIiLCJ0aXBweUluc3RhbmNlIiwibWF4VG91Y2hQb2ludHMiLCJtc01heFRvdWNoUG9pbnRzIiwiY2xhc3NOYW1lcyIsInJlZmVyZW5jZXMiLCJOb2RlTGlzdCIsImdldEFycmF5T2ZFbGVtZW50cyIsImZpcnN0UmVmZXJlbmNlIiwidG9vbHRpcHMiLCJkZXN0cm95QWxsIiwiZGlzYWJsZUFuaW1hdGlvbnMiLCJoZWFkIiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RDaGlsZCIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3JlYXRlVGV4dE5vZGUiLCJpbmplY3RDU1MiLCJ0b3BpYyIsIlN0cmluZ0hlbHBlcnMiLCJTdHJpbmciLCJyZW1vdmVVbmRlcnNjb3JlcyIsInVzZVdvcmRCb3VuZGFyeSIsInN1YlN0cmluZyIsImdyb3VwSWQiLCJ2aWV3IiwiX0Jyb3dzZUJ1dHRvbnMiLCJfUmVzdWx0SXRlbXMiLCJnYXRlQ2hlY2siLCJzZWFyY2hUeXBlIiwiaW5pdCIsInVzZUxvY2FsIiwidG9waWNCdXR0b25Qcm9taXNlIiwicmVzb2x2ZVRvcGljQnV0dG9ucyIsImdldFpvdGVyb0NvbGxlY3Rpb25zIiwiZ2V0Wm90ZXJvSXRlbXMiLCJzZXR1cFNlYXJjaCIsIl90b29sdGlwczIiLCJpbnB1dCIsIm9uc3VibWl0IiwibG9hZGluZyIsIkFQSVN0cmluZyIsInJlamVjdCIsInRleHQiLCJlcnJvciIsInYiLCJnZXRTZWFyY2hJdGVtcyIsInNlYXJjaEl0ZW1zIiwidXBkYXRlUGllQ2hhcnQiLCJjaGlsZHJlbmlmeSIsInBhcmVudENvbGxlY3Rpb24iLCJtZXRhIiwibnVtSXRlbXMiLCJyZXR1cm5LZXlWYWx1ZXMiLCJ2YWx1ZXMiLCJjb2VyY2UiLCJyb3ciLCJuZXN0UHJlbGltIiwibmVzdEJ5QXJyYXkiLCJydG4iLCJuZXN0IiwicmVjdXJzaXZlTmVzdCIsIm5lc3RCeSIsIm5lc3RUeXBlIiwicHJlbGltIiwiZW50cmllcyIsImpzb24iLCJjb2xsZWN0aW9ucyIsImF0dGVtcHQiLCJ0cnlSZXF1ZXN0Iiwic3RyaW5naWZ5IiwicGFyc2Vab3Rlcm9JdGVtRGF0ZXMiLCJpbml0aWFsSXRlbXNQcm9taXNlcyIsInN1YnNlcXVlbnRJdGVtc1Byb21pc2VzIiwiY29uc3RydWN0UHJvbWlzZSIsInJhY2UiLCJ0b3RhbCIsImNlaWwiLCJhbGwiLCJkYXRlU3RyaW5ncyIsIl9tb2RlbCR6b3Rlcm9JdGVtcyIsImFwcGx5IiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiX21vZGVsJHpvdGVyb0l0ZW1zMiIsImdhdGVDZWNrIiwicmVxdWVzdCIsInhociIsImdldFJlc3BvbnNlSGVhZGVyIiwicmVzcG9uc2VUZXh0IiwicGFyc2VkRGF0ZXMiLCJnZXREYXRlc0Zyb21TdHJpbmciLCJkYXRlIiwiZGlzcGxheSIsImRhdGVWYWx1ZSIsImRlc2NlbmRpbmciLCJjb2xsZWN0aW9uS2V5Iiwic3ludGhlc2lzSXRlbXMiLCJjb2xsZWN0aW9uSXRlbXMiLCJ6IiwiZmlsdGVyU3ludGhlc2lzUmVzdWx0cyIsInN0cmluZyIsIm1hdGNoVHlwZXMiLCJmb3J0aGNvbWluZyIsInl5eXkiLCJ5eXl5bW1kZCIsIm1vbnRoZGR5eXl5IiwibW9udGh5eXl5IiwieXl5eW1tIiwibW1kZHl5eXkiLCJ5eXl5eXl5eSIsInl5eXltb250aGRkIiwiY2hlY2tNb250aCIsIm1vbnRocyIsIjAiLCIxIiwiMiIsIjMiLCI0IiwiNSIsIjYiLCI3IiwiOCIsIjkiLCIxMCIsIjExIiwiSmFudWFyeSIsIkZlYnJ1YXJ5IiwiTWFyY2giLCJBcHJpbCIsIk1heSIsIkp1bmUiLCJKdWx5IiwiQXVndXN0IiwiU2VwdGVtYmVyIiwiT2N0b2JlciIsIk5vdmVtYmVyIiwiRGVjZW1iZXIiLCJXaW50ZXIiLCJTcHJpbmciLCJTdW1tZXIiLCJGYWxsIiwiQXV0dW1uIiwiSmFuIiwiRmViIiwiTWFyIiwiQXByIiwiSnVuIiwiSnVsIiwiQXVnIiwiU2VwIiwiU2VwdCIsIk9jdCIsIk5vdiIsIkRlYyIsIl90aXBweTIiLCJzdWNjZXNzZnVsIiwiZXhlY0NvbW1hbmQiLCJtc2ciLCJlcnIiLCJfc21vb3Roc2Nyb2xsUG9seWZpbGwyIiwicmVuZGVyVG9waWNCdXR0b25zIiwiYXR0YWNoVG9vbHRpcHMiLCJzZXR1cFNpZGViYXIiLCJlbGVtIiwiYnRuIiwiZGF0YXNldCIsImxhc3RNb2RpZmllZERhdGUiLCJkYXRlTW9kaWZpZWQiLCJzaWRlYmFyIiwiZ2V0RGF0ZSIsImdldE1vbnRoIiwiZ2V0RnVsbFllYXIiLCJzaWRlYmFyQ29udGFjdCIsInNpYmViYXJEb2N1bWVudGF0aW9uIiwibWFrZVBpZUNoYXJ0Iiwic3ZnIiwicm9sbHVwIiwidG90YWxOdW1iZXIiLCJwaWVEYXRhIiwicGllU2VnbWVudHMiLCJjb21iaW5lZFZhbHVlIiwicGllIiwicGF0aCIsImFyYyIsIm91dGVyUmFkaXVzIiwiaW5uZXJSYWRpdXMiLCJyYWRpdXMiLCJsYWJlbCIsImNlbnRyb2lkIiwicHViVHlwZXMiLCJqb3VybmFsQXJ0aWNsZSIsInJlcG9ydCIsIndlYnBhZ2UiLCJib29rIiwib3RoZXIiLCJib29rU2VjdGlvbiIsIm1hZ2F6aW5lQXJ0aWNsZSIsInByZXNlbnRhdGlvbiIsImxlZ2VuZEl0ZW1zIiwiZW50ZXJpbmdMIiwiaXNMb2FkaW5nIiwic2VjdGlvbiIsImNhdGVnb3JpZXMiLCJyZW5kZXJTaG93QWxsQnV0dG9uIiwicmVuZGVyU2hvd0FsbFN5bnRoZXNlcyIsInNob3dBbGwiLCJvcGVuIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdB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QWlCakgsS0FDM0I2SyxHQUFHLFFBQVMsV0FDVHhKLE9BQU84NUIsS0FBSyxTQUFXMTNCLEtBQUtrSSxHQUFLLE9BQVEsWUFHakRoQixXQUFXLFdBQ1BKLEVBQVNILFFBQVEsWUFBVyxLQUdoQzNHLEtBQUs0d0IsZUFBaUI5cEIsRUFBU0ssTUFBTWIsS0FLN0MxSSxPQUFPdUksUUFDSEgsYUFDQUksU0FFSkosRUFBVzBtQixNQUFLIiwiZmlsZSI6ImpzL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMyk7XG4iLCIvKiBzbW9vdGhzY3JvbGwgdjAuNC4wIC0gMjAxOCAtIER1c3RhbiBLYXN0ZW4sIEplcmVtaWFzIE1lbmljaGVsbGkgLSBNSVQgTGljZW5zZSAqL1xuKGZ1bmN0aW9uICgpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIHBvbHlmaWxsXG4gIGZ1bmN0aW9uIHBvbHlmaWxsKCkge1xuICAgIC8vIGFsaWFzZXNcbiAgICB2YXIgdyA9IHdpbmRvdztcbiAgICB2YXIgZCA9IGRvY3VtZW50O1xuXG4gICAgLy8gcmV0dXJuIGlmIHNjcm9sbCBiZWhhdmlvciBpcyBzdXBwb3J0ZWQgYW5kIHBvbHlmaWxsIGlzIG5vdCBmb3JjZWRcbiAgICBpZiAoXG4gICAgICAnc2Nyb2xsQmVoYXZpb3InIGluIGQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICYmXG4gICAgICB3Ll9fZm9yY2VTbW9vdGhTY3JvbGxQb2x5ZmlsbF9fICE9PSB0cnVlXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gZ2xvYmFsc1xuICAgIHZhciBFbGVtZW50ID0gdy5IVE1MRWxlbWVudCB8fCB3LkVsZW1lbnQ7XG4gICAgdmFyIFNDUk9MTF9USU1FID0gNDY4O1xuXG4gICAgLy8gb2JqZWN0IGdhdGhlcmluZyBvcmlnaW5hbCBzY3JvbGwgbWV0aG9kc1xuICAgIHZhciBvcmlnaW5hbCA9IHtcbiAgICAgIHNjcm9sbDogdy5zY3JvbGwgfHwgdy5zY3JvbGxUbyxcbiAgICAgIHNjcm9sbEJ5OiB3LnNjcm9sbEJ5LFxuICAgICAgZWxlbWVudFNjcm9sbDogRWxlbWVudC5wcm90b3R5cGUuc2Nyb2xsIHx8IHNjcm9sbEVsZW1lbnQsXG4gICAgICBzY3JvbGxJbnRvVmlldzogRWxlbWVudC5wcm90b3R5cGUuc2Nyb2xsSW50b1ZpZXdcbiAgICB9O1xuXG4gICAgLy8gZGVmaW5lIHRpbWluZyBtZXRob2RcbiAgICB2YXIgbm93ID1cbiAgICAgIHcucGVyZm9ybWFuY2UgJiYgdy5wZXJmb3JtYW5jZS5ub3dcbiAgICAgICAgPyB3LnBlcmZvcm1hbmNlLm5vdy5iaW5kKHcucGVyZm9ybWFuY2UpXG4gICAgICAgIDogRGF0ZS5ub3c7XG5cbiAgICAvKipcbiAgICAgKiBpbmRpY2F0ZXMgaWYgYSB0aGUgY3VycmVudCBicm93c2VyIGlzIG1hZGUgYnkgTWljcm9zb2Z0XG4gICAgICogQG1ldGhvZCBpc01pY3Jvc29mdEJyb3dzZXJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXNlckFnZW50XG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNNaWNyb3NvZnRCcm93c2VyKHVzZXJBZ2VudCkge1xuICAgICAgdmFyIHVzZXJBZ2VudFBhdHRlcm5zID0gWydNU0lFICcsICdUcmlkZW50LycsICdFZGdlLyddO1xuXG4gICAgICByZXR1cm4gbmV3IFJlZ0V4cCh1c2VyQWdlbnRQYXR0ZXJucy5qb2luKCd8JykpLnRlc3QodXNlckFnZW50KTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIElFIGhhcyByb3VuZGluZyBidWcgcm91bmRpbmcgZG93biBjbGllbnRIZWlnaHQgYW5kIGNsaWVudFdpZHRoIGFuZFxuICAgICAqIHJvdW5kaW5nIHVwIHNjcm9sbEhlaWdodCBhbmQgc2Nyb2xsV2lkdGggY2F1c2luZyBmYWxzZSBwb3NpdGl2ZXNcbiAgICAgKiBvbiBoYXNTY3JvbGxhYmxlU3BhY2VcbiAgICAgKi9cbiAgICB2YXIgUk9VTkRJTkdfVE9MRVJBTkNFID0gaXNNaWNyb3NvZnRCcm93c2VyKHcubmF2aWdhdG9yLnVzZXJBZ2VudCkgPyAxIDogMDtcblxuICAgIC8qKlxuICAgICAqIGNoYW5nZXMgc2Nyb2xsIHBvc2l0aW9uIGluc2lkZSBhbiBlbGVtZW50XG4gICAgICogQG1ldGhvZCBzY3JvbGxFbGVtZW50XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geVxuICAgICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2Nyb2xsRWxlbWVudCh4LCB5KSB7XG4gICAgICB0aGlzLnNjcm9sbExlZnQgPSB4O1xuICAgICAgdGhpcy5zY3JvbGxUb3AgPSB5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgcmVzdWx0IG9mIGFwcGx5aW5nIGVhc2UgbWF0aCBmdW5jdGlvbiB0byBhIG51bWJlclxuICAgICAqIEBtZXRob2QgZWFzZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBrXG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlYXNlKGspIHtcbiAgICAgIHJldHVybiAwLjUgKiAoMSAtIE1hdGguY29zKE1hdGguUEkgKiBrKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogaW5kaWNhdGVzIGlmIGEgc21vb3RoIGJlaGF2aW9yIHNob3VsZCBiZSBhcHBsaWVkXG4gICAgICogQG1ldGhvZCBzaG91bGRCYWlsT3V0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ8T2JqZWN0fSBmaXJzdEFyZ1xuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNob3VsZEJhaWxPdXQoZmlyc3RBcmcpIHtcbiAgICAgIGlmIChcbiAgICAgICAgZmlyc3RBcmcgPT09IG51bGwgfHxcbiAgICAgICAgdHlwZW9mIGZpcnN0QXJnICE9PSAnb2JqZWN0JyB8fFxuICAgICAgICBmaXJzdEFyZy5iZWhhdmlvciA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgIGZpcnN0QXJnLmJlaGF2aW9yID09PSAnYXV0bycgfHxcbiAgICAgICAgZmlyc3RBcmcuYmVoYXZpb3IgPT09ICdpbnN0YW50J1xuICAgICAgKSB7XG4gICAgICAgIC8vIGZpcnN0IGFyZ3VtZW50IGlzIG5vdCBhbiBvYmplY3QvbnVsbFxuICAgICAgICAvLyBvciBiZWhhdmlvciBpcyBhdXRvLCBpbnN0YW50IG9yIHVuZGVmaW5lZFxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBmaXJzdEFyZyA9PT0gJ29iamVjdCcgJiYgZmlyc3RBcmcuYmVoYXZpb3IgPT09ICdzbW9vdGgnKSB7XG4gICAgICAgIC8vIGZpcnN0IGFyZ3VtZW50IGlzIGFuIG9iamVjdCBhbmQgYmVoYXZpb3IgaXMgc21vb3RoXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy8gdGhyb3cgZXJyb3Igd2hlbiBiZWhhdmlvciBpcyBub3Qgc3VwcG9ydGVkXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAnYmVoYXZpb3IgbWVtYmVyIG9mIFNjcm9sbE9wdGlvbnMgJyArXG4gICAgICAgICAgZmlyc3RBcmcuYmVoYXZpb3IgK1xuICAgICAgICAgICcgaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIGVudW1lcmF0aW9uIFNjcm9sbEJlaGF2aW9yLidcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogaW5kaWNhdGVzIGlmIGFuIGVsZW1lbnQgaGFzIHNjcm9sbGFibGUgc3BhY2UgaW4gdGhlIHByb3ZpZGVkIGF4aXNcbiAgICAgKiBAbWV0aG9kIGhhc1Njcm9sbGFibGVTcGFjZVxuICAgICAqIEBwYXJhbSB7Tm9kZX0gZWxcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gYXhpc1xuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc1Njcm9sbGFibGVTcGFjZShlbCwgYXhpcykge1xuICAgICAgaWYgKGF4aXMgPT09ICdZJykge1xuICAgICAgICByZXR1cm4gZWwuY2xpZW50SGVpZ2h0ICsgUk9VTkRJTkdfVE9MRVJBTkNFIDwgZWwuc2Nyb2xsSGVpZ2h0O1xuICAgICAgfVxuXG4gICAgICBpZiAoYXhpcyA9PT0gJ1gnKSB7XG4gICAgICAgIHJldHVybiBlbC5jbGllbnRXaWR0aCArIFJPVU5ESU5HX1RPTEVSQU5DRSA8IGVsLnNjcm9sbFdpZHRoO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGluZGljYXRlcyBpZiBhbiBlbGVtZW50IGhhcyBhIHNjcm9sbGFibGUgb3ZlcmZsb3cgcHJvcGVydHkgaW4gdGhlIGF4aXNcbiAgICAgKiBAbWV0aG9kIGNhbk92ZXJmbG93XG4gICAgICogQHBhcmFtIHtOb2RlfSBlbFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBheGlzXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FuT3ZlcmZsb3coZWwsIGF4aXMpIHtcbiAgICAgIHZhciBvdmVyZmxvd1ZhbHVlID0gdy5nZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKVsnb3ZlcmZsb3cnICsgYXhpc107XG5cbiAgICAgIHJldHVybiBvdmVyZmxvd1ZhbHVlID09PSAnYXV0bycgfHwgb3ZlcmZsb3dWYWx1ZSA9PT0gJ3Njcm9sbCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogaW5kaWNhdGVzIGlmIGFuIGVsZW1lbnQgY2FuIGJlIHNjcm9sbGVkIGluIGVpdGhlciBheGlzXG4gICAgICogQG1ldGhvZCBpc1Njcm9sbGFibGVcbiAgICAgKiBAcGFyYW0ge05vZGV9IGVsXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGF4aXNcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1Njcm9sbGFibGUoZWwpIHtcbiAgICAgIHZhciBpc1Njcm9sbGFibGVZID0gaGFzU2Nyb2xsYWJsZVNwYWNlKGVsLCAnWScpICYmIGNhbk92ZXJmbG93KGVsLCAnWScpO1xuICAgICAgdmFyIGlzU2Nyb2xsYWJsZVggPSBoYXNTY3JvbGxhYmxlU3BhY2UoZWwsICdYJykgJiYgY2FuT3ZlcmZsb3coZWwsICdYJyk7XG5cbiAgICAgIHJldHVybiBpc1Njcm9sbGFibGVZIHx8IGlzU2Nyb2xsYWJsZVg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZmluZHMgc2Nyb2xsYWJsZSBwYXJlbnQgb2YgYW4gZWxlbWVudFxuICAgICAqIEBtZXRob2QgZmluZFNjcm9sbGFibGVQYXJlbnRcbiAgICAgKiBAcGFyYW0ge05vZGV9IGVsXG4gICAgICogQHJldHVybnMge05vZGV9IGVsXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZFNjcm9sbGFibGVQYXJlbnQoZWwpIHtcbiAgICAgIHZhciBpc0JvZHk7XG5cbiAgICAgIGRvIHtcbiAgICAgICAgZWwgPSBlbC5wYXJlbnROb2RlO1xuXG4gICAgICAgIGlzQm9keSA9IGVsID09PSBkLmJvZHk7XG4gICAgICB9IHdoaWxlIChpc0JvZHkgPT09IGZhbHNlICYmIGlzU2Nyb2xsYWJsZShlbCkgPT09IGZhbHNlKTtcblxuICAgICAgaXNCb2R5ID0gbnVsbDtcblxuICAgICAgcmV0dXJuIGVsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHNlbGYgaW52b2tlZCBmdW5jdGlvbiB0aGF0LCBnaXZlbiBhIGNvbnRleHQsIHN0ZXBzIHRocm91Z2ggc2Nyb2xsaW5nXG4gICAgICogQG1ldGhvZCBzdGVwXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAgICAgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0ZXAoY29udGV4dCkge1xuICAgICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICAgIHZhciB2YWx1ZTtcbiAgICAgIHZhciBjdXJyZW50WDtcbiAgICAgIHZhciBjdXJyZW50WTtcbiAgICAgIHZhciBlbGFwc2VkID0gKHRpbWUgLSBjb250ZXh0LnN0YXJ0VGltZSkgLyBTQ1JPTExfVElNRTtcblxuICAgICAgLy8gYXZvaWQgZWxhcHNlZCB0aW1lcyBoaWdoZXIgdGhhbiBvbmVcbiAgICAgIGVsYXBzZWQgPSBlbGFwc2VkID4gMSA/IDEgOiBlbGFwc2VkO1xuXG4gICAgICAvLyBhcHBseSBlYXNpbmcgdG8gZWxhcHNlZCB0aW1lXG4gICAgICB2YWx1ZSA9IGVhc2UoZWxhcHNlZCk7XG5cbiAgICAgIGN1cnJlbnRYID0gY29udGV4dC5zdGFydFggKyAoY29udGV4dC54IC0gY29udGV4dC5zdGFydFgpICogdmFsdWU7XG4gICAgICBjdXJyZW50WSA9IGNvbnRleHQuc3RhcnRZICsgKGNvbnRleHQueSAtIGNvbnRleHQuc3RhcnRZKSAqIHZhbHVlO1xuXG4gICAgICBjb250ZXh0Lm1ldGhvZC5jYWxsKGNvbnRleHQuc2Nyb2xsYWJsZSwgY3VycmVudFgsIGN1cnJlbnRZKTtcblxuICAgICAgLy8gc2Nyb2xsIG1vcmUgaWYgd2UgaGF2ZSBub3QgcmVhY2hlZCBvdXIgZGVzdGluYXRpb25cbiAgICAgIGlmIChjdXJyZW50WCAhPT0gY29udGV4dC54IHx8IGN1cnJlbnRZICE9PSBjb250ZXh0LnkpIHtcbiAgICAgICAgdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcC5iaW5kKHcsIGNvbnRleHQpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBzY3JvbGxzIHdpbmRvdyBvciBlbGVtZW50IHdpdGggYSBzbW9vdGggYmVoYXZpb3JcbiAgICAgKiBAbWV0aG9kIHNtb290aFNjcm9sbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fE5vZGV9IGVsXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geVxuICAgICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAgICovXG4gICAgZnVuY3Rpb24gc21vb3RoU2Nyb2xsKGVsLCB4LCB5KSB7XG4gICAgICB2YXIgc2Nyb2xsYWJsZTtcbiAgICAgIHZhciBzdGFydFg7XG4gICAgICB2YXIgc3RhcnRZO1xuICAgICAgdmFyIG1ldGhvZDtcbiAgICAgIHZhciBzdGFydFRpbWUgPSBub3coKTtcblxuICAgICAgLy8gZGVmaW5lIHNjcm9sbCBjb250ZXh0XG4gICAgICBpZiAoZWwgPT09IGQuYm9keSkge1xuICAgICAgICBzY3JvbGxhYmxlID0gdztcbiAgICAgICAgc3RhcnRYID0gdy5zY3JvbGxYIHx8IHcucGFnZVhPZmZzZXQ7XG4gICAgICAgIHN0YXJ0WSA9IHcuc2Nyb2xsWSB8fCB3LnBhZ2VZT2Zmc2V0O1xuICAgICAgICBtZXRob2QgPSBvcmlnaW5hbC5zY3JvbGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzY3JvbGxhYmxlID0gZWw7XG4gICAgICAgIHN0YXJ0WCA9IGVsLnNjcm9sbExlZnQ7XG4gICAgICAgIHN0YXJ0WSA9IGVsLnNjcm9sbFRvcDtcbiAgICAgICAgbWV0aG9kID0gc2Nyb2xsRWxlbWVudDtcbiAgICAgIH1cblxuICAgICAgLy8gc2Nyb2xsIGxvb3Bpbmcgb3ZlciBhIGZyYW1lXG4gICAgICBzdGVwKHtcbiAgICAgICAgc2Nyb2xsYWJsZTogc2Nyb2xsYWJsZSxcbiAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgIHN0YXJ0VGltZTogc3RhcnRUaW1lLFxuICAgICAgICBzdGFydFg6IHN0YXJ0WCxcbiAgICAgICAgc3RhcnRZOiBzdGFydFksXG4gICAgICAgIHg6IHgsXG4gICAgICAgIHk6IHlcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIE9SSUdJTkFMIE1FVEhPRFMgT1ZFUlJJREVTXG4gICAgLy8gdy5zY3JvbGwgYW5kIHcuc2Nyb2xsVG9cbiAgICB3LnNjcm9sbCA9IHcuc2Nyb2xsVG8gPSBmdW5jdGlvbigpIHtcbiAgICAgIC8vIGF2b2lkIGFjdGlvbiB3aGVuIG5vIGFyZ3VtZW50cyBhcmUgcGFzc2VkXG4gICAgICBpZiAoYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBhdm9pZCBzbW9vdGggYmVoYXZpb3IgaWYgbm90IHJlcXVpcmVkXG4gICAgICBpZiAoc2hvdWxkQmFpbE91dChhcmd1bWVudHNbMF0pID09PSB0cnVlKSB7XG4gICAgICAgIG9yaWdpbmFsLnNjcm9sbC5jYWxsKFxuICAgICAgICAgIHcsXG4gICAgICAgICAgYXJndW1lbnRzWzBdLmxlZnQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBhcmd1bWVudHNbMF0ubGVmdFxuICAgICAgICAgICAgOiB0eXBlb2YgYXJndW1lbnRzWzBdICE9PSAnb2JqZWN0J1xuICAgICAgICAgICAgICA/IGFyZ3VtZW50c1swXVxuICAgICAgICAgICAgICA6IHcuc2Nyb2xsWCB8fCB3LnBhZ2VYT2Zmc2V0LFxuICAgICAgICAgIC8vIHVzZSB0b3AgcHJvcCwgc2Vjb25kIGFyZ3VtZW50IGlmIHByZXNlbnQgb3IgZmFsbGJhY2sgdG8gc2Nyb2xsWVxuICAgICAgICAgIGFyZ3VtZW50c1swXS50b3AgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBhcmd1bWVudHNbMF0udG9wXG4gICAgICAgICAgICA6IGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gYXJndW1lbnRzWzFdXG4gICAgICAgICAgICAgIDogdy5zY3JvbGxZIHx8IHcucGFnZVlPZmZzZXRcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIExFVCBUSEUgU01PT1RITkVTUyBCRUdJTiFcbiAgICAgIHNtb290aFNjcm9sbC5jYWxsKFxuICAgICAgICB3LFxuICAgICAgICBkLmJvZHksXG4gICAgICAgIGFyZ3VtZW50c1swXS5sZWZ0ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICA/IH5+YXJndW1lbnRzWzBdLmxlZnRcbiAgICAgICAgICA6IHcuc2Nyb2xsWCB8fCB3LnBhZ2VYT2Zmc2V0LFxuICAgICAgICBhcmd1bWVudHNbMF0udG9wICE9PSB1bmRlZmluZWRcbiAgICAgICAgICA/IH5+YXJndW1lbnRzWzBdLnRvcFxuICAgICAgICAgIDogdy5zY3JvbGxZIHx8IHcucGFnZVlPZmZzZXRcbiAgICAgICk7XG4gICAgfTtcblxuICAgIC8vIHcuc2Nyb2xsQnlcbiAgICB3LnNjcm9sbEJ5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAvLyBhdm9pZCBhY3Rpb24gd2hlbiBubyBhcmd1bWVudHMgYXJlIHBhc3NlZFxuICAgICAgaWYgKGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gYXZvaWQgc21vb3RoIGJlaGF2aW9yIGlmIG5vdCByZXF1aXJlZFxuICAgICAgaWYgKHNob3VsZEJhaWxPdXQoYXJndW1lbnRzWzBdKSkge1xuICAgICAgICBvcmlnaW5hbC5zY3JvbGxCeS5jYWxsKFxuICAgICAgICAgIHcsXG4gICAgICAgICAgYXJndW1lbnRzWzBdLmxlZnQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBhcmd1bWVudHNbMF0ubGVmdFxuICAgICAgICAgICAgOiB0eXBlb2YgYXJndW1lbnRzWzBdICE9PSAnb2JqZWN0JyA/IGFyZ3VtZW50c1swXSA6IDAsXG4gICAgICAgICAgYXJndW1lbnRzWzBdLnRvcCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IGFyZ3VtZW50c1swXS50b3BcbiAgICAgICAgICAgIDogYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBMRVQgVEhFIFNNT09USE5FU1MgQkVHSU4hXG4gICAgICBzbW9vdGhTY3JvbGwuY2FsbChcbiAgICAgICAgdyxcbiAgICAgICAgZC5ib2R5LFxuICAgICAgICB+fmFyZ3VtZW50c1swXS5sZWZ0ICsgKHcuc2Nyb2xsWCB8fCB3LnBhZ2VYT2Zmc2V0KSxcbiAgICAgICAgfn5hcmd1bWVudHNbMF0udG9wICsgKHcuc2Nyb2xsWSB8fCB3LnBhZ2VZT2Zmc2V0KVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgLy8gRWxlbWVudC5wcm90b3R5cGUuc2Nyb2xsIGFuZCBFbGVtZW50LnByb3RvdHlwZS5zY3JvbGxUb1xuICAgIEVsZW1lbnQucHJvdG90eXBlLnNjcm9sbCA9IEVsZW1lbnQucHJvdG90eXBlLnNjcm9sbFRvID0gZnVuY3Rpb24oKSB7XG4gICAgICAvLyBhdm9pZCBhY3Rpb24gd2hlbiBubyBhcmd1bWVudHMgYXJlIHBhc3NlZFxuICAgICAgaWYgKGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gYXZvaWQgc21vb3RoIGJlaGF2aW9yIGlmIG5vdCByZXF1aXJlZFxuICAgICAgaWYgKHNob3VsZEJhaWxPdXQoYXJndW1lbnRzWzBdKSA9PT0gdHJ1ZSkge1xuICAgICAgICAvLyBpZiBvbmUgbnVtYmVyIGlzIHBhc3NlZCwgdGhyb3cgZXJyb3IgdG8gbWF0Y2ggRmlyZWZveCBpbXBsZW1lbnRhdGlvblxuICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gJ251bWJlcicgJiYgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ1ZhbHVlIGNvdWxkIG5vdCBiZSBjb252ZXJ0ZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9yaWdpbmFsLmVsZW1lbnRTY3JvbGwuY2FsbChcbiAgICAgICAgICB0aGlzLFxuICAgICAgICAgIC8vIHVzZSBsZWZ0IHByb3AsIGZpcnN0IG51bWJlciBhcmd1bWVudCBvciBmYWxsYmFjayB0byBzY3JvbGxMZWZ0XG4gICAgICAgICAgYXJndW1lbnRzWzBdLmxlZnQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyB+fmFyZ3VtZW50c1swXS5sZWZ0XG4gICAgICAgICAgICA6IHR5cGVvZiBhcmd1bWVudHNbMF0gIT09ICdvYmplY3QnID8gfn5hcmd1bWVudHNbMF0gOiB0aGlzLnNjcm9sbExlZnQsXG4gICAgICAgICAgLy8gdXNlIHRvcCBwcm9wLCBzZWNvbmQgYXJndW1lbnQgb3IgZmFsbGJhY2sgdG8gc2Nyb2xsVG9wXG4gICAgICAgICAgYXJndW1lbnRzWzBdLnRvcCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IH5+YXJndW1lbnRzWzBdLnRvcFxuICAgICAgICAgICAgOiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IH5+YXJndW1lbnRzWzFdIDogdGhpcy5zY3JvbGxUb3BcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBsZWZ0ID0gYXJndW1lbnRzWzBdLmxlZnQ7XG4gICAgICB2YXIgdG9wID0gYXJndW1lbnRzWzBdLnRvcDtcblxuICAgICAgLy8gTEVUIFRIRSBTTU9PVEhORVNTIEJFR0lOIVxuICAgICAgc21vb3RoU2Nyb2xsLmNhbGwoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIHRoaXMsXG4gICAgICAgIHR5cGVvZiBsZWZ0ID09PSAndW5kZWZpbmVkJyA/IHRoaXMuc2Nyb2xsTGVmdCA6IH5+bGVmdCxcbiAgICAgICAgdHlwZW9mIHRvcCA9PT0gJ3VuZGVmaW5lZCcgPyB0aGlzLnNjcm9sbFRvcCA6IH5+dG9wXG4gICAgICApO1xuICAgIH07XG5cbiAgICAvLyBFbGVtZW50LnByb3RvdHlwZS5zY3JvbGxCeVxuICAgIEVsZW1lbnQucHJvdG90eXBlLnNjcm9sbEJ5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAvLyBhdm9pZCBhY3Rpb24gd2hlbiBubyBhcmd1bWVudHMgYXJlIHBhc3NlZFxuICAgICAgaWYgKGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gYXZvaWQgc21vb3RoIGJlaGF2aW9yIGlmIG5vdCByZXF1aXJlZFxuICAgICAgaWYgKHNob3VsZEJhaWxPdXQoYXJndW1lbnRzWzBdKSA9PT0gdHJ1ZSkge1xuICAgICAgICBvcmlnaW5hbC5lbGVtZW50U2Nyb2xsLmNhbGwoXG4gICAgICAgICAgdGhpcyxcbiAgICAgICAgICBhcmd1bWVudHNbMF0ubGVmdCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IH5+YXJndW1lbnRzWzBdLmxlZnQgKyB0aGlzLnNjcm9sbExlZnRcbiAgICAgICAgICAgIDogfn5hcmd1bWVudHNbMF0gKyB0aGlzLnNjcm9sbExlZnQsXG4gICAgICAgICAgYXJndW1lbnRzWzBdLnRvcCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IH5+YXJndW1lbnRzWzBdLnRvcCArIHRoaXMuc2Nyb2xsVG9wXG4gICAgICAgICAgICA6IH5+YXJndW1lbnRzWzFdICsgdGhpcy5zY3JvbGxUb3BcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2Nyb2xsKHtcbiAgICAgICAgbGVmdDogfn5hcmd1bWVudHNbMF0ubGVmdCArIHRoaXMuc2Nyb2xsTGVmdCxcbiAgICAgICAgdG9wOiB+fmFyZ3VtZW50c1swXS50b3AgKyB0aGlzLnNjcm9sbFRvcCxcbiAgICAgICAgYmVoYXZpb3I6IGFyZ3VtZW50c1swXS5iZWhhdmlvclxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIEVsZW1lbnQucHJvdG90eXBlLnNjcm9sbEludG9WaWV3XG4gICAgRWxlbWVudC5wcm90b3R5cGUuc2Nyb2xsSW50b1ZpZXcgPSBmdW5jdGlvbigpIHtcbiAgICAgIC8vIGF2b2lkIHNtb290aCBiZWhhdmlvciBpZiBub3QgcmVxdWlyZWRcbiAgICAgIGlmIChzaG91bGRCYWlsT3V0KGFyZ3VtZW50c1swXSkgPT09IHRydWUpIHtcbiAgICAgICAgb3JpZ2luYWwuc2Nyb2xsSW50b1ZpZXcuY2FsbChcbiAgICAgICAgICB0aGlzLFxuICAgICAgICAgIGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGFyZ3VtZW50c1swXVxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gTEVUIFRIRSBTTU9PVEhORVNTIEJFR0lOIVxuICAgICAgdmFyIHNjcm9sbGFibGVQYXJlbnQgPSBmaW5kU2Nyb2xsYWJsZVBhcmVudCh0aGlzKTtcbiAgICAgIHZhciBwYXJlbnRSZWN0cyA9IHNjcm9sbGFibGVQYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB2YXIgY2xpZW50UmVjdHMgPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICBpZiAoc2Nyb2xsYWJsZVBhcmVudCAhPT0gZC5ib2R5KSB7XG4gICAgICAgIC8vIHJldmVhbCBlbGVtZW50IGluc2lkZSBwYXJlbnRcbiAgICAgICAgc21vb3RoU2Nyb2xsLmNhbGwoXG4gICAgICAgICAgdGhpcyxcbiAgICAgICAgICBzY3JvbGxhYmxlUGFyZW50LFxuICAgICAgICAgIHNjcm9sbGFibGVQYXJlbnQuc2Nyb2xsTGVmdCArIGNsaWVudFJlY3RzLmxlZnQgLSBwYXJlbnRSZWN0cy5sZWZ0LFxuICAgICAgICAgIHNjcm9sbGFibGVQYXJlbnQuc2Nyb2xsVG9wICsgY2xpZW50UmVjdHMudG9wIC0gcGFyZW50UmVjdHMudG9wXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gcmV2ZWFsIHBhcmVudCBpbiB2aWV3cG9ydCB1bmxlc3MgaXMgZml4ZWRcbiAgICAgICAgaWYgKHcuZ2V0Q29tcHV0ZWRTdHlsZShzY3JvbGxhYmxlUGFyZW50KS5wb3NpdGlvbiAhPT0gJ2ZpeGVkJykge1xuICAgICAgICAgIHcuc2Nyb2xsQnkoe1xuICAgICAgICAgICAgbGVmdDogcGFyZW50UmVjdHMubGVmdCxcbiAgICAgICAgICAgIHRvcDogcGFyZW50UmVjdHMudG9wLFxuICAgICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHJldmVhbCBlbGVtZW50IGluIHZpZXdwb3J0XG4gICAgICAgIHcuc2Nyb2xsQnkoe1xuICAgICAgICAgIGxlZnQ6IGNsaWVudFJlY3RzLmxlZnQsXG4gICAgICAgICAgdG9wOiBjbGllbnRSZWN0cy50b3AsXG4gICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gY29tbW9uanNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IHsgcG9seWZpbGw6IHBvbHlmaWxsIH07XG4gIH0gZWxzZSB7XG4gICAgLy8gZ2xvYmFsXG4gICAgcG9seWZpbGwoKTtcbiAgfVxuXG59KCkpO1xuIiwiaW1wb3J0IHN0eWxlcyBmcm9tICcuL3Jlc3VsdHMtaXRlbXMuc2Nzcyc7XG5jb25zb2xlLmxvZyhzdHlsZXMpO1xuLyogKioqKioqKiogKi9cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVJlc3VsdHNDb250YWluZXIgPSBmdW5jdGlvbigpe1xuICB2YXIgaHRtbCA9IGA8ZGl2IGNsYXNzPVwic3ludGhlc2lzLXJlc3VsdHNcIj5cbiAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImZsZXggc3BhY2UtYmV0d2VlblwiPjwvdWw+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVzdWx0c1wiPlxuICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwibG9hZGFibGVcIj48L3VsPlxuICAgICAgICAgICAgICA8L2Rpdj4gYDtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3VsdHMtY29udGFpbmVyJykuaW5uZXJIVE1MID0gaHRtbDtcbiAgdGhpcy5yZXN1bHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2LnJlc3VsdHMgdWwnKTtcbn07XG5cbi8qICoqKioqKioqICovXG5cbmV4cG9ydCBjb25zdCBjcmVhdGVSZXN1bHRJdGVtID0gZnVuY3Rpb24oZCl7XG4gICAgdmFyIGF1dGhvclN0cixcbiAgICAgICAgYXV0aG9ycztcbiAgICBpZiAoIGQuZGF0YS5jcmVhdG9ycyA9PT0gdW5kZWZpbmVkICkge1xuICAgICAgICBhdXRob3JTdHIgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgICBhdXRob3JzID0gZC5kYXRhLmNyZWF0b3JzLm1hcChlYWNoID0+IGVhY2guZmlyc3ROYW1lICsgJyAnICsgZWFjaC5sYXN0TmFtZSk7XG4gICAgICAgIGF1dGhvclN0ciA9IGF1dGhvcnMuam9pbignLCcpO1xuICAgICAgICBpZiAoYXV0aG9ycy5sZW5ndGggPT09IDIpe1xuICAgICAgICAgICAgYXV0aG9yU3RyID0gYXV0aG9yU3RyLnJlcGxhY2UoJywnLCcgYW5kICcpO1xuICAgICAgICB9IGVsc2UgaWYgKCBhdXRob3JzLmxlbmd0aCA+IDQgKSB7XG4gICAgICAgICAgICBhdXRob3JTdHIgPSBhdXRob3JzWzBdICsgJyBldCBhbC4nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXV0aG9yU3RyID0gYXV0aG9yU3RyLnJlcGxhY2UoLywvZywnLCAnKTtcbiAgICAgICAgICAgIGxldCBpID0gYXV0aG9yU3RyLmxhc3RJbmRleE9mKCcsJyk7XG4gICAgICAgICAgICBpZiAoIGkgIT09IC0xICl7XG4gICAgICAgICAgICAgICAgYXV0aG9yU3RyID0gYXV0aG9yU3RyLnN1YnN0cigwLCBpICsgMSkgKyAnIGFuZCcgKyBhdXRob3JTdHIuc3Vic3RyKGkgKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBcblxuICAgIHZhciBwdWJsaXNoZXIgPSBkLmRhdGEucHVibGlzaGVyIHx8IGQuZGF0YS5qb3VybmFsQWJicmV2aWF0aW9uIHx8IGQuZGF0YS5wdWJsaWNhdGlvblRpdGxlIHx8IGQuZGF0YS5pbnN0aXR1dGlvbiB8fCBkLmRhdGEud2Vic2l0ZVRpdGxlIHx8ICcnO1xuXG4gICAgdmFyIGxpbmtzRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbGlua3NEaXYuY2xhc3NOYW1lID0gJ2xpbmtzLWRpdicgKyAnIHRpcHB5LWNsaXBib2FyZCc7XG4gICAgbGlua3NEaXYuc2V0QXR0cmlidXRlKCd0aXRsZScsICdDb3BpZWQgdG8gY2xpcGJvYXJkJyk7XG4gICAgdmFyIHB1YlVSTDtcbiAgICBpZiAoIGQuZGF0YS51cmwgJiYgZC5kYXRhLnVybCAhPT0gJycgKSB7XG4gICAgICAgIGxldCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICBwdWJVUkwgPSBkLmRhdGEudXJsO1xuICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnaHJlZicsIHB1YlVSTCk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCd0YXJnZXQnLCAnX2JsYW5rJylcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2NsYXNzJyxgZGV0YWlscy1saW5rYCk7XG4gICAgICAgIGxpbmsuaW5uZXJIVE1MID0gJ0dvIHRvIGxpbmsnO1xuICAgICAgICBsaW5rc0Rpdi5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICB9XG5cbiAgICBpZiAoIGQuYmliICYmIGQuYmliICE9PSAnJyApIHtcbiAgICAgICAgbGV0IHBsYWNlaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHBsYWNlaG9sZGVyLmlubmVySFRNTCA9IGQuYmliO1xuICAgICAgICBsZXQgdGV4dE9ubHkgPSBwbGFjZWhvbGRlci5xdWVyeVNlbGVjdG9yKCcuY3NsLWVudHJ5JykuaW5uZXJIVE1MO1xuICAgICAgICBsZXQgYmliQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgICAgICAgYmliQ29udGFpbmVyLmlubmVySFRNTCA9IHRleHRPbmx5O1xuICAgICAgICBiaWJDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsJ2JpYi1jb250YWluZXInKTtcbiAgICAgICAgbGV0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgJyMnKTtcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2NsYXNzJyxgY29weS1iaWJgKTtcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgdGV4dE9ubHkpO1xuICAgICAgICBsaW5rLmlubmVySFRNTCA9ICdDb3B5IGJpYmxpby4gaW5mbyc7XG4gICAgICAgIGxpbmtzRGl2LmFwcGVuZENoaWxkKGJpYkNvbnRhaW5lcik7XG4gICAgICAgIGxpbmtzRGl2LmFwcGVuZENoaWxkKGxpbmspO1xuICAgIH1cbiAgICB2YXIgdGl0bGVJbm5lckhUTUw7XG4gICAgaWYgKCBwdWJVUkwgIT09IHVuZGVmaW5lZCApe1xuICAgICAgdGl0bGVJbm5lckhUTUwgPSBgPGEgY2xhc3M9XCJpdGVtLXRpdGxlLWxpbmtcIiB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiJHtwdWJVUkx9XCI+JHtkLmRhdGEudGl0bGV9PC9hPmA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRpdGxlSW5uZXJIVE1MID0gYCR7ZC5kYXRhLnRpdGxlfWA7XG4gICAgfVxuICAgIC8qdmFyIGRldGFpbHMgPSAnJzsgXG5cbiAgICB2YXIgdG9waWNzID0gJyc7XG5cbiAgICBpZiAoIGQuZGF0YS5jb2xsZWN0aW9ucyAmJiBkLmRhdGEuY29sbGVjdGlvbnMubGVuZ3RoID4gMCApIHtcbiAgICAgICAgdG9waWNzID0gJzxiPlRvcGljOjwvYj4gJztcbiAgICAgICAgaWYgKCBkLmRhdGEuY29sbGVjdGlvbnMubGVuZ3RoID4gMSApIHtcbiAgICAgICAgICAgIHRvcGljcyA9ICc8Yj5Ub3BpY3M6IDwvYj4nO1xuICAgICAgICB9XG4gICAgICAgIGQuZGF0YS5jb2xsZWN0aW9ucy5mb3JFYWNoKChjLGkpID0+IHtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coYyxkKTtcbiAgICAgICAgICAgIHZhciB0b3BpY05hbWUgPSBSRkZBcHAubW9kZWwuY29sbGVjdGlvbnMuZmluZChkID0+IGQua2V5ID09PSBjKS5kYXRhLm5hbWU7XG4gICAgICAgICAgICB0b3BpY3MgKz0gaSA+IDAgPyAnLCAnICsgdG9waWNOYW1lIDogdG9waWNOYW1lO1xuICAgICAgICB9KTtcbiAgICAgICAgZGV0YWlscyArPSB0b3BpY3MgKyAnPGJyIC8+JztcbiAgICB9XG5cblxuICAgIGlmICggZC5kYXRhLnVybCAmJiBkLmRhdGEudXJsICE9PSAnJyApIHtcbiAgICAgICAgbGV0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgZC5kYXRhLnVybCk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCd0YXJnZXQnLCAnX2JsYW5rJylcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywnZGV0YWlscy1saW5rJyk7XG4gICAgICAgIGxpbmsuaW5uZXJIVE1MID0gJ0dvIHRvIGxpbmsnO1xuICAgICAgICBkZXRhaWxzICs9IGxpbmsub3V0ZXJIVE1MICsgJzxiciAvPic7XG4gICAgfVxuXG4gICAgaWYgKCBkLmRhdGEuRE9JICYmIGQuZGF0YS5ET0kgIT09ICcnICkge1xuICAgICAgICBkZXRhaWxzICs9ICdET0k6ICcgKyBkLmRhdGEuRE9JICsgJzxiciAvPic7XG4gICAgfVxuXG4gICAgaWYgKCBkLmJpYiAmJiBkLmJpYiAhPT0gJycgKSB7XG4gICAgICAgIGxldCBwbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBwbGFjZWhvbGRlci5pbm5lckhUTUwgPSBkLmJpYjtcbiAgICAgICAgbGV0IHRleHRPbmx5ID0gcGxhY2Vob2xkZXIucXVlcnlTZWxlY3RvcignLmNzbC1lbnRyeScpLmlubmVySFRNTDtcbiAgICAgICAgbGV0IGJpYkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gICAgICAgIGJpYkNvbnRhaW5lci5pbm5lckhUTUwgPSB0ZXh0T25seTtcbiAgICAgICAgYmliQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLHN0eWxlc1snYmliLWNvbnRhaW5lciddKTtcbiAgICAgICAgbGV0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgJyMnKTtcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywnZGV0YWlscy1saW5rIGNvcHktYmliJyk7XG4gICAgICAgIGxpbmsuaW5uZXJIVE1MID0gJ0NvcHkgYmlibGlvLiBpbmZvJztcbiAgICAgICAgZGV0YWlscyArPSBiaWJDb250YWluZXIub3V0ZXJIVE1MICsgbGluay5vdXRlckhUTUw7XG4gICAgfVxuXG4gICAgXG5cbiAgICBkZXRhaWxzID0gZGV0YWlscyAhPT0gJycgPyBkZXRhaWxzIDogJzwgbm90aGluZyB0byBzaG93ID4nOyovXG5cbiAgICAgIHJldHVybiBgXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VtbWFyeS1yZXN1bHRzXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBzcGFjZS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmbGV4IGl0ZW0taW5mbyBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsaXN0LWl0ZW1fX2xhYmVsXCI+JHtkLnN5bnRoZXNpc1R5cGUgfHwgZC5kYXRhLml0ZW1UeXBlLnVuZG9DYW1lbENhc2UoKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibGlzdC1pdGVtX19tZXRhIHB1Ymxpc2hlci1uYW1lXCI+JHtwdWJsaXNoZXIudHJ1bmMoOTAsdHJ1ZSl9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImxpc3QtaXRlbV9fbWV0YVwiPiR7ZC5kYXRhLmRhdGVTdHJpbmd9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8aDMgY2xhc3M9XCJsaXN0LWl0ZW1fX3RpdGxlXCI+JHt0aXRsZUlubmVySFRNTH08L2gzPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsaXN0LWl0ZW1fX21ldGFcIj4ke2F1dGhvclN0cn08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAke2xpbmtzRGl2Lm91dGVySFRNTH1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIGA7XG59XG5cblxuLyogKioqKioqKiogKi9cblxuZXhwb3J0IGNvbnN0IGZpbHRlclJlc3VsdHMgPSBmdW5jdGlvbihtYXRjaGVzLCBjb250cm9sbGVyLCBrZXkpe1xuICAvKiBnbG9iYWwgZDMgKi9cbiAgY29uc29sZS5sb2coJ2xpc3QtaXRlbScsIG1hdGNoZXMpO1xuICAgIHZhciBmaWx0ZXJlZERhdGEgPSBtYXRjaGVzID09PSB1bmRlZmluZWQgPyB3aW5kb3cuUkZGQXBwLm1vZGVsLnpvdGVyb0l0ZW1zIDogbWF0Y2hlcyA9PT0gJ25vbmUnID8gW10gOiBtYXRjaGVzOyBcbiAgICBjb25zb2xlLmxvZyhmaWx0ZXJlZERhdGEpO1xuICAgIHZhciBpdGVtcyA9IGQzLnNlbGVjdCh0aGlzLnJlc3VsdHMpLnNlbGVjdEFsbCgnLicgKyAnbGlzdC1pdGVtJylcbiAgICAgICAgLmRhdGEoZmlsdGVyZWREYXRhLCBkID0+IGQua2V5KTtcblxuICAgICAgICAvLyB1cGRhdGUgZXhpc3RpbmdcbiAgLyogIGl0ZW1zXG4gICAgICAgIC5jbGFzc2VkKCdlbnRlcmVkJyxmYWxzZSlcbiAgICAgICAgLmNsYXNzZWQoJ3JlbWFpbmVkJywgdHJ1ZSk7XG4qL1xuICAgIC8vIHRyYW5zaXRpb24gYW5kIHJlbW92ZSBleGl0aW5nXG4gICAgXG4gICAgaXRlbXMuZXhpdCgpXG4gICAgICAgIC5jbGFzc2VkKCdlbnRlcmVkJyxmYWxzZSlcbiAgICAgICAgLmNsYXNzZWQoJ2V4aXRpbmcnLCB0cnVlKVxuICAgICAgICAudHJhbnNpdGlvbigxNTAwKS5yZW1vdmUoKTtcblxuICAgIHZhciBlbnRlcmluZyA9IGl0ZW1zLmVudGVyKClcbiAgICAgICAgLmFwcGVuZCgnbGknKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAoZCxpKSA9PiBkLmtleSArICcgJyArIGQuZGF0YS5pdGVtVHlwZSArICcgaW5kZXgtJyArIGkgKyAoIGQuZGF0YS5pbnN0aXR1dGlvbiA9PT0gJ1JGRicgfHwgZC5kYXRhLmluc3RpdHV0aW9uID09PSAnUmVzb3VyY2VzIGZvciB0aGUgRnV0dXJlJyA/ICcgUkZGJyA6ICcnKSlcbiAgICAgICAgLmNsYXNzZWQoJ2VudGVyaW5nJywgdHJ1ZSlcbiAgICAgICAgLmNsYXNzZWQoJ2xpc3QtaXRlbScsIHRydWUpXG4gICAgICAgIC5odG1sKGQgPT4gY3JlYXRlUmVzdWx0SXRlbShkKSk7XG4gICAgICAgIFxuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICBlbnRlcmluZy5jbGFzc2VkKCdlbnRlcmluZycsZmFsc2UpOyAgIFxuICAgIH0pO1xuXG4gICAgdGhpcy5pdGVtcyA9IGVudGVyaW5nLm1lcmdlKGl0ZW1zKTsgXG4gICAvKiBkMy5zZWxlY3RBbGwoJy5pdGVtLXRpdGxlLWxpbmsnKVxuICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGljaycpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZDMuZXZlbnQpO1xuICAgICAgICAgICAgZDMuZXZlbnQucHJldmVudERlZmF1bHQoKTsgICAgIFxuICAgICAgICB9KTsqL1xuICAgIGQzLnNlbGVjdEFsbCgnLmNvcHktYmliJylcbiAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBkMy5ldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgY29udHJvbGxlci5jb3B5QmliVGV4dC5jYWxsKHRoaXMpO1xuICAgICAgICB9KTtcblxuICAgICBjb250cm9sbGVyLmJpYmxpb1Rvb2x0aXBzKCk7XG5cbiAgICAgaWYgKCBrZXkgIT09ICdpbml0aWFsJyApe1xuICAgICAgICB0aGlzLnNtb290aFNjcm9sbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3ludGhlc2lzLXJlc3VsdHMnKSk7XG4gICAgfVxuXG5cbn07IFxuIiwiaW1wb3J0IHN0eWxlcyBmcm9tICcuL2Jyb3dzZS1idXR0b25zLnNjc3MnO1xuXG5jb25zb2xlLmxvZyhzdHlsZXMpO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUJyb3dzZUNhdGVnb3J5ID0gZnVuY3Rpb24oY2F0ZWdvcnksIGluZGV4LCBpc0NhdGVnb3JpemVkKXtcbiAgLyogZ2xvYmFsIGQzLCBSRkZBcHAgKi9cbiAgdmFyIGNhdGVnb3J5RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGNvbnNvbGUubG9nKGluZGV4LCBpc0NhdGVnb3JpemVkKTtcbiAgaWYgKGluZGV4ID09PSAwICYmIGlzQ2F0ZWdvcml6ZWQpe1xuICAgIHZhciBoZWFkaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDInKTtcbiAgICBoZWFkaW5nLmlkPSdicm93c2UtaGVhZGluZyc7XG4gICAgaGVhZGluZy5pbm5lckhUTUwgPSAnQnJvd3NlIGJ5IHRvcGljJztcbiAgICBjYXRlZ29yeURpdi5hcHBlbmRDaGlsZChoZWFkaW5nKVxuICB9XG4gIHZhciBjb250YWluZXI7XG4gIFxuICBpZiAoIGlzQ2F0ZWdvcml6ZWQgKXtcbiAgICBjYXRlZ29yeURpdi5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGA8aDM+JHtjYXRlZ29yeS5kYXRhLm5hbWV9PC9oMz5gKTtcbiAgICBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb250YWluZXIuY2xhc3NOYW1lID0gJ2Jyb3dzZS1idXR0b25zJztcbiAgICBjYXRlZ29yeS5jaGlsZHJlbi5zb3J0KChhLGIpID0+IGQzLmFzY2VuZGluZyhhLmRhdGEubmFtZSwgYi5kYXRhLm5hbWUpKS5mb3JFYWNoKChkLGkpID0+IHtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVCcm93c2VCdXR0b24oZCxpKSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJyb3dzZS1idXR0b25zLnVuY2F0ZWdvcml6ZWQnKSB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb250YWluZXIuY2xhc3NOYW1lID0gJ2Jyb3dzZS1idXR0b25zIHVuY2F0ZWdvcml6ZWQnO1xuICAgIGlmICggY2F0ZWdvcnkuZGF0YS5uYW1lLmluZGV4T2YoJ18nKSAhPT0gMCApe1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY3JlYXRlQnJvd3NlQnV0dG9uKGNhdGVnb3J5KSk7XG4gICAgfVxuICB9XG4gIGNvbnNvbGUubG9nKGNhdGVnb3J5KTtcbiAgY2F0ZWdvcnlEaXYuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbiAgY29uc29sZS5sb2coY2F0ZWdvcnlEaXYpO1xuXG4gIFxuICByZXR1cm4gY2F0ZWdvcnlEaXY7XG4gICAgXG4gIGZ1bmN0aW9uIGNyZWF0ZUJyb3dzZUJ1dHRvbihjb2xsZWN0aW9uKXtcbiAgICB2YXIgY2hpbGRyZW5DbGFzc2VzID0gW107XG4gICAgaWYgKCBjb2xsZWN0aW9uLmNoaWxkcmVuICkge1xuICAgICBcbiAgICAgIGNoaWxkcmVuQ2xhc3NlcyA9IGNvbGxlY3Rpb24uY2hpbGRyZW4ubWFwKGVhY2ggPT4gZWFjaC5kYXRhLm5hbWUuY2xlYW5TdHJpbmcoKSk7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKHN0eWxlcyxjaGlsZHJlbkNsYXNzZXMpO1xuICAgIHZhciBwYXJlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBwYXJlbnQuaW5uZXJIVE1MID0gYFxuICAgIDxkaXYgdGl0bGU9XCJub3QgbG9hZGVkXCIgZGF0YS1jb2xsZWN0aW9uPVwiJHtjb2xsZWN0aW9uLmtleX1cIiBjbGFzcz1cImJ1dHRvbiBidXR0b24tLSR7IGlzQ2F0ZWdvcml6ZWQgPyAnc2Vjb25kYXJ5JyA6ICd0ZXJ0aWFyeSd9ICR7IGNoaWxkcmVuQ2xhc3Nlcy5yZWR1Y2UoKGFjYyxjdXIpID0+IGFjYyArIGN1ciArICcgJywnJyl9XCI+XG4gICAgICA8c3Bhbj4ke2NvbGxlY3Rpb24uZGF0YS5uYW1lfTwvc3Bhbj5cbiAgICA8L2Rpdj5gO1xuXG4gICAgdmFyIGJyb3dzZUJ1dHRvbiA9IHBhcmVudC5jaGlsZHJlblswXTsgXG5cbiAgICBicm93c2VCdXR0b24ub25jbGljayA9IGZ1bmN0aW9uKCl7XG4gICAgICBjb25zb2xlLmxvZyh0aGlzKTtcbiAgICAgIGQzLnNlbGVjdEFsbCgnLmJyb3dzZS1idXR0b25zIC5idXR0b24nKVxuICAgICAgICAuY2xhc3NlZCgnYWN0aXZlJywgZmFsc2UpO1xuICAgICAgZDMuc2VsZWN0KHRoaXMpXG4gICAgICAgIC5jbGFzc2VkKCdhY3RpdmUnLCB0cnVlKTtcbiAgICAgIFJGRkFwcC5jb250cm9sbGVyLmdldENvbGxlY3Rpb25JdGVtcyhjb2xsZWN0aW9uLmRhdGEua2V5KTtcbiAgICAgIFJGRkFwcC5jb250cm9sbGVyLmNsZWFyU2VhcmNoKCk7XG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4gYnJvd3NlQnV0dG9uOyBcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgY3JlYXRlVG9waWNLZXkgPSBmdW5jdGlvbigpe1xuICB2YXIgY29udCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdicm93c2UtaGVhZGluZycpO1xuICB2YXIgaHRtbCA9IGA8ZGl2IGlkPVwidG9waWMta2V5XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiJHtzdHlsZXMua2V5TWFya31cIj49IGlzc3VlIGJyaWVmIGFuZC9vciBsaXRlcmF0dXJlIHJldmlldyBhdmFpbGFibGU8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+YDtcbiAgY29udC5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJywgaHRtbCk7XG59XG4iLCJ2YXIgZztcclxuXHJcbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXHJcbmcgPSAoZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn0pKCk7XHJcblxyXG50cnkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxyXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSwgZXZhbCkoXCJ0aGlzXCIpO1xyXG59IGNhdGNoIChlKSB7XHJcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcclxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcclxufVxyXG5cclxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxyXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xyXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGc7XHJcbiIsIi8qIVxuKiBUaXBweS5qcyB2Mi41LjJcbiogKGMpIDIwMTctMjAxOCBhdG9taWtzXG4qIE1JVFxuKi9cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG5cdHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcblx0dHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcblx0KGdsb2JhbC50aXBweSA9IGZhY3RvcnkoKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxudmFyIHN0eWxlcyA9IFwiLnRpcHB5LXRvdWNoe2N1cnNvcjpwb2ludGVyIWltcG9ydGFudH0udGlwcHktbm90cmFuc2l0aW9ue3RyYW5zaXRpb246bm9uZSFpbXBvcnRhbnR9LnRpcHB5LXBvcHBlcnttYXgtd2lkdGg6MzUwcHg7LXdlYmtpdC1wZXJzcGVjdGl2ZTo3MDBweDtwZXJzcGVjdGl2ZTo3MDBweDt6LWluZGV4Ojk5OTk7b3V0bGluZTowO3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMTY1LC44NCwuNDQsMSk7cG9pbnRlci1ldmVudHM6bm9uZTtsaW5lLWhlaWdodDoxLjR9LnRpcHB5LXBvcHBlcltkYXRhLWh0bWxde21heC13aWR0aDo5NiU7bWF4LXdpZHRoOmNhbGMoMTAwJSAtIDIwcHgpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gLnRpcHB5LWJhY2tkcm9we2JvcmRlci1yYWRpdXM6NDAlIDQwJSAwIDB9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49dG9wXSAudGlwcHktcm91bmRhcnJvd3tib3R0b206LThweDstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46NTAlIDA7dHJhbnNmb3JtLW9yaWdpbjo1MCUgMH0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj10b3BdIC50aXBweS1yb3VuZGFycm93IHN2Z3twb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDE4MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgxODBkZWcpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gLnRpcHB5LWFycm93e2JvcmRlci10b3A6N3B4IHNvbGlkICMzMzM7Ym9yZGVyLXJpZ2h0OjdweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItbGVmdDo3cHggc29saWQgdHJhbnNwYXJlbnQ7Ym90dG9tOi03cHg7bWFyZ2luOjAgNnB4Oy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjo1MCUgMDt0cmFuc2Zvcm0tb3JpZ2luOjUwJSAwfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gLnRpcHB5LWJhY2tkcm9wey13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjowIDkwJTt0cmFuc2Zvcm0tb3JpZ2luOjAgOTAlfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gLnRpcHB5LWJhY2tkcm9wW2RhdGEtc3RhdGU9dmlzaWJsZV17LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoNikgdHJhbnNsYXRlKC01MCUsMjUlKTt0cmFuc2Zvcm06c2NhbGUoNikgdHJhbnNsYXRlKC01MCUsMjUlKTtvcGFjaXR5OjF9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49dG9wXSAudGlwcHktYmFja2Ryb3BbZGF0YS1zdGF0ZT1oaWRkZW5dey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpIHRyYW5zbGF0ZSgtNTAlLDI1JSk7dHJhbnNmb3JtOnNjYWxlKDEpIHRyYW5zbGF0ZSgtNTAlLDI1JSk7b3BhY2l0eTowfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gW2RhdGEtYW5pbWF0aW9uPXNoaWZ0LXRvd2FyZF1bZGF0YS1zdGF0ZT12aXNpYmxlXXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgtMTBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwcHgpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gW2RhdGEtYW5pbWF0aW9uPXNoaWZ0LXRvd2FyZF1bZGF0YS1zdGF0ZT1oaWRkZW5de29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKC0yMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtMjBweCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49dG9wXSBbZGF0YS1hbmltYXRpb249cGVyc3BlY3RpdmVdey13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpib3R0b207dHJhbnNmb3JtLW9yaWdpbjpib3R0b219LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49dG9wXSBbZGF0YS1hbmltYXRpb249cGVyc3BlY3RpdmVdW2RhdGEtc3RhdGU9dmlzaWJsZV17b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwcHgpIHJvdGF0ZVgoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwcHgpIHJvdGF0ZVgoMCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49dG9wXSBbZGF0YS1hbmltYXRpb249cGVyc3BlY3RpdmVdW2RhdGEtc3RhdGU9aGlkZGVuXXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgwKSByb3RhdGVYKDkwZGVnKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKSByb3RhdGVYKDkwZGVnKX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj10b3BdIFtkYXRhLWFuaW1hdGlvbj1mYWRlXVtkYXRhLXN0YXRlPXZpc2libGVde29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKC0xMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtMTBweCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49dG9wXSBbZGF0YS1hbmltYXRpb249ZmFkZV1bZGF0YS1zdGF0ZT1oaWRkZW5de29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKC0xMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtMTBweCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49dG9wXSBbZGF0YS1hbmltYXRpb249c2hpZnQtYXdheV1bZGF0YS1zdGF0ZT12aXNpYmxlXXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgtMTBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwcHgpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gW2RhdGEtYW5pbWF0aW9uPXNoaWZ0LWF3YXldW2RhdGEtc3RhdGU9aGlkZGVuXXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj10b3BdIFtkYXRhLWFuaW1hdGlvbj1zY2FsZV1bZGF0YS1zdGF0ZT12aXNpYmxlXXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgtMTBweCkgc2NhbGUoMSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwcHgpIHNjYWxlKDEpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gW2RhdGEtYW5pbWF0aW9uPXNjYWxlXVtkYXRhLXN0YXRlPWhpZGRlbl17b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCkgc2NhbGUoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCkgc2NhbGUoMCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49Ym90dG9tXSAudGlwcHktYmFja2Ryb3B7Ym9yZGVyLXJhZGl1czowIDAgMzAlIDMwJX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1ib3R0b21dIC50aXBweS1yb3VuZGFycm93e3RvcDotOHB4Oy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjo1MCUgMTAwJTt0cmFuc2Zvcm0tb3JpZ2luOjUwJSAxMDAlfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWJvdHRvbV0gLnRpcHB5LXJvdW5kYXJyb3cgc3Zne3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMCk7dHJhbnNmb3JtOnJvdGF0ZSgwKX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1ib3R0b21dIC50aXBweS1hcnJvd3tib3JkZXItYm90dG9tOjdweCBzb2xpZCAjMzMzO2JvcmRlci1yaWdodDo3cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWxlZnQ6N3B4IHNvbGlkIHRyYW5zcGFyZW50O3RvcDotN3B4O21hcmdpbjowIDZweDstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46NTAlIDEwMCU7dHJhbnNmb3JtLW9yaWdpbjo1MCUgMTAwJX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1ib3R0b21dIC50aXBweS1iYWNrZHJvcHstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46MCAtOTAlO3RyYW5zZm9ybS1vcmlnaW46MCAtOTAlfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWJvdHRvbV0gLnRpcHB5LWJhY2tkcm9wW2RhdGEtc3RhdGU9dmlzaWJsZV17LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoNikgdHJhbnNsYXRlKC01MCUsLTEyNSUpO3RyYW5zZm9ybTpzY2FsZSg2KSB0cmFuc2xhdGUoLTUwJSwtMTI1JSk7b3BhY2l0eToxfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWJvdHRvbV0gLnRpcHB5LWJhY2tkcm9wW2RhdGEtc3RhdGU9aGlkZGVuXXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKSB0cmFuc2xhdGUoLTUwJSwtMTI1JSk7dHJhbnNmb3JtOnNjYWxlKDEpIHRyYW5zbGF0ZSgtNTAlLC0xMjUlKTtvcGFjaXR5OjB9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49Ym90dG9tXSBbZGF0YS1hbmltYXRpb249c2hpZnQtdG93YXJkXVtkYXRhLXN0YXRlPXZpc2libGVde29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDEwcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDEwcHgpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWJvdHRvbV0gW2RhdGEtYW5pbWF0aW9uPXNoaWZ0LXRvd2FyZF1bZGF0YS1zdGF0ZT1oaWRkZW5de29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDIwcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDIwcHgpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWJvdHRvbV0gW2RhdGEtYW5pbWF0aW9uPXBlcnNwZWN0aXZlXXstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46dG9wO3RyYW5zZm9ybS1vcmlnaW46dG9wfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWJvdHRvbV0gW2RhdGEtYW5pbWF0aW9uPXBlcnNwZWN0aXZlXVtkYXRhLXN0YXRlPXZpc2libGVde29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDEwcHgpIHJvdGF0ZVgoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTBweCkgcm90YXRlWCgwKX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1ib3R0b21dIFtkYXRhLWFuaW1hdGlvbj1wZXJzcGVjdGl2ZV1bZGF0YS1zdGF0ZT1oaWRkZW5de29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApIHJvdGF0ZVgoLTkwZGVnKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKSByb3RhdGVYKC05MGRlZyl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49Ym90dG9tXSBbZGF0YS1hbmltYXRpb249ZmFkZV1bZGF0YS1zdGF0ZT12aXNpYmxlXXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgxMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgxMHB4KX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1ib3R0b21dIFtkYXRhLWFuaW1hdGlvbj1mYWRlXVtkYXRhLXN0YXRlPWhpZGRlbl17b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTBweCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49Ym90dG9tXSBbZGF0YS1hbmltYXRpb249c2hpZnQtYXdheV1bZGF0YS1zdGF0ZT12aXNpYmxlXXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgxMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgxMHB4KX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1ib3R0b21dIFtkYXRhLWFuaW1hdGlvbj1zaGlmdC1hd2F5XVtkYXRhLXN0YXRlPWhpZGRlbl17b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49Ym90dG9tXSBbZGF0YS1hbmltYXRpb249c2NhbGVdW2RhdGEtc3RhdGU9dmlzaWJsZV17b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTBweCkgc2NhbGUoMSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTBweCkgc2NhbGUoMSl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49Ym90dG9tXSBbZGF0YS1hbmltYXRpb249c2NhbGVdW2RhdGEtc3RhdGU9aGlkZGVuXXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgwKSBzY2FsZSgwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKSBzY2FsZSgwKX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1sZWZ0XSAudGlwcHktYmFja2Ryb3B7Ym9yZGVyLXJhZGl1czo1MCUgMCAwIDUwJX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1sZWZ0XSAudGlwcHktcm91bmRhcnJvd3tyaWdodDotMTZweDstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46MzMuMzMzMzMzMzMlIDUwJTt0cmFuc2Zvcm0tb3JpZ2luOjMzLjMzMzMzMzMzJSA1MCV9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49bGVmdF0gLnRpcHB5LXJvdW5kYXJyb3cgc3Zne3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoOTBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoOTBkZWcpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWxlZnRdIC50aXBweS1hcnJvd3tib3JkZXItbGVmdDo3cHggc29saWQgIzMzMztib3JkZXItdG9wOjdweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItYm90dG9tOjdweCBzb2xpZCB0cmFuc3BhcmVudDtyaWdodDotN3B4O21hcmdpbjozcHggMDstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46MCA1MCU7dHJhbnNmb3JtLW9yaWdpbjowIDUwJX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1sZWZ0XSAudGlwcHktYmFja2Ryb3B7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOjEwMCUgMDt0cmFuc2Zvcm0tb3JpZ2luOjEwMCUgMH0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1sZWZ0XSAudGlwcHktYmFja2Ryb3BbZGF0YS1zdGF0ZT12aXNpYmxlXXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSg2KSB0cmFuc2xhdGUoNDAlLC01MCUpO3RyYW5zZm9ybTpzY2FsZSg2KSB0cmFuc2xhdGUoNDAlLC01MCUpO29wYWNpdHk6MX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1sZWZ0XSAudGlwcHktYmFja2Ryb3BbZGF0YS1zdGF0ZT1oaWRkZW5dey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuNSkgdHJhbnNsYXRlKDQwJSwtNTAlKTt0cmFuc2Zvcm06c2NhbGUoMS41KSB0cmFuc2xhdGUoNDAlLC01MCUpO29wYWNpdHk6MH0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1sZWZ0XSBbZGF0YS1hbmltYXRpb249c2hpZnQtdG93YXJkXVtkYXRhLXN0YXRlPXZpc2libGVde29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC0xMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtMTBweCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49bGVmdF0gW2RhdGEtYW5pbWF0aW9uPXNoaWZ0LXRvd2FyZF1bZGF0YS1zdGF0ZT1oaWRkZW5de29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC0yMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtMjBweCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49bGVmdF0gW2RhdGEtYW5pbWF0aW9uPXBlcnNwZWN0aXZlXXstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46cmlnaHQ7dHJhbnNmb3JtLW9yaWdpbjpyaWdodH0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1sZWZ0XSBbZGF0YS1hbmltYXRpb249cGVyc3BlY3RpdmVdW2RhdGEtc3RhdGU9dmlzaWJsZV17b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTEwcHgpIHJvdGF0ZVkoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTEwcHgpIHJvdGF0ZVkoMCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49bGVmdF0gW2RhdGEtYW5pbWF0aW9uPXBlcnNwZWN0aXZlXVtkYXRhLXN0YXRlPWhpZGRlbl17b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCkgcm90YXRlWSgtOTBkZWcpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKDApIHJvdGF0ZVkoLTkwZGVnKX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1sZWZ0XSBbZGF0YS1hbmltYXRpb249ZmFkZV1bZGF0YS1zdGF0ZT12aXNpYmxlXXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtMTBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTEwcHgpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWxlZnRdIFtkYXRhLWFuaW1hdGlvbj1mYWRlXVtkYXRhLXN0YXRlPWhpZGRlbl17b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTEwcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC0xMHB4KX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1sZWZ0XSBbZGF0YS1hbmltYXRpb249c2hpZnQtYXdheV1bZGF0YS1zdGF0ZT12aXNpYmxlXXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtMTBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTEwcHgpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWxlZnRdIFtkYXRhLWFuaW1hdGlvbj1zaGlmdC1hd2F5XVtkYXRhLXN0YXRlPWhpZGRlbl17b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49bGVmdF0gW2RhdGEtYW5pbWF0aW9uPXNjYWxlXVtkYXRhLXN0YXRlPXZpc2libGVde29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC0xMHB4KSBzY2FsZSgxKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtMTBweCkgc2NhbGUoMSl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49bGVmdF0gW2RhdGEtYW5pbWF0aW9uPXNjYWxlXVtkYXRhLXN0YXRlPWhpZGRlbl17b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCkgc2NhbGUoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCkgc2NhbGUoMCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49cmlnaHRdIC50aXBweS1iYWNrZHJvcHtib3JkZXItcmFkaXVzOjAgNTAlIDUwJSAwfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXJpZ2h0XSAudGlwcHktcm91bmRhcnJvd3tsZWZ0Oi0xNnB4Oy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjo2Ni42NjY2NjY2NiUgNTAlO3RyYW5zZm9ybS1vcmlnaW46NjYuNjY2NjY2NjYlIDUwJX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1yaWdodF0gLnRpcHB5LXJvdW5kYXJyb3cgc3Zne3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTkwZGVnKTt0cmFuc2Zvcm06cm90YXRlKC05MGRlZyl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49cmlnaHRdIC50aXBweS1hcnJvd3tib3JkZXItcmlnaHQ6N3B4IHNvbGlkICMzMzM7Ym9yZGVyLXRvcDo3cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWJvdHRvbTo3cHggc29saWQgdHJhbnNwYXJlbnQ7bGVmdDotN3B4O21hcmdpbjozcHggMDstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46MTAwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjoxMDAlIDUwJX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1yaWdodF0gLnRpcHB5LWJhY2tkcm9wey13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjotMTAwJSAwO3RyYW5zZm9ybS1vcmlnaW46LTEwMCUgMH0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1yaWdodF0gLnRpcHB5LWJhY2tkcm9wW2RhdGEtc3RhdGU9dmlzaWJsZV17LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoNikgdHJhbnNsYXRlKC0xNDAlLC01MCUpO3RyYW5zZm9ybTpzY2FsZSg2KSB0cmFuc2xhdGUoLTE0MCUsLTUwJSk7b3BhY2l0eToxfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXJpZ2h0XSAudGlwcHktYmFja2Ryb3BbZGF0YS1zdGF0ZT1oaWRkZW5dey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuNSkgdHJhbnNsYXRlKC0xNDAlLC01MCUpO3RyYW5zZm9ybTpzY2FsZSgxLjUpIHRyYW5zbGF0ZSgtMTQwJSwtNTAlKTtvcGFjaXR5OjB9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49cmlnaHRdIFtkYXRhLWFuaW1hdGlvbj1zaGlmdC10b3dhcmRdW2RhdGEtc3RhdGU9dmlzaWJsZV17b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMTBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMTBweCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49cmlnaHRdIFtkYXRhLWFuaW1hdGlvbj1zaGlmdC10b3dhcmRdW2RhdGEtc3RhdGU9aGlkZGVuXXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgyMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgyMHB4KX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1yaWdodF0gW2RhdGEtYW5pbWF0aW9uPXBlcnNwZWN0aXZlXXstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46bGVmdDt0cmFuc2Zvcm0tb3JpZ2luOmxlZnR9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49cmlnaHRdIFtkYXRhLWFuaW1hdGlvbj1wZXJzcGVjdGl2ZV1bZGF0YS1zdGF0ZT12aXNpYmxlXXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgxMHB4KSByb3RhdGVZKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVYKDEwcHgpIHJvdGF0ZVkoMCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49cmlnaHRdIFtkYXRhLWFuaW1hdGlvbj1wZXJzcGVjdGl2ZV1bZGF0YS1zdGF0ZT1oaWRkZW5de29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKDApIHJvdGF0ZVkoOTBkZWcpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKDApIHJvdGF0ZVkoOTBkZWcpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXJpZ2h0XSBbZGF0YS1hbmltYXRpb249ZmFkZV1bZGF0YS1zdGF0ZT12aXNpYmxlXXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgxMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgxMHB4KX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1yaWdodF0gW2RhdGEtYW5pbWF0aW9uPWZhZGVdW2RhdGEtc3RhdGU9aGlkZGVuXXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgxMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgxMHB4KX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1yaWdodF0gW2RhdGEtYW5pbWF0aW9uPXNoaWZ0LWF3YXldW2RhdGEtc3RhdGU9dmlzaWJsZV17b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMTBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMTBweCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49cmlnaHRdIFtkYXRhLWFuaW1hdGlvbj1zaGlmdC1hd2F5XVtkYXRhLXN0YXRlPWhpZGRlbl17b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49cmlnaHRdIFtkYXRhLWFuaW1hdGlvbj1zY2FsZV1bZGF0YS1zdGF0ZT12aXNpYmxlXXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgxMHB4KSBzY2FsZSgxKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgxMHB4KSBzY2FsZSgxKX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1yaWdodF0gW2RhdGEtYW5pbWF0aW9uPXNjYWxlXVtkYXRhLXN0YXRlPWhpZGRlbl17b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCkgc2NhbGUoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCkgc2NhbGUoMCl9LnRpcHB5LXRvb2x0aXB7cG9zaXRpb246cmVsYXRpdmU7Y29sb3I6I2ZmZjtib3JkZXItcmFkaXVzOjRweDtmb250LXNpemU6LjlyZW07cGFkZGluZzouM3JlbSAuNnJlbTt0ZXh0LWFsaWduOmNlbnRlcjt3aWxsLWNoYW5nZTp0cmFuc2Zvcm07LXdlYmtpdC1mb250LXNtb290aGluZzphbnRpYWxpYXNlZDstbW96LW9zeC1mb250LXNtb290aGluZzpncmF5c2NhbGU7YmFja2dyb3VuZC1jb2xvcjojMzMzfS50aXBweS10b29sdGlwW2RhdGEtc2l6ZT1zbWFsbF17cGFkZGluZzouMnJlbSAuNHJlbTtmb250LXNpemU6Ljc1cmVtfS50aXBweS10b29sdGlwW2RhdGEtc2l6ZT1sYXJnZV17cGFkZGluZzouNHJlbSAuOHJlbTtmb250LXNpemU6MXJlbX0udGlwcHktdG9vbHRpcFtkYXRhLWFuaW1hdGVmaWxsXXtvdmVyZmxvdzpoaWRkZW47YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0udGlwcHktdG9vbHRpcFtkYXRhLWFuaW1hdGVmaWxsXSAudGlwcHktY29udGVudHt0cmFuc2l0aW9uOi13ZWJraXQtY2xpcC1wYXRoIGN1YmljLWJlemllciguNDYsLjEsLjUyLC45OCk7dHJhbnNpdGlvbjpjbGlwLXBhdGggY3ViaWMtYmV6aWVyKC40NiwuMSwuNTIsLjk4KTt0cmFuc2l0aW9uOmNsaXAtcGF0aCBjdWJpYy1iZXppZXIoLjQ2LC4xLC41MiwuOTgpLC13ZWJraXQtY2xpcC1wYXRoIGN1YmljLWJlemllciguNDYsLjEsLjUyLC45OCl9LnRpcHB5LXRvb2x0aXBbZGF0YS1pbnRlcmFjdGl2ZV0sLnRpcHB5LXRvb2x0aXBbZGF0YS1pbnRlcmFjdGl2ZV0gcGF0aHtwb2ludGVyLWV2ZW50czphdXRvfS50aXBweS10b29sdGlwW2RhdGEtaW5lcnRpYV1bZGF0YS1zdGF0ZT12aXNpYmxlXXt0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjUzLDIsLjM2LC44NSl9LnRpcHB5LXRvb2x0aXBbZGF0YS1pbmVydGlhXVtkYXRhLXN0YXRlPWhpZGRlbl17dHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZX0udGlwcHktYXJyb3csLnRpcHB5LXJvdW5kYXJyb3d7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MDtoZWlnaHQ6MH0udGlwcHktcm91bmRhcnJvd3t3aWR0aDoyNHB4O2hlaWdodDo4cHg7ZmlsbDojMzMzO3BvaW50ZXItZXZlbnRzOm5vbmV9LnRpcHB5LWJhY2tkcm9we3Bvc2l0aW9uOmFic29sdXRlO3dpbGwtY2hhbmdlOnRyYW5zZm9ybTtiYWNrZ3JvdW5kLWNvbG9yOiMzMzM7Ym9yZGVyLXJhZGl1czo1MCU7d2lkdGg6MjYlO2xlZnQ6NTAlO3RvcDo1MCU7ei1pbmRleDotMTt0cmFuc2l0aW9uOmFsbCBjdWJpYy1iZXppZXIoLjQ2LC4xLC41MiwuOTgpOy13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTpoaWRkZW47YmFja2ZhY2UtdmlzaWJpbGl0eTpoaWRkZW59LnRpcHB5LWJhY2tkcm9wOmFmdGVye2NvbnRlbnQ6XFxcIlxcXCI7ZmxvYXQ6bGVmdDtwYWRkaW5nLXRvcDoxMDAlfWJvZHk6bm90KC50aXBweS10b3VjaCkgLnRpcHB5LXRvb2x0aXBbZGF0YS1hbmltYXRlZmlsbF1bZGF0YS1zdGF0ZT12aXNpYmxlXSAudGlwcHktY29udGVudHstd2Via2l0LWNsaXAtcGF0aDplbGxpcHNlKDEwMCUgMTAwJSBhdCA1MCUgNTAlKTtjbGlwLXBhdGg6ZWxsaXBzZSgxMDAlIDEwMCUgYXQgNTAlIDUwJSl9Ym9keTpub3QoLnRpcHB5LXRvdWNoKSAudGlwcHktdG9vbHRpcFtkYXRhLWFuaW1hdGVmaWxsXVtkYXRhLXN0YXRlPWhpZGRlbl0gLnRpcHB5LWNvbnRlbnR7LXdlYmtpdC1jbGlwLXBhdGg6ZWxsaXBzZSg1JSA1MCUgYXQgNTAlIDUwJSk7Y2xpcC1wYXRoOmVsbGlwc2UoNSUgNTAlIGF0IDUwJSA1MCUpfWJvZHk6bm90KC50aXBweS10b3VjaCkgLnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudD1yaWdodF0gLnRpcHB5LXRvb2x0aXBbZGF0YS1hbmltYXRlZmlsbF1bZGF0YS1zdGF0ZT12aXNpYmxlXSAudGlwcHktY29udGVudHstd2Via2l0LWNsaXAtcGF0aDplbGxpcHNlKDEzNSUgMTAwJSBhdCAwIDUwJSk7Y2xpcC1wYXRoOmVsbGlwc2UoMTM1JSAxMDAlIGF0IDAgNTAlKX1ib2R5Om5vdCgudGlwcHktdG91Y2gpIC50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnQ9cmlnaHRdIC50aXBweS10b29sdGlwW2RhdGEtYW5pbWF0ZWZpbGxdW2RhdGEtc3RhdGU9aGlkZGVuXSAudGlwcHktY29udGVudHstd2Via2l0LWNsaXAtcGF0aDplbGxpcHNlKDQwJSAxMDAlIGF0IDAgNTAlKTtjbGlwLXBhdGg6ZWxsaXBzZSg0MCUgMTAwJSBhdCAwIDUwJSl9Ym9keTpub3QoLnRpcHB5LXRvdWNoKSAudGlwcHktcG9wcGVyW3gtcGxhY2VtZW50PWxlZnRdIC50aXBweS10b29sdGlwW2RhdGEtYW5pbWF0ZWZpbGxdW2RhdGEtc3RhdGU9dmlzaWJsZV0gLnRpcHB5LWNvbnRlbnR7LXdlYmtpdC1jbGlwLXBhdGg6ZWxsaXBzZSgxMzUlIDEwMCUgYXQgMTAwJSA1MCUpO2NsaXAtcGF0aDplbGxpcHNlKDEzNSUgMTAwJSBhdCAxMDAlIDUwJSl9Ym9keTpub3QoLnRpcHB5LXRvdWNoKSAudGlwcHktcG9wcGVyW3gtcGxhY2VtZW50PWxlZnRdIC50aXBweS10b29sdGlwW2RhdGEtYW5pbWF0ZWZpbGxdW2RhdGEtc3RhdGU9aGlkZGVuXSAudGlwcHktY29udGVudHstd2Via2l0LWNsaXAtcGF0aDplbGxpcHNlKDQwJSAxMDAlIGF0IDEwMCUgNTAlKTtjbGlwLXBhdGg6ZWxsaXBzZSg0MCUgMTAwJSBhdCAxMDAlIDUwJSl9QG1lZGlhIChtYXgtd2lkdGg6MzYwcHgpey50aXBweS1wb3BwZXJ7bWF4LXdpZHRoOjk2JTttYXgtd2lkdGg6Y2FsYygxMDAlIC0gMjBweCl9fVwiO1xuXG52YXIgdmVyc2lvbiA9IFwiMi41LjJcIjtcblxudmFyIGlzQnJvd3NlciA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xuXG52YXIgaXNJRSA9IGlzQnJvd3NlciAmJiAvTVNJRSB8VHJpZGVudFxcLy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblxudmFyIGJyb3dzZXIgPSB7fTtcblxuaWYgKGlzQnJvd3Nlcikge1xuICBicm93c2VyLnN1cHBvcnRlZCA9ICdyZXF1ZXN0QW5pbWF0aW9uRnJhbWUnIGluIHdpbmRvdztcbiAgYnJvd3Nlci5zdXBwb3J0c1RvdWNoID0gJ29udG91Y2hzdGFydCcgaW4gd2luZG93O1xuICBicm93c2VyLnVzaW5nVG91Y2ggPSBmYWxzZTtcbiAgYnJvd3Nlci5keW5hbWljSW5wdXREZXRlY3Rpb24gPSB0cnVlO1xuICBicm93c2VyLmlPUyA9IC9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkgJiYgIXdpbmRvdy5NU1N0cmVhbTtcbiAgYnJvd3Nlci5vblVzZXJJbnB1dENoYW5nZSA9IGZ1bmN0aW9uICgpIHt9O1xufVxuXG4vKipcbiAqIFNlbGVjdG9yIGNvbnN0YW50cyB1c2VkIGZvciBncmFiYmluZyBlbGVtZW50c1xuICovXG52YXIgc2VsZWN0b3JzID0ge1xuICBQT1BQRVI6ICcudGlwcHktcG9wcGVyJyxcbiAgVE9PTFRJUDogJy50aXBweS10b29sdGlwJyxcbiAgQ09OVEVOVDogJy50aXBweS1jb250ZW50JyxcbiAgQkFDS0RST1A6ICcudGlwcHktYmFja2Ryb3AnLFxuICBBUlJPVzogJy50aXBweS1hcnJvdycsXG4gIFJPVU5EX0FSUk9XOiAnLnRpcHB5LXJvdW5kYXJyb3cnLFxuICBSRUZFUkVOQ0U6ICdbZGF0YS10aXBweV0nXG59O1xuXG52YXIgZGVmYXVsdHMgPSB7XG4gIHBsYWNlbWVudDogJ3RvcCcsXG4gIGxpdmVQbGFjZW1lbnQ6IHRydWUsXG4gIHRyaWdnZXI6ICdtb3VzZWVudGVyIGZvY3VzJyxcbiAgYW5pbWF0aW9uOiAnc2hpZnQtYXdheScsXG4gIGh0bWw6IGZhbHNlLFxuICBhbmltYXRlRmlsbDogdHJ1ZSxcbiAgYXJyb3c6IGZhbHNlLFxuICBkZWxheTogMCxcbiAgZHVyYXRpb246IFszNTAsIDMwMF0sXG4gIGludGVyYWN0aXZlOiBmYWxzZSxcbiAgaW50ZXJhY3RpdmVCb3JkZXI6IDIsXG4gIHRoZW1lOiAnZGFyaycsXG4gIHNpemU6ICdyZWd1bGFyJyxcbiAgZGlzdGFuY2U6IDEwLFxuICBvZmZzZXQ6IDAsXG4gIGhpZGVPbkNsaWNrOiB0cnVlLFxuICBtdWx0aXBsZTogZmFsc2UsXG4gIGZvbGxvd0N1cnNvcjogZmFsc2UsXG4gIGluZXJ0aWE6IGZhbHNlLFxuICB1cGRhdGVEdXJhdGlvbjogMzUwLFxuICBzdGlja3k6IGZhbHNlLFxuICBhcHBlbmRUbzogZnVuY3Rpb24gYXBwZW5kVG8oKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmJvZHk7XG4gIH0sXG4gIHpJbmRleDogOTk5OSxcbiAgdG91Y2hIb2xkOiBmYWxzZSxcbiAgcGVyZm9ybWFuY2U6IGZhbHNlLFxuICBkeW5hbWljVGl0bGU6IGZhbHNlLFxuICBmbGlwOiB0cnVlLFxuICBmbGlwQmVoYXZpb3I6ICdmbGlwJyxcbiAgYXJyb3dUeXBlOiAnc2hhcnAnLFxuICBhcnJvd1RyYW5zZm9ybTogJycsXG4gIG1heFdpZHRoOiAnJyxcbiAgdGFyZ2V0OiBudWxsLFxuICBhbGxvd1RpdGxlSFRNTDogdHJ1ZSxcbiAgcG9wcGVyT3B0aW9uczoge30sXG4gIGNyZWF0ZVBvcHBlckluc3RhbmNlT25Jbml0OiBmYWxzZSxcbiAgb25TaG93OiBmdW5jdGlvbiBvblNob3coKSB7fSxcbiAgb25TaG93bjogZnVuY3Rpb24gb25TaG93bigpIHt9LFxuICBvbkhpZGU6IGZ1bmN0aW9uIG9uSGlkZSgpIHt9LFxuICBvbkhpZGRlbjogZnVuY3Rpb24gb25IaWRkZW4oKSB7fVxufTtcblxuLyoqXG4gKiBUaGUga2V5cyBvZiB0aGUgZGVmYXVsdHMgb2JqZWN0IGZvciByZWR1Y2luZyBkb3duIGludG8gYSBuZXcgb2JqZWN0XG4gKiBVc2VkIGluIGBnZXRJbmRpdmlkdWFsT3B0aW9ucygpYFxuICovXG52YXIgZGVmYXVsdHNLZXlzID0gYnJvd3Nlci5zdXBwb3J0ZWQgJiYgT2JqZWN0LmtleXMoZGVmYXVsdHMpO1xuXG4vKipcbiAqIERldGVybWluZXMgaWYgYSB2YWx1ZSBpcyBhbiBvYmplY3QgbGl0ZXJhbFxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaXRlcmFsKHZhbHVlKSB7XG4gIHJldHVybiB7fS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG59XG5cbi8qKlxuICogUG9ueWZpbGwgZm9yIEFycmF5LmZyb21cbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5mdW5jdGlvbiB0b0FycmF5KHZhbHVlKSB7XG4gIHJldHVybiBbXS5zbGljZS5jYWxsKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGFuIGFycmF5IG9mIGVsZW1lbnRzIGJhc2VkIG9uIHRoZSBzZWxlY3RvciBpbnB1dFxuICogQHBhcmFtIHtTdHJpbmd8RWxlbWVudHxFbGVtZW50W118Tm9kZUxpc3R8T2JqZWN0fSBzZWxlY3RvclxuICogQHJldHVybiB7RWxlbWVudFtdfVxuICovXG5mdW5jdGlvbiBnZXRBcnJheU9mRWxlbWVudHMoc2VsZWN0b3IpIHtcbiAgaWYgKHNlbGVjdG9yIGluc3RhbmNlb2YgRWxlbWVudCB8fCBpc09iamVjdExpdGVyYWwoc2VsZWN0b3IpKSB7XG4gICAgcmV0dXJuIFtzZWxlY3Rvcl07XG4gIH1cblxuICBpZiAoc2VsZWN0b3IgaW5zdGFuY2VvZiBOb2RlTGlzdCkge1xuICAgIHJldHVybiB0b0FycmF5KHNlbGVjdG9yKTtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KHNlbGVjdG9yKSkge1xuICAgIHJldHVybiBzZWxlY3RvcjtcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmV0dXJuIHRvQXJyYXkoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpO1xuICB9IGNhdGNoIChfKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59XG5cbi8qKlxuICogUG9seWZpbGxzIG5lZWRlZCBwcm9wcy9tZXRob2RzIGZvciBhIHZpcnR1YWwgcmVmZXJlbmNlIG9iamVjdFxuICogTk9URTogaW4gdjMuMCB0aGlzIHdpbGwgYmUgcHVyZVxuICogQHBhcmFtIHtPYmplY3R9IHJlZmVyZW5jZVxuICovXG5mdW5jdGlvbiBwb2x5ZmlsbFZpcnR1YWxSZWZlcmVuY2VQcm9wcyhyZWZlcmVuY2UpIHtcbiAgcmVmZXJlbmNlLnJlZk9iaiA9IHRydWU7XG4gIHJlZmVyZW5jZS5hdHRyaWJ1dGVzID0gcmVmZXJlbmNlLmF0dHJpYnV0ZXMgfHwge307XG4gIHJlZmVyZW5jZS5zZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbiAoa2V5LCB2YWwpIHtcbiAgICByZWZlcmVuY2UuYXR0cmlidXRlc1trZXldID0gdmFsO1xuICB9O1xuICByZWZlcmVuY2UuZ2V0QXR0cmlidXRlID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiByZWZlcmVuY2UuYXR0cmlidXRlc1trZXldO1xuICB9O1xuICByZWZlcmVuY2UucmVtb3ZlQXR0cmlidXRlID0gZnVuY3Rpb24gKGtleSkge1xuICAgIGRlbGV0ZSByZWZlcmVuY2UuYXR0cmlidXRlc1trZXldO1xuICB9O1xuICByZWZlcmVuY2UuaGFzQXR0cmlidXRlID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBrZXkgaW4gcmVmZXJlbmNlLmF0dHJpYnV0ZXM7XG4gIH07XG4gIHJlZmVyZW5jZS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKCkge307XG4gIHJlZmVyZW5jZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKCkge307XG4gIHJlZmVyZW5jZS5jbGFzc0xpc3QgPSB7XG4gICAgY2xhc3NOYW1lczoge30sXG4gICAgYWRkOiBmdW5jdGlvbiBhZGQoa2V5KSB7XG4gICAgICByZXR1cm4gcmVmZXJlbmNlLmNsYXNzTGlzdC5jbGFzc05hbWVzW2tleV0gPSB0cnVlO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoa2V5KSB7XG4gICAgICBkZWxldGUgcmVmZXJlbmNlLmNsYXNzTGlzdC5jbGFzc05hbWVzW2tleV07XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIGNvbnRhaW5zOiBmdW5jdGlvbiBjb250YWlucyhrZXkpIHtcbiAgICAgIHJldHVybiBrZXkgaW4gcmVmZXJlbmNlLmNsYXNzTGlzdC5jbGFzc05hbWVzO1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzdXBwb3J0ZWQgcHJlZml4ZWQgcHJvcGVydHkgLSBvbmx5IGB3ZWJraXRgIGlzIG5lZWRlZCwgYG1vemAsIGBtc2AgYW5kIGBvYCBhcmUgb2Jzb2xldGVcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuICogQHJldHVybiB7U3RyaW5nfSAtIGJyb3dzZXIgc3VwcG9ydGVkIHByZWZpeGVkIHByb3BlcnR5XG4gKi9cbmZ1bmN0aW9uIHByZWZpeChwcm9wZXJ0eSkge1xuICB2YXIgcHJlZml4ZXMgPSBbJycsICd3ZWJraXQnXTtcbiAgdmFyIHVwcGVyUHJvcCA9IHByb3BlcnR5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcHJvcGVydHkuc2xpY2UoMSk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmVmaXhlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBfcHJlZml4ID0gcHJlZml4ZXNbaV07XG4gICAgdmFyIHByZWZpeGVkUHJvcCA9IF9wcmVmaXggPyBfcHJlZml4ICsgdXBwZXJQcm9wIDogcHJvcGVydHk7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudC5ib2R5LnN0eWxlW3ByZWZpeGVkUHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gcHJlZml4ZWRQcm9wO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBkaXYgZWxlbWVudFxuICogQHJldHVybiB7RWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gZGl2KCkge1xuICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHBvcHBlciBlbGVtZW50IHRoZW4gcmV0dXJucyBpdFxuICogQHBhcmFtIHtOdW1iZXJ9IGlkIC0gdGhlIHBvcHBlciBpZFxuICogQHBhcmFtIHtTdHJpbmd9IHRpdGxlIC0gdGhlIHRvb2x0aXAncyBgdGl0bGVgIGF0dHJpYnV0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBpbmRpdmlkdWFsIG9wdGlvbnNcbiAqIEByZXR1cm4ge0VsZW1lbnR9IC0gdGhlIHBvcHBlciBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVBvcHBlckVsZW1lbnQoaWQsIHRpdGxlLCBvcHRpb25zKSB7XG4gIHZhciBwb3BwZXIgPSBkaXYoKTtcbiAgcG9wcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndGlwcHktcG9wcGVyJyk7XG4gIHBvcHBlci5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAndG9vbHRpcCcpO1xuICBwb3BwZXIuc2V0QXR0cmlidXRlKCdpZCcsICd0aXBweS0nICsgaWQpO1xuICBwb3BwZXIuc3R5bGUuekluZGV4ID0gb3B0aW9ucy56SW5kZXg7XG4gIHBvcHBlci5zdHlsZS5tYXhXaWR0aCA9IG9wdGlvbnMubWF4V2lkdGg7XG5cbiAgdmFyIHRvb2x0aXAgPSBkaXYoKTtcbiAgdG9vbHRpcC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3RpcHB5LXRvb2x0aXAnKTtcbiAgdG9vbHRpcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2l6ZScsIG9wdGlvbnMuc2l6ZSk7XG4gIHRvb2x0aXAuc2V0QXR0cmlidXRlKCdkYXRhLWFuaW1hdGlvbicsIG9wdGlvbnMuYW5pbWF0aW9uKTtcbiAgdG9vbHRpcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3RhdGUnLCAnaGlkZGVuJyk7XG4gIG9wdGlvbnMudGhlbWUuc3BsaXQoJyAnKS5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XG4gICAgdG9vbHRpcC5jbGFzc0xpc3QuYWRkKHQgKyAnLXRoZW1lJyk7XG4gIH0pO1xuXG4gIHZhciBjb250ZW50ID0gZGl2KCk7XG4gIGNvbnRlbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsICd0aXBweS1jb250ZW50Jyk7XG5cbiAgaWYgKG9wdGlvbnMuYXJyb3cpIHtcbiAgICB2YXIgYXJyb3cgPSBkaXYoKTtcbiAgICBhcnJvdy5zdHlsZVtwcmVmaXgoJ3RyYW5zZm9ybScpXSA9IG9wdGlvbnMuYXJyb3dUcmFuc2Zvcm07XG5cbiAgICBpZiAob3B0aW9ucy5hcnJvd1R5cGUgPT09ICdyb3VuZCcpIHtcbiAgICAgIGFycm93LmNsYXNzTGlzdC5hZGQoJ3RpcHB5LXJvdW5kYXJyb3cnKTtcbiAgICAgIGFycm93LmlubmVySFRNTCA9ICc8c3ZnIHZpZXdCb3g9XCIwIDAgMjQgOFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTMgOHMyLjAyMS0uMDE1IDUuMjUzLTQuMjE4QzkuNTg0IDIuMDUxIDEwLjc5NyAxLjAwNyAxMiAxYzEuMjAzLS4wMDcgMi40MTYgMS4wMzUgMy43NjEgMi43ODJDMTkuMDEyIDguMDA1IDIxIDggMjEgOEgzelwiLz48L3N2Zz4nO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcnJvdy5jbGFzc0xpc3QuYWRkKCd0aXBweS1hcnJvdycpO1xuICAgIH1cblxuICAgIHRvb2x0aXAuYXBwZW5kQ2hpbGQoYXJyb3cpO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMuYW5pbWF0ZUZpbGwpIHtcbiAgICAvLyBDcmVhdGUgYW5pbWF0ZUZpbGwgY2lyY2xlIGVsZW1lbnQgZm9yIGFuaW1hdGlvblxuICAgIHRvb2x0aXAuc2V0QXR0cmlidXRlKCdkYXRhLWFuaW1hdGVmaWxsJywgJycpO1xuICAgIHZhciBiYWNrZHJvcCA9IGRpdigpO1xuICAgIGJhY2tkcm9wLmNsYXNzTGlzdC5hZGQoJ3RpcHB5LWJhY2tkcm9wJyk7XG4gICAgYmFja2Ryb3Auc2V0QXR0cmlidXRlKCdkYXRhLXN0YXRlJywgJ2hpZGRlbicpO1xuICAgIHRvb2x0aXAuYXBwZW5kQ2hpbGQoYmFja2Ryb3ApO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMuaW5lcnRpYSkge1xuICAgIC8vIENoYW5nZSB0cmFuc2l0aW9uIHRpbWluZyBmdW5jdGlvbiBjdWJpYyBiZXppZXJcbiAgICB0b29sdGlwLnNldEF0dHJpYnV0ZSgnZGF0YS1pbmVydGlhJywgJycpO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMuaW50ZXJhY3RpdmUpIHtcbiAgICB0b29sdGlwLnNldEF0dHJpYnV0ZSgnZGF0YS1pbnRlcmFjdGl2ZScsICcnKTtcbiAgfVxuXG4gIHZhciBodG1sID0gb3B0aW9ucy5odG1sO1xuICBpZiAoaHRtbCkge1xuICAgIHZhciB0ZW1wbGF0ZUlkID0gdm9pZCAwO1xuXG4gICAgaWYgKGh0bWwgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICBjb250ZW50LmFwcGVuZENoaWxkKGh0bWwpO1xuICAgICAgdGVtcGxhdGVJZCA9ICcjJyArIChodG1sLmlkIHx8ICd0aXBweS1odG1sLXRlbXBsYXRlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHRyaWNrIGxpbnRlcnM6IGh0dHBzOi8vZ2l0aHViLmNvbS9hdG9taWtzL3RpcHB5anMvaXNzdWVzLzE5N1xuICAgICAgY29udGVudFt0cnVlICYmICdpbm5lckhUTUwnXSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaHRtbClbdHJ1ZSAmJiAnaW5uZXJIVE1MJ107XG4gICAgICB0ZW1wbGF0ZUlkID0gaHRtbDtcbiAgICB9XG5cbiAgICBwb3BwZXIuc2V0QXR0cmlidXRlKCdkYXRhLWh0bWwnLCAnJyk7XG4gICAgdG9vbHRpcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGVtcGxhdGUtaWQnLCB0ZW1wbGF0ZUlkKTtcblxuICAgIGlmIChvcHRpb25zLmludGVyYWN0aXZlKSB7XG4gICAgICBwb3BwZXIuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICctMScpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb250ZW50W29wdGlvbnMuYWxsb3dUaXRsZUhUTUwgPyAnaW5uZXJIVE1MJyA6ICd0ZXh0Q29udGVudCddID0gdGl0bGU7XG4gIH1cblxuICB0b29sdGlwLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICBwb3BwZXIuYXBwZW5kQ2hpbGQodG9vbHRpcCk7XG5cbiAgcmV0dXJuIHBvcHBlcjtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgdHJpZ2dlciBieSBhZGRpbmcgdGhlIG5lY2Vzc2FyeSBldmVudCBsaXN0ZW5lcnMgdG8gdGhlIHJlZmVyZW5jZSBlbGVtZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRUeXBlIC0gdGhlIGN1c3RvbSBldmVudCBzcGVjaWZpZWQgaW4gdGhlIGB0cmlnZ2VyYCBzZXR0aW5nXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHJlZmVyZW5jZVxuICogQHBhcmFtIHtPYmplY3R9IGhhbmRsZXJzIC0gdGhlIGhhbmRsZXJzIGZvciBlYWNoIGV2ZW50XG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQHJldHVybiB7QXJyYXl9IC0gYXJyYXkgb2YgbGlzdGVuZXIgb2JqZWN0c1xuICovXG5mdW5jdGlvbiBjcmVhdGVUcmlnZ2VyKGV2ZW50VHlwZSwgcmVmZXJlbmNlLCBoYW5kbGVycywgb3B0aW9ucykge1xuICB2YXIgb25UcmlnZ2VyID0gaGFuZGxlcnMub25UcmlnZ2VyLFxuICAgICAgb25Nb3VzZUxlYXZlID0gaGFuZGxlcnMub25Nb3VzZUxlYXZlLFxuICAgICAgb25CbHVyID0gaGFuZGxlcnMub25CbHVyLFxuICAgICAgb25EZWxlZ2F0ZVNob3cgPSBoYW5kbGVycy5vbkRlbGVnYXRlU2hvdyxcbiAgICAgIG9uRGVsZWdhdGVIaWRlID0gaGFuZGxlcnMub25EZWxlZ2F0ZUhpZGU7XG5cbiAgdmFyIGxpc3RlbmVycyA9IFtdO1xuXG4gIGlmIChldmVudFR5cGUgPT09ICdtYW51YWwnKSByZXR1cm4gbGlzdGVuZXJzO1xuXG4gIHZhciBvbiA9IGZ1bmN0aW9uIG9uKGV2ZW50VHlwZSwgaGFuZGxlcikge1xuICAgIHJlZmVyZW5jZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgaGFuZGxlcik7XG4gICAgbGlzdGVuZXJzLnB1c2goeyBldmVudDogZXZlbnRUeXBlLCBoYW5kbGVyOiBoYW5kbGVyIH0pO1xuICB9O1xuXG4gIGlmICghb3B0aW9ucy50YXJnZXQpIHtcbiAgICBvbihldmVudFR5cGUsIG9uVHJpZ2dlcik7XG5cbiAgICBpZiAoYnJvd3Nlci5zdXBwb3J0c1RvdWNoICYmIG9wdGlvbnMudG91Y2hIb2xkKSB7XG4gICAgICBvbigndG91Y2hzdGFydCcsIG9uVHJpZ2dlcik7XG4gICAgICBvbigndG91Y2hlbmQnLCBvbk1vdXNlTGVhdmUpO1xuICAgIH1cbiAgICBpZiAoZXZlbnRUeXBlID09PSAnbW91c2VlbnRlcicpIHtcbiAgICAgIG9uKCdtb3VzZWxlYXZlJywgb25Nb3VzZUxlYXZlKTtcbiAgICB9XG4gICAgaWYgKGV2ZW50VHlwZSA9PT0gJ2ZvY3VzJykge1xuICAgICAgb24oaXNJRSA/ICdmb2N1c291dCcgOiAnYmx1cicsIG9uQmx1cik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChicm93c2VyLnN1cHBvcnRzVG91Y2ggJiYgb3B0aW9ucy50b3VjaEhvbGQpIHtcbiAgICAgIG9uKCd0b3VjaHN0YXJ0Jywgb25EZWxlZ2F0ZVNob3cpO1xuICAgICAgb24oJ3RvdWNoZW5kJywgb25EZWxlZ2F0ZUhpZGUpO1xuICAgIH1cbiAgICBpZiAoZXZlbnRUeXBlID09PSAnbW91c2VlbnRlcicpIHtcbiAgICAgIG9uKCdtb3VzZW92ZXInLCBvbkRlbGVnYXRlU2hvdyk7XG4gICAgICBvbignbW91c2VvdXQnLCBvbkRlbGVnYXRlSGlkZSk7XG4gICAgfVxuICAgIGlmIChldmVudFR5cGUgPT09ICdmb2N1cycpIHtcbiAgICAgIG9uKCdmb2N1c2luJywgb25EZWxlZ2F0ZVNob3cpO1xuICAgICAgb24oJ2ZvY3Vzb3V0Jywgb25EZWxlZ2F0ZUhpZGUpO1xuICAgIH1cbiAgICBpZiAoZXZlbnRUeXBlID09PSAnY2xpY2snKSB7XG4gICAgICBvbignY2xpY2snLCBvbkRlbGVnYXRlU2hvdyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGxpc3RlbmVycztcbn1cblxudmFyIGNsYXNzQ2FsbENoZWNrID0gZnVuY3Rpb24gKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn07XG5cbnZhciBjcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfTtcbn0oKTtcblxuXG5cblxuXG5cblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhbiBvYmplY3Qgb2Ygc2V0dGluZ3MgdG8gb3ZlcnJpZGUgZ2xvYmFsIHNldHRpbmdzXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHJlZmVyZW5jZVxuICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlT3B0aW9uc1xuICogQHJldHVybiB7T2JqZWN0fSAtIGluZGl2aWR1YWwgb3B0aW9uc1xuICovXG5mdW5jdGlvbiBnZXRJbmRpdmlkdWFsT3B0aW9ucyhyZWZlcmVuY2UsIGluc3RhbmNlT3B0aW9ucykge1xuICB2YXIgb3B0aW9ucyA9IGRlZmF1bHRzS2V5cy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgdmFyIHZhbCA9IHJlZmVyZW5jZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGlwcHktJyArIGtleS50b0xvd2VyQ2FzZSgpKSB8fCBpbnN0YW5jZU9wdGlvbnNba2V5XTtcblxuICAgIC8vIENvbnZlcnQgc3RyaW5ncyB0byBib29sZWFuc1xuICAgIGlmICh2YWwgPT09ICdmYWxzZScpIHZhbCA9IGZhbHNlO1xuICAgIGlmICh2YWwgPT09ICd0cnVlJykgdmFsID0gdHJ1ZTtcblxuICAgIC8vIENvbnZlcnQgbnVtYmVyIHN0cmluZ3MgdG8gdHJ1ZSBudW1iZXJzXG4gICAgaWYgKGlzRmluaXRlKHZhbCkgJiYgIWlzTmFOKHBhcnNlRmxvYXQodmFsKSkpIHtcbiAgICAgIHZhbCA9IHBhcnNlRmxvYXQodmFsKTtcbiAgICB9XG5cbiAgICAvLyBDb252ZXJ0IGFycmF5IHN0cmluZ3MgdG8gYWN0dWFsIGFycmF5c1xuICAgIGlmIChrZXkgIT09ICd0YXJnZXQnICYmIHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnICYmIHZhbC50cmltKCkuY2hhckF0KDApID09PSAnWycpIHtcbiAgICAgIHZhbCA9IEpTT04ucGFyc2UodmFsKTtcbiAgICB9XG5cbiAgICBhY2Nba2V5XSA9IHZhbDtcblxuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9KTtcblxuICByZXR1cm4gX2V4dGVuZHMoe30sIGluc3RhbmNlT3B0aW9ucywgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogRXZhbHVhdGVzL21vZGlmaWVzIHRoZSBvcHRpb25zIG9iamVjdCBmb3IgYXBwcm9wcmlhdGUgYmVoYXZpb3JcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IHJlZmVyZW5jZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm4ge09iamVjdH0gbW9kaWZpZWQvZXZhbHVhdGVkIG9wdGlvbnNcbiAqL1xuZnVuY3Rpb24gZXZhbHVhdGVPcHRpb25zKHJlZmVyZW5jZSwgb3B0aW9ucykge1xuICAvLyBhbmltYXRlRmlsbCBpcyBkaXNhYmxlZCBpZiBhbiBhcnJvdyBpcyB0cnVlXG4gIGlmIChvcHRpb25zLmFycm93KSB7XG4gICAgb3B0aW9ucy5hbmltYXRlRmlsbCA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMuYXBwZW5kVG8gJiYgdHlwZW9mIG9wdGlvbnMuYXBwZW5kVG8gPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmFwcGVuZFRvID0gb3B0aW9ucy5hcHBlbmRUbygpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmh0bWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmh0bWwgPSBvcHRpb25zLmh0bWwocmVmZXJlbmNlKTtcbiAgfVxuXG4gIHJldHVybiBvcHRpb25zO1xufVxuXG4vKipcbiAqIFJldHVybnMgaW5uZXIgZWxlbWVudHMgb2YgdGhlIHBvcHBlciBlbGVtZW50XG4gKiBAcGFyYW0ge0VsZW1lbnR9IHBvcHBlclxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBnZXRJbm5lckVsZW1lbnRzKHBvcHBlcikge1xuICB2YXIgc2VsZWN0ID0gZnVuY3Rpb24gc2VsZWN0KHMpIHtcbiAgICByZXR1cm4gcG9wcGVyLnF1ZXJ5U2VsZWN0b3Iocyk7XG4gIH07XG4gIHJldHVybiB7XG4gICAgdG9vbHRpcDogc2VsZWN0KHNlbGVjdG9ycy5UT09MVElQKSxcbiAgICBiYWNrZHJvcDogc2VsZWN0KHNlbGVjdG9ycy5CQUNLRFJPUCksXG4gICAgY29udGVudDogc2VsZWN0KHNlbGVjdG9ycy5DT05URU5UKSxcbiAgICBhcnJvdzogc2VsZWN0KHNlbGVjdG9ycy5BUlJPVykgfHwgc2VsZWN0KHNlbGVjdG9ycy5ST1VORF9BUlJPVylcbiAgfTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIHRoZSB0aXRsZSBmcm9tIGFuIGVsZW1lbnQsIHNldHRpbmcgYGRhdGEtb3JpZ2luYWwtdGl0bGVgXG4gKiBhcHByb3ByaWF0ZWx5XG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZVRpdGxlKGVsKSB7XG4gIHZhciB0aXRsZSA9IGVsLmdldEF0dHJpYnV0ZSgndGl0bGUnKTtcbiAgLy8gT25seSBzZXQgYGRhdGEtb3JpZ2luYWwtdGl0bGVgIGF0dHIgaWYgdGhlcmUgaXMgYSB0aXRsZVxuICBpZiAodGl0bGUpIHtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnLCB0aXRsZSk7XG4gIH1cbiAgZWwucmVtb3ZlQXR0cmlidXRlKCd0aXRsZScpO1xufVxuXG4vKiohXG4gKiBAZmlsZU92ZXJ2aWV3IEtpY2thc3MgbGlicmFyeSB0byBjcmVhdGUgYW5kIHBsYWNlIHBvcHBlcnMgbmVhciB0aGVpciByZWZlcmVuY2UgZWxlbWVudHMuXG4gKiBAdmVyc2lvbiAxLjE0LjNcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTYgRmVkZXJpY28gWml2b2xvIGFuZCBjb250cmlidXRvcnNcbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsXG4gKiBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEVcbiAqIFNPRlRXQVJFLlxuICovXG52YXIgaXNCcm93c2VyJDEgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xuXG52YXIgbG9uZ2VyVGltZW91dEJyb3dzZXJzID0gWydFZGdlJywgJ1RyaWRlbnQnLCAnRmlyZWZveCddO1xudmFyIHRpbWVvdXREdXJhdGlvbiA9IDA7XG5mb3IgKHZhciBpID0gMDsgaSA8IGxvbmdlclRpbWVvdXRCcm93c2Vycy5sZW5ndGg7IGkgKz0gMSkge1xuICBpZiAoaXNCcm93c2VyJDEgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKGxvbmdlclRpbWVvdXRCcm93c2Vyc1tpXSkgPj0gMCkge1xuICAgIHRpbWVvdXREdXJhdGlvbiA9IDE7XG4gICAgYnJlYWs7XG4gIH1cbn1cblxuZnVuY3Rpb24gbWljcm90YXNrRGVib3VuY2UoZm4pIHtcbiAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmIChjYWxsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2FsbGVkID0gdHJ1ZTtcbiAgICB3aW5kb3cuUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsZWQgPSBmYWxzZTtcbiAgICAgIGZuKCk7XG4gICAgfSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHRhc2tEZWJvdW5jZShmbikge1xuICB2YXIgc2NoZWR1bGVkID0gZmFsc2U7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFzY2hlZHVsZWQpIHtcbiAgICAgIHNjaGVkdWxlZCA9IHRydWU7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2NoZWR1bGVkID0gZmFsc2U7XG4gICAgICAgIGZuKCk7XG4gICAgICB9LCB0aW1lb3V0RHVyYXRpb24pO1xuICAgIH1cbiAgfTtcbn1cblxudmFyIHN1cHBvcnRzTWljcm9UYXNrcyA9IGlzQnJvd3NlciQxICYmIHdpbmRvdy5Qcm9taXNlO1xuXG4vKipcbiogQ3JlYXRlIGEgZGVib3VuY2VkIHZlcnNpb24gb2YgYSBtZXRob2QsIHRoYXQncyBhc3luY2hyb25vdXNseSBkZWZlcnJlZFxuKiBidXQgY2FsbGVkIGluIHRoZSBtaW5pbXVtIHRpbWUgcG9zc2libGUuXG4qXG4qIEBtZXRob2RcbiogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuKiBAYXJndW1lbnQge0Z1bmN0aW9ufSBmblxuKiBAcmV0dXJucyB7RnVuY3Rpb259XG4qL1xudmFyIGRlYm91bmNlID0gc3VwcG9ydHNNaWNyb1Rhc2tzID8gbWljcm90YXNrRGVib3VuY2UgOiB0YXNrRGVib3VuY2U7XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIGEgZnVuY3Rpb25cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7QW55fSBmdW5jdGlvblRvQ2hlY2sgLSB2YXJpYWJsZSB0byBjaGVja1xuICogQHJldHVybnMge0Jvb2xlYW59IGFuc3dlciB0bzogaXMgYSBmdW5jdGlvbj9cbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbihmdW5jdGlvblRvQ2hlY2spIHtcbiAgdmFyIGdldFR5cGUgPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uVG9DaGVjayAmJiBnZXRUeXBlLnRvU3RyaW5nLmNhbGwoZnVuY3Rpb25Ub0NoZWNrKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbn1cblxuLyoqXG4gKiBHZXQgQ1NTIGNvbXB1dGVkIHByb3BlcnR5IG9mIHRoZSBnaXZlbiBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VlbWVudH0gZWxlbWVudFxuICogQGFyZ3VtZW50IHtTdHJpbmd9IHByb3BlcnR5XG4gKi9cbmZ1bmN0aW9uIGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShlbGVtZW50LCBwcm9wZXJ0eSkge1xuICBpZiAoZWxlbWVudC5ub2RlVHlwZSAhPT0gMSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICAvLyBOT1RFOiAxIERPTSBhY2Nlc3MgaGVyZVxuICB2YXIgY3NzID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBudWxsKTtcbiAgcmV0dXJuIHByb3BlcnR5ID8gY3NzW3Byb3BlcnR5XSA6IGNzcztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBwYXJlbnROb2RlIG9yIHRoZSBob3N0IG9mIHRoZSBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtFbGVtZW50fSBwYXJlbnRcbiAqL1xuZnVuY3Rpb24gZ2V0UGFyZW50Tm9kZShlbGVtZW50KSB7XG4gIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnSFRNTCcpIHtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuICByZXR1cm4gZWxlbWVudC5wYXJlbnROb2RlIHx8IGVsZW1lbnQuaG9zdDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzY3JvbGxpbmcgcGFyZW50IG9mIHRoZSBnaXZlbiBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtFbGVtZW50fSBzY3JvbGwgcGFyZW50XG4gKi9cbmZ1bmN0aW9uIGdldFNjcm9sbFBhcmVudChlbGVtZW50KSB7XG4gIC8vIFJldHVybiBib2R5LCBgZ2V0U2Nyb2xsYCB3aWxsIHRha2UgY2FyZSB0byBnZXQgdGhlIGNvcnJlY3QgYHNjcm9sbFRvcGAgZnJvbSBpdFxuICBpZiAoIWVsZW1lbnQpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuYm9keTtcbiAgfVxuXG4gIHN3aXRjaCAoZWxlbWVudC5ub2RlTmFtZSkge1xuICAgIGNhc2UgJ0hUTUwnOlxuICAgIGNhc2UgJ0JPRFknOlxuICAgICAgcmV0dXJuIGVsZW1lbnQub3duZXJEb2N1bWVudC5ib2R5O1xuICAgIGNhc2UgJyNkb2N1bWVudCc6XG4gICAgICByZXR1cm4gZWxlbWVudC5ib2R5O1xuICB9XG5cbiAgLy8gRmlyZWZveCB3YW50IHVzIHRvIGNoZWNrIGAteGAgYW5kIGAteWAgdmFyaWF0aW9ucyBhcyB3ZWxsXG5cbiAgdmFyIF9nZXRTdHlsZUNvbXB1dGVkUHJvcCA9IGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShlbGVtZW50KSxcbiAgICAgIG92ZXJmbG93ID0gX2dldFN0eWxlQ29tcHV0ZWRQcm9wLm92ZXJmbG93LFxuICAgICAgb3ZlcmZsb3dYID0gX2dldFN0eWxlQ29tcHV0ZWRQcm9wLm92ZXJmbG93WCxcbiAgICAgIG92ZXJmbG93WSA9IF9nZXRTdHlsZUNvbXB1dGVkUHJvcC5vdmVyZmxvd1k7XG5cbiAgaWYgKC8oYXV0b3xzY3JvbGx8b3ZlcmxheSkvLnRlc3Qob3ZlcmZsb3cgKyBvdmVyZmxvd1kgKyBvdmVyZmxvd1gpKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cblxuICByZXR1cm4gZ2V0U2Nyb2xsUGFyZW50KGdldFBhcmVudE5vZGUoZWxlbWVudCkpO1xufVxuXG52YXIgaXNJRTExID0gaXNCcm93c2VyJDEgJiYgISEod2luZG93Lk1TSW5wdXRNZXRob2RDb250ZXh0ICYmIGRvY3VtZW50LmRvY3VtZW50TW9kZSk7XG52YXIgaXNJRTEwID0gaXNCcm93c2VyJDEgJiYgL01TSUUgMTAvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgYnJvd3NlciBpcyBJbnRlcm5ldCBFeHBsb3JlclxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHBhcmFtIHtOdW1iZXJ9IHZlcnNpb24gdG8gY2hlY2tcbiAqIEByZXR1cm5zIHtCb29sZWFufSBpc0lFXG4gKi9cbmZ1bmN0aW9uIGlzSUUkMSh2ZXJzaW9uKSB7XG4gIGlmICh2ZXJzaW9uID09PSAxMSkge1xuICAgIHJldHVybiBpc0lFMTE7XG4gIH1cbiAgaWYgKHZlcnNpb24gPT09IDEwKSB7XG4gICAgcmV0dXJuIGlzSUUxMDtcbiAgfVxuICByZXR1cm4gaXNJRTExIHx8IGlzSUUxMDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBvZmZzZXQgcGFyZW50IG9mIHRoZSBnaXZlbiBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtFbGVtZW50fSBvZmZzZXQgcGFyZW50XG4gKi9cbmZ1bmN0aW9uIGdldE9mZnNldFBhcmVudChlbGVtZW50KSB7XG4gIGlmICghZWxlbWVudCkge1xuICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIH1cblxuICB2YXIgbm9PZmZzZXRQYXJlbnQgPSBpc0lFJDEoMTApID8gZG9jdW1lbnQuYm9keSA6IG51bGw7XG5cbiAgLy8gTk9URTogMSBET00gYWNjZXNzIGhlcmVcbiAgdmFyIG9mZnNldFBhcmVudCA9IGVsZW1lbnQub2Zmc2V0UGFyZW50O1xuICAvLyBTa2lwIGhpZGRlbiBlbGVtZW50cyB3aGljaCBkb24ndCBoYXZlIGFuIG9mZnNldFBhcmVudFxuICB3aGlsZSAob2Zmc2V0UGFyZW50ID09PSBub09mZnNldFBhcmVudCAmJiBlbGVtZW50Lm5leHRFbGVtZW50U2libGluZykge1xuICAgIG9mZnNldFBhcmVudCA9IChlbGVtZW50ID0gZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcpLm9mZnNldFBhcmVudDtcbiAgfVxuXG4gIHZhciBub2RlTmFtZSA9IG9mZnNldFBhcmVudCAmJiBvZmZzZXRQYXJlbnQubm9kZU5hbWU7XG5cbiAgaWYgKCFub2RlTmFtZSB8fCBub2RlTmFtZSA9PT0gJ0JPRFknIHx8IG5vZGVOYW1lID09PSAnSFRNTCcpIHtcbiAgICByZXR1cm4gZWxlbWVudCA/IGVsZW1lbnQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIH1cblxuICAvLyAub2Zmc2V0UGFyZW50IHdpbGwgcmV0dXJuIHRoZSBjbG9zZXN0IFREIG9yIFRBQkxFIGluIGNhc2VcbiAgLy8gbm8gb2Zmc2V0UGFyZW50IGlzIHByZXNlbnQsIEkgaGF0ZSB0aGlzIGpvYi4uLlxuICBpZiAoWydURCcsICdUQUJMRSddLmluZGV4T2Yob2Zmc2V0UGFyZW50Lm5vZGVOYW1lKSAhPT0gLTEgJiYgZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KG9mZnNldFBhcmVudCwgJ3Bvc2l0aW9uJykgPT09ICdzdGF0aWMnKSB7XG4gICAgcmV0dXJuIGdldE9mZnNldFBhcmVudChvZmZzZXRQYXJlbnQpO1xuICB9XG5cbiAgcmV0dXJuIG9mZnNldFBhcmVudDtcbn1cblxuZnVuY3Rpb24gaXNPZmZzZXRDb250YWluZXIoZWxlbWVudCkge1xuICB2YXIgbm9kZU5hbWUgPSBlbGVtZW50Lm5vZGVOYW1lO1xuXG4gIGlmIChub2RlTmFtZSA9PT0gJ0JPRFknKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBub2RlTmFtZSA9PT0gJ0hUTUwnIHx8IGdldE9mZnNldFBhcmVudChlbGVtZW50LmZpcnN0RWxlbWVudENoaWxkKSA9PT0gZWxlbWVudDtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgcm9vdCBub2RlIChkb2N1bWVudCwgc2hhZG93RE9NIHJvb3QpIG9mIHRoZSBnaXZlbiBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IG5vZGVcbiAqIEByZXR1cm5zIHtFbGVtZW50fSByb290IG5vZGVcbiAqL1xuZnVuY3Rpb24gZ2V0Um9vdChub2RlKSB7XG4gIGlmIChub2RlLnBhcmVudE5vZGUgIT09IG51bGwpIHtcbiAgICByZXR1cm4gZ2V0Um9vdChub2RlLnBhcmVudE5vZGUpO1xuICB9XG5cbiAgcmV0dXJuIG5vZGU7XG59XG5cbi8qKlxuICogRmluZHMgdGhlIG9mZnNldCBwYXJlbnQgY29tbW9uIHRvIHRoZSB0d28gcHJvdmlkZWQgbm9kZXNcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudDFcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudDJcbiAqIEByZXR1cm5zIHtFbGVtZW50fSBjb21tb24gb2Zmc2V0IHBhcmVudFxuICovXG5mdW5jdGlvbiBmaW5kQ29tbW9uT2Zmc2V0UGFyZW50KGVsZW1lbnQxLCBlbGVtZW50Mikge1xuICAvLyBUaGlzIGNoZWNrIGlzIG5lZWRlZCB0byBhdm9pZCBlcnJvcnMgaW4gY2FzZSBvbmUgb2YgdGhlIGVsZW1lbnRzIGlzbid0IGRlZmluZWQgZm9yIGFueSByZWFzb25cbiAgaWYgKCFlbGVtZW50MSB8fCAhZWxlbWVudDEubm9kZVR5cGUgfHwgIWVsZW1lbnQyIHx8ICFlbGVtZW50Mi5ub2RlVHlwZSkge1xuICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIH1cblxuICAvLyBIZXJlIHdlIG1ha2Ugc3VyZSB0byBnaXZlIGFzIFwic3RhcnRcIiB0aGUgZWxlbWVudCB0aGF0IGNvbWVzIGZpcnN0IGluIHRoZSBET01cbiAgdmFyIG9yZGVyID0gZWxlbWVudDEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZWxlbWVudDIpICYgTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9GT0xMT1dJTkc7XG4gIHZhciBzdGFydCA9IG9yZGVyID8gZWxlbWVudDEgOiBlbGVtZW50MjtcbiAgdmFyIGVuZCA9IG9yZGVyID8gZWxlbWVudDIgOiBlbGVtZW50MTtcblxuICAvLyBHZXQgY29tbW9uIGFuY2VzdG9yIGNvbnRhaW5lclxuICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICByYW5nZS5zZXRTdGFydChzdGFydCwgMCk7XG4gIHJhbmdlLnNldEVuZChlbmQsIDApO1xuICB2YXIgY29tbW9uQW5jZXN0b3JDb250YWluZXIgPSByYW5nZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtcblxuICAvLyBCb3RoIG5vZGVzIGFyZSBpbnNpZGUgI2RvY3VtZW50XG5cbiAgaWYgKGVsZW1lbnQxICE9PSBjb21tb25BbmNlc3RvckNvbnRhaW5lciAmJiBlbGVtZW50MiAhPT0gY29tbW9uQW5jZXN0b3JDb250YWluZXIgfHwgc3RhcnQuY29udGFpbnMoZW5kKSkge1xuICAgIGlmIChpc09mZnNldENvbnRhaW5lcihjb21tb25BbmNlc3RvckNvbnRhaW5lcikpIHtcbiAgICAgIHJldHVybiBjb21tb25BbmNlc3RvckNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0T2Zmc2V0UGFyZW50KGNvbW1vbkFuY2VzdG9yQ29udGFpbmVyKTtcbiAgfVxuXG4gIC8vIG9uZSBvZiB0aGUgbm9kZXMgaXMgaW5zaWRlIHNoYWRvd0RPTSwgZmluZCB3aGljaCBvbmVcbiAgdmFyIGVsZW1lbnQxcm9vdCA9IGdldFJvb3QoZWxlbWVudDEpO1xuICBpZiAoZWxlbWVudDFyb290Lmhvc3QpIHtcbiAgICByZXR1cm4gZmluZENvbW1vbk9mZnNldFBhcmVudChlbGVtZW50MXJvb3QuaG9zdCwgZWxlbWVudDIpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmaW5kQ29tbW9uT2Zmc2V0UGFyZW50KGVsZW1lbnQxLCBnZXRSb290KGVsZW1lbnQyKS5ob3N0KTtcbiAgfVxufVxuXG4vKipcbiAqIEdldHMgdGhlIHNjcm9sbCB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudCBpbiB0aGUgZ2l2ZW4gc2lkZSAodG9wIGFuZCBsZWZ0KVxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50XG4gKiBAYXJndW1lbnQge1N0cmluZ30gc2lkZSBgdG9wYCBvciBgbGVmdGBcbiAqIEByZXR1cm5zIHtudW1iZXJ9IGFtb3VudCBvZiBzY3JvbGxlZCBwaXhlbHNcbiAqL1xuZnVuY3Rpb24gZ2V0U2Nyb2xsKGVsZW1lbnQpIHtcbiAgdmFyIHNpZGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICd0b3AnO1xuXG4gIHZhciB1cHBlclNpZGUgPSBzaWRlID09PSAndG9wJyA/ICdzY3JvbGxUb3AnIDogJ3Njcm9sbExlZnQnO1xuICB2YXIgbm9kZU5hbWUgPSBlbGVtZW50Lm5vZGVOYW1lO1xuXG4gIGlmIChub2RlTmFtZSA9PT0gJ0JPRFknIHx8IG5vZGVOYW1lID09PSAnSFRNTCcpIHtcbiAgICB2YXIgaHRtbCA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgdmFyIHNjcm9sbGluZ0VsZW1lbnQgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudCB8fCBodG1sO1xuICAgIHJldHVybiBzY3JvbGxpbmdFbGVtZW50W3VwcGVyU2lkZV07XG4gIH1cblxuICByZXR1cm4gZWxlbWVudFt1cHBlclNpZGVdO1xufVxuXG4vKlxuICogU3VtIG9yIHN1YnRyYWN0IHRoZSBlbGVtZW50IHNjcm9sbCB2YWx1ZXMgKGxlZnQgYW5kIHRvcCkgZnJvbSBhIGdpdmVuIHJlY3Qgb2JqZWN0XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge09iamVjdH0gcmVjdCAtIFJlY3Qgb2JqZWN0IHlvdSB3YW50IHRvIGNoYW5nZVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIFRoZSBlbGVtZW50IGZyb20gdGhlIGZ1bmN0aW9uIHJlYWRzIHRoZSBzY3JvbGwgdmFsdWVzXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHN1YnRyYWN0IC0gc2V0IHRvIHRydWUgaWYgeW91IHdhbnQgdG8gc3VidHJhY3QgdGhlIHNjcm9sbCB2YWx1ZXNcbiAqIEByZXR1cm4ge09iamVjdH0gcmVjdCAtIFRoZSBtb2RpZmllciByZWN0IG9iamVjdFxuICovXG5mdW5jdGlvbiBpbmNsdWRlU2Nyb2xsKHJlY3QsIGVsZW1lbnQpIHtcbiAgdmFyIHN1YnRyYWN0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcblxuICB2YXIgc2Nyb2xsVG9wID0gZ2V0U2Nyb2xsKGVsZW1lbnQsICd0b3AnKTtcbiAgdmFyIHNjcm9sbExlZnQgPSBnZXRTY3JvbGwoZWxlbWVudCwgJ2xlZnQnKTtcbiAgdmFyIG1vZGlmaWVyID0gc3VidHJhY3QgPyAtMSA6IDE7XG4gIHJlY3QudG9wICs9IHNjcm9sbFRvcCAqIG1vZGlmaWVyO1xuICByZWN0LmJvdHRvbSArPSBzY3JvbGxUb3AgKiBtb2RpZmllcjtcbiAgcmVjdC5sZWZ0ICs9IHNjcm9sbExlZnQgKiBtb2RpZmllcjtcbiAgcmVjdC5yaWdodCArPSBzY3JvbGxMZWZ0ICogbW9kaWZpZXI7XG4gIHJldHVybiByZWN0O1xufVxuXG4vKlxuICogSGVscGVyIHRvIGRldGVjdCBib3JkZXJzIG9mIGEgZ2l2ZW4gZWxlbWVudFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHBhcmFtIHtDU1NTdHlsZURlY2xhcmF0aW9ufSBzdHlsZXNcbiAqIFJlc3VsdCBvZiBgZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5YCBvbiB0aGUgZ2l2ZW4gZWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IGF4aXMgLSBgeGAgb3IgYHlgXG4gKiBAcmV0dXJuIHtudW1iZXJ9IGJvcmRlcnMgLSBUaGUgYm9yZGVycyBzaXplIG9mIHRoZSBnaXZlbiBheGlzXG4gKi9cblxuZnVuY3Rpb24gZ2V0Qm9yZGVyc1NpemUoc3R5bGVzLCBheGlzKSB7XG4gIHZhciBzaWRlQSA9IGF4aXMgPT09ICd4JyA/ICdMZWZ0JyA6ICdUb3AnO1xuICB2YXIgc2lkZUIgPSBzaWRlQSA9PT0gJ0xlZnQnID8gJ1JpZ2h0JyA6ICdCb3R0b20nO1xuXG4gIHJldHVybiBwYXJzZUZsb2F0KHN0eWxlc1snYm9yZGVyJyArIHNpZGVBICsgJ1dpZHRoJ10sIDEwKSArIHBhcnNlRmxvYXQoc3R5bGVzWydib3JkZXInICsgc2lkZUIgKyAnV2lkdGgnXSwgMTApO1xufVxuXG5mdW5jdGlvbiBnZXRTaXplKGF4aXMsIGJvZHksIGh0bWwsIGNvbXB1dGVkU3R5bGUpIHtcbiAgcmV0dXJuIE1hdGgubWF4KGJvZHlbJ29mZnNldCcgKyBheGlzXSwgYm9keVsnc2Nyb2xsJyArIGF4aXNdLCBodG1sWydjbGllbnQnICsgYXhpc10sIGh0bWxbJ29mZnNldCcgKyBheGlzXSwgaHRtbFsnc2Nyb2xsJyArIGF4aXNdLCBpc0lFJDEoMTApID8gaHRtbFsnb2Zmc2V0JyArIGF4aXNdICsgY29tcHV0ZWRTdHlsZVsnbWFyZ2luJyArIChheGlzID09PSAnSGVpZ2h0JyA/ICdUb3AnIDogJ0xlZnQnKV0gKyBjb21wdXRlZFN0eWxlWydtYXJnaW4nICsgKGF4aXMgPT09ICdIZWlnaHQnID8gJ0JvdHRvbScgOiAnUmlnaHQnKV0gOiAwKTtcbn1cblxuZnVuY3Rpb24gZ2V0V2luZG93U2l6ZXMoKSB7XG4gIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgdmFyIGh0bWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIHZhciBjb21wdXRlZFN0eWxlID0gaXNJRSQxKDEwKSAmJiBnZXRDb21wdXRlZFN0eWxlKGh0bWwpO1xuXG4gIHJldHVybiB7XG4gICAgaGVpZ2h0OiBnZXRTaXplKCdIZWlnaHQnLCBib2R5LCBodG1sLCBjb21wdXRlZFN0eWxlKSxcbiAgICB3aWR0aDogZ2V0U2l6ZSgnV2lkdGgnLCBib2R5LCBodG1sLCBjb21wdXRlZFN0eWxlKVxuICB9O1xufVxuXG52YXIgY2xhc3NDYWxsQ2hlY2skMSA9IGZ1bmN0aW9uIGNsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn07XG5cbnZhciBjcmVhdGVDbGFzcyQxID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9O1xufSgpO1xuXG52YXIgZGVmaW5lUHJvcGVydHkkMSA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59O1xuXG52YXIgX2V4dGVuZHMkMSA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59O1xuXG4vKipcbiAqIEdpdmVuIGVsZW1lbnQgb2Zmc2V0cywgZ2VuZXJhdGUgYW4gb3V0cHV0IHNpbWlsYXIgdG8gZ2V0Qm91bmRpbmdDbGllbnRSZWN0XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge09iamVjdH0gb2Zmc2V0c1xuICogQHJldHVybnMge09iamVjdH0gQ2xpZW50UmVjdCBsaWtlIG91dHB1dFxuICovXG5mdW5jdGlvbiBnZXRDbGllbnRSZWN0KG9mZnNldHMpIHtcbiAgcmV0dXJuIF9leHRlbmRzJDEoe30sIG9mZnNldHMsIHtcbiAgICByaWdodDogb2Zmc2V0cy5sZWZ0ICsgb2Zmc2V0cy53aWR0aCxcbiAgICBib3R0b206IG9mZnNldHMudG9wICsgb2Zmc2V0cy5oZWlnaHRcbiAgfSk7XG59XG5cbi8qKlxuICogR2V0IGJvdW5kaW5nIGNsaWVudCByZWN0IG9mIGdpdmVuIGVsZW1lbnRcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm4ge09iamVjdH0gY2xpZW50IHJlY3RcbiAqL1xuZnVuY3Rpb24gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQpIHtcbiAgdmFyIHJlY3QgPSB7fTtcblxuICAvLyBJRTEwIDEwIEZJWDogUGxlYXNlLCBkb24ndCBhc2ssIHRoZSBlbGVtZW50IGlzbid0XG4gIC8vIGNvbnNpZGVyZWQgaW4gRE9NIGluIHNvbWUgY2lyY3Vtc3RhbmNlcy4uLlxuICAvLyBUaGlzIGlzbid0IHJlcHJvZHVjaWJsZSBpbiBJRTEwIGNvbXBhdGliaWxpdHkgbW9kZSBvZiBJRTExXG4gIHRyeSB7XG4gICAgaWYgKGlzSUUkMSgxMCkpIHtcbiAgICAgIHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdmFyIHNjcm9sbFRvcCA9IGdldFNjcm9sbChlbGVtZW50LCAndG9wJyk7XG4gICAgICB2YXIgc2Nyb2xsTGVmdCA9IGdldFNjcm9sbChlbGVtZW50LCAnbGVmdCcpO1xuICAgICAgcmVjdC50b3AgKz0gc2Nyb2xsVG9wO1xuICAgICAgcmVjdC5sZWZ0ICs9IHNjcm9sbExlZnQ7XG4gICAgICByZWN0LmJvdHRvbSArPSBzY3JvbGxUb3A7XG4gICAgICByZWN0LnJpZ2h0ICs9IHNjcm9sbExlZnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge31cblxuICB2YXIgcmVzdWx0ID0ge1xuICAgIGxlZnQ6IHJlY3QubGVmdCxcbiAgICB0b3A6IHJlY3QudG9wLFxuICAgIHdpZHRoOiByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0LFxuICAgIGhlaWdodDogcmVjdC5ib3R0b20gLSByZWN0LnRvcFxuICB9O1xuXG4gIC8vIHN1YnRyYWN0IHNjcm9sbGJhciBzaXplIGZyb20gc2l6ZXNcbiAgdmFyIHNpemVzID0gZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0hUTUwnID8gZ2V0V2luZG93U2l6ZXMoKSA6IHt9O1xuICB2YXIgd2lkdGggPSBzaXplcy53aWR0aCB8fCBlbGVtZW50LmNsaWVudFdpZHRoIHx8IHJlc3VsdC5yaWdodCAtIHJlc3VsdC5sZWZ0O1xuICB2YXIgaGVpZ2h0ID0gc2l6ZXMuaGVpZ2h0IHx8IGVsZW1lbnQuY2xpZW50SGVpZ2h0IHx8IHJlc3VsdC5ib3R0b20gLSByZXN1bHQudG9wO1xuXG4gIHZhciBob3JpelNjcm9sbGJhciA9IGVsZW1lbnQub2Zmc2V0V2lkdGggLSB3aWR0aDtcbiAgdmFyIHZlcnRTY3JvbGxiYXIgPSBlbGVtZW50Lm9mZnNldEhlaWdodCAtIGhlaWdodDtcblxuICAvLyBpZiBhbiBoeXBvdGhldGljYWwgc2Nyb2xsYmFyIGlzIGRldGVjdGVkLCB3ZSBtdXN0IGJlIHN1cmUgaXQncyBub3QgYSBgYm9yZGVyYFxuICAvLyB3ZSBtYWtlIHRoaXMgY2hlY2sgY29uZGl0aW9uYWwgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnNcbiAgaWYgKGhvcml6U2Nyb2xsYmFyIHx8IHZlcnRTY3JvbGxiYXIpIHtcbiAgICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KGVsZW1lbnQpO1xuICAgIGhvcml6U2Nyb2xsYmFyIC09IGdldEJvcmRlcnNTaXplKHN0eWxlcywgJ3gnKTtcbiAgICB2ZXJ0U2Nyb2xsYmFyIC09IGdldEJvcmRlcnNTaXplKHN0eWxlcywgJ3knKTtcblxuICAgIHJlc3VsdC53aWR0aCAtPSBob3JpelNjcm9sbGJhcjtcbiAgICByZXN1bHQuaGVpZ2h0IC09IHZlcnRTY3JvbGxiYXI7XG4gIH1cblxuICByZXR1cm4gZ2V0Q2xpZW50UmVjdChyZXN1bHQpO1xufVxuXG5mdW5jdGlvbiBnZXRPZmZzZXRSZWN0UmVsYXRpdmVUb0FyYml0cmFyeU5vZGUoY2hpbGRyZW4sIHBhcmVudCkge1xuICB2YXIgZml4ZWRQb3NpdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XG5cbiAgdmFyIGlzSUUxMCA9IGlzSUUkMSgxMCk7XG4gIHZhciBpc0hUTUwgPSBwYXJlbnQubm9kZU5hbWUgPT09ICdIVE1MJztcbiAgdmFyIGNoaWxkcmVuUmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChjaGlsZHJlbik7XG4gIHZhciBwYXJlbnRSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KHBhcmVudCk7XG4gIHZhciBzY3JvbGxQYXJlbnQgPSBnZXRTY3JvbGxQYXJlbnQoY2hpbGRyZW4pO1xuXG4gIHZhciBzdHlsZXMgPSBnZXRTdHlsZUNvbXB1dGVkUHJvcGVydHkocGFyZW50KTtcbiAgdmFyIGJvcmRlclRvcFdpZHRoID0gcGFyc2VGbG9hdChzdHlsZXMuYm9yZGVyVG9wV2lkdGgsIDEwKTtcbiAgdmFyIGJvcmRlckxlZnRXaWR0aCA9IHBhcnNlRmxvYXQoc3R5bGVzLmJvcmRlckxlZnRXaWR0aCwgMTApO1xuXG4gIC8vIEluIGNhc2VzIHdoZXJlIHRoZSBwYXJlbnQgaXMgZml4ZWQsIHdlIG11c3QgaWdub3JlIG5lZ2F0aXZlIHNjcm9sbCBpbiBvZmZzZXQgY2FsY1xuICBpZiAoZml4ZWRQb3NpdGlvbiAmJiBwYXJlbnQubm9kZU5hbWUgPT09ICdIVE1MJykge1xuICAgIHBhcmVudFJlY3QudG9wID0gTWF0aC5tYXgocGFyZW50UmVjdC50b3AsIDApO1xuICAgIHBhcmVudFJlY3QubGVmdCA9IE1hdGgubWF4KHBhcmVudFJlY3QubGVmdCwgMCk7XG4gIH1cbiAgdmFyIG9mZnNldHMgPSBnZXRDbGllbnRSZWN0KHtcbiAgICB0b3A6IGNoaWxkcmVuUmVjdC50b3AgLSBwYXJlbnRSZWN0LnRvcCAtIGJvcmRlclRvcFdpZHRoLFxuICAgIGxlZnQ6IGNoaWxkcmVuUmVjdC5sZWZ0IC0gcGFyZW50UmVjdC5sZWZ0IC0gYm9yZGVyTGVmdFdpZHRoLFxuICAgIHdpZHRoOiBjaGlsZHJlblJlY3Qud2lkdGgsXG4gICAgaGVpZ2h0OiBjaGlsZHJlblJlY3QuaGVpZ2h0XG4gIH0pO1xuICBvZmZzZXRzLm1hcmdpblRvcCA9IDA7XG4gIG9mZnNldHMubWFyZ2luTGVmdCA9IDA7XG5cbiAgLy8gU3VidHJhY3QgbWFyZ2lucyBvZiBkb2N1bWVudEVsZW1lbnQgaW4gY2FzZSBpdCdzIGJlaW5nIHVzZWQgYXMgcGFyZW50XG4gIC8vIHdlIGRvIHRoaXMgb25seSBvbiBIVE1MIGJlY2F1c2UgaXQncyB0aGUgb25seSBlbGVtZW50IHRoYXQgYmVoYXZlc1xuICAvLyBkaWZmZXJlbnRseSB3aGVuIG1hcmdpbnMgYXJlIGFwcGxpZWQgdG8gaXQuIFRoZSBtYXJnaW5zIGFyZSBpbmNsdWRlZCBpblxuICAvLyB0aGUgYm94IG9mIHRoZSBkb2N1bWVudEVsZW1lbnQsIGluIHRoZSBvdGhlciBjYXNlcyBub3QuXG4gIGlmICghaXNJRTEwICYmIGlzSFRNTCkge1xuICAgIHZhciBtYXJnaW5Ub3AgPSBwYXJzZUZsb2F0KHN0eWxlcy5tYXJnaW5Ub3AsIDEwKTtcbiAgICB2YXIgbWFyZ2luTGVmdCA9IHBhcnNlRmxvYXQoc3R5bGVzLm1hcmdpbkxlZnQsIDEwKTtcblxuICAgIG9mZnNldHMudG9wIC09IGJvcmRlclRvcFdpZHRoIC0gbWFyZ2luVG9wO1xuICAgIG9mZnNldHMuYm90dG9tIC09IGJvcmRlclRvcFdpZHRoIC0gbWFyZ2luVG9wO1xuICAgIG9mZnNldHMubGVmdCAtPSBib3JkZXJMZWZ0V2lkdGggLSBtYXJnaW5MZWZ0O1xuICAgIG9mZnNldHMucmlnaHQgLT0gYm9yZGVyTGVmdFdpZHRoIC0gbWFyZ2luTGVmdDtcblxuICAgIC8vIEF0dGFjaCBtYXJnaW5Ub3AgYW5kIG1hcmdpbkxlZnQgYmVjYXVzZSBpbiBzb21lIGNpcmN1bXN0YW5jZXMgd2UgbWF5IG5lZWQgdGhlbVxuICAgIG9mZnNldHMubWFyZ2luVG9wID0gbWFyZ2luVG9wO1xuICAgIG9mZnNldHMubWFyZ2luTGVmdCA9IG1hcmdpbkxlZnQ7XG4gIH1cblxuICBpZiAoaXNJRTEwICYmICFmaXhlZFBvc2l0aW9uID8gcGFyZW50LmNvbnRhaW5zKHNjcm9sbFBhcmVudCkgOiBwYXJlbnQgPT09IHNjcm9sbFBhcmVudCAmJiBzY3JvbGxQYXJlbnQubm9kZU5hbWUgIT09ICdCT0RZJykge1xuICAgIG9mZnNldHMgPSBpbmNsdWRlU2Nyb2xsKG9mZnNldHMsIHBhcmVudCk7XG4gIH1cblxuICByZXR1cm4gb2Zmc2V0cztcbn1cblxuZnVuY3Rpb24gZ2V0Vmlld3BvcnRPZmZzZXRSZWN0UmVsYXRpdmVUb0FydGJpdHJhcnlOb2RlKGVsZW1lbnQpIHtcbiAgdmFyIGV4Y2x1ZGVTY3JvbGwgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuXG4gIHZhciBodG1sID0gZWxlbWVudC5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgdmFyIHJlbGF0aXZlT2Zmc2V0ID0gZ2V0T2Zmc2V0UmVjdFJlbGF0aXZlVG9BcmJpdHJhcnlOb2RlKGVsZW1lbnQsIGh0bWwpO1xuICB2YXIgd2lkdGggPSBNYXRoLm1heChodG1sLmNsaWVudFdpZHRoLCB3aW5kb3cuaW5uZXJXaWR0aCB8fCAwKTtcbiAgdmFyIGhlaWdodCA9IE1hdGgubWF4KGh0bWwuY2xpZW50SGVpZ2h0LCB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgMCk7XG5cbiAgdmFyIHNjcm9sbFRvcCA9ICFleGNsdWRlU2Nyb2xsID8gZ2V0U2Nyb2xsKGh0bWwpIDogMDtcbiAgdmFyIHNjcm9sbExlZnQgPSAhZXhjbHVkZVNjcm9sbCA/IGdldFNjcm9sbChodG1sLCAnbGVmdCcpIDogMDtcblxuICB2YXIgb2Zmc2V0ID0ge1xuICAgIHRvcDogc2Nyb2xsVG9wIC0gcmVsYXRpdmVPZmZzZXQudG9wICsgcmVsYXRpdmVPZmZzZXQubWFyZ2luVG9wLFxuICAgIGxlZnQ6IHNjcm9sbExlZnQgLSByZWxhdGl2ZU9mZnNldC5sZWZ0ICsgcmVsYXRpdmVPZmZzZXQubWFyZ2luTGVmdCxcbiAgICB3aWR0aDogd2lkdGgsXG4gICAgaGVpZ2h0OiBoZWlnaHRcbiAgfTtcblxuICByZXR1cm4gZ2V0Q2xpZW50UmVjdChvZmZzZXQpO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBnaXZlbiBlbGVtZW50IGlzIGZpeGVkIG9yIGlzIGluc2lkZSBhIGZpeGVkIHBhcmVudFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50XG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGN1c3RvbUNvbnRhaW5lclxuICogQHJldHVybnMge0Jvb2xlYW59IGFuc3dlciB0byBcImlzRml4ZWQ/XCJcbiAqL1xuZnVuY3Rpb24gaXNGaXhlZChlbGVtZW50KSB7XG4gIHZhciBub2RlTmFtZSA9IGVsZW1lbnQubm9kZU5hbWU7XG4gIGlmIChub2RlTmFtZSA9PT0gJ0JPRFknIHx8IG5vZGVOYW1lID09PSAnSFRNTCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShlbGVtZW50LCAncG9zaXRpb24nKSA9PT0gJ2ZpeGVkJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBpc0ZpeGVkKGdldFBhcmVudE5vZGUoZWxlbWVudCkpO1xufVxuXG4vKipcbiAqIEZpbmRzIHRoZSBmaXJzdCBwYXJlbnQgb2YgYW4gZWxlbWVudCB0aGF0IGhhcyBhIHRyYW5zZm9ybWVkIHByb3BlcnR5IGRlZmluZWRcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybnMge0VsZW1lbnR9IGZpcnN0IHRyYW5zZm9ybWVkIHBhcmVudCBvciBkb2N1bWVudEVsZW1lbnRcbiAqL1xuXG5mdW5jdGlvbiBnZXRGaXhlZFBvc2l0aW9uT2Zmc2V0UGFyZW50KGVsZW1lbnQpIHtcbiAgLy8gVGhpcyBjaGVjayBpcyBuZWVkZWQgdG8gYXZvaWQgZXJyb3JzIGluIGNhc2Ugb25lIG9mIHRoZSBlbGVtZW50cyBpc24ndCBkZWZpbmVkIGZvciBhbnkgcmVhc29uXG4gIGlmICghZWxlbWVudCB8fCAhZWxlbWVudC5wYXJlbnRFbGVtZW50IHx8IGlzSUUkMSgpKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgfVxuICB2YXIgZWwgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gIHdoaWxlIChlbCAmJiBnZXRTdHlsZUNvbXB1dGVkUHJvcGVydHkoZWwsICd0cmFuc2Zvcm0nKSA9PT0gJ25vbmUnKSB7XG4gICAgZWwgPSBlbC5wYXJlbnRFbGVtZW50O1xuICB9XG4gIHJldHVybiBlbCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG59XG5cbi8qKlxuICogQ29tcHV0ZWQgdGhlIGJvdW5kYXJpZXMgbGltaXRzIGFuZCByZXR1cm4gdGhlbVxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcG9wcGVyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSByZWZlcmVuY2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBwYWRkaW5nXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBib3VuZGFyaWVzRWxlbWVudCAtIEVsZW1lbnQgdXNlZCB0byBkZWZpbmUgdGhlIGJvdW5kYXJpZXNcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gZml4ZWRQb3NpdGlvbiAtIElzIGluIGZpeGVkIHBvc2l0aW9uIG1vZGVcbiAqIEByZXR1cm5zIHtPYmplY3R9IENvb3JkaW5hdGVzIG9mIHRoZSBib3VuZGFyaWVzXG4gKi9cbmZ1bmN0aW9uIGdldEJvdW5kYXJpZXMocG9wcGVyLCByZWZlcmVuY2UsIHBhZGRpbmcsIGJvdW5kYXJpZXNFbGVtZW50KSB7XG4gIHZhciBmaXhlZFBvc2l0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiBmYWxzZTtcblxuICAvLyBOT1RFOiAxIERPTSBhY2Nlc3MgaGVyZVxuXG4gIHZhciBib3VuZGFyaWVzID0geyB0b3A6IDAsIGxlZnQ6IDAgfTtcbiAgdmFyIG9mZnNldFBhcmVudCA9IGZpeGVkUG9zaXRpb24gPyBnZXRGaXhlZFBvc2l0aW9uT2Zmc2V0UGFyZW50KHBvcHBlcikgOiBmaW5kQ29tbW9uT2Zmc2V0UGFyZW50KHBvcHBlciwgcmVmZXJlbmNlKTtcblxuICAvLyBIYW5kbGUgdmlld3BvcnQgY2FzZVxuICBpZiAoYm91bmRhcmllc0VsZW1lbnQgPT09ICd2aWV3cG9ydCcpIHtcbiAgICBib3VuZGFyaWVzID0gZ2V0Vmlld3BvcnRPZmZzZXRSZWN0UmVsYXRpdmVUb0FydGJpdHJhcnlOb2RlKG9mZnNldFBhcmVudCwgZml4ZWRQb3NpdGlvbik7XG4gIH0gZWxzZSB7XG4gICAgLy8gSGFuZGxlIG90aGVyIGNhc2VzIGJhc2VkIG9uIERPTSBlbGVtZW50IHVzZWQgYXMgYm91bmRhcmllc1xuICAgIHZhciBib3VuZGFyaWVzTm9kZSA9IHZvaWQgMDtcbiAgICBpZiAoYm91bmRhcmllc0VsZW1lbnQgPT09ICdzY3JvbGxQYXJlbnQnKSB7XG4gICAgICBib3VuZGFyaWVzTm9kZSA9IGdldFNjcm9sbFBhcmVudChnZXRQYXJlbnROb2RlKHJlZmVyZW5jZSkpO1xuICAgICAgaWYgKGJvdW5kYXJpZXNOb2RlLm5vZGVOYW1lID09PSAnQk9EWScpIHtcbiAgICAgICAgYm91bmRhcmllc05vZGUgPSBwb3BwZXIub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChib3VuZGFyaWVzRWxlbWVudCA9PT0gJ3dpbmRvdycpIHtcbiAgICAgIGJvdW5kYXJpZXNOb2RlID0gcG9wcGVyLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBib3VuZGFyaWVzTm9kZSA9IGJvdW5kYXJpZXNFbGVtZW50O1xuICAgIH1cblxuICAgIHZhciBvZmZzZXRzID0gZ2V0T2Zmc2V0UmVjdFJlbGF0aXZlVG9BcmJpdHJhcnlOb2RlKGJvdW5kYXJpZXNOb2RlLCBvZmZzZXRQYXJlbnQsIGZpeGVkUG9zaXRpb24pO1xuXG4gICAgLy8gSW4gY2FzZSBvZiBIVE1MLCB3ZSBuZWVkIGEgZGlmZmVyZW50IGNvbXB1dGF0aW9uXG4gICAgaWYgKGJvdW5kYXJpZXNOb2RlLm5vZGVOYW1lID09PSAnSFRNTCcgJiYgIWlzRml4ZWQob2Zmc2V0UGFyZW50KSkge1xuICAgICAgdmFyIF9nZXRXaW5kb3dTaXplcyA9IGdldFdpbmRvd1NpemVzKCksXG4gICAgICAgICAgaGVpZ2h0ID0gX2dldFdpbmRvd1NpemVzLmhlaWdodCxcbiAgICAgICAgICB3aWR0aCA9IF9nZXRXaW5kb3dTaXplcy53aWR0aDtcblxuICAgICAgYm91bmRhcmllcy50b3AgKz0gb2Zmc2V0cy50b3AgLSBvZmZzZXRzLm1hcmdpblRvcDtcbiAgICAgIGJvdW5kYXJpZXMuYm90dG9tID0gaGVpZ2h0ICsgb2Zmc2V0cy50b3A7XG4gICAgICBib3VuZGFyaWVzLmxlZnQgKz0gb2Zmc2V0cy5sZWZ0IC0gb2Zmc2V0cy5tYXJnaW5MZWZ0O1xuICAgICAgYm91bmRhcmllcy5yaWdodCA9IHdpZHRoICsgb2Zmc2V0cy5sZWZ0O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBmb3IgYWxsIHRoZSBvdGhlciBET00gZWxlbWVudHMsIHRoaXMgb25lIGlzIGdvb2RcbiAgICAgIGJvdW5kYXJpZXMgPSBvZmZzZXRzO1xuICAgIH1cbiAgfVxuXG4gIC8vIEFkZCBwYWRkaW5nc1xuICBib3VuZGFyaWVzLmxlZnQgKz0gcGFkZGluZztcbiAgYm91bmRhcmllcy50b3AgKz0gcGFkZGluZztcbiAgYm91bmRhcmllcy5yaWdodCAtPSBwYWRkaW5nO1xuICBib3VuZGFyaWVzLmJvdHRvbSAtPSBwYWRkaW5nO1xuXG4gIHJldHVybiBib3VuZGFyaWVzO1xufVxuXG5mdW5jdGlvbiBnZXRBcmVhKF9yZWYpIHtcbiAgdmFyIHdpZHRoID0gX3JlZi53aWR0aCxcbiAgICAgIGhlaWdodCA9IF9yZWYuaGVpZ2h0O1xuXG4gIHJldHVybiB3aWR0aCAqIGhlaWdodDtcbn1cblxuLyoqXG4gKiBVdGlsaXR5IHVzZWQgdG8gdHJhbnNmb3JtIHRoZSBgYXV0b2AgcGxhY2VtZW50IHRvIHRoZSBwbGFjZW1lbnQgd2l0aCBtb3JlXG4gKiBhdmFpbGFibGUgc3BhY2UuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgdXBkYXRlIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBjb21wdXRlQXV0b1BsYWNlbWVudChwbGFjZW1lbnQsIHJlZlJlY3QsIHBvcHBlciwgcmVmZXJlbmNlLCBib3VuZGFyaWVzRWxlbWVudCkge1xuICB2YXIgcGFkZGluZyA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ICYmIGFyZ3VtZW50c1s1XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzVdIDogMDtcblxuICBpZiAocGxhY2VtZW50LmluZGV4T2YoJ2F1dG8nKSA9PT0gLTEpIHtcbiAgICByZXR1cm4gcGxhY2VtZW50O1xuICB9XG5cbiAgdmFyIGJvdW5kYXJpZXMgPSBnZXRCb3VuZGFyaWVzKHBvcHBlciwgcmVmZXJlbmNlLCBwYWRkaW5nLCBib3VuZGFyaWVzRWxlbWVudCk7XG5cbiAgdmFyIHJlY3RzID0ge1xuICAgIHRvcDoge1xuICAgICAgd2lkdGg6IGJvdW5kYXJpZXMud2lkdGgsXG4gICAgICBoZWlnaHQ6IHJlZlJlY3QudG9wIC0gYm91bmRhcmllcy50b3BcbiAgICB9LFxuICAgIHJpZ2h0OiB7XG4gICAgICB3aWR0aDogYm91bmRhcmllcy5yaWdodCAtIHJlZlJlY3QucmlnaHQsXG4gICAgICBoZWlnaHQ6IGJvdW5kYXJpZXMuaGVpZ2h0XG4gICAgfSxcbiAgICBib3R0b206IHtcbiAgICAgIHdpZHRoOiBib3VuZGFyaWVzLndpZHRoLFxuICAgICAgaGVpZ2h0OiBib3VuZGFyaWVzLmJvdHRvbSAtIHJlZlJlY3QuYm90dG9tXG4gICAgfSxcbiAgICBsZWZ0OiB7XG4gICAgICB3aWR0aDogcmVmUmVjdC5sZWZ0IC0gYm91bmRhcmllcy5sZWZ0LFxuICAgICAgaGVpZ2h0OiBib3VuZGFyaWVzLmhlaWdodFxuICAgIH1cbiAgfTtcblxuICB2YXIgc29ydGVkQXJlYXMgPSBPYmplY3Qua2V5cyhyZWN0cykubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gX2V4dGVuZHMkMSh7XG4gICAgICBrZXk6IGtleVxuICAgIH0sIHJlY3RzW2tleV0sIHtcbiAgICAgIGFyZWE6IGdldEFyZWEocmVjdHNba2V5XSlcbiAgICB9KTtcbiAgfSkuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBiLmFyZWEgLSBhLmFyZWE7XG4gIH0pO1xuXG4gIHZhciBmaWx0ZXJlZEFyZWFzID0gc29ydGVkQXJlYXMuZmlsdGVyKGZ1bmN0aW9uIChfcmVmMikge1xuICAgIHZhciB3aWR0aCA9IF9yZWYyLndpZHRoLFxuICAgICAgICBoZWlnaHQgPSBfcmVmMi5oZWlnaHQ7XG4gICAgcmV0dXJuIHdpZHRoID49IHBvcHBlci5jbGllbnRXaWR0aCAmJiBoZWlnaHQgPj0gcG9wcGVyLmNsaWVudEhlaWdodDtcbiAgfSk7XG5cbiAgdmFyIGNvbXB1dGVkUGxhY2VtZW50ID0gZmlsdGVyZWRBcmVhcy5sZW5ndGggPiAwID8gZmlsdGVyZWRBcmVhc1swXS5rZXkgOiBzb3J0ZWRBcmVhc1swXS5rZXk7XG5cbiAgdmFyIHZhcmlhdGlvbiA9IHBsYWNlbWVudC5zcGxpdCgnLScpWzFdO1xuXG4gIHJldHVybiBjb21wdXRlZFBsYWNlbWVudCArICh2YXJpYXRpb24gPyAnLScgKyB2YXJpYXRpb24gOiAnJyk7XG59XG5cbi8qKlxuICogR2V0IG9mZnNldHMgdG8gdGhlIHJlZmVyZW5jZSBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhdGVcbiAqIEBwYXJhbSB7RWxlbWVudH0gcG9wcGVyIC0gdGhlIHBvcHBlciBlbGVtZW50XG4gKiBAcGFyYW0ge0VsZW1lbnR9IHJlZmVyZW5jZSAtIHRoZSByZWZlcmVuY2UgZWxlbWVudCAodGhlIHBvcHBlciB3aWxsIGJlIHJlbGF0aXZlIHRvIHRoaXMpXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGZpeGVkUG9zaXRpb24gLSBpcyBpbiBmaXhlZCBwb3NpdGlvbiBtb2RlXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgb2Zmc2V0cyB3aGljaCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlclxuICovXG5mdW5jdGlvbiBnZXRSZWZlcmVuY2VPZmZzZXRzKHN0YXRlLCBwb3BwZXIsIHJlZmVyZW5jZSkge1xuICB2YXIgZml4ZWRQb3NpdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogbnVsbDtcblxuICB2YXIgY29tbW9uT2Zmc2V0UGFyZW50ID0gZml4ZWRQb3NpdGlvbiA/IGdldEZpeGVkUG9zaXRpb25PZmZzZXRQYXJlbnQocG9wcGVyKSA6IGZpbmRDb21tb25PZmZzZXRQYXJlbnQocG9wcGVyLCByZWZlcmVuY2UpO1xuICByZXR1cm4gZ2V0T2Zmc2V0UmVjdFJlbGF0aXZlVG9BcmJpdHJhcnlOb2RlKHJlZmVyZW5jZSwgY29tbW9uT2Zmc2V0UGFyZW50LCBmaXhlZFBvc2l0aW9uKTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIG91dGVyIHNpemVzIG9mIHRoZSBnaXZlbiBlbGVtZW50IChvZmZzZXQgc2l6ZSArIG1hcmdpbnMpXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtPYmplY3R9IG9iamVjdCBjb250YWluaW5nIHdpZHRoIGFuZCBoZWlnaHQgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBnZXRPdXRlclNpemVzKGVsZW1lbnQpIHtcbiAgdmFyIHN0eWxlcyA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gIHZhciB4ID0gcGFyc2VGbG9hdChzdHlsZXMubWFyZ2luVG9wKSArIHBhcnNlRmxvYXQoc3R5bGVzLm1hcmdpbkJvdHRvbSk7XG4gIHZhciB5ID0gcGFyc2VGbG9hdChzdHlsZXMubWFyZ2luTGVmdCkgKyBwYXJzZUZsb2F0KHN0eWxlcy5tYXJnaW5SaWdodCk7XG4gIHZhciByZXN1bHQgPSB7XG4gICAgd2lkdGg6IGVsZW1lbnQub2Zmc2V0V2lkdGggKyB5LFxuICAgIGhlaWdodDogZWxlbWVudC5vZmZzZXRIZWlnaHQgKyB4XG4gIH07XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0IHRoZSBvcHBvc2l0ZSBwbGFjZW1lbnQgb2YgdGhlIGdpdmVuIG9uZVxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtTdHJpbmd9IHBsYWNlbWVudFxuICogQHJldHVybnMge1N0cmluZ30gZmxpcHBlZCBwbGFjZW1lbnRcbiAqL1xuZnVuY3Rpb24gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocGxhY2VtZW50KSB7XG4gIHZhciBoYXNoID0geyBsZWZ0OiAncmlnaHQnLCByaWdodDogJ2xlZnQnLCBib3R0b206ICd0b3AnLCB0b3A6ICdib3R0b20nIH07XG4gIHJldHVybiBwbGFjZW1lbnQucmVwbGFjZSgvbGVmdHxyaWdodHxib3R0b218dG9wL2csIGZ1bmN0aW9uIChtYXRjaGVkKSB7XG4gICAgcmV0dXJuIGhhc2hbbWF0Y2hlZF07XG4gIH0pO1xufVxuXG4vKipcbiAqIEdldCBvZmZzZXRzIHRvIHRoZSBwb3BwZXJcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBwb3NpdGlvbiAtIENTUyBwb3NpdGlvbiB0aGUgUG9wcGVyIHdpbGwgZ2V0IGFwcGxpZWRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBvcHBlciAtIHRoZSBwb3BwZXIgZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IHJlZmVyZW5jZU9mZnNldHMgLSB0aGUgcmVmZXJlbmNlIG9mZnNldHMgKHRoZSBwb3BwZXIgd2lsbCBiZSByZWxhdGl2ZSB0byB0aGlzKVxuICogQHBhcmFtIHtTdHJpbmd9IHBsYWNlbWVudCAtIG9uZSBvZiB0aGUgdmFsaWQgcGxhY2VtZW50IG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3R9IHBvcHBlck9mZnNldHMgLSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgb2Zmc2V0cyB3aGljaCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlclxuICovXG5mdW5jdGlvbiBnZXRQb3BwZXJPZmZzZXRzKHBvcHBlciwgcmVmZXJlbmNlT2Zmc2V0cywgcGxhY2VtZW50KSB7XG4gIHBsYWNlbWVudCA9IHBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuXG4gIC8vIEdldCBwb3BwZXIgbm9kZSBzaXplc1xuICB2YXIgcG9wcGVyUmVjdCA9IGdldE91dGVyU2l6ZXMocG9wcGVyKTtcblxuICAvLyBBZGQgcG9zaXRpb24sIHdpZHRoIGFuZCBoZWlnaHQgdG8gb3VyIG9mZnNldHMgb2JqZWN0XG4gIHZhciBwb3BwZXJPZmZzZXRzID0ge1xuICAgIHdpZHRoOiBwb3BwZXJSZWN0LndpZHRoLFxuICAgIGhlaWdodDogcG9wcGVyUmVjdC5oZWlnaHRcbiAgfTtcblxuICAvLyBkZXBlbmRpbmcgYnkgdGhlIHBvcHBlciBwbGFjZW1lbnQgd2UgaGF2ZSB0byBjb21wdXRlIGl0cyBvZmZzZXRzIHNsaWdodGx5IGRpZmZlcmVudGx5XG4gIHZhciBpc0hvcml6ID0gWydyaWdodCcsICdsZWZ0J10uaW5kZXhPZihwbGFjZW1lbnQpICE9PSAtMTtcbiAgdmFyIG1haW5TaWRlID0gaXNIb3JpeiA/ICd0b3AnIDogJ2xlZnQnO1xuICB2YXIgc2Vjb25kYXJ5U2lkZSA9IGlzSG9yaXogPyAnbGVmdCcgOiAndG9wJztcbiAgdmFyIG1lYXN1cmVtZW50ID0gaXNIb3JpeiA/ICdoZWlnaHQnIDogJ3dpZHRoJztcbiAgdmFyIHNlY29uZGFyeU1lYXN1cmVtZW50ID0gIWlzSG9yaXogPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG5cbiAgcG9wcGVyT2Zmc2V0c1ttYWluU2lkZV0gPSByZWZlcmVuY2VPZmZzZXRzW21haW5TaWRlXSArIHJlZmVyZW5jZU9mZnNldHNbbWVhc3VyZW1lbnRdIC8gMiAtIHBvcHBlclJlY3RbbWVhc3VyZW1lbnRdIC8gMjtcbiAgaWYgKHBsYWNlbWVudCA9PT0gc2Vjb25kYXJ5U2lkZSkge1xuICAgIHBvcHBlck9mZnNldHNbc2Vjb25kYXJ5U2lkZV0gPSByZWZlcmVuY2VPZmZzZXRzW3NlY29uZGFyeVNpZGVdIC0gcG9wcGVyUmVjdFtzZWNvbmRhcnlNZWFzdXJlbWVudF07XG4gIH0gZWxzZSB7XG4gICAgcG9wcGVyT2Zmc2V0c1tzZWNvbmRhcnlTaWRlXSA9IHJlZmVyZW5jZU9mZnNldHNbZ2V0T3Bwb3NpdGVQbGFjZW1lbnQoc2Vjb25kYXJ5U2lkZSldO1xuICB9XG5cbiAgcmV0dXJuIHBvcHBlck9mZnNldHM7XG59XG5cbi8qKlxuICogTWltaWNzIHRoZSBgZmluZGAgbWV0aG9kIG9mIEFycmF5XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0FycmF5fSBhcnJcbiAqIEBhcmd1bWVudCBwcm9wXG4gKiBAYXJndW1lbnQgdmFsdWVcbiAqIEByZXR1cm5zIGluZGV4IG9yIC0xXG4gKi9cbmZ1bmN0aW9uIGZpbmQoYXJyLCBjaGVjaykge1xuICAvLyB1c2UgbmF0aXZlIGZpbmQgaWYgc3VwcG9ydGVkXG4gIGlmIChBcnJheS5wcm90b3R5cGUuZmluZCkge1xuICAgIHJldHVybiBhcnIuZmluZChjaGVjayk7XG4gIH1cblxuICAvLyB1c2UgYGZpbHRlcmAgdG8gb2J0YWluIHRoZSBzYW1lIGJlaGF2aW9yIG9mIGBmaW5kYFxuICByZXR1cm4gYXJyLmZpbHRlcihjaGVjaylbMF07XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hpbmcgb2JqZWN0XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0FycmF5fSBhcnJcbiAqIEBhcmd1bWVudCBwcm9wXG4gKiBAYXJndW1lbnQgdmFsdWVcbiAqIEByZXR1cm5zIGluZGV4IG9yIC0xXG4gKi9cbmZ1bmN0aW9uIGZpbmRJbmRleChhcnIsIHByb3AsIHZhbHVlKSB7XG4gIC8vIHVzZSBuYXRpdmUgZmluZEluZGV4IGlmIHN1cHBvcnRlZFxuICBpZiAoQXJyYXkucHJvdG90eXBlLmZpbmRJbmRleCkge1xuICAgIHJldHVybiBhcnIuZmluZEluZGV4KGZ1bmN0aW9uIChjdXIpIHtcbiAgICAgIHJldHVybiBjdXJbcHJvcF0gPT09IHZhbHVlO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gdXNlIGBmaW5kYCArIGBpbmRleE9mYCBpZiBgZmluZEluZGV4YCBpc24ndCBzdXBwb3J0ZWRcbiAgdmFyIG1hdGNoID0gZmluZChhcnIsIGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gb2JqW3Byb3BdID09PSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiBhcnIuaW5kZXhPZihtYXRjaCk7XG59XG5cbi8qKlxuICogTG9vcCB0cm91Z2ggdGhlIGxpc3Qgb2YgbW9kaWZpZXJzIGFuZCBydW4gdGhlbSBpbiBvcmRlcixcbiAqIGVhY2ggb2YgdGhlbSB3aWxsIHRoZW4gZWRpdCB0aGUgZGF0YSBvYmplY3QuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge2RhdGFPYmplY3R9IGRhdGFcbiAqIEBwYXJhbSB7QXJyYXl9IG1vZGlmaWVyc1xuICogQHBhcmFtIHtTdHJpbmd9IGVuZHMgLSBPcHRpb25hbCBtb2RpZmllciBuYW1lIHVzZWQgYXMgc3RvcHBlclxuICogQHJldHVybnMge2RhdGFPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIHJ1bk1vZGlmaWVycyhtb2RpZmllcnMsIGRhdGEsIGVuZHMpIHtcbiAgdmFyIG1vZGlmaWVyc1RvUnVuID0gZW5kcyA9PT0gdW5kZWZpbmVkID8gbW9kaWZpZXJzIDogbW9kaWZpZXJzLnNsaWNlKDAsIGZpbmRJbmRleChtb2RpZmllcnMsICduYW1lJywgZW5kcykpO1xuXG4gIG1vZGlmaWVyc1RvUnVuLmZvckVhY2goZnVuY3Rpb24gKG1vZGlmaWVyKSB7XG4gICAgaWYgKG1vZGlmaWVyWydmdW5jdGlvbiddKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGRvdC1ub3RhdGlvblxuICAgICAgY29uc29sZS53YXJuKCdgbW9kaWZpZXIuZnVuY3Rpb25gIGlzIGRlcHJlY2F0ZWQsIHVzZSBgbW9kaWZpZXIuZm5gIScpO1xuICAgIH1cbiAgICB2YXIgZm4gPSBtb2RpZmllclsnZnVuY3Rpb24nXSB8fCBtb2RpZmllci5mbjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBkb3Qtbm90YXRpb25cbiAgICBpZiAobW9kaWZpZXIuZW5hYmxlZCAmJiBpc0Z1bmN0aW9uKGZuKSkge1xuICAgICAgLy8gQWRkIHByb3BlcnRpZXMgdG8gb2Zmc2V0cyB0byBtYWtlIHRoZW0gYSBjb21wbGV0ZSBjbGllbnRSZWN0IG9iamVjdFxuICAgICAgLy8gd2UgZG8gdGhpcyBiZWZvcmUgZWFjaCBtb2RpZmllciB0byBtYWtlIHN1cmUgdGhlIHByZXZpb3VzIG9uZSBkb2Vzbid0XG4gICAgICAvLyBtZXNzIHdpdGggdGhlc2UgdmFsdWVzXG4gICAgICBkYXRhLm9mZnNldHMucG9wcGVyID0gZ2V0Q2xpZW50UmVjdChkYXRhLm9mZnNldHMucG9wcGVyKTtcbiAgICAgIGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UgPSBnZXRDbGllbnRSZWN0KGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UpO1xuXG4gICAgICBkYXRhID0gZm4oZGF0YSwgbW9kaWZpZXIpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgcG9zaXRpb24gb2YgdGhlIHBvcHBlciwgY29tcHV0aW5nIHRoZSBuZXcgb2Zmc2V0cyBhbmQgYXBwbHlpbmdcbiAqIHRoZSBuZXcgc3R5bGUuPGJyIC8+XG4gKiBQcmVmZXIgYHNjaGVkdWxlVXBkYXRlYCBvdmVyIGB1cGRhdGVgIGJlY2F1c2Ugb2YgcGVyZm9ybWFuY2UgcmVhc29ucy5cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXJcbiAqL1xuZnVuY3Rpb24gdXBkYXRlKCkge1xuICAvLyBpZiBwb3BwZXIgaXMgZGVzdHJveWVkLCBkb24ndCBwZXJmb3JtIGFueSBmdXJ0aGVyIHVwZGF0ZVxuICBpZiAodGhpcy5zdGF0ZS5pc0Rlc3Ryb3llZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBkYXRhID0ge1xuICAgIGluc3RhbmNlOiB0aGlzLFxuICAgIHN0eWxlczoge30sXG4gICAgYXJyb3dTdHlsZXM6IHt9LFxuICAgIGF0dHJpYnV0ZXM6IHt9LFxuICAgIGZsaXBwZWQ6IGZhbHNlLFxuICAgIG9mZnNldHM6IHt9XG4gIH07XG5cbiAgLy8gY29tcHV0ZSByZWZlcmVuY2UgZWxlbWVudCBvZmZzZXRzXG4gIGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UgPSBnZXRSZWZlcmVuY2VPZmZzZXRzKHRoaXMuc3RhdGUsIHRoaXMucG9wcGVyLCB0aGlzLnJlZmVyZW5jZSwgdGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQpO1xuXG4gIC8vIGNvbXB1dGUgYXV0byBwbGFjZW1lbnQsIHN0b3JlIHBsYWNlbWVudCBpbnNpZGUgdGhlIGRhdGEgb2JqZWN0LFxuICAvLyBtb2RpZmllcnMgd2lsbCBiZSBhYmxlIHRvIGVkaXQgYHBsYWNlbWVudGAgaWYgbmVlZGVkXG4gIC8vIGFuZCByZWZlciB0byBvcmlnaW5hbFBsYWNlbWVudCB0byBrbm93IHRoZSBvcmlnaW5hbCB2YWx1ZVxuICBkYXRhLnBsYWNlbWVudCA9IGNvbXB1dGVBdXRvUGxhY2VtZW50KHRoaXMub3B0aW9ucy5wbGFjZW1lbnQsIGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UsIHRoaXMucG9wcGVyLCB0aGlzLnJlZmVyZW5jZSwgdGhpcy5vcHRpb25zLm1vZGlmaWVycy5mbGlwLmJvdW5kYXJpZXNFbGVtZW50LCB0aGlzLm9wdGlvbnMubW9kaWZpZXJzLmZsaXAucGFkZGluZyk7XG5cbiAgLy8gc3RvcmUgdGhlIGNvbXB1dGVkIHBsYWNlbWVudCBpbnNpZGUgYG9yaWdpbmFsUGxhY2VtZW50YFxuICBkYXRhLm9yaWdpbmFsUGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQ7XG5cbiAgZGF0YS5wb3NpdGlvbkZpeGVkID0gdGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQ7XG5cbiAgLy8gY29tcHV0ZSB0aGUgcG9wcGVyIG9mZnNldHNcbiAgZGF0YS5vZmZzZXRzLnBvcHBlciA9IGdldFBvcHBlck9mZnNldHModGhpcy5wb3BwZXIsIGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UsIGRhdGEucGxhY2VtZW50KTtcblxuICBkYXRhLm9mZnNldHMucG9wcGVyLnBvc2l0aW9uID0gdGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQgPyAnZml4ZWQnIDogJ2Fic29sdXRlJztcblxuICAvLyBydW4gdGhlIG1vZGlmaWVyc1xuICBkYXRhID0gcnVuTW9kaWZpZXJzKHRoaXMubW9kaWZpZXJzLCBkYXRhKTtcblxuICAvLyB0aGUgZmlyc3QgYHVwZGF0ZWAgd2lsbCBjYWxsIGBvbkNyZWF0ZWAgY2FsbGJhY2tcbiAgLy8gdGhlIG90aGVyIG9uZXMgd2lsbCBjYWxsIGBvblVwZGF0ZWAgY2FsbGJhY2tcbiAgaWYgKCF0aGlzLnN0YXRlLmlzQ3JlYXRlZCkge1xuICAgIHRoaXMuc3RhdGUuaXNDcmVhdGVkID0gdHJ1ZTtcbiAgICB0aGlzLm9wdGlvbnMub25DcmVhdGUoZGF0YSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5vcHRpb25zLm9uVXBkYXRlKGRhdGEpO1xuICB9XG59XG5cbi8qKlxuICogSGVscGVyIHVzZWQgdG8ga25vdyBpZiB0aGUgZ2l2ZW4gbW9kaWZpZXIgaXMgZW5hYmxlZC5cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEByZXR1cm5zIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBpc01vZGlmaWVyRW5hYmxlZChtb2RpZmllcnMsIG1vZGlmaWVyTmFtZSkge1xuICByZXR1cm4gbW9kaWZpZXJzLnNvbWUoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgbmFtZSA9IF9yZWYubmFtZSxcbiAgICAgICAgZW5hYmxlZCA9IF9yZWYuZW5hYmxlZDtcbiAgICByZXR1cm4gZW5hYmxlZCAmJiBuYW1lID09PSBtb2RpZmllck5hbWU7XG4gIH0pO1xufVxuXG4vKipcbiAqIEdldCB0aGUgcHJlZml4ZWQgc3VwcG9ydGVkIHByb3BlcnR5IG5hbWVcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7U3RyaW5nfSBwcm9wZXJ0eSAoY2FtZWxDYXNlKVxuICogQHJldHVybnMge1N0cmluZ30gcHJlZml4ZWQgcHJvcGVydHkgKGNhbWVsQ2FzZSBvciBQYXNjYWxDYXNlLCBkZXBlbmRpbmcgb24gdGhlIHZlbmRvciBwcmVmaXgpXG4gKi9cbmZ1bmN0aW9uIGdldFN1cHBvcnRlZFByb3BlcnR5TmFtZShwcm9wZXJ0eSkge1xuICB2YXIgcHJlZml4ZXMgPSBbZmFsc2UsICdtcycsICdXZWJraXQnLCAnTW96JywgJ08nXTtcbiAgdmFyIHVwcGVyUHJvcCA9IHByb3BlcnR5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcHJvcGVydHkuc2xpY2UoMSk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmVmaXhlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBwcmVmaXggPSBwcmVmaXhlc1tpXTtcbiAgICB2YXIgdG9DaGVjayA9IHByZWZpeCA/ICcnICsgcHJlZml4ICsgdXBwZXJQcm9wIDogcHJvcGVydHk7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudC5ib2R5LnN0eWxlW3RvQ2hlY2tdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIHRvQ2hlY2s7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIERlc3Ryb3kgdGhlIHBvcHBlclxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlclxuICovXG5mdW5jdGlvbiBkZXN0cm95KCkge1xuICB0aGlzLnN0YXRlLmlzRGVzdHJveWVkID0gdHJ1ZTtcblxuICAvLyB0b3VjaCBET00gb25seSBpZiBgYXBwbHlTdHlsZWAgbW9kaWZpZXIgaXMgZW5hYmxlZFxuICBpZiAoaXNNb2RpZmllckVuYWJsZWQodGhpcy5tb2RpZmllcnMsICdhcHBseVN0eWxlJykpIHtcbiAgICB0aGlzLnBvcHBlci5yZW1vdmVBdHRyaWJ1dGUoJ3gtcGxhY2VtZW50Jyk7XG4gICAgdGhpcy5wb3BwZXIuc3R5bGUucG9zaXRpb24gPSAnJztcbiAgICB0aGlzLnBvcHBlci5zdHlsZS50b3AgPSAnJztcbiAgICB0aGlzLnBvcHBlci5zdHlsZS5sZWZ0ID0gJyc7XG4gICAgdGhpcy5wb3BwZXIuc3R5bGUucmlnaHQgPSAnJztcbiAgICB0aGlzLnBvcHBlci5zdHlsZS5ib3R0b20gPSAnJztcbiAgICB0aGlzLnBvcHBlci5zdHlsZS53aWxsQ2hhbmdlID0gJyc7XG4gICAgdGhpcy5wb3BwZXIuc3R5bGVbZ2V0U3VwcG9ydGVkUHJvcGVydHlOYW1lKCd0cmFuc2Zvcm0nKV0gPSAnJztcbiAgfVxuXG4gIHRoaXMuZGlzYWJsZUV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgLy8gcmVtb3ZlIHRoZSBwb3BwZXIgaWYgdXNlciBleHBsaWNpdHkgYXNrZWQgZm9yIHRoZSBkZWxldGlvbiBvbiBkZXN0cm95XG4gIC8vIGRvIG5vdCB1c2UgYHJlbW92ZWAgYmVjYXVzZSBJRTExIGRvZXNuJ3Qgc3VwcG9ydCBpdFxuICBpZiAodGhpcy5vcHRpb25zLnJlbW92ZU9uRGVzdHJveSkge1xuICAgIHRoaXMucG9wcGVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5wb3BwZXIpO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIEdldCB0aGUgd2luZG93IGFzc29jaWF0ZWQgd2l0aCB0aGUgZWxlbWVudFxuICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7V2luZG93fVxuICovXG5mdW5jdGlvbiBnZXRXaW5kb3coZWxlbWVudCkge1xuICB2YXIgb3duZXJEb2N1bWVudCA9IGVsZW1lbnQub3duZXJEb2N1bWVudDtcbiAgcmV0dXJuIG93bmVyRG9jdW1lbnQgPyBvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IDogd2luZG93O1xufVxuXG5mdW5jdGlvbiBhdHRhY2hUb1Njcm9sbFBhcmVudHMoc2Nyb2xsUGFyZW50LCBldmVudCwgY2FsbGJhY2ssIHNjcm9sbFBhcmVudHMpIHtcbiAgdmFyIGlzQm9keSA9IHNjcm9sbFBhcmVudC5ub2RlTmFtZSA9PT0gJ0JPRFknO1xuICB2YXIgdGFyZ2V0ID0gaXNCb2R5ID8gc2Nyb2xsUGFyZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgOiBzY3JvbGxQYXJlbnQ7XG4gIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBjYWxsYmFjaywgeyBwYXNzaXZlOiB0cnVlIH0pO1xuXG4gIGlmICghaXNCb2R5KSB7XG4gICAgYXR0YWNoVG9TY3JvbGxQYXJlbnRzKGdldFNjcm9sbFBhcmVudCh0YXJnZXQucGFyZW50Tm9kZSksIGV2ZW50LCBjYWxsYmFjaywgc2Nyb2xsUGFyZW50cyk7XG4gIH1cbiAgc2Nyb2xsUGFyZW50cy5wdXNoKHRhcmdldCk7XG59XG5cbi8qKlxuICogU2V0dXAgbmVlZGVkIGV2ZW50IGxpc3RlbmVycyB1c2VkIHRvIHVwZGF0ZSB0aGUgcG9wcGVyIHBvc2l0aW9uXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBzZXR1cEV2ZW50TGlzdGVuZXJzKHJlZmVyZW5jZSwgb3B0aW9ucywgc3RhdGUsIHVwZGF0ZUJvdW5kKSB7XG4gIC8vIFJlc2l6ZSBldmVudCBsaXN0ZW5lciBvbiB3aW5kb3dcbiAgc3RhdGUudXBkYXRlQm91bmQgPSB1cGRhdGVCb3VuZDtcbiAgZ2V0V2luZG93KHJlZmVyZW5jZSkuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc3RhdGUudXBkYXRlQm91bmQsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcblxuICAvLyBTY3JvbGwgZXZlbnQgbGlzdGVuZXIgb24gc2Nyb2xsIHBhcmVudHNcbiAgdmFyIHNjcm9sbEVsZW1lbnQgPSBnZXRTY3JvbGxQYXJlbnQocmVmZXJlbmNlKTtcbiAgYXR0YWNoVG9TY3JvbGxQYXJlbnRzKHNjcm9sbEVsZW1lbnQsICdzY3JvbGwnLCBzdGF0ZS51cGRhdGVCb3VuZCwgc3RhdGUuc2Nyb2xsUGFyZW50cyk7XG4gIHN0YXRlLnNjcm9sbEVsZW1lbnQgPSBzY3JvbGxFbGVtZW50O1xuICBzdGF0ZS5ldmVudHNFbmFibGVkID0gdHJ1ZTtcblxuICByZXR1cm4gc3RhdGU7XG59XG5cbi8qKlxuICogSXQgd2lsbCBhZGQgcmVzaXplL3Njcm9sbCBldmVudHMgYW5kIHN0YXJ0IHJlY2FsY3VsYXRpbmdcbiAqIHBvc2l0aW9uIG9mIHRoZSBwb3BwZXIgZWxlbWVudCB3aGVuIHRoZXkgYXJlIHRyaWdnZXJlZC5cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXJcbiAqL1xuZnVuY3Rpb24gZW5hYmxlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gIGlmICghdGhpcy5zdGF0ZS5ldmVudHNFbmFibGVkKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHNldHVwRXZlbnRMaXN0ZW5lcnModGhpcy5yZWZlcmVuY2UsIHRoaXMub3B0aW9ucywgdGhpcy5zdGF0ZSwgdGhpcy5zY2hlZHVsZVVwZGF0ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmUgZXZlbnQgbGlzdGVuZXJzIHVzZWQgdG8gdXBkYXRlIHRoZSBwb3BwZXIgcG9zaXRpb25cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHJlZmVyZW5jZSwgc3RhdGUpIHtcbiAgLy8gUmVtb3ZlIHJlc2l6ZSBldmVudCBsaXN0ZW5lciBvbiB3aW5kb3dcbiAgZ2V0V2luZG93KHJlZmVyZW5jZSkucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc3RhdGUudXBkYXRlQm91bmQpO1xuXG4gIC8vIFJlbW92ZSBzY3JvbGwgZXZlbnQgbGlzdGVuZXIgb24gc2Nyb2xsIHBhcmVudHNcbiAgc3RhdGUuc2Nyb2xsUGFyZW50cy5mb3JFYWNoKGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc3RhdGUudXBkYXRlQm91bmQpO1xuICB9KTtcblxuICAvLyBSZXNldCBzdGF0ZVxuICBzdGF0ZS51cGRhdGVCb3VuZCA9IG51bGw7XG4gIHN0YXRlLnNjcm9sbFBhcmVudHMgPSBbXTtcbiAgc3RhdGUuc2Nyb2xsRWxlbWVudCA9IG51bGw7XG4gIHN0YXRlLmV2ZW50c0VuYWJsZWQgPSBmYWxzZTtcbiAgcmV0dXJuIHN0YXRlO1xufVxuXG4vKipcbiAqIEl0IHdpbGwgcmVtb3ZlIHJlc2l6ZS9zY3JvbGwgZXZlbnRzIGFuZCB3b24ndCByZWNhbGN1bGF0ZSBwb3BwZXIgcG9zaXRpb25cbiAqIHdoZW4gdGhleSBhcmUgdHJpZ2dlcmVkLiBJdCBhbHNvIHdvbid0IHRyaWdnZXIgb25VcGRhdGUgY2FsbGJhY2sgYW55bW9yZSxcbiAqIHVubGVzcyB5b3UgY2FsbCBgdXBkYXRlYCBtZXRob2QgbWFudWFsbHkuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyXG4gKi9cbmZ1bmN0aW9uIGRpc2FibGVFdmVudExpc3RlbmVycygpIHtcbiAgaWYgKHRoaXMuc3RhdGUuZXZlbnRzRW5hYmxlZCkge1xuICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuc2NoZWR1bGVVcGRhdGUpO1xuICAgIHRoaXMuc3RhdGUgPSByZW1vdmVFdmVudExpc3RlbmVycyh0aGlzLnJlZmVyZW5jZSwgdGhpcy5zdGF0ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBUZWxscyBpZiBhIGdpdmVuIGlucHV0IGlzIGEgbnVtYmVyXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0geyp9IGlucHV0IHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBpc051bWVyaWMobikge1xuICByZXR1cm4gbiAhPT0gJycgJiYgIWlzTmFOKHBhcnNlRmxvYXQobikpICYmIGlzRmluaXRlKG4pO1xufVxuXG4vKipcbiAqIFNldCB0aGUgc3R5bGUgdG8gdGhlIGdpdmVuIHBvcHBlclxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50IC0gRWxlbWVudCB0byBhcHBseSB0aGUgc3R5bGUgdG9cbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBzdHlsZXNcbiAqIE9iamVjdCB3aXRoIGEgbGlzdCBvZiBwcm9wZXJ0aWVzIGFuZCB2YWx1ZXMgd2hpY2ggd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIHNldFN0eWxlcyhlbGVtZW50LCBzdHlsZXMpIHtcbiAgT2JqZWN0LmtleXMoc3R5bGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgdmFyIHVuaXQgPSAnJztcbiAgICAvLyBhZGQgdW5pdCBpZiB0aGUgdmFsdWUgaXMgbnVtZXJpYyBhbmQgaXMgb25lIG9mIHRoZSBmb2xsb3dpbmdcbiAgICBpZiAoWyd3aWR0aCcsICdoZWlnaHQnLCAndG9wJywgJ3JpZ2h0JywgJ2JvdHRvbScsICdsZWZ0J10uaW5kZXhPZihwcm9wKSAhPT0gLTEgJiYgaXNOdW1lcmljKHN0eWxlc1twcm9wXSkpIHtcbiAgICAgIHVuaXQgPSAncHgnO1xuICAgIH1cbiAgICBlbGVtZW50LnN0eWxlW3Byb3BdID0gc3R5bGVzW3Byb3BdICsgdW5pdDtcbiAgfSk7XG59XG5cbi8qKlxuICogU2V0IHRoZSBhdHRyaWJ1dGVzIHRvIHRoZSBnaXZlbiBwb3BwZXJcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnQgdG8gYXBwbHkgdGhlIGF0dHJpYnV0ZXMgdG9cbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBzdHlsZXNcbiAqIE9iamVjdCB3aXRoIGEgbGlzdCBvZiBwcm9wZXJ0aWVzIGFuZCB2YWx1ZXMgd2hpY2ggd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXMoZWxlbWVudCwgYXR0cmlidXRlcykge1xuICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgdmFyIHZhbHVlID0gYXR0cmlidXRlc1twcm9wXTtcbiAgICBpZiAodmFsdWUgIT09IGZhbHNlKSB7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShwcm9wLCBhdHRyaWJ1dGVzW3Byb3BdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUocHJvcCk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBNb2RpZmllcnNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSBgdXBkYXRlYCBtZXRob2RcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhLnN0eWxlcyAtIExpc3Qgb2Ygc3R5bGUgcHJvcGVydGllcyAtIHZhbHVlcyB0byBhcHBseSB0byBwb3BwZXIgZWxlbWVudFxuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEuYXR0cmlidXRlcyAtIExpc3Qgb2YgYXR0cmlidXRlIHByb3BlcnRpZXMgLSB2YWx1ZXMgdG8gYXBwbHkgdG8gcG9wcGVyIGVsZW1lbnRcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBzYW1lIGRhdGEgb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIGFwcGx5U3R5bGUoZGF0YSkge1xuICAvLyBhbnkgcHJvcGVydHkgcHJlc2VudCBpbiBgZGF0YS5zdHlsZXNgIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgcG9wcGVyLFxuICAvLyBpbiB0aGlzIHdheSB3ZSBjYW4gbWFrZSB0aGUgM3JkIHBhcnR5IG1vZGlmaWVycyBhZGQgY3VzdG9tIHN0eWxlcyB0byBpdFxuICAvLyBCZSBhd2FyZSwgbW9kaWZpZXJzIGNvdWxkIG92ZXJyaWRlIHRoZSBwcm9wZXJ0aWVzIGRlZmluZWQgaW4gdGhlIHByZXZpb3VzXG4gIC8vIGxpbmVzIG9mIHRoaXMgbW9kaWZpZXIhXG4gIHNldFN0eWxlcyhkYXRhLmluc3RhbmNlLnBvcHBlciwgZGF0YS5zdHlsZXMpO1xuXG4gIC8vIGFueSBwcm9wZXJ0eSBwcmVzZW50IGluIGBkYXRhLmF0dHJpYnV0ZXNgIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgcG9wcGVyLFxuICAvLyB0aGV5IHdpbGwgYmUgc2V0IGFzIEhUTUwgYXR0cmlidXRlcyBvZiB0aGUgZWxlbWVudFxuICBzZXRBdHRyaWJ1dGVzKGRhdGEuaW5zdGFuY2UucG9wcGVyLCBkYXRhLmF0dHJpYnV0ZXMpO1xuXG4gIC8vIGlmIGFycm93RWxlbWVudCBpcyBkZWZpbmVkIGFuZCBhcnJvd1N0eWxlcyBoYXMgc29tZSBwcm9wZXJ0aWVzXG4gIGlmIChkYXRhLmFycm93RWxlbWVudCAmJiBPYmplY3Qua2V5cyhkYXRhLmFycm93U3R5bGVzKS5sZW5ndGgpIHtcbiAgICBzZXRTdHlsZXMoZGF0YS5hcnJvd0VsZW1lbnQsIGRhdGEuYXJyb3dTdHlsZXMpO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogU2V0IHRoZSB4LXBsYWNlbWVudCBhdHRyaWJ1dGUgYmVmb3JlIGV2ZXJ5dGhpbmcgZWxzZSBiZWNhdXNlIGl0IGNvdWxkIGJlIHVzZWRcbiAqIHRvIGFkZCBtYXJnaW5zIHRvIHRoZSBwb3BwZXIgbWFyZ2lucyBuZWVkcyB0byBiZSBjYWxjdWxhdGVkIHRvIGdldCB0aGVcbiAqIGNvcnJlY3QgcG9wcGVyIG9mZnNldHMuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLm1vZGlmaWVyc1xuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcmVmZXJlbmNlIC0gVGhlIHJlZmVyZW5jZSBlbGVtZW50IHVzZWQgdG8gcG9zaXRpb24gdGhlIHBvcHBlclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcG9wcGVyIC0gVGhlIEhUTUwgZWxlbWVudCB1c2VkIGFzIHBvcHBlclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBQb3BwZXIuanMgb3B0aW9uc1xuICovXG5mdW5jdGlvbiBhcHBseVN0eWxlT25Mb2FkKHJlZmVyZW5jZSwgcG9wcGVyLCBvcHRpb25zLCBtb2RpZmllck9wdGlvbnMsIHN0YXRlKSB7XG4gIC8vIGNvbXB1dGUgcmVmZXJlbmNlIGVsZW1lbnQgb2Zmc2V0c1xuICB2YXIgcmVmZXJlbmNlT2Zmc2V0cyA9IGdldFJlZmVyZW5jZU9mZnNldHMoc3RhdGUsIHBvcHBlciwgcmVmZXJlbmNlLCBvcHRpb25zLnBvc2l0aW9uRml4ZWQpO1xuXG4gIC8vIGNvbXB1dGUgYXV0byBwbGFjZW1lbnQsIHN0b3JlIHBsYWNlbWVudCBpbnNpZGUgdGhlIGRhdGEgb2JqZWN0LFxuICAvLyBtb2RpZmllcnMgd2lsbCBiZSBhYmxlIHRvIGVkaXQgYHBsYWNlbWVudGAgaWYgbmVlZGVkXG4gIC8vIGFuZCByZWZlciB0byBvcmlnaW5hbFBsYWNlbWVudCB0byBrbm93IHRoZSBvcmlnaW5hbCB2YWx1ZVxuICB2YXIgcGxhY2VtZW50ID0gY29tcHV0ZUF1dG9QbGFjZW1lbnQob3B0aW9ucy5wbGFjZW1lbnQsIHJlZmVyZW5jZU9mZnNldHMsIHBvcHBlciwgcmVmZXJlbmNlLCBvcHRpb25zLm1vZGlmaWVycy5mbGlwLmJvdW5kYXJpZXNFbGVtZW50LCBvcHRpb25zLm1vZGlmaWVycy5mbGlwLnBhZGRpbmcpO1xuXG4gIHBvcHBlci5zZXRBdHRyaWJ1dGUoJ3gtcGxhY2VtZW50JywgcGxhY2VtZW50KTtcblxuICAvLyBBcHBseSBgcG9zaXRpb25gIHRvIHBvcHBlciBiZWZvcmUgYW55dGhpbmcgZWxzZSBiZWNhdXNlXG4gIC8vIHdpdGhvdXQgdGhlIHBvc2l0aW9uIGFwcGxpZWQgd2UgY2FuJ3QgZ3VhcmFudGVlIGNvcnJlY3QgY29tcHV0YXRpb25zXG4gIHNldFN0eWxlcyhwb3BwZXIsIHsgcG9zaXRpb246IG9wdGlvbnMucG9zaXRpb25GaXhlZCA/ICdmaXhlZCcgOiAnYWJzb2x1dGUnIH0pO1xuXG4gIHJldHVybiBvcHRpb25zO1xufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IGB1cGRhdGVgIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBjb21wdXRlU3R5bGUoZGF0YSwgb3B0aW9ucykge1xuICB2YXIgeCA9IG9wdGlvbnMueCxcbiAgICAgIHkgPSBvcHRpb25zLnk7XG4gIHZhciBwb3BwZXIgPSBkYXRhLm9mZnNldHMucG9wcGVyO1xuXG4gIC8vIFJlbW92ZSB0aGlzIGxlZ2FjeSBzdXBwb3J0IGluIFBvcHBlci5qcyB2MlxuXG4gIHZhciBsZWdhY3lHcHVBY2NlbGVyYXRpb25PcHRpb24gPSBmaW5kKGRhdGEuaW5zdGFuY2UubW9kaWZpZXJzLCBmdW5jdGlvbiAobW9kaWZpZXIpIHtcbiAgICByZXR1cm4gbW9kaWZpZXIubmFtZSA9PT0gJ2FwcGx5U3R5bGUnO1xuICB9KS5ncHVBY2NlbGVyYXRpb247XG4gIGlmIChsZWdhY3lHcHVBY2NlbGVyYXRpb25PcHRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnNvbGUud2FybignV0FSTklORzogYGdwdUFjY2VsZXJhdGlvbmAgb3B0aW9uIG1vdmVkIHRvIGBjb21wdXRlU3R5bGVgIG1vZGlmaWVyIGFuZCB3aWxsIG5vdCBiZSBzdXBwb3J0ZWQgaW4gZnV0dXJlIHZlcnNpb25zIG9mIFBvcHBlci5qcyEnKTtcbiAgfVxuICB2YXIgZ3B1QWNjZWxlcmF0aW9uID0gbGVnYWN5R3B1QWNjZWxlcmF0aW9uT3B0aW9uICE9PSB1bmRlZmluZWQgPyBsZWdhY3lHcHVBY2NlbGVyYXRpb25PcHRpb24gOiBvcHRpb25zLmdwdUFjY2VsZXJhdGlvbjtcblxuICB2YXIgb2Zmc2V0UGFyZW50ID0gZ2V0T2Zmc2V0UGFyZW50KGRhdGEuaW5zdGFuY2UucG9wcGVyKTtcbiAgdmFyIG9mZnNldFBhcmVudFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3Qob2Zmc2V0UGFyZW50KTtcblxuICAvLyBTdHlsZXNcbiAgdmFyIHN0eWxlcyA9IHtcbiAgICBwb3NpdGlvbjogcG9wcGVyLnBvc2l0aW9uXG4gIH07XG5cbiAgLy8gQXZvaWQgYmx1cnJ5IHRleHQgYnkgdXNpbmcgZnVsbCBwaXhlbCBpbnRlZ2Vycy5cbiAgLy8gRm9yIHBpeGVsLXBlcmZlY3QgcG9zaXRpb25pbmcsIHRvcC9ib3R0b20gcHJlZmVycyByb3VuZGVkXG4gIC8vIHZhbHVlcywgd2hpbGUgbGVmdC9yaWdodCBwcmVmZXJzIGZsb29yZWQgdmFsdWVzLlxuICB2YXIgb2Zmc2V0cyA9IHtcbiAgICBsZWZ0OiBNYXRoLmZsb29yKHBvcHBlci5sZWZ0KSxcbiAgICB0b3A6IE1hdGgucm91bmQocG9wcGVyLnRvcCksXG4gICAgYm90dG9tOiBNYXRoLnJvdW5kKHBvcHBlci5ib3R0b20pLFxuICAgIHJpZ2h0OiBNYXRoLmZsb29yKHBvcHBlci5yaWdodClcbiAgfTtcblxuICB2YXIgc2lkZUEgPSB4ID09PSAnYm90dG9tJyA/ICd0b3AnIDogJ2JvdHRvbSc7XG4gIHZhciBzaWRlQiA9IHkgPT09ICdyaWdodCcgPyAnbGVmdCcgOiAncmlnaHQnO1xuXG4gIC8vIGlmIGdwdUFjY2VsZXJhdGlvbiBpcyBzZXQgdG8gYHRydWVgIGFuZCB0cmFuc2Zvcm0gaXMgc3VwcG9ydGVkLFxuICAvLyAgd2UgdXNlIGB0cmFuc2xhdGUzZGAgdG8gYXBwbHkgdGhlIHBvc2l0aW9uIHRvIHRoZSBwb3BwZXIgd2VcbiAgLy8gYXV0b21hdGljYWxseSB1c2UgdGhlIHN1cHBvcnRlZCBwcmVmaXhlZCB2ZXJzaW9uIGlmIG5lZWRlZFxuICB2YXIgcHJlZml4ZWRQcm9wZXJ0eSA9IGdldFN1cHBvcnRlZFByb3BlcnR5TmFtZSgndHJhbnNmb3JtJyk7XG5cbiAgLy8gbm93LCBsZXQncyBtYWtlIGEgc3RlcCBiYWNrIGFuZCBsb29rIGF0IHRoaXMgY29kZSBjbG9zZWx5ICh3dGY/KVxuICAvLyBJZiB0aGUgY29udGVudCBvZiB0aGUgcG9wcGVyIGdyb3dzIG9uY2UgaXQncyBiZWVuIHBvc2l0aW9uZWQsIGl0XG4gIC8vIG1heSBoYXBwZW4gdGhhdCB0aGUgcG9wcGVyIGdldHMgbWlzcGxhY2VkIGJlY2F1c2Ugb2YgdGhlIG5ldyBjb250ZW50XG4gIC8vIG92ZXJmbG93aW5nIGl0cyByZWZlcmVuY2UgZWxlbWVudFxuICAvLyBUbyBhdm9pZCB0aGlzIHByb2JsZW0sIHdlIHByb3ZpZGUgdHdvIG9wdGlvbnMgKHggYW5kIHkpLCB3aGljaCBhbGxvd1xuICAvLyB0aGUgY29uc3VtZXIgdG8gZGVmaW5lIHRoZSBvZmZzZXQgb3JpZ2luLlxuICAvLyBJZiB3ZSBwb3NpdGlvbiBhIHBvcHBlciBvbiB0b3Agb2YgYSByZWZlcmVuY2UgZWxlbWVudCwgd2UgY2FuIHNldFxuICAvLyBgeGAgdG8gYHRvcGAgdG8gbWFrZSB0aGUgcG9wcGVyIGdyb3cgdG93YXJkcyBpdHMgdG9wIGluc3RlYWQgb2ZcbiAgLy8gaXRzIGJvdHRvbS5cbiAgdmFyIGxlZnQgPSB2b2lkIDAsXG4gICAgICB0b3AgPSB2b2lkIDA7XG4gIGlmIChzaWRlQSA9PT0gJ2JvdHRvbScpIHtcbiAgICB0b3AgPSAtb2Zmc2V0UGFyZW50UmVjdC5oZWlnaHQgKyBvZmZzZXRzLmJvdHRvbTtcbiAgfSBlbHNlIHtcbiAgICB0b3AgPSBvZmZzZXRzLnRvcDtcbiAgfVxuICBpZiAoc2lkZUIgPT09ICdyaWdodCcpIHtcbiAgICBsZWZ0ID0gLW9mZnNldFBhcmVudFJlY3Qud2lkdGggKyBvZmZzZXRzLnJpZ2h0O1xuICB9IGVsc2Uge1xuICAgIGxlZnQgPSBvZmZzZXRzLmxlZnQ7XG4gIH1cbiAgaWYgKGdwdUFjY2VsZXJhdGlvbiAmJiBwcmVmaXhlZFByb3BlcnR5KSB7XG4gICAgc3R5bGVzW3ByZWZpeGVkUHJvcGVydHldID0gJ3RyYW5zbGF0ZTNkKCcgKyBsZWZ0ICsgJ3B4LCAnICsgdG9wICsgJ3B4LCAwKSc7XG4gICAgc3R5bGVzW3NpZGVBXSA9IDA7XG4gICAgc3R5bGVzW3NpZGVCXSA9IDA7XG4gICAgc3R5bGVzLndpbGxDaGFuZ2UgPSAndHJhbnNmb3JtJztcbiAgfSBlbHNlIHtcbiAgICAvLyBvdGh3ZXJpc2UsIHdlIHVzZSB0aGUgc3RhbmRhcmQgYHRvcGAsIGBsZWZ0YCwgYGJvdHRvbWAgYW5kIGByaWdodGAgcHJvcGVydGllc1xuICAgIHZhciBpbnZlcnRUb3AgPSBzaWRlQSA9PT0gJ2JvdHRvbScgPyAtMSA6IDE7XG4gICAgdmFyIGludmVydExlZnQgPSBzaWRlQiA9PT0gJ3JpZ2h0JyA/IC0xIDogMTtcbiAgICBzdHlsZXNbc2lkZUFdID0gdG9wICogaW52ZXJ0VG9wO1xuICAgIHN0eWxlc1tzaWRlQl0gPSBsZWZ0ICogaW52ZXJ0TGVmdDtcbiAgICBzdHlsZXMud2lsbENoYW5nZSA9IHNpZGVBICsgJywgJyArIHNpZGVCO1xuICB9XG5cbiAgLy8gQXR0cmlidXRlc1xuICB2YXIgYXR0cmlidXRlcyA9IHtcbiAgICAneC1wbGFjZW1lbnQnOiBkYXRhLnBsYWNlbWVudFxuICB9O1xuXG4gIC8vIFVwZGF0ZSBgZGF0YWAgYXR0cmlidXRlcywgc3R5bGVzIGFuZCBhcnJvd1N0eWxlc1xuICBkYXRhLmF0dHJpYnV0ZXMgPSBfZXh0ZW5kcyQxKHt9LCBhdHRyaWJ1dGVzLCBkYXRhLmF0dHJpYnV0ZXMpO1xuICBkYXRhLnN0eWxlcyA9IF9leHRlbmRzJDEoe30sIHN0eWxlcywgZGF0YS5zdHlsZXMpO1xuICBkYXRhLmFycm93U3R5bGVzID0gX2V4dGVuZHMkMSh7fSwgZGF0YS5vZmZzZXRzLmFycm93LCBkYXRhLmFycm93U3R5bGVzKTtcblxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgdXNlZCB0byBrbm93IGlmIHRoZSBnaXZlbiBtb2RpZmllciBkZXBlbmRzIGZyb20gYW5vdGhlciBvbmUuPGJyIC8+XG4gKiBJdCBjaGVja3MgaWYgdGhlIG5lZWRlZCBtb2RpZmllciBpcyBsaXN0ZWQgYW5kIGVuYWJsZWQuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge0FycmF5fSBtb2RpZmllcnMgLSBsaXN0IG9mIG1vZGlmaWVyc1xuICogQHBhcmFtIHtTdHJpbmd9IHJlcXVlc3RpbmdOYW1lIC0gbmFtZSBvZiByZXF1ZXN0aW5nIG1vZGlmaWVyXG4gKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdGVkTmFtZSAtIG5hbWUgb2YgcmVxdWVzdGVkIG1vZGlmaWVyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNNb2RpZmllclJlcXVpcmVkKG1vZGlmaWVycywgcmVxdWVzdGluZ05hbWUsIHJlcXVlc3RlZE5hbWUpIHtcbiAgdmFyIHJlcXVlc3RpbmcgPSBmaW5kKG1vZGlmaWVycywgZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgbmFtZSA9IF9yZWYubmFtZTtcbiAgICByZXR1cm4gbmFtZSA9PT0gcmVxdWVzdGluZ05hbWU7XG4gIH0pO1xuXG4gIHZhciBpc1JlcXVpcmVkID0gISFyZXF1ZXN0aW5nICYmIG1vZGlmaWVycy5zb21lKGZ1bmN0aW9uIChtb2RpZmllcikge1xuICAgIHJldHVybiBtb2RpZmllci5uYW1lID09PSByZXF1ZXN0ZWROYW1lICYmIG1vZGlmaWVyLmVuYWJsZWQgJiYgbW9kaWZpZXIub3JkZXIgPCByZXF1ZXN0aW5nLm9yZGVyO1xuICB9KTtcblxuICBpZiAoIWlzUmVxdWlyZWQpIHtcbiAgICB2YXIgX3JlcXVlc3RpbmcgPSAnYCcgKyByZXF1ZXN0aW5nTmFtZSArICdgJztcbiAgICB2YXIgcmVxdWVzdGVkID0gJ2AnICsgcmVxdWVzdGVkTmFtZSArICdgJztcbiAgICBjb25zb2xlLndhcm4ocmVxdWVzdGVkICsgJyBtb2RpZmllciBpcyByZXF1aXJlZCBieSAnICsgX3JlcXVlc3RpbmcgKyAnIG1vZGlmaWVyIGluIG9yZGVyIHRvIHdvcmssIGJlIHN1cmUgdG8gaW5jbHVkZSBpdCBiZWZvcmUgJyArIF9yZXF1ZXN0aW5nICsgJyEnKTtcbiAgfVxuICByZXR1cm4gaXNSZXF1aXJlZDtcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBNb2RpZmllcnNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSB1cGRhdGUgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cbmZ1bmN0aW9uIGFycm93KGRhdGEsIG9wdGlvbnMpIHtcbiAgdmFyIF9kYXRhJG9mZnNldHMkYXJyb3c7XG5cbiAgLy8gYXJyb3cgZGVwZW5kcyBvbiBrZWVwVG9nZXRoZXIgaW4gb3JkZXIgdG8gd29ya1xuICBpZiAoIWlzTW9kaWZpZXJSZXF1aXJlZChkYXRhLmluc3RhbmNlLm1vZGlmaWVycywgJ2Fycm93JywgJ2tlZXBUb2dldGhlcicpKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICB2YXIgYXJyb3dFbGVtZW50ID0gb3B0aW9ucy5lbGVtZW50O1xuXG4gIC8vIGlmIGFycm93RWxlbWVudCBpcyBhIHN0cmluZywgc3VwcG9zZSBpdCdzIGEgQ1NTIHNlbGVjdG9yXG4gIGlmICh0eXBlb2YgYXJyb3dFbGVtZW50ID09PSAnc3RyaW5nJykge1xuICAgIGFycm93RWxlbWVudCA9IGRhdGEuaW5zdGFuY2UucG9wcGVyLnF1ZXJ5U2VsZWN0b3IoYXJyb3dFbGVtZW50KTtcblxuICAgIC8vIGlmIGFycm93RWxlbWVudCBpcyBub3QgZm91bmQsIGRvbid0IHJ1biB0aGUgbW9kaWZpZXJcbiAgICBpZiAoIWFycm93RWxlbWVudCkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIGlmIHRoZSBhcnJvd0VsZW1lbnQgaXNuJ3QgYSBxdWVyeSBzZWxlY3RvciB3ZSBtdXN0IGNoZWNrIHRoYXQgdGhlXG4gICAgLy8gcHJvdmlkZWQgRE9NIG5vZGUgaXMgY2hpbGQgb2YgaXRzIHBvcHBlciBub2RlXG4gICAgaWYgKCFkYXRhLmluc3RhbmNlLnBvcHBlci5jb250YWlucyhhcnJvd0VsZW1lbnQpKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1dBUk5JTkc6IGBhcnJvdy5lbGVtZW50YCBtdXN0IGJlIGNoaWxkIG9mIGl0cyBwb3BwZXIgZWxlbWVudCEnKTtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgfVxuXG4gIHZhciBwbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuICB2YXIgX2RhdGEkb2Zmc2V0cyA9IGRhdGEub2Zmc2V0cyxcbiAgICAgIHBvcHBlciA9IF9kYXRhJG9mZnNldHMucG9wcGVyLFxuICAgICAgcmVmZXJlbmNlID0gX2RhdGEkb2Zmc2V0cy5yZWZlcmVuY2U7XG5cbiAgdmFyIGlzVmVydGljYWwgPSBbJ2xlZnQnLCAncmlnaHQnXS5pbmRleE9mKHBsYWNlbWVudCkgIT09IC0xO1xuXG4gIHZhciBsZW4gPSBpc1ZlcnRpY2FsID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuICB2YXIgc2lkZUNhcGl0YWxpemVkID0gaXNWZXJ0aWNhbCA/ICdUb3AnIDogJ0xlZnQnO1xuICB2YXIgc2lkZSA9IHNpZGVDYXBpdGFsaXplZC50b0xvd2VyQ2FzZSgpO1xuICB2YXIgYWx0U2lkZSA9IGlzVmVydGljYWwgPyAnbGVmdCcgOiAndG9wJztcbiAgdmFyIG9wU2lkZSA9IGlzVmVydGljYWwgPyAnYm90dG9tJyA6ICdyaWdodCc7XG4gIHZhciBhcnJvd0VsZW1lbnRTaXplID0gZ2V0T3V0ZXJTaXplcyhhcnJvd0VsZW1lbnQpW2xlbl07XG5cbiAgLy9cbiAgLy8gZXh0ZW5kcyBrZWVwVG9nZXRoZXIgYmVoYXZpb3IgbWFraW5nIHN1cmUgdGhlIHBvcHBlciBhbmQgaXRzXG4gIC8vIHJlZmVyZW5jZSBoYXZlIGVub3VnaCBwaXhlbHMgaW4gY29uanVjdGlvblxuICAvL1xuXG4gIC8vIHRvcC9sZWZ0IHNpZGVcbiAgaWYgKHJlZmVyZW5jZVtvcFNpZGVdIC0gYXJyb3dFbGVtZW50U2l6ZSA8IHBvcHBlcltzaWRlXSkge1xuICAgIGRhdGEub2Zmc2V0cy5wb3BwZXJbc2lkZV0gLT0gcG9wcGVyW3NpZGVdIC0gKHJlZmVyZW5jZVtvcFNpZGVdIC0gYXJyb3dFbGVtZW50U2l6ZSk7XG4gIH1cbiAgLy8gYm90dG9tL3JpZ2h0IHNpZGVcbiAgaWYgKHJlZmVyZW5jZVtzaWRlXSArIGFycm93RWxlbWVudFNpemUgPiBwb3BwZXJbb3BTaWRlXSkge1xuICAgIGRhdGEub2Zmc2V0cy5wb3BwZXJbc2lkZV0gKz0gcmVmZXJlbmNlW3NpZGVdICsgYXJyb3dFbGVtZW50U2l6ZSAtIHBvcHBlcltvcFNpZGVdO1xuICB9XG4gIGRhdGEub2Zmc2V0cy5wb3BwZXIgPSBnZXRDbGllbnRSZWN0KGRhdGEub2Zmc2V0cy5wb3BwZXIpO1xuXG4gIC8vIGNvbXB1dGUgY2VudGVyIG9mIHRoZSBwb3BwZXJcbiAgdmFyIGNlbnRlciA9IHJlZmVyZW5jZVtzaWRlXSArIHJlZmVyZW5jZVtsZW5dIC8gMiAtIGFycm93RWxlbWVudFNpemUgLyAyO1xuXG4gIC8vIENvbXB1dGUgdGhlIHNpZGVWYWx1ZSB1c2luZyB0aGUgdXBkYXRlZCBwb3BwZXIgb2Zmc2V0c1xuICAvLyB0YWtlIHBvcHBlciBtYXJnaW4gaW4gYWNjb3VudCBiZWNhdXNlIHdlIGRvbid0IGhhdmUgdGhpcyBpbmZvIGF2YWlsYWJsZVxuICB2YXIgY3NzID0gZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KGRhdGEuaW5zdGFuY2UucG9wcGVyKTtcbiAgdmFyIHBvcHBlck1hcmdpblNpZGUgPSBwYXJzZUZsb2F0KGNzc1snbWFyZ2luJyArIHNpZGVDYXBpdGFsaXplZF0sIDEwKTtcbiAgdmFyIHBvcHBlckJvcmRlclNpZGUgPSBwYXJzZUZsb2F0KGNzc1snYm9yZGVyJyArIHNpZGVDYXBpdGFsaXplZCArICdXaWR0aCddLCAxMCk7XG4gIHZhciBzaWRlVmFsdWUgPSBjZW50ZXIgLSBkYXRhLm9mZnNldHMucG9wcGVyW3NpZGVdIC0gcG9wcGVyTWFyZ2luU2lkZSAtIHBvcHBlckJvcmRlclNpZGU7XG5cbiAgLy8gcHJldmVudCBhcnJvd0VsZW1lbnQgZnJvbSBiZWluZyBwbGFjZWQgbm90IGNvbnRpZ3VvdXNseSB0byBpdHMgcG9wcGVyXG4gIHNpZGVWYWx1ZSA9IE1hdGgubWF4KE1hdGgubWluKHBvcHBlcltsZW5dIC0gYXJyb3dFbGVtZW50U2l6ZSwgc2lkZVZhbHVlKSwgMCk7XG5cbiAgZGF0YS5hcnJvd0VsZW1lbnQgPSBhcnJvd0VsZW1lbnQ7XG4gIGRhdGEub2Zmc2V0cy5hcnJvdyA9IChfZGF0YSRvZmZzZXRzJGFycm93ID0ge30sIGRlZmluZVByb3BlcnR5JDEoX2RhdGEkb2Zmc2V0cyRhcnJvdywgc2lkZSwgTWF0aC5yb3VuZChzaWRlVmFsdWUpKSwgZGVmaW5lUHJvcGVydHkkMShfZGF0YSRvZmZzZXRzJGFycm93LCBhbHRTaWRlLCAnJyksIF9kYXRhJG9mZnNldHMkYXJyb3cpO1xuXG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIEdldCB0aGUgb3Bwb3NpdGUgcGxhY2VtZW50IHZhcmlhdGlvbiBvZiB0aGUgZ2l2ZW4gb25lXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge1N0cmluZ30gcGxhY2VtZW50IHZhcmlhdGlvblxuICogQHJldHVybnMge1N0cmluZ30gZmxpcHBlZCBwbGFjZW1lbnQgdmFyaWF0aW9uXG4gKi9cbmZ1bmN0aW9uIGdldE9wcG9zaXRlVmFyaWF0aW9uKHZhcmlhdGlvbikge1xuICBpZiAodmFyaWF0aW9uID09PSAnZW5kJykge1xuICAgIHJldHVybiAnc3RhcnQnO1xuICB9IGVsc2UgaWYgKHZhcmlhdGlvbiA9PT0gJ3N0YXJ0Jykge1xuICAgIHJldHVybiAnZW5kJztcbiAgfVxuICByZXR1cm4gdmFyaWF0aW9uO1xufVxuXG4vKipcbiAqIExpc3Qgb2YgYWNjZXB0ZWQgcGxhY2VtZW50cyB0byB1c2UgYXMgdmFsdWVzIG9mIHRoZSBgcGxhY2VtZW50YCBvcHRpb24uPGJyIC8+XG4gKiBWYWxpZCBwbGFjZW1lbnRzIGFyZTpcbiAqIC0gYGF1dG9gXG4gKiAtIGB0b3BgXG4gKiAtIGByaWdodGBcbiAqIC0gYGJvdHRvbWBcbiAqIC0gYGxlZnRgXG4gKlxuICogRWFjaCBwbGFjZW1lbnQgY2FuIGhhdmUgYSB2YXJpYXRpb24gZnJvbSB0aGlzIGxpc3Q6XG4gKiAtIGAtc3RhcnRgXG4gKiAtIGAtZW5kYFxuICpcbiAqIFZhcmlhdGlvbnMgYXJlIGludGVycHJldGVkIGVhc2lseSBpZiB5b3UgdGhpbmsgb2YgdGhlbSBhcyB0aGUgbGVmdCB0byByaWdodFxuICogd3JpdHRlbiBsYW5ndWFnZXMuIEhvcml6b250YWxseSAoYHRvcGAgYW5kIGBib3R0b21gKSwgYHN0YXJ0YCBpcyBsZWZ0IGFuZCBgZW5kYFxuICogaXMgcmlnaHQuPGJyIC8+XG4gKiBWZXJ0aWNhbGx5IChgbGVmdGAgYW5kIGByaWdodGApLCBgc3RhcnRgIGlzIHRvcCBhbmQgYGVuZGAgaXMgYm90dG9tLlxuICpcbiAqIFNvbWUgdmFsaWQgZXhhbXBsZXMgYXJlOlxuICogLSBgdG9wLWVuZGAgKG9uIHRvcCBvZiByZWZlcmVuY2UsIHJpZ2h0IGFsaWduZWQpXG4gKiAtIGByaWdodC1zdGFydGAgKG9uIHJpZ2h0IG9mIHJlZmVyZW5jZSwgdG9wIGFsaWduZWQpXG4gKiAtIGBib3R0b21gIChvbiBib3R0b20sIGNlbnRlcmVkKVxuICogLSBgYXV0by1yaWdodGAgKG9uIHRoZSBzaWRlIHdpdGggbW9yZSBzcGFjZSBhdmFpbGFibGUsIGFsaWdubWVudCBkZXBlbmRzIGJ5IHBsYWNlbWVudClcbiAqXG4gKiBAc3RhdGljXG4gKiBAdHlwZSB7QXJyYXl9XG4gKiBAZW51bSB7U3RyaW5nfVxuICogQHJlYWRvbmx5XG4gKiBAbWV0aG9kIHBsYWNlbWVudHNcbiAqIEBtZW1iZXJvZiBQb3BwZXJcbiAqL1xudmFyIHBsYWNlbWVudHMgPSBbJ2F1dG8tc3RhcnQnLCAnYXV0bycsICdhdXRvLWVuZCcsICd0b3Atc3RhcnQnLCAndG9wJywgJ3RvcC1lbmQnLCAncmlnaHQtc3RhcnQnLCAncmlnaHQnLCAncmlnaHQtZW5kJywgJ2JvdHRvbS1lbmQnLCAnYm90dG9tJywgJ2JvdHRvbS1zdGFydCcsICdsZWZ0LWVuZCcsICdsZWZ0JywgJ2xlZnQtc3RhcnQnXTtcblxuLy8gR2V0IHJpZCBvZiBgYXV0b2AgYGF1dG8tc3RhcnRgIGFuZCBgYXV0by1lbmRgXG52YXIgdmFsaWRQbGFjZW1lbnRzID0gcGxhY2VtZW50cy5zbGljZSgzKTtcblxuLyoqXG4gKiBHaXZlbiBhbiBpbml0aWFsIHBsYWNlbWVudCwgcmV0dXJucyBhbGwgdGhlIHN1YnNlcXVlbnQgcGxhY2VtZW50c1xuICogY2xvY2t3aXNlIChvciBjb3VudGVyLWNsb2Nrd2lzZSkuXG4gKlxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtTdHJpbmd9IHBsYWNlbWVudCAtIEEgdmFsaWQgcGxhY2VtZW50IChpdCBhY2NlcHRzIHZhcmlhdGlvbnMpXG4gKiBAYXJndW1lbnQge0Jvb2xlYW59IGNvdW50ZXIgLSBTZXQgdG8gdHJ1ZSB0byB3YWxrIHRoZSBwbGFjZW1lbnRzIGNvdW50ZXJjbG9ja3dpc2VcbiAqIEByZXR1cm5zIHtBcnJheX0gcGxhY2VtZW50cyBpbmNsdWRpbmcgdGhlaXIgdmFyaWF0aW9uc1xuICovXG5mdW5jdGlvbiBjbG9ja3dpc2UocGxhY2VtZW50KSB7XG4gIHZhciBjb3VudGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcblxuICB2YXIgaW5kZXggPSB2YWxpZFBsYWNlbWVudHMuaW5kZXhPZihwbGFjZW1lbnQpO1xuICB2YXIgYXJyID0gdmFsaWRQbGFjZW1lbnRzLnNsaWNlKGluZGV4ICsgMSkuY29uY2F0KHZhbGlkUGxhY2VtZW50cy5zbGljZSgwLCBpbmRleCkpO1xuICByZXR1cm4gY291bnRlciA/IGFyci5yZXZlcnNlKCkgOiBhcnI7XG59XG5cbnZhciBCRUhBVklPUlMgPSB7XG4gIEZMSVA6ICdmbGlwJyxcbiAgQ0xPQ0tXSVNFOiAnY2xvY2t3aXNlJyxcbiAgQ09VTlRFUkNMT0NLV0lTRTogJ2NvdW50ZXJjbG9ja3dpc2UnXG59O1xuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IHVwZGF0ZSBtZXRob2RcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWRcbiAqL1xuZnVuY3Rpb24gZmxpcChkYXRhLCBvcHRpb25zKSB7XG4gIC8vIGlmIGBpbm5lcmAgbW9kaWZpZXIgaXMgZW5hYmxlZCwgd2UgY2FuJ3QgdXNlIHRoZSBgZmxpcGAgbW9kaWZpZXJcbiAgaWYgKGlzTW9kaWZpZXJFbmFibGVkKGRhdGEuaW5zdGFuY2UubW9kaWZpZXJzLCAnaW5uZXInKSkge1xuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgaWYgKGRhdGEuZmxpcHBlZCAmJiBkYXRhLnBsYWNlbWVudCA9PT0gZGF0YS5vcmlnaW5hbFBsYWNlbWVudCkge1xuICAgIC8vIHNlZW1zIGxpa2UgZmxpcCBpcyB0cnlpbmcgdG8gbG9vcCwgcHJvYmFibHkgdGhlcmUncyBub3QgZW5vdWdoIHNwYWNlIG9uIGFueSBvZiB0aGUgZmxpcHBhYmxlIHNpZGVzXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICB2YXIgYm91bmRhcmllcyA9IGdldEJvdW5kYXJpZXMoZGF0YS5pbnN0YW5jZS5wb3BwZXIsIGRhdGEuaW5zdGFuY2UucmVmZXJlbmNlLCBvcHRpb25zLnBhZGRpbmcsIG9wdGlvbnMuYm91bmRhcmllc0VsZW1lbnQsIGRhdGEucG9zaXRpb25GaXhlZCk7XG5cbiAgdmFyIHBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50LnNwbGl0KCctJylbMF07XG4gIHZhciBwbGFjZW1lbnRPcHBvc2l0ZSA9IGdldE9wcG9zaXRlUGxhY2VtZW50KHBsYWNlbWVudCk7XG4gIHZhciB2YXJpYXRpb24gPSBkYXRhLnBsYWNlbWVudC5zcGxpdCgnLScpWzFdIHx8ICcnO1xuXG4gIHZhciBmbGlwT3JkZXIgPSBbXTtcblxuICBzd2l0Y2ggKG9wdGlvbnMuYmVoYXZpb3IpIHtcbiAgICBjYXNlIEJFSEFWSU9SUy5GTElQOlxuICAgICAgZmxpcE9yZGVyID0gW3BsYWNlbWVudCwgcGxhY2VtZW50T3Bwb3NpdGVdO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBCRUhBVklPUlMuQ0xPQ0tXSVNFOlxuICAgICAgZmxpcE9yZGVyID0gY2xvY2t3aXNlKHBsYWNlbWVudCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEJFSEFWSU9SUy5DT1VOVEVSQ0xPQ0tXSVNFOlxuICAgICAgZmxpcE9yZGVyID0gY2xvY2t3aXNlKHBsYWNlbWVudCwgdHJ1ZSk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgZmxpcE9yZGVyID0gb3B0aW9ucy5iZWhhdmlvcjtcbiAgfVxuXG4gIGZsaXBPcmRlci5mb3JFYWNoKGZ1bmN0aW9uIChzdGVwLCBpbmRleCkge1xuICAgIGlmIChwbGFjZW1lbnQgIT09IHN0ZXAgfHwgZmxpcE9yZGVyLmxlbmd0aCA9PT0gaW5kZXggKyAxKSB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBwbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuICAgIHBsYWNlbWVudE9wcG9zaXRlID0gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocGxhY2VtZW50KTtcblxuICAgIHZhciBwb3BwZXJPZmZzZXRzID0gZGF0YS5vZmZzZXRzLnBvcHBlcjtcbiAgICB2YXIgcmVmT2Zmc2V0cyA9IGRhdGEub2Zmc2V0cy5yZWZlcmVuY2U7XG5cbiAgICAvLyB1c2luZyBmbG9vciBiZWNhdXNlIHRoZSByZWZlcmVuY2Ugb2Zmc2V0cyBtYXkgY29udGFpbiBkZWNpbWFscyB3ZSBhcmUgbm90IGdvaW5nIHRvIGNvbnNpZGVyIGhlcmVcbiAgICB2YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xuICAgIHZhciBvdmVybGFwc1JlZiA9IHBsYWNlbWVudCA9PT0gJ2xlZnQnICYmIGZsb29yKHBvcHBlck9mZnNldHMucmlnaHQpID4gZmxvb3IocmVmT2Zmc2V0cy5sZWZ0KSB8fCBwbGFjZW1lbnQgPT09ICdyaWdodCcgJiYgZmxvb3IocG9wcGVyT2Zmc2V0cy5sZWZ0KSA8IGZsb29yKHJlZk9mZnNldHMucmlnaHQpIHx8IHBsYWNlbWVudCA9PT0gJ3RvcCcgJiYgZmxvb3IocG9wcGVyT2Zmc2V0cy5ib3R0b20pID4gZmxvb3IocmVmT2Zmc2V0cy50b3ApIHx8IHBsYWNlbWVudCA9PT0gJ2JvdHRvbScgJiYgZmxvb3IocG9wcGVyT2Zmc2V0cy50b3ApIDwgZmxvb3IocmVmT2Zmc2V0cy5ib3R0b20pO1xuXG4gICAgdmFyIG92ZXJmbG93c0xlZnQgPSBmbG9vcihwb3BwZXJPZmZzZXRzLmxlZnQpIDwgZmxvb3IoYm91bmRhcmllcy5sZWZ0KTtcbiAgICB2YXIgb3ZlcmZsb3dzUmlnaHQgPSBmbG9vcihwb3BwZXJPZmZzZXRzLnJpZ2h0KSA+IGZsb29yKGJvdW5kYXJpZXMucmlnaHQpO1xuICAgIHZhciBvdmVyZmxvd3NUb3AgPSBmbG9vcihwb3BwZXJPZmZzZXRzLnRvcCkgPCBmbG9vcihib3VuZGFyaWVzLnRvcCk7XG4gICAgdmFyIG92ZXJmbG93c0JvdHRvbSA9IGZsb29yKHBvcHBlck9mZnNldHMuYm90dG9tKSA+IGZsb29yKGJvdW5kYXJpZXMuYm90dG9tKTtcblxuICAgIHZhciBvdmVyZmxvd3NCb3VuZGFyaWVzID0gcGxhY2VtZW50ID09PSAnbGVmdCcgJiYgb3ZlcmZsb3dzTGVmdCB8fCBwbGFjZW1lbnQgPT09ICdyaWdodCcgJiYgb3ZlcmZsb3dzUmlnaHQgfHwgcGxhY2VtZW50ID09PSAndG9wJyAmJiBvdmVyZmxvd3NUb3AgfHwgcGxhY2VtZW50ID09PSAnYm90dG9tJyAmJiBvdmVyZmxvd3NCb3R0b207XG5cbiAgICAvLyBmbGlwIHRoZSB2YXJpYXRpb24gaWYgcmVxdWlyZWRcbiAgICB2YXIgaXNWZXJ0aWNhbCA9IFsndG9wJywgJ2JvdHRvbSddLmluZGV4T2YocGxhY2VtZW50KSAhPT0gLTE7XG4gICAgdmFyIGZsaXBwZWRWYXJpYXRpb24gPSAhIW9wdGlvbnMuZmxpcFZhcmlhdGlvbnMgJiYgKGlzVmVydGljYWwgJiYgdmFyaWF0aW9uID09PSAnc3RhcnQnICYmIG92ZXJmbG93c0xlZnQgfHwgaXNWZXJ0aWNhbCAmJiB2YXJpYXRpb24gPT09ICdlbmQnICYmIG92ZXJmbG93c1JpZ2h0IHx8ICFpc1ZlcnRpY2FsICYmIHZhcmlhdGlvbiA9PT0gJ3N0YXJ0JyAmJiBvdmVyZmxvd3NUb3AgfHwgIWlzVmVydGljYWwgJiYgdmFyaWF0aW9uID09PSAnZW5kJyAmJiBvdmVyZmxvd3NCb3R0b20pO1xuXG4gICAgaWYgKG92ZXJsYXBzUmVmIHx8IG92ZXJmbG93c0JvdW5kYXJpZXMgfHwgZmxpcHBlZFZhcmlhdGlvbikge1xuICAgICAgLy8gdGhpcyBib29sZWFuIHRvIGRldGVjdCBhbnkgZmxpcCBsb29wXG4gICAgICBkYXRhLmZsaXBwZWQgPSB0cnVlO1xuXG4gICAgICBpZiAob3ZlcmxhcHNSZWYgfHwgb3ZlcmZsb3dzQm91bmRhcmllcykge1xuICAgICAgICBwbGFjZW1lbnQgPSBmbGlwT3JkZXJbaW5kZXggKyAxXTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZsaXBwZWRWYXJpYXRpb24pIHtcbiAgICAgICAgdmFyaWF0aW9uID0gZ2V0T3Bwb3NpdGVWYXJpYXRpb24odmFyaWF0aW9uKTtcbiAgICAgIH1cblxuICAgICAgZGF0YS5wbGFjZW1lbnQgPSBwbGFjZW1lbnQgKyAodmFyaWF0aW9uID8gJy0nICsgdmFyaWF0aW9uIDogJycpO1xuXG4gICAgICAvLyB0aGlzIG9iamVjdCBjb250YWlucyBgcG9zaXRpb25gLCB3ZSB3YW50IHRvIHByZXNlcnZlIGl0IGFsb25nIHdpdGhcbiAgICAgIC8vIGFueSBhZGRpdGlvbmFsIHByb3BlcnR5IHdlIG1heSBhZGQgaW4gdGhlIGZ1dHVyZVxuICAgICAgZGF0YS5vZmZzZXRzLnBvcHBlciA9IF9leHRlbmRzJDEoe30sIGRhdGEub2Zmc2V0cy5wb3BwZXIsIGdldFBvcHBlck9mZnNldHMoZGF0YS5pbnN0YW5jZS5wb3BwZXIsIGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UsIGRhdGEucGxhY2VtZW50KSk7XG5cbiAgICAgIGRhdGEgPSBydW5Nb2RpZmllcnMoZGF0YS5pbnN0YW5jZS5tb2RpZmllcnMsIGRhdGEsICdmbGlwJyk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgdXBkYXRlIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBrZWVwVG9nZXRoZXIoZGF0YSkge1xuICB2YXIgX2RhdGEkb2Zmc2V0cyA9IGRhdGEub2Zmc2V0cyxcbiAgICAgIHBvcHBlciA9IF9kYXRhJG9mZnNldHMucG9wcGVyLFxuICAgICAgcmVmZXJlbmNlID0gX2RhdGEkb2Zmc2V0cy5yZWZlcmVuY2U7XG5cbiAgdmFyIHBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50LnNwbGl0KCctJylbMF07XG4gIHZhciBmbG9vciA9IE1hdGguZmxvb3I7XG4gIHZhciBpc1ZlcnRpY2FsID0gWyd0b3AnLCAnYm90dG9tJ10uaW5kZXhPZihwbGFjZW1lbnQpICE9PSAtMTtcbiAgdmFyIHNpZGUgPSBpc1ZlcnRpY2FsID8gJ3JpZ2h0JyA6ICdib3R0b20nO1xuICB2YXIgb3BTaWRlID0gaXNWZXJ0aWNhbCA/ICdsZWZ0JyA6ICd0b3AnO1xuICB2YXIgbWVhc3VyZW1lbnQgPSBpc1ZlcnRpY2FsID8gJ3dpZHRoJyA6ICdoZWlnaHQnO1xuXG4gIGlmIChwb3BwZXJbc2lkZV0gPCBmbG9vcihyZWZlcmVuY2Vbb3BTaWRlXSkpIHtcbiAgICBkYXRhLm9mZnNldHMucG9wcGVyW29wU2lkZV0gPSBmbG9vcihyZWZlcmVuY2Vbb3BTaWRlXSkgLSBwb3BwZXJbbWVhc3VyZW1lbnRdO1xuICB9XG4gIGlmIChwb3BwZXJbb3BTaWRlXSA+IGZsb29yKHJlZmVyZW5jZVtzaWRlXSkpIHtcbiAgICBkYXRhLm9mZnNldHMucG9wcGVyW29wU2lkZV0gPSBmbG9vcihyZWZlcmVuY2Vbc2lkZV0pO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBzdHJpbmcgY29udGFpbmluZyB2YWx1ZSArIHVuaXQgaW50byBhIHB4IHZhbHVlIG51bWJlclxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2Yge21vZGlmaWVyc35vZmZzZXR9XG4gKiBAcHJpdmF0ZVxuICogQGFyZ3VtZW50IHtTdHJpbmd9IHN0ciAtIFZhbHVlICsgdW5pdCBzdHJpbmdcbiAqIEBhcmd1bWVudCB7U3RyaW5nfSBtZWFzdXJlbWVudCAtIGBoZWlnaHRgIG9yIGB3aWR0aGBcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBwb3BwZXJPZmZzZXRzXG4gKiBAYXJndW1lbnQge09iamVjdH0gcmVmZXJlbmNlT2Zmc2V0c1xuICogQHJldHVybnMge051bWJlcnxTdHJpbmd9XG4gKiBWYWx1ZSBpbiBwaXhlbHMsIG9yIG9yaWdpbmFsIHN0cmluZyBpZiBubyB2YWx1ZXMgd2VyZSBleHRyYWN0ZWRcbiAqL1xuZnVuY3Rpb24gdG9WYWx1ZShzdHIsIG1lYXN1cmVtZW50LCBwb3BwZXJPZmZzZXRzLCByZWZlcmVuY2VPZmZzZXRzKSB7XG4gIC8vIHNlcGFyYXRlIHZhbHVlIGZyb20gdW5pdFxuICB2YXIgc3BsaXQgPSBzdHIubWF0Y2goLygoPzpcXC18XFwrKT9cXGQqXFwuP1xcZCopKC4qKS8pO1xuICB2YXIgdmFsdWUgPSArc3BsaXRbMV07XG4gIHZhciB1bml0ID0gc3BsaXRbMl07XG5cbiAgLy8gSWYgaXQncyBub3QgYSBudW1iZXIgaXQncyBhbiBvcGVyYXRvciwgSSBndWVzc1xuICBpZiAoIXZhbHVlKSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuXG4gIGlmICh1bml0LmluZGV4T2YoJyUnKSA9PT0gMCkge1xuICAgIHZhciBlbGVtZW50ID0gdm9pZCAwO1xuICAgIHN3aXRjaCAodW5pdCkge1xuICAgICAgY2FzZSAnJXAnOlxuICAgICAgICBlbGVtZW50ID0gcG9wcGVyT2Zmc2V0cztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICclJzpcbiAgICAgIGNhc2UgJyVyJzpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGVsZW1lbnQgPSByZWZlcmVuY2VPZmZzZXRzO1xuICAgIH1cblxuICAgIHZhciByZWN0ID0gZ2V0Q2xpZW50UmVjdChlbGVtZW50KTtcbiAgICByZXR1cm4gcmVjdFttZWFzdXJlbWVudF0gLyAxMDAgKiB2YWx1ZTtcbiAgfSBlbHNlIGlmICh1bml0ID09PSAndmgnIHx8IHVuaXQgPT09ICd2dycpIHtcbiAgICAvLyBpZiBpcyBhIHZoIG9yIHZ3LCB3ZSBjYWxjdWxhdGUgdGhlIHNpemUgYmFzZWQgb24gdGhlIHZpZXdwb3J0XG4gICAgdmFyIHNpemUgPSB2b2lkIDA7XG4gICAgaWYgKHVuaXQgPT09ICd2aCcpIHtcbiAgICAgIHNpemUgPSBNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LCB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNpemUgPSBNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsIHdpbmRvdy5pbm5lcldpZHRoIHx8IDApO1xuICAgIH1cbiAgICByZXR1cm4gc2l6ZSAvIDEwMCAqIHZhbHVlO1xuICB9IGVsc2Uge1xuICAgIC8vIGlmIGlzIGFuIGV4cGxpY2l0IHBpeGVsIHVuaXQsIHdlIGdldCByaWQgb2YgdGhlIHVuaXQgYW5kIGtlZXAgdGhlIHZhbHVlXG4gICAgLy8gaWYgaXMgYW4gaW1wbGljaXQgdW5pdCwgaXQncyBweCwgYW5kIHdlIHJldHVybiBqdXN0IHRoZSB2YWx1ZVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufVxuXG4vKipcbiAqIFBhcnNlIGFuIGBvZmZzZXRgIHN0cmluZyB0byBleHRyYXBvbGF0ZSBgeGAgYW5kIGB5YCBudW1lcmljIG9mZnNldHMuXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiB7bW9kaWZpZXJzfm9mZnNldH1cbiAqIEBwcml2YXRlXG4gKiBAYXJndW1lbnQge1N0cmluZ30gb2Zmc2V0XG4gKiBAYXJndW1lbnQge09iamVjdH0gcG9wcGVyT2Zmc2V0c1xuICogQGFyZ3VtZW50IHtPYmplY3R9IHJlZmVyZW5jZU9mZnNldHNcbiAqIEBhcmd1bWVudCB7U3RyaW5nfSBiYXNlUGxhY2VtZW50XG4gKiBAcmV0dXJucyB7QXJyYXl9IGEgdHdvIGNlbGxzIGFycmF5IHdpdGggeCBhbmQgeSBvZmZzZXRzIGluIG51bWJlcnNcbiAqL1xuZnVuY3Rpb24gcGFyc2VPZmZzZXQob2Zmc2V0LCBwb3BwZXJPZmZzZXRzLCByZWZlcmVuY2VPZmZzZXRzLCBiYXNlUGxhY2VtZW50KSB7XG4gIHZhciBvZmZzZXRzID0gWzAsIDBdO1xuXG4gIC8vIFVzZSBoZWlnaHQgaWYgcGxhY2VtZW50IGlzIGxlZnQgb3IgcmlnaHQgYW5kIGluZGV4IGlzIDAgb3RoZXJ3aXNlIHVzZSB3aWR0aFxuICAvLyBpbiB0aGlzIHdheSB0aGUgZmlyc3Qgb2Zmc2V0IHdpbGwgdXNlIGFuIGF4aXMgYW5kIHRoZSBzZWNvbmQgb25lXG4gIC8vIHdpbGwgdXNlIHRoZSBvdGhlciBvbmVcbiAgdmFyIHVzZUhlaWdodCA9IFsncmlnaHQnLCAnbGVmdCddLmluZGV4T2YoYmFzZVBsYWNlbWVudCkgIT09IC0xO1xuXG4gIC8vIFNwbGl0IHRoZSBvZmZzZXQgc3RyaW5nIHRvIG9idGFpbiBhIGxpc3Qgb2YgdmFsdWVzIGFuZCBvcGVyYW5kc1xuICAvLyBUaGUgcmVnZXggYWRkcmVzc2VzIHZhbHVlcyB3aXRoIHRoZSBwbHVzIG9yIG1pbnVzIHNpZ24gaW4gZnJvbnQgKCsxMCwgLTIwLCBldGMpXG4gIHZhciBmcmFnbWVudHMgPSBvZmZzZXQuc3BsaXQoLyhcXCt8XFwtKS8pLm1hcChmdW5jdGlvbiAoZnJhZykge1xuICAgIHJldHVybiBmcmFnLnRyaW0oKTtcbiAgfSk7XG5cbiAgLy8gRGV0ZWN0IGlmIHRoZSBvZmZzZXQgc3RyaW5nIGNvbnRhaW5zIGEgcGFpciBvZiB2YWx1ZXMgb3IgYSBzaW5nbGUgb25lXG4gIC8vIHRoZXkgY291bGQgYmUgc2VwYXJhdGVkIGJ5IGNvbW1hIG9yIHNwYWNlXG4gIHZhciBkaXZpZGVyID0gZnJhZ21lbnRzLmluZGV4T2YoZmluZChmcmFnbWVudHMsIGZ1bmN0aW9uIChmcmFnKSB7XG4gICAgcmV0dXJuIGZyYWcuc2VhcmNoKC8sfFxccy8pICE9PSAtMTtcbiAgfSkpO1xuXG4gIGlmIChmcmFnbWVudHNbZGl2aWRlcl0gJiYgZnJhZ21lbnRzW2RpdmlkZXJdLmluZGV4T2YoJywnKSA9PT0gLTEpIHtcbiAgICBjb25zb2xlLndhcm4oJ09mZnNldHMgc2VwYXJhdGVkIGJ5IHdoaXRlIHNwYWNlKHMpIGFyZSBkZXByZWNhdGVkLCB1c2UgYSBjb21tYSAoLCkgaW5zdGVhZC4nKTtcbiAgfVxuXG4gIC8vIElmIGRpdmlkZXIgaXMgZm91bmQsIHdlIGRpdmlkZSB0aGUgbGlzdCBvZiB2YWx1ZXMgYW5kIG9wZXJhbmRzIHRvIGRpdmlkZVxuICAvLyB0aGVtIGJ5IG9mc2V0IFggYW5kIFkuXG4gIHZhciBzcGxpdFJlZ2V4ID0gL1xccyosXFxzKnxcXHMrLztcbiAgdmFyIG9wcyA9IGRpdmlkZXIgIT09IC0xID8gW2ZyYWdtZW50cy5zbGljZSgwLCBkaXZpZGVyKS5jb25jYXQoW2ZyYWdtZW50c1tkaXZpZGVyXS5zcGxpdChzcGxpdFJlZ2V4KVswXV0pLCBbZnJhZ21lbnRzW2RpdmlkZXJdLnNwbGl0KHNwbGl0UmVnZXgpWzFdXS5jb25jYXQoZnJhZ21lbnRzLnNsaWNlKGRpdmlkZXIgKyAxKSldIDogW2ZyYWdtZW50c107XG5cbiAgLy8gQ29udmVydCB0aGUgdmFsdWVzIHdpdGggdW5pdHMgdG8gYWJzb2x1dGUgcGl4ZWxzIHRvIGFsbG93IG91ciBjb21wdXRhdGlvbnNcbiAgb3BzID0gb3BzLm1hcChmdW5jdGlvbiAob3AsIGluZGV4KSB7XG4gICAgLy8gTW9zdCBvZiB0aGUgdW5pdHMgcmVseSBvbiB0aGUgb3JpZW50YXRpb24gb2YgdGhlIHBvcHBlclxuICAgIHZhciBtZWFzdXJlbWVudCA9IChpbmRleCA9PT0gMSA/ICF1c2VIZWlnaHQgOiB1c2VIZWlnaHQpID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuICAgIHZhciBtZXJnZVdpdGhQcmV2aW91cyA9IGZhbHNlO1xuICAgIHJldHVybiBvcFxuICAgIC8vIFRoaXMgYWdncmVnYXRlcyBhbnkgYCtgIG9yIGAtYCBzaWduIHRoYXQgYXJlbid0IGNvbnNpZGVyZWQgb3BlcmF0b3JzXG4gICAgLy8gZS5nLjogMTAgKyArNSA9PiBbMTAsICssICs1XVxuICAgIC5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIGlmIChhW2EubGVuZ3RoIC0gMV0gPT09ICcnICYmIFsnKycsICctJ10uaW5kZXhPZihiKSAhPT0gLTEpIHtcbiAgICAgICAgYVthLmxlbmd0aCAtIDFdID0gYjtcbiAgICAgICAgbWVyZ2VXaXRoUHJldmlvdXMgPSB0cnVlO1xuICAgICAgICByZXR1cm4gYTtcbiAgICAgIH0gZWxzZSBpZiAobWVyZ2VXaXRoUHJldmlvdXMpIHtcbiAgICAgICAgYVthLmxlbmd0aCAtIDFdICs9IGI7XG4gICAgICAgIG1lcmdlV2l0aFByZXZpb3VzID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBhO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGEuY29uY2F0KGIpO1xuICAgICAgfVxuICAgIH0sIFtdKVxuICAgIC8vIEhlcmUgd2UgY29udmVydCB0aGUgc3RyaW5nIHZhbHVlcyBpbnRvIG51bWJlciB2YWx1ZXMgKGluIHB4KVxuICAgIC5tYXAoZnVuY3Rpb24gKHN0cikge1xuICAgICAgcmV0dXJuIHRvVmFsdWUoc3RyLCBtZWFzdXJlbWVudCwgcG9wcGVyT2Zmc2V0cywgcmVmZXJlbmNlT2Zmc2V0cyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIExvb3AgdHJvdWdoIHRoZSBvZmZzZXRzIGFycmF5cyBhbmQgZXhlY3V0ZSB0aGUgb3BlcmF0aW9uc1xuICBvcHMuZm9yRWFjaChmdW5jdGlvbiAob3AsIGluZGV4KSB7XG4gICAgb3AuZm9yRWFjaChmdW5jdGlvbiAoZnJhZywgaW5kZXgyKSB7XG4gICAgICBpZiAoaXNOdW1lcmljKGZyYWcpKSB7XG4gICAgICAgIG9mZnNldHNbaW5kZXhdICs9IGZyYWcgKiAob3BbaW5kZXgyIC0gMV0gPT09ICctJyA/IC0xIDogMSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gb2Zmc2V0cztcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBNb2RpZmllcnNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSB1cGRhdGUgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAYXJndW1lbnQge051bWJlcnxTdHJpbmd9IG9wdGlvbnMub2Zmc2V0PTBcbiAqIFRoZSBvZmZzZXQgdmFsdWUgYXMgZGVzY3JpYmVkIGluIHRoZSBtb2RpZmllciBkZXNjcmlwdGlvblxuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBvZmZzZXQoZGF0YSwgX3JlZikge1xuICB2YXIgb2Zmc2V0ID0gX3JlZi5vZmZzZXQ7XG4gIHZhciBwbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudCxcbiAgICAgIF9kYXRhJG9mZnNldHMgPSBkYXRhLm9mZnNldHMsXG4gICAgICBwb3BwZXIgPSBfZGF0YSRvZmZzZXRzLnBvcHBlcixcbiAgICAgIHJlZmVyZW5jZSA9IF9kYXRhJG9mZnNldHMucmVmZXJlbmNlO1xuXG4gIHZhciBiYXNlUGxhY2VtZW50ID0gcGxhY2VtZW50LnNwbGl0KCctJylbMF07XG5cbiAgdmFyIG9mZnNldHMgPSB2b2lkIDA7XG4gIGlmIChpc051bWVyaWMoK29mZnNldCkpIHtcbiAgICBvZmZzZXRzID0gWytvZmZzZXQsIDBdO1xuICB9IGVsc2Uge1xuICAgIG9mZnNldHMgPSBwYXJzZU9mZnNldChvZmZzZXQsIHBvcHBlciwgcmVmZXJlbmNlLCBiYXNlUGxhY2VtZW50KTtcbiAgfVxuXG4gIGlmIChiYXNlUGxhY2VtZW50ID09PSAnbGVmdCcpIHtcbiAgICBwb3BwZXIudG9wICs9IG9mZnNldHNbMF07XG4gICAgcG9wcGVyLmxlZnQgLT0gb2Zmc2V0c1sxXTtcbiAgfSBlbHNlIGlmIChiYXNlUGxhY2VtZW50ID09PSAncmlnaHQnKSB7XG4gICAgcG9wcGVyLnRvcCArPSBvZmZzZXRzWzBdO1xuICAgIHBvcHBlci5sZWZ0ICs9IG9mZnNldHNbMV07XG4gIH0gZWxzZSBpZiAoYmFzZVBsYWNlbWVudCA9PT0gJ3RvcCcpIHtcbiAgICBwb3BwZXIubGVmdCArPSBvZmZzZXRzWzBdO1xuICAgIHBvcHBlci50b3AgLT0gb2Zmc2V0c1sxXTtcbiAgfSBlbHNlIGlmIChiYXNlUGxhY2VtZW50ID09PSAnYm90dG9tJykge1xuICAgIHBvcHBlci5sZWZ0ICs9IG9mZnNldHNbMF07XG4gICAgcG9wcGVyLnRvcCArPSBvZmZzZXRzWzFdO1xuICB9XG5cbiAgZGF0YS5wb3BwZXIgPSBwb3BwZXI7XG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IGB1cGRhdGVgIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBwcmV2ZW50T3ZlcmZsb3coZGF0YSwgb3B0aW9ucykge1xuICB2YXIgYm91bmRhcmllc0VsZW1lbnQgPSBvcHRpb25zLmJvdW5kYXJpZXNFbGVtZW50IHx8IGdldE9mZnNldFBhcmVudChkYXRhLmluc3RhbmNlLnBvcHBlcik7XG5cbiAgLy8gSWYgb2Zmc2V0UGFyZW50IGlzIHRoZSByZWZlcmVuY2UgZWxlbWVudCwgd2UgcmVhbGx5IHdhbnQgdG9cbiAgLy8gZ28gb25lIHN0ZXAgdXAgYW5kIHVzZSB0aGUgbmV4dCBvZmZzZXRQYXJlbnQgYXMgcmVmZXJlbmNlIHRvXG4gIC8vIGF2b2lkIHRvIG1ha2UgdGhpcyBtb2RpZmllciBjb21wbGV0ZWx5IHVzZWxlc3MgYW5kIGxvb2sgbGlrZSBicm9rZW5cbiAgaWYgKGRhdGEuaW5zdGFuY2UucmVmZXJlbmNlID09PSBib3VuZGFyaWVzRWxlbWVudCkge1xuICAgIGJvdW5kYXJpZXNFbGVtZW50ID0gZ2V0T2Zmc2V0UGFyZW50KGJvdW5kYXJpZXNFbGVtZW50KTtcbiAgfVxuXG4gIC8vIE5PVEU6IERPTSBhY2Nlc3MgaGVyZVxuICAvLyByZXNldHMgdGhlIHBvcHBlcidzIHBvc2l0aW9uIHNvIHRoYXQgdGhlIGRvY3VtZW50IHNpemUgY2FuIGJlIGNhbGN1bGF0ZWQgZXhjbHVkaW5nXG4gIC8vIHRoZSBzaXplIG9mIHRoZSBwb3BwZXIgZWxlbWVudCBpdHNlbGZcbiAgdmFyIHRyYW5zZm9ybVByb3AgPSBnZXRTdXBwb3J0ZWRQcm9wZXJ0eU5hbWUoJ3RyYW5zZm9ybScpO1xuICB2YXIgcG9wcGVyU3R5bGVzID0gZGF0YS5pbnN0YW5jZS5wb3BwZXIuc3R5bGU7IC8vIGFzc2lnbm1lbnQgdG8gaGVscCBtaW5pZmljYXRpb25cbiAgdmFyIHRvcCA9IHBvcHBlclN0eWxlcy50b3AsXG4gICAgICBsZWZ0ID0gcG9wcGVyU3R5bGVzLmxlZnQsXG4gICAgICB0cmFuc2Zvcm0gPSBwb3BwZXJTdHlsZXNbdHJhbnNmb3JtUHJvcF07XG5cbiAgcG9wcGVyU3R5bGVzLnRvcCA9ICcnO1xuICBwb3BwZXJTdHlsZXMubGVmdCA9ICcnO1xuICBwb3BwZXJTdHlsZXNbdHJhbnNmb3JtUHJvcF0gPSAnJztcblxuICB2YXIgYm91bmRhcmllcyA9IGdldEJvdW5kYXJpZXMoZGF0YS5pbnN0YW5jZS5wb3BwZXIsIGRhdGEuaW5zdGFuY2UucmVmZXJlbmNlLCBvcHRpb25zLnBhZGRpbmcsIGJvdW5kYXJpZXNFbGVtZW50LCBkYXRhLnBvc2l0aW9uRml4ZWQpO1xuXG4gIC8vIE5PVEU6IERPTSBhY2Nlc3MgaGVyZVxuICAvLyByZXN0b3JlcyB0aGUgb3JpZ2luYWwgc3R5bGUgcHJvcGVydGllcyBhZnRlciB0aGUgb2Zmc2V0cyBoYXZlIGJlZW4gY29tcHV0ZWRcbiAgcG9wcGVyU3R5bGVzLnRvcCA9IHRvcDtcbiAgcG9wcGVyU3R5bGVzLmxlZnQgPSBsZWZ0O1xuICBwb3BwZXJTdHlsZXNbdHJhbnNmb3JtUHJvcF0gPSB0cmFuc2Zvcm07XG5cbiAgb3B0aW9ucy5ib3VuZGFyaWVzID0gYm91bmRhcmllcztcblxuICB2YXIgb3JkZXIgPSBvcHRpb25zLnByaW9yaXR5O1xuICB2YXIgcG9wcGVyID0gZGF0YS5vZmZzZXRzLnBvcHBlcjtcblxuICB2YXIgY2hlY2sgPSB7XG4gICAgcHJpbWFyeTogZnVuY3Rpb24gcHJpbWFyeShwbGFjZW1lbnQpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHBvcHBlcltwbGFjZW1lbnRdO1xuICAgICAgaWYgKHBvcHBlcltwbGFjZW1lbnRdIDwgYm91bmRhcmllc1twbGFjZW1lbnRdICYmICFvcHRpb25zLmVzY2FwZVdpdGhSZWZlcmVuY2UpIHtcbiAgICAgICAgdmFsdWUgPSBNYXRoLm1heChwb3BwZXJbcGxhY2VtZW50XSwgYm91bmRhcmllc1twbGFjZW1lbnRdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWZpbmVQcm9wZXJ0eSQxKHt9LCBwbGFjZW1lbnQsIHZhbHVlKTtcbiAgICB9LFxuICAgIHNlY29uZGFyeTogZnVuY3Rpb24gc2Vjb25kYXJ5KHBsYWNlbWVudCkge1xuICAgICAgdmFyIG1haW5TaWRlID0gcGxhY2VtZW50ID09PSAncmlnaHQnID8gJ2xlZnQnIDogJ3RvcCc7XG4gICAgICB2YXIgdmFsdWUgPSBwb3BwZXJbbWFpblNpZGVdO1xuICAgICAgaWYgKHBvcHBlcltwbGFjZW1lbnRdID4gYm91bmRhcmllc1twbGFjZW1lbnRdICYmICFvcHRpb25zLmVzY2FwZVdpdGhSZWZlcmVuY2UpIHtcbiAgICAgICAgdmFsdWUgPSBNYXRoLm1pbihwb3BwZXJbbWFpblNpZGVdLCBib3VuZGFyaWVzW3BsYWNlbWVudF0gLSAocGxhY2VtZW50ID09PSAncmlnaHQnID8gcG9wcGVyLndpZHRoIDogcG9wcGVyLmhlaWdodCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlZmluZVByb3BlcnR5JDEoe30sIG1haW5TaWRlLCB2YWx1ZSk7XG4gICAgfVxuICB9O1xuXG4gIG9yZGVyLmZvckVhY2goZnVuY3Rpb24gKHBsYWNlbWVudCkge1xuICAgIHZhciBzaWRlID0gWydsZWZ0JywgJ3RvcCddLmluZGV4T2YocGxhY2VtZW50KSAhPT0gLTEgPyAncHJpbWFyeScgOiAnc2Vjb25kYXJ5JztcbiAgICBwb3BwZXIgPSBfZXh0ZW5kcyQxKHt9LCBwb3BwZXIsIGNoZWNrW3NpZGVdKHBsYWNlbWVudCkpO1xuICB9KTtcblxuICBkYXRhLm9mZnNldHMucG9wcGVyID0gcG9wcGVyO1xuXG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IGB1cGRhdGVgIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBzaGlmdChkYXRhKSB7XG4gIHZhciBwbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudDtcbiAgdmFyIGJhc2VQbGFjZW1lbnQgPSBwbGFjZW1lbnQuc3BsaXQoJy0nKVswXTtcbiAgdmFyIHNoaWZ0dmFyaWF0aW9uID0gcGxhY2VtZW50LnNwbGl0KCctJylbMV07XG5cbiAgLy8gaWYgc2hpZnQgc2hpZnR2YXJpYXRpb24gaXMgc3BlY2lmaWVkLCBydW4gdGhlIG1vZGlmaWVyXG4gIGlmIChzaGlmdHZhcmlhdGlvbikge1xuICAgIHZhciBfZGF0YSRvZmZzZXRzID0gZGF0YS5vZmZzZXRzLFxuICAgICAgICByZWZlcmVuY2UgPSBfZGF0YSRvZmZzZXRzLnJlZmVyZW5jZSxcbiAgICAgICAgcG9wcGVyID0gX2RhdGEkb2Zmc2V0cy5wb3BwZXI7XG5cbiAgICB2YXIgaXNWZXJ0aWNhbCA9IFsnYm90dG9tJywgJ3RvcCddLmluZGV4T2YoYmFzZVBsYWNlbWVudCkgIT09IC0xO1xuICAgIHZhciBzaWRlID0gaXNWZXJ0aWNhbCA/ICdsZWZ0JyA6ICd0b3AnO1xuICAgIHZhciBtZWFzdXJlbWVudCA9IGlzVmVydGljYWwgPyAnd2lkdGgnIDogJ2hlaWdodCc7XG5cbiAgICB2YXIgc2hpZnRPZmZzZXRzID0ge1xuICAgICAgc3RhcnQ6IGRlZmluZVByb3BlcnR5JDEoe30sIHNpZGUsIHJlZmVyZW5jZVtzaWRlXSksXG4gICAgICBlbmQ6IGRlZmluZVByb3BlcnR5JDEoe30sIHNpZGUsIHJlZmVyZW5jZVtzaWRlXSArIHJlZmVyZW5jZVttZWFzdXJlbWVudF0gLSBwb3BwZXJbbWVhc3VyZW1lbnRdKVxuICAgIH07XG5cbiAgICBkYXRhLm9mZnNldHMucG9wcGVyID0gX2V4dGVuZHMkMSh7fSwgcG9wcGVyLCBzaGlmdE9mZnNldHNbc2hpZnR2YXJpYXRpb25dKTtcbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IHVwZGF0ZSBtZXRob2RcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWRcbiAqL1xuZnVuY3Rpb24gaGlkZShkYXRhKSB7XG4gIGlmICghaXNNb2RpZmllclJlcXVpcmVkKGRhdGEuaW5zdGFuY2UubW9kaWZpZXJzLCAnaGlkZScsICdwcmV2ZW50T3ZlcmZsb3cnKSkge1xuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgdmFyIHJlZlJlY3QgPSBkYXRhLm9mZnNldHMucmVmZXJlbmNlO1xuICB2YXIgYm91bmQgPSBmaW5kKGRhdGEuaW5zdGFuY2UubW9kaWZpZXJzLCBmdW5jdGlvbiAobW9kaWZpZXIpIHtcbiAgICByZXR1cm4gbW9kaWZpZXIubmFtZSA9PT0gJ3ByZXZlbnRPdmVyZmxvdyc7XG4gIH0pLmJvdW5kYXJpZXM7XG5cbiAgaWYgKHJlZlJlY3QuYm90dG9tIDwgYm91bmQudG9wIHx8IHJlZlJlY3QubGVmdCA+IGJvdW5kLnJpZ2h0IHx8IHJlZlJlY3QudG9wID4gYm91bmQuYm90dG9tIHx8IHJlZlJlY3QucmlnaHQgPCBib3VuZC5sZWZ0KSB7XG4gICAgLy8gQXZvaWQgdW5uZWNlc3NhcnkgRE9NIGFjY2VzcyBpZiB2aXNpYmlsaXR5IGhhc24ndCBjaGFuZ2VkXG4gICAgaWYgKGRhdGEuaGlkZSA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgZGF0YS5oaWRlID0gdHJ1ZTtcbiAgICBkYXRhLmF0dHJpYnV0ZXNbJ3gtb3V0LW9mLWJvdW5kYXJpZXMnXSA9ICcnO1xuICB9IGVsc2Uge1xuICAgIC8vIEF2b2lkIHVubmVjZXNzYXJ5IERPTSBhY2Nlc3MgaWYgdmlzaWJpbGl0eSBoYXNuJ3QgY2hhbmdlZFxuICAgIGlmIChkYXRhLmhpZGUgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBkYXRhLmhpZGUgPSBmYWxzZTtcbiAgICBkYXRhLmF0dHJpYnV0ZXNbJ3gtb3V0LW9mLWJvdW5kYXJpZXMnXSA9IGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgYHVwZGF0ZWAgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cbmZ1bmN0aW9uIGlubmVyKGRhdGEpIHtcbiAgdmFyIHBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50O1xuICB2YXIgYmFzZVBsYWNlbWVudCA9IHBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuICB2YXIgX2RhdGEkb2Zmc2V0cyA9IGRhdGEub2Zmc2V0cyxcbiAgICAgIHBvcHBlciA9IF9kYXRhJG9mZnNldHMucG9wcGVyLFxuICAgICAgcmVmZXJlbmNlID0gX2RhdGEkb2Zmc2V0cy5yZWZlcmVuY2U7XG5cbiAgdmFyIGlzSG9yaXogPSBbJ2xlZnQnLCAncmlnaHQnXS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpICE9PSAtMTtcblxuICB2YXIgc3VidHJhY3RMZW5ndGggPSBbJ3RvcCcsICdsZWZ0J10uaW5kZXhPZihiYXNlUGxhY2VtZW50KSA9PT0gLTE7XG5cbiAgcG9wcGVyW2lzSG9yaXogPyAnbGVmdCcgOiAndG9wJ10gPSByZWZlcmVuY2VbYmFzZVBsYWNlbWVudF0gLSAoc3VidHJhY3RMZW5ndGggPyBwb3BwZXJbaXNIb3JpeiA/ICd3aWR0aCcgOiAnaGVpZ2h0J10gOiAwKTtcblxuICBkYXRhLnBsYWNlbWVudCA9IGdldE9wcG9zaXRlUGxhY2VtZW50KHBsYWNlbWVudCk7XG4gIGRhdGEub2Zmc2V0cy5wb3BwZXIgPSBnZXRDbGllbnRSZWN0KHBvcHBlcik7XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogTW9kaWZpZXIgZnVuY3Rpb24sIGVhY2ggbW9kaWZpZXIgY2FuIGhhdmUgYSBmdW5jdGlvbiBvZiB0aGlzIHR5cGUgYXNzaWduZWRcbiAqIHRvIGl0cyBgZm5gIHByb3BlcnR5LjxiciAvPlxuICogVGhlc2UgZnVuY3Rpb25zIHdpbGwgYmUgY2FsbGVkIG9uIGVhY2ggdXBkYXRlLCB0aGlzIG1lYW5zIHRoYXQgeW91IG11c3RcbiAqIG1ha2Ugc3VyZSB0aGV5IGFyZSBwZXJmb3JtYW50IGVub3VnaCB0byBhdm9pZCBwZXJmb3JtYW5jZSBib3R0bGVuZWNrcy5cbiAqXG4gKiBAZnVuY3Rpb24gTW9kaWZpZXJGblxuICogQGFyZ3VtZW50IHtkYXRhT2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSBgdXBkYXRlYCBtZXRob2RcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtkYXRhT2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cblxuLyoqXG4gKiBNb2RpZmllcnMgYXJlIHBsdWdpbnMgdXNlZCB0byBhbHRlciB0aGUgYmVoYXZpb3Igb2YgeW91ciBwb3BwZXJzLjxiciAvPlxuICogUG9wcGVyLmpzIHVzZXMgYSBzZXQgb2YgOSBtb2RpZmllcnMgdG8gcHJvdmlkZSBhbGwgdGhlIGJhc2ljIGZ1bmN0aW9uYWxpdGllc1xuICogbmVlZGVkIGJ5IHRoZSBsaWJyYXJ5LlxuICpcbiAqIFVzdWFsbHkgeW91IGRvbid0IHdhbnQgdG8gb3ZlcnJpZGUgdGhlIGBvcmRlcmAsIGBmbmAgYW5kIGBvbkxvYWRgIHByb3BzLlxuICogQWxsIHRoZSBvdGhlciBwcm9wZXJ0aWVzIGFyZSBjb25maWd1cmF0aW9ucyB0aGF0IGNvdWxkIGJlIHR3ZWFrZWQuXG4gKiBAbmFtZXNwYWNlIG1vZGlmaWVyc1xuICovXG52YXIgbW9kaWZpZXJzID0ge1xuICAvKipcbiAgICogTW9kaWZpZXIgdXNlZCB0byBzaGlmdCB0aGUgcG9wcGVyIG9uIHRoZSBzdGFydCBvciBlbmQgb2YgaXRzIHJlZmVyZW5jZVxuICAgKiBlbGVtZW50LjxiciAvPlxuICAgKiBJdCB3aWxsIHJlYWQgdGhlIHZhcmlhdGlvbiBvZiB0aGUgYHBsYWNlbWVudGAgcHJvcGVydHkuPGJyIC8+XG4gICAqIEl0IGNhbiBiZSBvbmUgZWl0aGVyIGAtZW5kYCBvciBgLXN0YXJ0YC5cbiAgICogQG1lbWJlcm9mIG1vZGlmaWVyc1xuICAgKiBAaW5uZXJcbiAgICovXG4gIHNoaWZ0OiB7XG4gICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTEwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICBvcmRlcjogMTAwLFxuICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICBmbjogc2hpZnRcbiAgfSxcblxuICAvKipcbiAgICogVGhlIGBvZmZzZXRgIG1vZGlmaWVyIGNhbiBzaGlmdCB5b3VyIHBvcHBlciBvbiBib3RoIGl0cyBheGlzLlxuICAgKlxuICAgKiBJdCBhY2NlcHRzIHRoZSBmb2xsb3dpbmcgdW5pdHM6XG4gICAqIC0gYHB4YCBvciB1bml0bGVzcywgaW50ZXJwcmV0ZWQgYXMgcGl4ZWxzXG4gICAqIC0gYCVgIG9yIGAlcmAsIHBlcmNlbnRhZ2UgcmVsYXRpdmUgdG8gdGhlIGxlbmd0aCBvZiB0aGUgcmVmZXJlbmNlIGVsZW1lbnRcbiAgICogLSBgJXBgLCBwZXJjZW50YWdlIHJlbGF0aXZlIHRvIHRoZSBsZW5ndGggb2YgdGhlIHBvcHBlciBlbGVtZW50XG4gICAqIC0gYHZ3YCwgQ1NTIHZpZXdwb3J0IHdpZHRoIHVuaXRcbiAgICogLSBgdmhgLCBDU1Mgdmlld3BvcnQgaGVpZ2h0IHVuaXRcbiAgICpcbiAgICogRm9yIGxlbmd0aCBpcyBpbnRlbmRlZCB0aGUgbWFpbiBheGlzIHJlbGF0aXZlIHRvIHRoZSBwbGFjZW1lbnQgb2YgdGhlIHBvcHBlci48YnIgLz5cbiAgICogVGhpcyBtZWFucyB0aGF0IGlmIHRoZSBwbGFjZW1lbnQgaXMgYHRvcGAgb3IgYGJvdHRvbWAsIHRoZSBsZW5ndGggd2lsbCBiZSB0aGVcbiAgICogYHdpZHRoYC4gSW4gY2FzZSBvZiBgbGVmdGAgb3IgYHJpZ2h0YCwgaXQgd2lsbCBiZSB0aGUgaGVpZ2h0LlxuICAgKlxuICAgKiBZb3UgY2FuIHByb3ZpZGUgYSBzaW5nbGUgdmFsdWUgKGFzIGBOdW1iZXJgIG9yIGBTdHJpbmdgKSwgb3IgYSBwYWlyIG9mIHZhbHVlc1xuICAgKiBhcyBgU3RyaW5nYCBkaXZpZGVkIGJ5IGEgY29tbWEgb3Igb25lIChvciBtb3JlKSB3aGl0ZSBzcGFjZXMuPGJyIC8+XG4gICAqIFRoZSBsYXR0ZXIgaXMgYSBkZXByZWNhdGVkIG1ldGhvZCBiZWNhdXNlIGl0IGxlYWRzIHRvIGNvbmZ1c2lvbiBhbmQgd2lsbCBiZVxuICAgKiByZW1vdmVkIGluIHYyLjxiciAvPlxuICAgKiBBZGRpdGlvbmFsbHksIGl0IGFjY2VwdHMgYWRkaXRpb25zIGFuZCBzdWJ0cmFjdGlvbnMgYmV0d2VlbiBkaWZmZXJlbnQgdW5pdHMuXG4gICAqIE5vdGUgdGhhdCBtdWx0aXBsaWNhdGlvbnMgYW5kIGRpdmlzaW9ucyBhcmVuJ3Qgc3VwcG9ydGVkLlxuICAgKlxuICAgKiBWYWxpZCBleGFtcGxlcyBhcmU6XG4gICAqIGBgYFxuICAgKiAxMFxuICAgKiAnMTAlJ1xuICAgKiAnMTAsIDEwJ1xuICAgKiAnMTAlLCAxMCdcbiAgICogJzEwICsgMTAlJ1xuICAgKiAnMTAgLSA1dmggKyAzJSdcbiAgICogJy0xMHB4ICsgNXZoLCA1cHggLSA2JSdcbiAgICogYGBgXG4gICAqID4gKipOQioqOiBJZiB5b3UgZGVzaXJlIHRvIGFwcGx5IG9mZnNldHMgdG8geW91ciBwb3BwZXJzIGluIGEgd2F5IHRoYXQgbWF5IG1ha2UgdGhlbSBvdmVybGFwXG4gICAqID4gd2l0aCB0aGVpciByZWZlcmVuY2UgZWxlbWVudCwgdW5mb3J0dW5hdGVseSwgeW91IHdpbGwgaGF2ZSB0byBkaXNhYmxlIHRoZSBgZmxpcGAgbW9kaWZpZXIuXG4gICAqID4gTW9yZSBvbiB0aGlzIFtyZWFkaW5nIHRoaXMgaXNzdWVdKGh0dHBzOi8vZ2l0aHViLmNvbS9GZXpWcmFzdGEvcG9wcGVyLmpzL2lzc3Vlcy8zNzMpXG4gICAqXG4gICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICogQGlubmVyXG4gICAqL1xuICBvZmZzZXQ6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9MjAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiAyMDAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgIGZuOiBvZmZzZXQsXG4gICAgLyoqIEBwcm9wIHtOdW1iZXJ8U3RyaW5nfSBvZmZzZXQ9MFxuICAgICAqIFRoZSBvZmZzZXQgdmFsdWUgYXMgZGVzY3JpYmVkIGluIHRoZSBtb2RpZmllciBkZXNjcmlwdGlvblxuICAgICAqL1xuICAgIG9mZnNldDogMFxuICB9LFxuXG4gIC8qKlxuICAgKiBNb2RpZmllciB1c2VkIHRvIHByZXZlbnQgdGhlIHBvcHBlciBmcm9tIGJlaW5nIHBvc2l0aW9uZWQgb3V0c2lkZSB0aGUgYm91bmRhcnkuXG4gICAqXG4gICAqIEFuIHNjZW5hcmlvIGV4aXN0cyB3aGVyZSB0aGUgcmVmZXJlbmNlIGl0c2VsZiBpcyBub3Qgd2l0aGluIHRoZSBib3VuZGFyaWVzLjxiciAvPlxuICAgKiBXZSBjYW4gc2F5IGl0IGhhcyBcImVzY2FwZWQgdGhlIGJvdW5kYXJpZXNcIiDigJQgb3IganVzdCBcImVzY2FwZWRcIi48YnIgLz5cbiAgICogSW4gdGhpcyBjYXNlIHdlIG5lZWQgdG8gZGVjaWRlIHdoZXRoZXIgdGhlIHBvcHBlciBzaG91bGQgZWl0aGVyOlxuICAgKlxuICAgKiAtIGRldGFjaCBmcm9tIHRoZSByZWZlcmVuY2UgYW5kIHJlbWFpbiBcInRyYXBwZWRcIiBpbiB0aGUgYm91bmRhcmllcywgb3JcbiAgICogLSBpZiBpdCBzaG91bGQgaWdub3JlIHRoZSBib3VuZGFyeSBhbmQgXCJlc2NhcGUgd2l0aCBpdHMgcmVmZXJlbmNlXCJcbiAgICpcbiAgICogV2hlbiBgZXNjYXBlV2l0aFJlZmVyZW5jZWAgaXMgc2V0IHRvYHRydWVgIGFuZCByZWZlcmVuY2UgaXMgY29tcGxldGVseVxuICAgKiBvdXRzaWRlIGl0cyBib3VuZGFyaWVzLCB0aGUgcG9wcGVyIHdpbGwgb3ZlcmZsb3cgKG9yIGNvbXBsZXRlbHkgbGVhdmUpXG4gICAqIHRoZSBib3VuZGFyaWVzIGluIG9yZGVyIHRvIHJlbWFpbiBhdHRhY2hlZCB0byB0aGUgZWRnZSBvZiB0aGUgcmVmZXJlbmNlLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgcHJldmVudE92ZXJmbG93OiB7XG4gICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTMwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICBvcmRlcjogMzAwLFxuICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICBmbjogcHJldmVudE92ZXJmbG93LFxuICAgIC8qKlxuICAgICAqIEBwcm9wIHtBcnJheX0gW3ByaW9yaXR5PVsnbGVmdCcsJ3JpZ2h0JywndG9wJywnYm90dG9tJ11dXG4gICAgICogUG9wcGVyIHdpbGwgdHJ5IHRvIHByZXZlbnQgb3ZlcmZsb3cgZm9sbG93aW5nIHRoZXNlIHByaW9yaXRpZXMgYnkgZGVmYXVsdCxcbiAgICAgKiB0aGVuLCBpdCBjb3VsZCBvdmVyZmxvdyBvbiB0aGUgbGVmdCBhbmQgb24gdG9wIG9mIHRoZSBgYm91bmRhcmllc0VsZW1lbnRgXG4gICAgICovXG4gICAgcHJpb3JpdHk6IFsnbGVmdCcsICdyaWdodCcsICd0b3AnLCAnYm90dG9tJ10sXG4gICAgLyoqXG4gICAgICogQHByb3Age251bWJlcn0gcGFkZGluZz01XG4gICAgICogQW1vdW50IG9mIHBpeGVsIHVzZWQgdG8gZGVmaW5lIGEgbWluaW11bSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBib3VuZGFyaWVzXG4gICAgICogYW5kIHRoZSBwb3BwZXIgdGhpcyBtYWtlcyBzdXJlIHRoZSBwb3BwZXIgaGFzIGFsd2F5cyBhIGxpdHRsZSBwYWRkaW5nXG4gICAgICogYmV0d2VlbiB0aGUgZWRnZXMgb2YgaXRzIGNvbnRhaW5lclxuICAgICAqL1xuICAgIHBhZGRpbmc6IDUsXG4gICAgLyoqXG4gICAgICogQHByb3Age1N0cmluZ3xIVE1MRWxlbWVudH0gYm91bmRhcmllc0VsZW1lbnQ9J3Njcm9sbFBhcmVudCdcbiAgICAgKiBCb3VuZGFyaWVzIHVzZWQgYnkgdGhlIG1vZGlmaWVyLCBjYW4gYmUgYHNjcm9sbFBhcmVudGAsIGB3aW5kb3dgLFxuICAgICAqIGB2aWV3cG9ydGAgb3IgYW55IERPTSBlbGVtZW50LlxuICAgICAqL1xuICAgIGJvdW5kYXJpZXNFbGVtZW50OiAnc2Nyb2xsUGFyZW50J1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb2RpZmllciB1c2VkIHRvIG1ha2Ugc3VyZSB0aGUgcmVmZXJlbmNlIGFuZCBpdHMgcG9wcGVyIHN0YXkgbmVhciBlYWNob3RoZXJzXG4gICAqIHdpdGhvdXQgbGVhdmluZyBhbnkgZ2FwIGJldHdlZW4gdGhlIHR3by4gRXhwZWNpYWxseSB1c2VmdWwgd2hlbiB0aGUgYXJyb3cgaXNcbiAgICogZW5hYmxlZCBhbmQgeW91IHdhbnQgdG8gYXNzdXJlIGl0IHRvIHBvaW50IHRvIGl0cyByZWZlcmVuY2UgZWxlbWVudC5cbiAgICogSXQgY2FyZXMgb25seSBhYm91dCB0aGUgZmlyc3QgYXhpcywgeW91IGNhbiBzdGlsbCBoYXZlIHBvcHBlcnMgd2l0aCBtYXJnaW5cbiAgICogYmV0d2VlbiB0aGUgcG9wcGVyIGFuZCBpdHMgcmVmZXJlbmNlIGVsZW1lbnQuXG4gICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICogQGlubmVyXG4gICAqL1xuICBrZWVwVG9nZXRoZXI6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9NDAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiA0MDAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgIGZuOiBrZWVwVG9nZXRoZXJcbiAgfSxcblxuICAvKipcbiAgICogVGhpcyBtb2RpZmllciBpcyB1c2VkIHRvIG1vdmUgdGhlIGBhcnJvd0VsZW1lbnRgIG9mIHRoZSBwb3BwZXIgdG8gbWFrZVxuICAgKiBzdXJlIGl0IGlzIHBvc2l0aW9uZWQgYmV0d2VlbiB0aGUgcmVmZXJlbmNlIGVsZW1lbnQgYW5kIGl0cyBwb3BwZXIgZWxlbWVudC5cbiAgICogSXQgd2lsbCByZWFkIHRoZSBvdXRlciBzaXplIG9mIHRoZSBgYXJyb3dFbGVtZW50YCBub2RlIHRvIGRldGVjdCBob3cgbWFueVxuICAgKiBwaXhlbHMgb2YgY29uanVjdGlvbiBhcmUgbmVlZGVkLlxuICAgKlxuICAgKiBJdCBoYXMgbm8gZWZmZWN0IGlmIG5vIGBhcnJvd0VsZW1lbnRgIGlzIHByb3ZpZGVkLlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgYXJyb3c6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9NTAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiA1MDAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgIGZuOiBhcnJvdyxcbiAgICAvKiogQHByb3Age1N0cmluZ3xIVE1MRWxlbWVudH0gZWxlbWVudD0nW3gtYXJyb3ddJyAtIFNlbGVjdG9yIG9yIG5vZGUgdXNlZCBhcyBhcnJvdyAqL1xuICAgIGVsZW1lbnQ6ICdbeC1hcnJvd10nXG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vZGlmaWVyIHVzZWQgdG8gZmxpcCB0aGUgcG9wcGVyJ3MgcGxhY2VtZW50IHdoZW4gaXQgc3RhcnRzIHRvIG92ZXJsYXAgaXRzXG4gICAqIHJlZmVyZW5jZSBlbGVtZW50LlxuICAgKlxuICAgKiBSZXF1aXJlcyB0aGUgYHByZXZlbnRPdmVyZmxvd2AgbW9kaWZpZXIgYmVmb3JlIGl0IGluIG9yZGVyIHRvIHdvcmsuXG4gICAqXG4gICAqICoqTk9URToqKiB0aGlzIG1vZGlmaWVyIHdpbGwgaW50ZXJydXB0IHRoZSBjdXJyZW50IHVwZGF0ZSBjeWNsZSBhbmQgd2lsbFxuICAgKiByZXN0YXJ0IGl0IGlmIGl0IGRldGVjdHMgdGhlIG5lZWQgdG8gZmxpcCB0aGUgcGxhY2VtZW50LlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgZmxpcDoge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj02MDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDYwMCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IGZsaXAsXG4gICAgLyoqXG4gICAgICogQHByb3Age1N0cmluZ3xBcnJheX0gYmVoYXZpb3I9J2ZsaXAnXG4gICAgICogVGhlIGJlaGF2aW9yIHVzZWQgdG8gY2hhbmdlIHRoZSBwb3BwZXIncyBwbGFjZW1lbnQuIEl0IGNhbiBiZSBvbmUgb2ZcbiAgICAgKiBgZmxpcGAsIGBjbG9ja3dpc2VgLCBgY291bnRlcmNsb2Nrd2lzZWAgb3IgYW4gYXJyYXkgd2l0aCBhIGxpc3Qgb2YgdmFsaWRcbiAgICAgKiBwbGFjZW1lbnRzICh3aXRoIG9wdGlvbmFsIHZhcmlhdGlvbnMpLlxuICAgICAqL1xuICAgIGJlaGF2aW9yOiAnZmxpcCcsXG4gICAgLyoqXG4gICAgICogQHByb3Age251bWJlcn0gcGFkZGluZz01XG4gICAgICogVGhlIHBvcHBlciB3aWxsIGZsaXAgaWYgaXQgaGl0cyB0aGUgZWRnZXMgb2YgdGhlIGBib3VuZGFyaWVzRWxlbWVudGBcbiAgICAgKi9cbiAgICBwYWRkaW5nOiA1LFxuICAgIC8qKlxuICAgICAqIEBwcm9wIHtTdHJpbmd8SFRNTEVsZW1lbnR9IGJvdW5kYXJpZXNFbGVtZW50PSd2aWV3cG9ydCdcbiAgICAgKiBUaGUgZWxlbWVudCB3aGljaCB3aWxsIGRlZmluZSB0aGUgYm91bmRhcmllcyBvZiB0aGUgcG9wcGVyIHBvc2l0aW9uLFxuICAgICAqIHRoZSBwb3BwZXIgd2lsbCBuZXZlciBiZSBwbGFjZWQgb3V0c2lkZSBvZiB0aGUgZGVmaW5lZCBib3VuZGFyaWVzXG4gICAgICogKGV4Y2VwdCBpZiBrZWVwVG9nZXRoZXIgaXMgZW5hYmxlZClcbiAgICAgKi9cbiAgICBib3VuZGFyaWVzRWxlbWVudDogJ3ZpZXdwb3J0J1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb2RpZmllciB1c2VkIHRvIG1ha2UgdGhlIHBvcHBlciBmbG93IHRvd2FyZCB0aGUgaW5uZXIgb2YgdGhlIHJlZmVyZW5jZSBlbGVtZW50LlxuICAgKiBCeSBkZWZhdWx0LCB3aGVuIHRoaXMgbW9kaWZpZXIgaXMgZGlzYWJsZWQsIHRoZSBwb3BwZXIgd2lsbCBiZSBwbGFjZWQgb3V0c2lkZVxuICAgKiB0aGUgcmVmZXJlbmNlIGVsZW1lbnQuXG4gICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICogQGlubmVyXG4gICAqL1xuICBpbm5lcjoge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj03MDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDcwMCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9ZmFsc2UgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICBmbjogaW5uZXJcbiAgfSxcblxuICAvKipcbiAgICogTW9kaWZpZXIgdXNlZCB0byBoaWRlIHRoZSBwb3BwZXIgd2hlbiBpdHMgcmVmZXJlbmNlIGVsZW1lbnQgaXMgb3V0c2lkZSBvZiB0aGVcbiAgICogcG9wcGVyIGJvdW5kYXJpZXMuIEl0IHdpbGwgc2V0IGEgYHgtb3V0LW9mLWJvdW5kYXJpZXNgIGF0dHJpYnV0ZSB3aGljaCBjYW5cbiAgICogYmUgdXNlZCB0byBoaWRlIHdpdGggYSBDU1Mgc2VsZWN0b3IgdGhlIHBvcHBlciB3aGVuIGl0cyByZWZlcmVuY2UgaXNcbiAgICogb3V0IG9mIGJvdW5kYXJpZXMuXG4gICAqXG4gICAqIFJlcXVpcmVzIHRoZSBgcHJldmVudE92ZXJmbG93YCBtb2RpZmllciBiZWZvcmUgaXQgaW4gb3JkZXIgdG8gd29yay5cbiAgICogQG1lbWJlcm9mIG1vZGlmaWVyc1xuICAgKiBAaW5uZXJcbiAgICovXG4gIGhpZGU6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9ODAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiA4MDAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgIGZuOiBoaWRlXG4gIH0sXG5cbiAgLyoqXG4gICAqIENvbXB1dGVzIHRoZSBzdHlsZSB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgcG9wcGVyIGVsZW1lbnQgdG8gZ2V0c1xuICAgKiBwcm9wZXJseSBwb3NpdGlvbmVkLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgdGhpcyBtb2RpZmllciB3aWxsIG5vdCB0b3VjaCB0aGUgRE9NLCBpdCBqdXN0IHByZXBhcmVzIHRoZSBzdHlsZXNcbiAgICogc28gdGhhdCBgYXBwbHlTdHlsZWAgbW9kaWZpZXIgY2FuIGFwcGx5IGl0LiBUaGlzIHNlcGFyYXRpb24gaXMgdXNlZnVsXG4gICAqIGluIGNhc2UgeW91IG5lZWQgdG8gcmVwbGFjZSBgYXBwbHlTdHlsZWAgd2l0aCBhIGN1c3RvbSBpbXBsZW1lbnRhdGlvbi5cbiAgICpcbiAgICogVGhpcyBtb2RpZmllciBoYXMgYDg1MGAgYXMgYG9yZGVyYCB2YWx1ZSB0byBtYWludGFpbiBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG4gICAqIHdpdGggcHJldmlvdXMgdmVyc2lvbnMgb2YgUG9wcGVyLmpzLiBFeHBlY3QgdGhlIG1vZGlmaWVycyBvcmRlcmluZyBtZXRob2RcbiAgICogdG8gY2hhbmdlIGluIGZ1dHVyZSBtYWpvciB2ZXJzaW9ucyBvZiB0aGUgbGlicmFyeS5cbiAgICpcbiAgICogQG1lbWJlcm9mIG1vZGlmaWVyc1xuICAgKiBAaW5uZXJcbiAgICovXG4gIGNvbXB1dGVTdHlsZToge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj04NTAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDg1MCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IGNvbXB1dGVTdHlsZSxcbiAgICAvKipcbiAgICAgKiBAcHJvcCB7Qm9vbGVhbn0gZ3B1QWNjZWxlcmF0aW9uPXRydWVcbiAgICAgKiBJZiB0cnVlLCBpdCB1c2VzIHRoZSBDU1MgM2QgdHJhbnNmb3JtYXRpb24gdG8gcG9zaXRpb24gdGhlIHBvcHBlci5cbiAgICAgKiBPdGhlcndpc2UsIGl0IHdpbGwgdXNlIHRoZSBgdG9wYCBhbmQgYGxlZnRgIHByb3BlcnRpZXMuXG4gICAgICovXG4gICAgZ3B1QWNjZWxlcmF0aW9uOiB0cnVlLFxuICAgIC8qKlxuICAgICAqIEBwcm9wIHtzdHJpbmd9IFt4PSdib3R0b20nXVxuICAgICAqIFdoZXJlIHRvIGFuY2hvciB0aGUgWCBheGlzIChgYm90dG9tYCBvciBgdG9wYCkuIEFLQSBYIG9mZnNldCBvcmlnaW4uXG4gICAgICogQ2hhbmdlIHRoaXMgaWYgeW91ciBwb3BwZXIgc2hvdWxkIGdyb3cgaW4gYSBkaXJlY3Rpb24gZGlmZmVyZW50IGZyb20gYGJvdHRvbWBcbiAgICAgKi9cbiAgICB4OiAnYm90dG9tJyxcbiAgICAvKipcbiAgICAgKiBAcHJvcCB7c3RyaW5nfSBbeD0nbGVmdCddXG4gICAgICogV2hlcmUgdG8gYW5jaG9yIHRoZSBZIGF4aXMgKGBsZWZ0YCBvciBgcmlnaHRgKS4gQUtBIFkgb2Zmc2V0IG9yaWdpbi5cbiAgICAgKiBDaGFuZ2UgdGhpcyBpZiB5b3VyIHBvcHBlciBzaG91bGQgZ3JvdyBpbiBhIGRpcmVjdGlvbiBkaWZmZXJlbnQgZnJvbSBgcmlnaHRgXG4gICAgICovXG4gICAgeTogJ3JpZ2h0J1xuICB9LFxuXG4gIC8qKlxuICAgKiBBcHBsaWVzIHRoZSBjb21wdXRlZCBzdHlsZXMgdG8gdGhlIHBvcHBlciBlbGVtZW50LlxuICAgKlxuICAgKiBBbGwgdGhlIERPTSBtYW5pcHVsYXRpb25zIGFyZSBsaW1pdGVkIHRvIHRoaXMgbW9kaWZpZXIuIFRoaXMgaXMgdXNlZnVsIGluIGNhc2VcbiAgICogeW91IHdhbnQgdG8gaW50ZWdyYXRlIFBvcHBlci5qcyBpbnNpZGUgYSBmcmFtZXdvcmsgb3IgdmlldyBsaWJyYXJ5IGFuZCB5b3VcbiAgICogd2FudCB0byBkZWxlZ2F0ZSBhbGwgdGhlIERPTSBtYW5pcHVsYXRpb25zIHRvIGl0LlxuICAgKlxuICAgKiBOb3RlIHRoYXQgaWYgeW91IGRpc2FibGUgdGhpcyBtb2RpZmllciwgeW91IG11c3QgbWFrZSBzdXJlIHRoZSBwb3BwZXIgZWxlbWVudFxuICAgKiBoYXMgaXRzIHBvc2l0aW9uIHNldCB0byBgYWJzb2x1dGVgIGJlZm9yZSBQb3BwZXIuanMgY2FuIGRvIGl0cyB3b3JrIVxuICAgKlxuICAgKiBKdXN0IGRpc2FibGUgdGhpcyBtb2RpZmllciBhbmQgZGVmaW5lIHlvdSBvd24gdG8gYWNoaWV2ZSB0aGUgZGVzaXJlZCBlZmZlY3QuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICogQGlubmVyXG4gICAqL1xuICBhcHBseVN0eWxlOiB7XG4gICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTkwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICBvcmRlcjogOTAwLFxuICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICBmbjogYXBwbHlTdHlsZSxcbiAgICAvKiogQHByb3Age0Z1bmN0aW9ufSAqL1xuICAgIG9uTG9hZDogYXBwbHlTdHlsZU9uTG9hZCxcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDEuMTAuMCwgdGhlIHByb3BlcnR5IG1vdmVkIHRvIGBjb21wdXRlU3R5bGVgIG1vZGlmaWVyXG4gICAgICogQHByb3Age0Jvb2xlYW59IGdwdUFjY2VsZXJhdGlvbj10cnVlXG4gICAgICogSWYgdHJ1ZSwgaXQgdXNlcyB0aGUgQ1NTIDNkIHRyYW5zZm9ybWF0aW9uIHRvIHBvc2l0aW9uIHRoZSBwb3BwZXIuXG4gICAgICogT3RoZXJ3aXNlLCBpdCB3aWxsIHVzZSB0aGUgYHRvcGAgYW5kIGBsZWZ0YCBwcm9wZXJ0aWVzLlxuICAgICAqL1xuICAgIGdwdUFjY2VsZXJhdGlvbjogdW5kZWZpbmVkXG4gIH1cbn07XG5cbi8qKlxuICogVGhlIGBkYXRhT2JqZWN0YCBpcyBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIGluZm9ybWF0aW9ucyB1c2VkIGJ5IFBvcHBlci5qc1xuICogdGhpcyBvYmplY3QgZ2V0IHBhc3NlZCB0byBtb2RpZmllcnMgYW5kIHRvIHRoZSBgb25DcmVhdGVgIGFuZCBgb25VcGRhdGVgIGNhbGxiYWNrcy5cbiAqIEBuYW1lIGRhdGFPYmplY3RcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLmluc3RhbmNlIFRoZSBQb3BwZXIuanMgaW5zdGFuY2VcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBkYXRhLnBsYWNlbWVudCBQbGFjZW1lbnQgYXBwbGllZCB0byBwb3BwZXJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBkYXRhLm9yaWdpbmFsUGxhY2VtZW50IFBsYWNlbWVudCBvcmlnaW5hbGx5IGRlZmluZWQgb24gaW5pdFxuICogQHByb3BlcnR5IHtCb29sZWFufSBkYXRhLmZsaXBwZWQgVHJ1ZSBpZiBwb3BwZXIgaGFzIGJlZW4gZmxpcHBlZCBieSBmbGlwIG1vZGlmaWVyXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IGRhdGEuaGlkZSBUcnVlIGlmIHRoZSByZWZlcmVuY2UgZWxlbWVudCBpcyBvdXQgb2YgYm91bmRhcmllcywgdXNlZnVsIHRvIGtub3cgd2hlbiB0byBoaWRlIHRoZSBwb3BwZXIuXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fSBkYXRhLmFycm93RWxlbWVudCBOb2RlIHVzZWQgYXMgYXJyb3cgYnkgYXJyb3cgbW9kaWZpZXJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLnN0eWxlcyBBbnkgQ1NTIHByb3BlcnR5IGRlZmluZWQgaGVyZSB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlciwgaXQgZXhwZWN0cyB0aGUgSmF2YVNjcmlwdCBub21lbmNsYXR1cmUgKGVnLiBgbWFyZ2luQm90dG9tYClcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLmFycm93U3R5bGVzIEFueSBDU1MgcHJvcGVydHkgZGVmaW5lZCBoZXJlIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgcG9wcGVyIGFycm93LCBpdCBleHBlY3RzIHRoZSBKYXZhU2NyaXB0IG5vbWVuY2xhdHVyZSAoZWcuIGBtYXJnaW5Cb3R0b21gKVxuICogQHByb3BlcnR5IHtPYmplY3R9IGRhdGEuYm91bmRhcmllcyBPZmZzZXRzIG9mIHRoZSBwb3BwZXIgYm91bmRhcmllc1xuICogQHByb3BlcnR5IHtPYmplY3R9IGRhdGEub2Zmc2V0cyBUaGUgbWVhc3VyZW1lbnRzIG9mIHBvcHBlciwgcmVmZXJlbmNlIGFuZCBhcnJvdyBlbGVtZW50cy5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLm9mZnNldHMucG9wcGVyIGB0b3BgLCBgbGVmdGAsIGB3aWR0aGAsIGBoZWlnaHRgIHZhbHVlc1xuICogQHByb3BlcnR5IHtPYmplY3R9IGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UgYHRvcGAsIGBsZWZ0YCwgYHdpZHRoYCwgYGhlaWdodGAgdmFsdWVzXG4gKiBAcHJvcGVydHkge09iamVjdH0gZGF0YS5vZmZzZXRzLmFycm93XSBgdG9wYCBhbmQgYGxlZnRgIG9mZnNldHMsIG9ubHkgb25lIG9mIHRoZW0gd2lsbCBiZSBkaWZmZXJlbnQgZnJvbSAwXG4gKi9cblxuLyoqXG4gKiBEZWZhdWx0IG9wdGlvbnMgcHJvdmlkZWQgdG8gUG9wcGVyLmpzIGNvbnN0cnVjdG9yLjxiciAvPlxuICogVGhlc2UgY2FuIGJlIG92ZXJyaWRlbiB1c2luZyB0aGUgYG9wdGlvbnNgIGFyZ3VtZW50IG9mIFBvcHBlci5qcy48YnIgLz5cbiAqIFRvIG92ZXJyaWRlIGFuIG9wdGlvbiwgc2ltcGx5IHBhc3MgYXMgM3JkIGFyZ3VtZW50IGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lXG4gKiBzdHJ1Y3R1cmUgb2YgdGhpcyBvYmplY3QsIGV4YW1wbGU6XG4gKiBgYGBcbiAqIG5ldyBQb3BwZXIocmVmLCBwb3AsIHtcbiAqICAgbW9kaWZpZXJzOiB7XG4gKiAgICAgcHJldmVudE92ZXJmbG93OiB7IGVuYWJsZWQ6IGZhbHNlIH1cbiAqICAgfVxuICogfSlcbiAqIGBgYFxuICogQHR5cGUge09iamVjdH1cbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQb3BwZXJcbiAqL1xudmFyIERlZmF1bHRzID0ge1xuICAvKipcbiAgICogUG9wcGVyJ3MgcGxhY2VtZW50XG4gICAqIEBwcm9wIHtQb3BwZXIucGxhY2VtZW50c30gcGxhY2VtZW50PSdib3R0b20nXG4gICAqL1xuICBwbGFjZW1lbnQ6ICdib3R0b20nLFxuXG4gIC8qKlxuICAgKiBTZXQgdGhpcyB0byB0cnVlIGlmIHlvdSB3YW50IHBvcHBlciB0byBwb3NpdGlvbiBpdCBzZWxmIGluICdmaXhlZCcgbW9kZVxuICAgKiBAcHJvcCB7Qm9vbGVhbn0gcG9zaXRpb25GaXhlZD1mYWxzZVxuICAgKi9cbiAgcG9zaXRpb25GaXhlZDogZmFsc2UsXG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgZXZlbnRzIChyZXNpemUsIHNjcm9sbCkgYXJlIGluaXRpYWxseSBlbmFibGVkXG4gICAqIEBwcm9wIHtCb29sZWFufSBldmVudHNFbmFibGVkPXRydWVcbiAgICovXG4gIGV2ZW50c0VuYWJsZWQ6IHRydWUsXG5cbiAgLyoqXG4gICAqIFNldCB0byB0cnVlIGlmIHlvdSB3YW50IHRvIGF1dG9tYXRpY2FsbHkgcmVtb3ZlIHRoZSBwb3BwZXIgd2hlblxuICAgKiB5b3UgY2FsbCB0aGUgYGRlc3Ryb3lgIG1ldGhvZC5cbiAgICogQHByb3Age0Jvb2xlYW59IHJlbW92ZU9uRGVzdHJveT1mYWxzZVxuICAgKi9cbiAgcmVtb3ZlT25EZXN0cm95OiBmYWxzZSxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgY2FsbGVkIHdoZW4gdGhlIHBvcHBlciBpcyBjcmVhdGVkLjxiciAvPlxuICAgKiBCeSBkZWZhdWx0LCBpcyBzZXQgdG8gbm8tb3AuPGJyIC8+XG4gICAqIEFjY2VzcyBQb3BwZXIuanMgaW5zdGFuY2Ugd2l0aCBgZGF0YS5pbnN0YW5jZWAuXG4gICAqIEBwcm9wIHtvbkNyZWF0ZX1cbiAgICovXG4gIG9uQ3JlYXRlOiBmdW5jdGlvbiBvbkNyZWF0ZSgpIHt9LFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBjYWxsZWQgd2hlbiB0aGUgcG9wcGVyIGlzIHVwZGF0ZWQsIHRoaXMgY2FsbGJhY2sgaXMgbm90IGNhbGxlZFxuICAgKiBvbiB0aGUgaW5pdGlhbGl6YXRpb24vY3JlYXRpb24gb2YgdGhlIHBvcHBlciwgYnV0IG9ubHkgb24gc3Vic2VxdWVudFxuICAgKiB1cGRhdGVzLjxiciAvPlxuICAgKiBCeSBkZWZhdWx0LCBpcyBzZXQgdG8gbm8tb3AuPGJyIC8+XG4gICAqIEFjY2VzcyBQb3BwZXIuanMgaW5zdGFuY2Ugd2l0aCBgZGF0YS5pbnN0YW5jZWAuXG4gICAqIEBwcm9wIHtvblVwZGF0ZX1cbiAgICovXG4gIG9uVXBkYXRlOiBmdW5jdGlvbiBvblVwZGF0ZSgpIHt9LFxuXG4gIC8qKlxuICAgKiBMaXN0IG9mIG1vZGlmaWVycyB1c2VkIHRvIG1vZGlmeSB0aGUgb2Zmc2V0cyBiZWZvcmUgdGhleSBhcmUgYXBwbGllZCB0byB0aGUgcG9wcGVyLlxuICAgKiBUaGV5IHByb3ZpZGUgbW9zdCBvZiB0aGUgZnVuY3Rpb25hbGl0aWVzIG9mIFBvcHBlci5qc1xuICAgKiBAcHJvcCB7bW9kaWZpZXJzfVxuICAgKi9cbiAgbW9kaWZpZXJzOiBtb2RpZmllcnNcbn07XG5cbi8qKlxuICogQGNhbGxiYWNrIG9uQ3JlYXRlXG4gKiBAcGFyYW0ge2RhdGFPYmplY3R9IGRhdGFcbiAqL1xuXG4vKipcbiAqIEBjYWxsYmFjayBvblVwZGF0ZVxuICogQHBhcmFtIHtkYXRhT2JqZWN0fSBkYXRhXG4gKi9cblxuLy8gVXRpbHNcbi8vIE1ldGhvZHNcbnZhciBQb3BwZXIgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgUG9wcGVyLmpzIGluc3RhbmNlXG4gICAqIEBjbGFzcyBQb3BwZXJcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudHxyZWZlcmVuY2VPYmplY3R9IHJlZmVyZW5jZSAtIFRoZSByZWZlcmVuY2UgZWxlbWVudCB1c2VkIHRvIHBvc2l0aW9uIHRoZSBwb3BwZXJcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcG9wcGVyIC0gVGhlIEhUTUwgZWxlbWVudCB1c2VkIGFzIHBvcHBlci5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBZb3VyIGN1c3RvbSBvcHRpb25zIHRvIG92ZXJyaWRlIHRoZSBvbmVzIGRlZmluZWQgaW4gW0RlZmF1bHRzXSgjZGVmYXVsdHMpXG4gICAqIEByZXR1cm4ge09iamVjdH0gaW5zdGFuY2UgLSBUaGUgZ2VuZXJhdGVkIFBvcHBlci5qcyBpbnN0YW5jZVxuICAgKi9cbiAgZnVuY3Rpb24gUG9wcGVyKHJlZmVyZW5jZSwgcG9wcGVyKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICBjbGFzc0NhbGxDaGVjayQxKHRoaXMsIFBvcHBlcik7XG5cbiAgICB0aGlzLnNjaGVkdWxlVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlcXVlc3RBbmltYXRpb25GcmFtZShfdGhpcy51cGRhdGUpO1xuICAgIH07XG5cbiAgICAvLyBtYWtlIHVwZGF0ZSgpIGRlYm91bmNlZCwgc28gdGhhdCBpdCBvbmx5IHJ1bnMgYXQgbW9zdCBvbmNlLXBlci10aWNrXG4gICAgdGhpcy51cGRhdGUgPSBkZWJvdW5jZSh0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpKTtcblxuICAgIC8vIHdpdGgge30gd2UgY3JlYXRlIGEgbmV3IG9iamVjdCB3aXRoIHRoZSBvcHRpb25zIGluc2lkZSBpdFxuICAgIHRoaXMub3B0aW9ucyA9IF9leHRlbmRzJDEoe30sIFBvcHBlci5EZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAvLyBpbml0IHN0YXRlXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzRGVzdHJveWVkOiBmYWxzZSxcbiAgICAgIGlzQ3JlYXRlZDogZmFsc2UsXG4gICAgICBzY3JvbGxQYXJlbnRzOiBbXVxuICAgIH07XG5cbiAgICAvLyBnZXQgcmVmZXJlbmNlIGFuZCBwb3BwZXIgZWxlbWVudHMgKGFsbG93IGpRdWVyeSB3cmFwcGVycylcbiAgICB0aGlzLnJlZmVyZW5jZSA9IHJlZmVyZW5jZSAmJiByZWZlcmVuY2UuanF1ZXJ5ID8gcmVmZXJlbmNlWzBdIDogcmVmZXJlbmNlO1xuICAgIHRoaXMucG9wcGVyID0gcG9wcGVyICYmIHBvcHBlci5qcXVlcnkgPyBwb3BwZXJbMF0gOiBwb3BwZXI7XG5cbiAgICAvLyBEZWVwIG1lcmdlIG1vZGlmaWVycyBvcHRpb25zXG4gICAgdGhpcy5vcHRpb25zLm1vZGlmaWVycyA9IHt9O1xuICAgIE9iamVjdC5rZXlzKF9leHRlbmRzJDEoe30sIFBvcHBlci5EZWZhdWx0cy5tb2RpZmllcnMsIG9wdGlvbnMubW9kaWZpZXJzKSkuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgX3RoaXMub3B0aW9ucy5tb2RpZmllcnNbbmFtZV0gPSBfZXh0ZW5kcyQxKHt9LCBQb3BwZXIuRGVmYXVsdHMubW9kaWZpZXJzW25hbWVdIHx8IHt9LCBvcHRpb25zLm1vZGlmaWVycyA/IG9wdGlvbnMubW9kaWZpZXJzW25hbWVdIDoge30pO1xuICAgIH0pO1xuXG4gICAgLy8gUmVmYWN0b3JpbmcgbW9kaWZpZXJzJyBsaXN0IChPYmplY3QgPT4gQXJyYXkpXG4gICAgdGhpcy5tb2RpZmllcnMgPSBPYmplY3Qua2V5cyh0aGlzLm9wdGlvbnMubW9kaWZpZXJzKS5tYXAoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIHJldHVybiBfZXh0ZW5kcyQxKHtcbiAgICAgICAgbmFtZTogbmFtZVxuICAgICAgfSwgX3RoaXMub3B0aW9ucy5tb2RpZmllcnNbbmFtZV0pO1xuICAgIH0pXG4gICAgLy8gc29ydCB0aGUgbW9kaWZpZXJzIGJ5IG9yZGVyXG4gICAgLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBhLm9yZGVyIC0gYi5vcmRlcjtcbiAgICB9KTtcblxuICAgIC8vIG1vZGlmaWVycyBoYXZlIHRoZSBhYmlsaXR5IHRvIGV4ZWN1dGUgYXJiaXRyYXJ5IGNvZGUgd2hlbiBQb3BwZXIuanMgZ2V0IGluaXRlZFxuICAgIC8vIHN1Y2ggY29kZSBpcyBleGVjdXRlZCBpbiB0aGUgc2FtZSBvcmRlciBvZiBpdHMgbW9kaWZpZXJcbiAgICAvLyB0aGV5IGNvdWxkIGFkZCBuZXcgcHJvcGVydGllcyB0byB0aGVpciBvcHRpb25zIGNvbmZpZ3VyYXRpb25cbiAgICAvLyBCRSBBV0FSRTogZG9uJ3QgYWRkIG9wdGlvbnMgdG8gYG9wdGlvbnMubW9kaWZpZXJzLm5hbWVgIGJ1dCB0byBgbW9kaWZpZXJPcHRpb25zYCFcbiAgICB0aGlzLm1vZGlmaWVycy5mb3JFYWNoKGZ1bmN0aW9uIChtb2RpZmllck9wdGlvbnMpIHtcbiAgICAgIGlmIChtb2RpZmllck9wdGlvbnMuZW5hYmxlZCAmJiBpc0Z1bmN0aW9uKG1vZGlmaWVyT3B0aW9ucy5vbkxvYWQpKSB7XG4gICAgICAgIG1vZGlmaWVyT3B0aW9ucy5vbkxvYWQoX3RoaXMucmVmZXJlbmNlLCBfdGhpcy5wb3BwZXIsIF90aGlzLm9wdGlvbnMsIG1vZGlmaWVyT3B0aW9ucywgX3RoaXMuc3RhdGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gZmlyZSB0aGUgZmlyc3QgdXBkYXRlIHRvIHBvc2l0aW9uIHRoZSBwb3BwZXIgaW4gdGhlIHJpZ2h0IHBsYWNlXG4gICAgdGhpcy51cGRhdGUoKTtcblxuICAgIHZhciBldmVudHNFbmFibGVkID0gdGhpcy5vcHRpb25zLmV2ZW50c0VuYWJsZWQ7XG4gICAgaWYgKGV2ZW50c0VuYWJsZWQpIHtcbiAgICAgIC8vIHNldHVwIGV2ZW50IGxpc3RlbmVycywgdGhleSB3aWxsIHRha2UgY2FyZSBvZiB1cGRhdGUgdGhlIHBvc2l0aW9uIGluIHNwZWNpZmljIHNpdHVhdGlvbnNcbiAgICAgIHRoaXMuZW5hYmxlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlLmV2ZW50c0VuYWJsZWQgPSBldmVudHNFbmFibGVkO1xuICB9XG5cbiAgLy8gV2UgY2FuJ3QgdXNlIGNsYXNzIHByb3BlcnRpZXMgYmVjYXVzZSB0aGV5IGRvbid0IGdldCBsaXN0ZWQgaW4gdGhlXG4gIC8vIGNsYXNzIHByb3RvdHlwZSBhbmQgYnJlYWsgc3R1ZmYgbGlrZSBTaW5vbiBzdHVic1xuXG5cbiAgY3JlYXRlQ2xhc3MkMShQb3BwZXIsIFt7XG4gICAga2V5OiAndXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlJCQxKCkge1xuICAgICAgcmV0dXJuIHVwZGF0ZS5jYWxsKHRoaXMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Rlc3Ryb3knLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95JCQxKCkge1xuICAgICAgcmV0dXJuIGRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdlbmFibGVFdmVudExpc3RlbmVycycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVuYWJsZUV2ZW50TGlzdGVuZXJzJCQxKCkge1xuICAgICAgcmV0dXJuIGVuYWJsZUV2ZW50TGlzdGVuZXJzLmNhbGwodGhpcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGlzYWJsZUV2ZW50TGlzdGVuZXJzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzYWJsZUV2ZW50TGlzdGVuZXJzJCQxKCkge1xuICAgICAgcmV0dXJuIGRpc2FibGVFdmVudExpc3RlbmVycy5jYWxsKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNjaGVkdWxlIGFuIHVwZGF0ZSwgaXQgd2lsbCBydW4gb24gdGhlIG5leHQgVUkgdXBkYXRlIGF2YWlsYWJsZVxuICAgICAqIEBtZXRob2Qgc2NoZWR1bGVVcGRhdGVcbiAgICAgKiBAbWVtYmVyb2YgUG9wcGVyXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIHV0aWxpdGllcyB1c2VmdWwgd2hlbiB3cml0aW5nIGN1c3RvbSBtb2RpZmllcnMuXG4gICAgICogU3RhcnRpbmcgZnJvbSB2ZXJzaW9uIDEuNywgdGhpcyBtZXRob2QgaXMgYXZhaWxhYmxlIG9ubHkgaWYgeW91XG4gICAgICogaW5jbHVkZSBgcG9wcGVyLXV0aWxzLmpzYCBiZWZvcmUgYHBvcHBlci5qc2AuXG4gICAgICpcbiAgICAgKiAqKkRFUFJFQ0FUSU9OKio6IFRoaXMgd2F5IHRvIGFjY2VzcyBQb3BwZXJVdGlscyBpcyBkZXByZWNhdGVkXG4gICAgICogYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB2MiEgVXNlIHRoZSBQb3BwZXJVdGlscyBtb2R1bGUgZGlyZWN0bHkgaW5zdGVhZC5cbiAgICAgKiBEdWUgdG8gdGhlIGhpZ2ggaW5zdGFiaWxpdHkgb2YgdGhlIG1ldGhvZHMgY29udGFpbmVkIGluIFV0aWxzLCB3ZSBjYW4ndFxuICAgICAqIGd1YXJhbnRlZSB0aGVtIHRvIGZvbGxvdyBzZW12ZXIuIFVzZSB0aGVtIGF0IHlvdXIgb3duIHJpc2shXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDEuOFxuICAgICAqIEBtZW1iZXIgVXRpbHNcbiAgICAgKiBAbWVtYmVyb2YgUG9wcGVyXG4gICAgICovXG5cbiAgfV0pO1xuICByZXR1cm4gUG9wcGVyO1xufSgpO1xuXG4vKipcbiAqIFRoZSBgcmVmZXJlbmNlT2JqZWN0YCBpcyBhbiBvYmplY3QgdGhhdCBwcm92aWRlcyBhbiBpbnRlcmZhY2UgY29tcGF0aWJsZSB3aXRoIFBvcHBlci5qc1xuICogYW5kIGxldHMgeW91IHVzZSBpdCBhcyByZXBsYWNlbWVudCBvZiBhIHJlYWwgRE9NIG5vZGUuPGJyIC8+XG4gKiBZb3UgY2FuIHVzZSB0aGlzIG1ldGhvZCB0byBwb3NpdGlvbiBhIHBvcHBlciByZWxhdGl2ZWx5IHRvIGEgc2V0IG9mIGNvb3JkaW5hdGVzXG4gKiBpbiBjYXNlIHlvdSBkb24ndCBoYXZlIGEgRE9NIG5vZGUgdG8gdXNlIGFzIHJlZmVyZW5jZS5cbiAqXG4gKiBgYGBcbiAqIG5ldyBQb3BwZXIocmVmZXJlbmNlT2JqZWN0LCBwb3BwZXJOb2RlKTtcbiAqIGBgYFxuICpcbiAqIE5COiBUaGlzIGZlYXR1cmUgaXNuJ3Qgc3VwcG9ydGVkIGluIEludGVybmV0IEV4cGxvcmVyIDEwXG4gKiBAbmFtZSByZWZlcmVuY2VPYmplY3RcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IGRhdGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0XG4gKiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHNldCBvZiBjb29yZGluYXRlcyBjb21wYXRpYmxlIHdpdGggdGhlIG5hdGl2ZSBgZ2V0Qm91bmRpbmdDbGllbnRSZWN0YCBtZXRob2QuXG4gKiBAcHJvcGVydHkge251bWJlcn0gZGF0YS5jbGllbnRXaWR0aFxuICogQW4gRVM2IGdldHRlciB0aGF0IHdpbGwgcmV0dXJuIHRoZSB3aWR0aCBvZiB0aGUgdmlydHVhbCByZWZlcmVuY2UgZWxlbWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkYXRhLmNsaWVudEhlaWdodFxuICogQW4gRVM2IGdldHRlciB0aGF0IHdpbGwgcmV0dXJuIHRoZSBoZWlnaHQgb2YgdGhlIHZpcnR1YWwgcmVmZXJlbmNlIGVsZW1lbnQuXG4gKi9cblxuUG9wcGVyLlV0aWxzID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogZ2xvYmFsKS5Qb3BwZXJVdGlscztcblBvcHBlci5wbGFjZW1lbnRzID0gcGxhY2VtZW50cztcblBvcHBlci5EZWZhdWx0cyA9IERlZmF1bHRzO1xuXG4vKipcbiAqIFRyaWdnZXJzIGRvY3VtZW50IHJlZmxvdy5cbiAqIFVzZSB2b2lkIGJlY2F1c2Ugc29tZSBtaW5pZmllcnMgb3IgZW5naW5lcyB0aGluayBzaW1wbHkgYWNjZXNzaW5nIHRoZSBwcm9wZXJ0eVxuICogaXMgdW5uZWNlc3NhcnkuXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHBvcHBlclxuICovXG5mdW5jdGlvbiByZWZsb3cocG9wcGVyKSB7XG4gIHZvaWQgcG9wcGVyLm9mZnNldEhlaWdodDtcbn1cblxuLyoqXG4gKiBXcmFwcGVyIHV0aWwgZm9yIHBvcHBlciBwb3NpdGlvbiB1cGRhdGluZy5cbiAqIFVwZGF0ZXMgdGhlIHBvcHBlcidzIHBvc2l0aW9uIGFuZCBpbnZva2VzIHRoZSBjYWxsYmFjayBvbiB1cGRhdGUuXG4gKiBIYWNraXNoIHdvcmthcm91bmQgdW50aWwgUG9wcGVyIDIuMCdzIHVwZGF0ZSgpIGJlY29tZXMgc3luYy5cbiAqIEBwYXJhbSB7UG9wcGVyfSBwb3BwZXJJbnN0YW5jZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2s6IHRvIHJ1biBvbmNlIHBvcHBlcidzIHBvc2l0aW9uIHdhcyB1cGRhdGVkXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHVwZGF0ZUFscmVhZHlDYWxsZWQ6IHdhcyBzY2hlZHVsZVVwZGF0ZSgpIGFscmVhZHkgY2FsbGVkP1xuICovXG5mdW5jdGlvbiB1cGRhdGVQb3BwZXJQb3NpdGlvbihwb3BwZXJJbnN0YW5jZSwgY2FsbGJhY2ssIHVwZGF0ZUFscmVhZHlDYWxsZWQpIHtcbiAgdmFyIHBvcHBlciA9IHBvcHBlckluc3RhbmNlLnBvcHBlcixcbiAgICAgIG9wdGlvbnMgPSBwb3BwZXJJbnN0YW5jZS5vcHRpb25zO1xuXG4gIHZhciBvbkNyZWF0ZSA9IG9wdGlvbnMub25DcmVhdGU7XG4gIHZhciBvblVwZGF0ZSA9IG9wdGlvbnMub25VcGRhdGU7XG5cbiAgb3B0aW9ucy5vbkNyZWF0ZSA9IG9wdGlvbnMub25VcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmVmbG93KHBvcHBlciksIGNhbGxiYWNrICYmIGNhbGxiYWNrKCksIG9uVXBkYXRlKCk7XG4gICAgb3B0aW9ucy5vbkNyZWF0ZSA9IG9uQ3JlYXRlO1xuICAgIG9wdGlvbnMub25VcGRhdGUgPSBvblVwZGF0ZTtcbiAgfTtcblxuICBpZiAoIXVwZGF0ZUFscmVhZHlDYWxsZWQpIHtcbiAgICBwb3BwZXJJbnN0YW5jZS5zY2hlZHVsZVVwZGF0ZSgpO1xuICB9XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgY29yZSBwbGFjZW1lbnQgKCd0b3AnLCAnYm90dG9tJywgJ2xlZnQnLCAncmlnaHQnKSBvZiBhIHBvcHBlclxuICogQHBhcmFtIHtFbGVtZW50fSBwb3BwZXJcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZ2V0UG9wcGVyUGxhY2VtZW50KHBvcHBlcikge1xuICByZXR1cm4gcG9wcGVyLmdldEF0dHJpYnV0ZSgneC1wbGFjZW1lbnQnKS5yZXBsYWNlKC8tLisvLCAnJyk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgbW91c2UncyBjdXJzb3IgaXMgb3V0c2lkZSB0aGUgaW50ZXJhY3RpdmUgYm9yZGVyXG4gKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50XG4gKiBAcGFyYW0ge0VsZW1lbnR9IHBvcHBlclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGN1cnNvcklzT3V0c2lkZUludGVyYWN0aXZlQm9yZGVyKGV2ZW50LCBwb3BwZXIsIG9wdGlvbnMpIHtcbiAgaWYgKCFwb3BwZXIuZ2V0QXR0cmlidXRlKCd4LXBsYWNlbWVudCcpKSByZXR1cm4gdHJ1ZTtcblxuICB2YXIgeCA9IGV2ZW50LmNsaWVudFgsXG4gICAgICB5ID0gZXZlbnQuY2xpZW50WTtcbiAgdmFyIGludGVyYWN0aXZlQm9yZGVyID0gb3B0aW9ucy5pbnRlcmFjdGl2ZUJvcmRlcixcbiAgICAgIGRpc3RhbmNlID0gb3B0aW9ucy5kaXN0YW5jZTtcblxuXG4gIHZhciByZWN0ID0gcG9wcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB2YXIgcGxhY2VtZW50ID0gZ2V0UG9wcGVyUGxhY2VtZW50KHBvcHBlcik7XG4gIHZhciBib3JkZXJXaXRoRGlzdGFuY2UgPSBpbnRlcmFjdGl2ZUJvcmRlciArIGRpc3RhbmNlO1xuXG4gIHZhciBleGNlZWRzID0ge1xuICAgIHRvcDogcmVjdC50b3AgLSB5ID4gaW50ZXJhY3RpdmVCb3JkZXIsXG4gICAgYm90dG9tOiB5IC0gcmVjdC5ib3R0b20gPiBpbnRlcmFjdGl2ZUJvcmRlcixcbiAgICBsZWZ0OiByZWN0LmxlZnQgLSB4ID4gaW50ZXJhY3RpdmVCb3JkZXIsXG4gICAgcmlnaHQ6IHggLSByZWN0LnJpZ2h0ID4gaW50ZXJhY3RpdmVCb3JkZXJcbiAgfTtcblxuICBzd2l0Y2ggKHBsYWNlbWVudCkge1xuICAgIGNhc2UgJ3RvcCc6XG4gICAgICBleGNlZWRzLnRvcCA9IHJlY3QudG9wIC0geSA+IGJvcmRlcldpdGhEaXN0YW5jZTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICBleGNlZWRzLmJvdHRvbSA9IHkgLSByZWN0LmJvdHRvbSA+IGJvcmRlcldpdGhEaXN0YW5jZTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgZXhjZWVkcy5sZWZ0ID0gcmVjdC5sZWZ0IC0geCA+IGJvcmRlcldpdGhEaXN0YW5jZTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgIGV4Y2VlZHMucmlnaHQgPSB4IC0gcmVjdC5yaWdodCA+IGJvcmRlcldpdGhEaXN0YW5jZTtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIGV4Y2VlZHMudG9wIHx8IGV4Y2VlZHMuYm90dG9tIHx8IGV4Y2VlZHMubGVmdCB8fCBleGNlZWRzLnJpZ2h0O1xufVxuXG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIGBhcnJvd1RyYW5zZm9ybWAgbnVtYmVycyBiYXNlZCBvbiB0aGUgcGxhY2VtZW50IGF4aXNcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlICdzY2FsZScgb3IgJ3RyYW5zbGF0ZSdcbiAqIEBwYXJhbSB7TnVtYmVyW119IG51bWJlcnNcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNWZXJ0aWNhbFxuICogQHBhcmFtIHtCb29sZWFufSBpc1JldmVyc2VcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gdHJhbnNmb3JtTnVtYmVyc0Jhc2VkT25QbGFjZW1lbnRBeGlzKHR5cGUsIG51bWJlcnMsIGlzVmVydGljYWwsIGlzUmV2ZXJzZSkge1xuICBpZiAoIW51bWJlcnMubGVuZ3RoKSByZXR1cm4gJyc7XG5cbiAgdmFyIHRyYW5zZm9ybXMgPSB7XG4gICAgc2NhbGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChudW1iZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gJycgKyBudW1iZXJzWzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGlzVmVydGljYWwgPyBudW1iZXJzWzBdICsgJywgJyArIG51bWJlcnNbMV0gOiBudW1iZXJzWzFdICsgJywgJyArIG51bWJlcnNbMF07XG4gICAgICB9XG4gICAgfSgpLFxuICAgIHRyYW5zbGF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKG51bWJlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBpc1JldmVyc2UgPyAtbnVtYmVyc1swXSArICdweCcgOiBudW1iZXJzWzBdICsgJ3B4JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpc1ZlcnRpY2FsKSB7XG4gICAgICAgICAgcmV0dXJuIGlzUmV2ZXJzZSA/IG51bWJlcnNbMF0gKyAncHgsICcgKyAtbnVtYmVyc1sxXSArICdweCcgOiBudW1iZXJzWzBdICsgJ3B4LCAnICsgbnVtYmVyc1sxXSArICdweCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGlzUmV2ZXJzZSA/IC1udW1iZXJzWzFdICsgJ3B4LCAnICsgbnVtYmVyc1swXSArICdweCcgOiBudW1iZXJzWzFdICsgJ3B4LCAnICsgbnVtYmVyc1swXSArICdweCc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KClcbiAgfTtcblxuICByZXR1cm4gdHJhbnNmb3Jtc1t0eXBlXTtcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSBgYXJyb3dUcmFuc2Zvcm1gIHggb3IgeSBheGlzIGJhc2VkIG9uIHRoZSBwbGFjZW1lbnQgYXhpc1xuICogQHBhcmFtIHtTdHJpbmd9IGF4aXMgJ1gnLCAnWScsICcnXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGlzVmVydGljYWxcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gdHJhbnNmb3JtQXhpcyhheGlzLCBpc1ZlcnRpY2FsKSB7XG4gIGlmICghYXhpcykgcmV0dXJuICcnO1xuICB2YXIgbWFwID0ge1xuICAgIFg6ICdZJyxcbiAgICBZOiAnWCdcbiAgfTtcbiAgcmV0dXJuIGlzVmVydGljYWwgPyBheGlzIDogbWFwW2F4aXNdO1xufVxuXG4vKipcbiAqIENvbXB1dGVzIGFuZCBhcHBsaWVzIHRoZSBuZWNlc3NhcnkgYXJyb3cgdHJhbnNmb3JtXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHBvcHBlclxuICogQHBhcmFtIHtFbGVtZW50fSBhcnJvd1xuICogQHBhcmFtIHtTdHJpbmd9IGFycm93VHJhbnNmb3JtXG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVBcnJvd1RyYW5zZm9ybShwb3BwZXIsIGFycm93LCBhcnJvd1RyYW5zZm9ybSkge1xuICB2YXIgcGxhY2VtZW50ID0gZ2V0UG9wcGVyUGxhY2VtZW50KHBvcHBlcik7XG4gIHZhciBpc1ZlcnRpY2FsID0gcGxhY2VtZW50ID09PSAndG9wJyB8fCBwbGFjZW1lbnQgPT09ICdib3R0b20nO1xuICB2YXIgaXNSZXZlcnNlID0gcGxhY2VtZW50ID09PSAncmlnaHQnIHx8IHBsYWNlbWVudCA9PT0gJ2JvdHRvbSc7XG5cbiAgdmFyIGdldEF4aXMgPSBmdW5jdGlvbiBnZXRBeGlzKHJlKSB7XG4gICAgdmFyIG1hdGNoID0gYXJyb3dUcmFuc2Zvcm0ubWF0Y2gocmUpO1xuICAgIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdIDogJyc7XG4gIH07XG5cbiAgdmFyIGdldE51bWJlcnMgPSBmdW5jdGlvbiBnZXROdW1iZXJzKHJlKSB7XG4gICAgdmFyIG1hdGNoID0gYXJyb3dUcmFuc2Zvcm0ubWF0Y2gocmUpO1xuICAgIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdLnNwbGl0KCcsJykubWFwKHBhcnNlRmxvYXQpIDogW107XG4gIH07XG5cbiAgdmFyIHJlID0ge1xuICAgIHRyYW5zbGF0ZTogL3RyYW5zbGF0ZVg/WT9cXCgoW14pXSspXFwpLyxcbiAgICBzY2FsZTogL3NjYWxlWD9ZP1xcKChbXildKylcXCkvXG4gIH07XG5cbiAgdmFyIG1hdGNoZXMgPSB7XG4gICAgdHJhbnNsYXRlOiB7XG4gICAgICBheGlzOiBnZXRBeGlzKC90cmFuc2xhdGUoW1hZXSkvKSxcbiAgICAgIG51bWJlcnM6IGdldE51bWJlcnMocmUudHJhbnNsYXRlKVxuICAgIH0sXG4gICAgc2NhbGU6IHtcbiAgICAgIGF4aXM6IGdldEF4aXMoL3NjYWxlKFtYWV0pLyksXG4gICAgICBudW1iZXJzOiBnZXROdW1iZXJzKHJlLnNjYWxlKVxuICAgIH1cbiAgfTtcblxuICB2YXIgY29tcHV0ZWRUcmFuc2Zvcm0gPSBhcnJvd1RyYW5zZm9ybS5yZXBsYWNlKHJlLnRyYW5zbGF0ZSwgJ3RyYW5zbGF0ZScgKyB0cmFuc2Zvcm1BeGlzKG1hdGNoZXMudHJhbnNsYXRlLmF4aXMsIGlzVmVydGljYWwpICsgJygnICsgdHJhbnNmb3JtTnVtYmVyc0Jhc2VkT25QbGFjZW1lbnRBeGlzKCd0cmFuc2xhdGUnLCBtYXRjaGVzLnRyYW5zbGF0ZS5udW1iZXJzLCBpc1ZlcnRpY2FsLCBpc1JldmVyc2UpICsgJyknKS5yZXBsYWNlKHJlLnNjYWxlLCAnc2NhbGUnICsgdHJhbnNmb3JtQXhpcyhtYXRjaGVzLnNjYWxlLmF4aXMsIGlzVmVydGljYWwpICsgJygnICsgdHJhbnNmb3JtTnVtYmVyc0Jhc2VkT25QbGFjZW1lbnRBeGlzKCdzY2FsZScsIG1hdGNoZXMuc2NhbGUubnVtYmVycywgaXNWZXJ0aWNhbCwgaXNSZXZlcnNlKSArICcpJyk7XG5cbiAgYXJyb3cuc3R5bGVbcHJlZml4KCd0cmFuc2Zvcm0nKV0gPSBjb21wdXRlZFRyYW5zZm9ybTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBkaXN0YW5jZSB0YWtpbmcgaW50byBhY2NvdW50IHRoZSBkZWZhdWx0IGRpc3RhbmNlIGR1ZSB0b1xuICogdGhlIHRyYW5zZm9ybTogdHJhbnNsYXRlIHNldHRpbmcgaW4gQ1NTXG4gKiBAcGFyYW0ge051bWJlcn0gZGlzdGFuY2VcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZ2V0T2Zmc2V0RGlzdGFuY2VJblB4KGRpc3RhbmNlKSB7XG4gIHJldHVybiAtKGRpc3RhbmNlIC0gZGVmYXVsdHMuZGlzdGFuY2UpICsgJ3B4Jztcbn1cblxuLyoqXG4gKiBXYWl0cyB1bnRpbCBuZXh0IHJlcGFpbnQgdG8gZXhlY3V0ZSBhIGZuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICovXG5mdW5jdGlvbiBkZWZlcihmbikge1xuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgIHNldFRpbWVvdXQoZm4sIDEpO1xuICB9KTtcbn1cblxudmFyIG1hdGNoZXMgPSB7fTtcblxuaWYgKGlzQnJvd3Nlcikge1xuICB2YXIgZSA9IEVsZW1lbnQucHJvdG90eXBlO1xuICBtYXRjaGVzID0gZS5tYXRjaGVzIHx8IGUubWF0Y2hlc1NlbGVjdG9yIHx8IGUud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8IGUubW96TWF0Y2hlc1NlbGVjdG9yIHx8IGUubXNNYXRjaGVzU2VsZWN0b3IgfHwgZnVuY3Rpb24gKHMpIHtcbiAgICB2YXIgbWF0Y2hlcyA9ICh0aGlzLmRvY3VtZW50IHx8IHRoaXMub3duZXJEb2N1bWVudCkucXVlcnlTZWxlY3RvckFsbChzKTtcbiAgICB2YXIgaSA9IG1hdGNoZXMubGVuZ3RoO1xuICAgIHdoaWxlICgtLWkgPj0gMCAmJiBtYXRjaGVzLml0ZW0oaSkgIT09IHRoaXMpIHt9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZW1wdHlcbiAgICByZXR1cm4gaSA+IC0xO1xuICB9O1xufVxuXG52YXIgbWF0Y2hlcyQxID0gbWF0Y2hlcztcblxuLyoqXG4gKiBQb255ZmlsbCB0byBnZXQgdGhlIGNsb3Nlc3QgcGFyZW50IGVsZW1lbnRcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIGNoaWxkIG9mIHBhcmVudCB0byBiZSByZXR1cm5lZFxuICogQHBhcmFtIHtTdHJpbmd9IHBhcmVudFNlbGVjdG9yIC0gc2VsZWN0b3IgdG8gbWF0Y2ggdGhlIHBhcmVudCBpZiBmb3VuZFxuICogQHJldHVybiB7RWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gY2xvc2VzdChlbGVtZW50LCBwYXJlbnRTZWxlY3Rvcikge1xuICB2YXIgZm4gPSBFbGVtZW50LnByb3RvdHlwZS5jbG9zZXN0IHx8IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgIHZhciBlbCA9IHRoaXM7XG4gICAgd2hpbGUgKGVsKSB7XG4gICAgICBpZiAobWF0Y2hlcyQxLmNhbGwoZWwsIHNlbGVjdG9yKSkge1xuICAgICAgICByZXR1cm4gZWw7XG4gICAgICB9XG4gICAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQ7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBmbi5jYWxsKGVsZW1lbnQsIHBhcmVudFNlbGVjdG9yKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSB2YWx1ZSB0YWtpbmcgaW50byBhY2NvdW50IHRoZSB2YWx1ZSBiZWluZyBlaXRoZXIgYSBudW1iZXIgb3IgYXJyYXlcbiAqIEBwYXJhbSB7TnVtYmVyfEFycmF5fSB2YWx1ZVxuICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4XG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGdldFZhbHVlKHZhbHVlLCBpbmRleCkge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZVtpbmRleF0gOiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSB2aXNpYmlsaXR5IHN0YXRlIG9mIGFuIGVsZW1lbnQgZm9yIHRyYW5zaXRpb24gdG8gYmVnaW5cbiAqIEBwYXJhbSB7RWxlbWVudFtdfSBlbHMgLSBhcnJheSBvZiBlbGVtZW50c1xuICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgLSAndmlzaWJsZScgb3IgJ2hpZGRlbidcbiAqL1xuZnVuY3Rpb24gc2V0VmlzaWJpbGl0eVN0YXRlKGVscywgdHlwZSkge1xuICBlbHMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICBpZiAoIWVsKSByZXR1cm47XG4gICAgZWwuc2V0QXR0cmlidXRlKCdkYXRhLXN0YXRlJywgdHlwZSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIHRyYW5zaXRpb24gcHJvcGVydHkgdG8gZWFjaCBlbGVtZW50XG4gKiBAcGFyYW0ge0VsZW1lbnRbXX0gZWxzIC0gQXJyYXkgb2YgZWxlbWVudHNcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuICovXG5mdW5jdGlvbiBhcHBseVRyYW5zaXRpb25EdXJhdGlvbihlbHMsIHZhbHVlKSB7XG4gIGVscy5maWx0ZXIoQm9vbGVhbikuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICBlbC5zdHlsZVtwcmVmaXgoJ3RyYW5zaXRpb25EdXJhdGlvbicpXSA9IHZhbHVlICsgJ21zJztcbiAgfSk7XG59XG5cbi8qKlxuICogRm9jdXNlcyBhbiBlbGVtZW50IHdoaWxlIHByZXZlbnRpbmcgYSBzY3JvbGwganVtcCBpZiBpdCdzIG5vdCBlbnRpcmVseSB3aXRoaW4gdGhlIHZpZXdwb3J0XG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gKi9cbmZ1bmN0aW9uIGZvY3VzKGVsKSB7XG4gIHZhciB4ID0gd2luZG93LnNjcm9sbFggfHwgd2luZG93LnBhZ2VYT2Zmc2V0O1xuICB2YXIgeSA9IHdpbmRvdy5zY3JvbGxZIHx8IHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgZWwuZm9jdXMoKTtcbiAgc2Nyb2xsKHgsIHkpO1xufVxuXG52YXIga2V5ID0ge307XG52YXIgc3RvcmUgPSBmdW5jdGlvbiBzdG9yZShkYXRhKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoaykge1xuICAgIHJldHVybiBrID09PSBrZXkgJiYgZGF0YTtcbiAgfTtcbn07XG5cbnZhciBUaXBweSA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gVGlwcHkoY29uZmlnKSB7XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgVGlwcHkpO1xuXG4gICAgZm9yICh2YXIgX2tleSBpbiBjb25maWcpIHtcbiAgICAgIHRoaXNbX2tleV0gPSBjb25maWdbX2tleV07XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGRlc3Ryb3llZDogZmFsc2UsXG4gICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICB9O1xuXG4gICAgdGhpcy5fID0gc3RvcmUoe1xuICAgICAgbXV0YXRpb25PYnNlcnZlcnM6IFtdXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlcyB0aGUgdG9vbHRpcCB0byBhbGxvdyBpdCB0byBzaG93IG9yIGhpZGVcbiAgICogQG1lbWJlcm9mIFRpcHB5XG4gICAqIEBwdWJsaWNcbiAgICovXG5cblxuICBjcmVhdGVDbGFzcyhUaXBweSwgW3tcbiAgICBrZXk6ICdlbmFibGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbmFibGUoKSB7XG4gICAgICB0aGlzLnN0YXRlLmVuYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2FibGVzIHRoZSB0b29sdGlwIGZyb20gc2hvd2luZyBvciBoaWRpbmcsIGJ1dCBkb2VzIG5vdCBkZXN0cm95IGl0XG4gICAgICogQG1lbWJlcm9mIFRpcHB5XG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdkaXNhYmxlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICAgIHRoaXMuc3RhdGUuZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3dzIHRoZSB0b29sdGlwXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kc1xuICAgICAqIEBtZW1iZXJvZiBUaXBweVxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc2hvdycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3coZHVyYXRpb24pIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLnN0YXRlLmRlc3Ryb3llZCB8fCAhdGhpcy5zdGF0ZS5lbmFibGVkKSByZXR1cm47XG5cbiAgICAgIHZhciBwb3BwZXIgPSB0aGlzLnBvcHBlcixcbiAgICAgICAgICByZWZlcmVuY2UgPSB0aGlzLnJlZmVyZW5jZSxcbiAgICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICB2YXIgX2dldElubmVyRWxlbWVudHMgPSBnZXRJbm5lckVsZW1lbnRzKHBvcHBlciksXG4gICAgICAgICAgdG9vbHRpcCA9IF9nZXRJbm5lckVsZW1lbnRzLnRvb2x0aXAsXG4gICAgICAgICAgYmFja2Ryb3AgPSBfZ2V0SW5uZXJFbGVtZW50cy5iYWNrZHJvcCxcbiAgICAgICAgICBjb250ZW50ID0gX2dldElubmVyRWxlbWVudHMuY29udGVudDtcblxuICAgICAgLy8gSWYgdGhlIGBkeW5hbWljVGl0bGVgIG9wdGlvbiBpcyB0cnVlLCB0aGUgaW5zdGFuY2UgaXMgYWxsb3dlZFxuICAgICAgLy8gdG8gYmUgY3JlYXRlZCB3aXRoIGFuIGVtcHR5IHRpdGxlLiBNYWtlIHN1cmUgdGhhdCB0aGUgdG9vbHRpcFxuICAgICAgLy8gY29udGVudCBpcyBub3QgZW1wdHkgYmVmb3JlIHNob3dpbmcgaXRcblxuXG4gICAgICBpZiAob3B0aW9ucy5keW5hbWljVGl0bGUgJiYgIXJlZmVyZW5jZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKSkgcmV0dXJuO1xuXG4gICAgICAvLyBEbyBub3Qgc2hvdyB0b29sdGlwIGlmIHJlZmVyZW5jZSBjb250YWlucyAnZGlzYWJsZWQnIGF0dHJpYnV0ZS4gRkYgZml4IGZvciAjMjIxXG4gICAgICBpZiAocmVmZXJlbmNlLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSkgcmV0dXJuO1xuXG4gICAgICAvLyBEZXN0cm95IHRvb2x0aXAgaWYgdGhlIHJlZmVyZW5jZSBlbGVtZW50IGlzIG5vIGxvbmdlciBvbiB0aGUgRE9NXG4gICAgICBpZiAoIXJlZmVyZW5jZS5yZWZPYmogJiYgIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jb250YWlucyhyZWZlcmVuY2UpKSB7XG4gICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIG9wdGlvbnMub25TaG93LmNhbGwocG9wcGVyLCB0aGlzKTtcblxuICAgICAgZHVyYXRpb24gPSBnZXRWYWx1ZShkdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gZHVyYXRpb24gOiBvcHRpb25zLmR1cmF0aW9uLCAwKTtcblxuICAgICAgLy8gUHJldmVudCBhIHRyYW5zaXRpb24gd2hlbiBwb3BwZXIgY2hhbmdlcyBwb3NpdGlvblxuICAgICAgYXBwbHlUcmFuc2l0aW9uRHVyYXRpb24oW3BvcHBlciwgdG9vbHRpcCwgYmFja2Ryb3BdLCAwKTtcblxuICAgICAgcG9wcGVyLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgICB0aGlzLnN0YXRlLnZpc2libGUgPSB0cnVlO1xuXG4gICAgICBfbW91bnQuY2FsbCh0aGlzLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghX3RoaXMuc3RhdGUudmlzaWJsZSkgcmV0dXJuO1xuXG4gICAgICAgIGlmICghX2hhc0ZvbGxvd0N1cnNvckJlaGF2aW9yLmNhbGwoX3RoaXMpKSB7XG4gICAgICAgICAgLy8gRklYOiBBcnJvdyB3aWxsIHNvbWV0aW1lcyBub3QgYmUgcG9zaXRpb25lZCBjb3JyZWN0bHkuIEZvcmNlIGFub3RoZXIgdXBkYXRlLlxuICAgICAgICAgIF90aGlzLnBvcHBlckluc3RhbmNlLnNjaGVkdWxlVXBkYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgaW5pdGlhbCBwb3NpdGlvbiBuZWFyIHRoZSBjdXJzb3JcbiAgICAgICAgaWYgKF9oYXNGb2xsb3dDdXJzb3JCZWhhdmlvci5jYWxsKF90aGlzKSkge1xuICAgICAgICAgIF90aGlzLnBvcHBlckluc3RhbmNlLmRpc2FibGVFdmVudExpc3RlbmVycygpO1xuICAgICAgICAgIHZhciBkZWxheSA9IGdldFZhbHVlKG9wdGlvbnMuZGVsYXksIDApO1xuICAgICAgICAgIHZhciBsYXN0VHJpZ2dlckV2ZW50ID0gX3RoaXMuXyhrZXkpLmxhc3RUcmlnZ2VyRXZlbnQ7XG4gICAgICAgICAgaWYgKGxhc3RUcmlnZ2VyRXZlbnQpIHtcbiAgICAgICAgICAgIF90aGlzLl8oa2V5KS5mb2xsb3dDdXJzb3JMaXN0ZW5lcihkZWxheSAmJiBfdGhpcy5fKGtleSkubGFzdE1vdXNlTW92ZUV2ZW50ID8gX3RoaXMuXyhrZXkpLmxhc3RNb3VzZU1vdmVFdmVudCA6IGxhc3RUcmlnZ2VyRXZlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlLWFwcGx5IHRyYW5zaXRpb24gZHVyYXRpb25zXG4gICAgICAgIGFwcGx5VHJhbnNpdGlvbkR1cmF0aW9uKFt0b29sdGlwLCBiYWNrZHJvcCwgYmFja2Ryb3AgPyBjb250ZW50IDogbnVsbF0sIGR1cmF0aW9uKTtcblxuICAgICAgICBpZiAoYmFja2Ryb3ApIHtcbiAgICAgICAgICBnZXRDb21wdXRlZFN0eWxlKGJhY2tkcm9wKVtwcmVmaXgoJ3RyYW5zZm9ybScpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmludGVyYWN0aXZlKSB7XG4gICAgICAgICAgcmVmZXJlbmNlLmNsYXNzTGlzdC5hZGQoJ3RpcHB5LWFjdGl2ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc3RpY2t5KSB7XG4gICAgICAgICAgX21ha2VTdGlja3kuY2FsbChfdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRWaXNpYmlsaXR5U3RhdGUoW3Rvb2x0aXAsIGJhY2tkcm9wXSwgJ3Zpc2libGUnKTtcblxuICAgICAgICBfb25UcmFuc2l0aW9uRW5kLmNhbGwoX3RoaXMsIGR1cmF0aW9uLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKCFvcHRpb25zLnVwZGF0ZUR1cmF0aW9uKSB7XG4gICAgICAgICAgICB0b29sdGlwLmNsYXNzTGlzdC5hZGQoJ3RpcHB5LW5vdHJhbnNpdGlvbicpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChvcHRpb25zLmludGVyYWN0aXZlKSB7XG4gICAgICAgICAgICBmb2N1cyhwb3BwZXIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlZmVyZW5jZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGVzY3JpYmVkYnknLCAndGlwcHktJyArIF90aGlzLmlkKTtcblxuICAgICAgICAgIG9wdGlvbnMub25TaG93bi5jYWxsKHBvcHBlciwgX3RoaXMpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhpZGVzIHRoZSB0b29sdGlwXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kc1xuICAgICAqIEBtZW1iZXJvZiBUaXBweVxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnaGlkZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhpZGUoZHVyYXRpb24pIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5zdGF0ZS5kZXN0cm95ZWQgfHwgIXRoaXMuc3RhdGUuZW5hYmxlZCkgcmV0dXJuO1xuXG4gICAgICB2YXIgcG9wcGVyID0gdGhpcy5wb3BwZXIsXG4gICAgICAgICAgcmVmZXJlbmNlID0gdGhpcy5yZWZlcmVuY2UsXG4gICAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgdmFyIF9nZXRJbm5lckVsZW1lbnRzMiA9IGdldElubmVyRWxlbWVudHMocG9wcGVyKSxcbiAgICAgICAgICB0b29sdGlwID0gX2dldElubmVyRWxlbWVudHMyLnRvb2x0aXAsXG4gICAgICAgICAgYmFja2Ryb3AgPSBfZ2V0SW5uZXJFbGVtZW50czIuYmFja2Ryb3AsXG4gICAgICAgICAgY29udGVudCA9IF9nZXRJbm5lckVsZW1lbnRzMi5jb250ZW50O1xuXG4gICAgICBvcHRpb25zLm9uSGlkZS5jYWxsKHBvcHBlciwgdGhpcyk7XG5cbiAgICAgIGR1cmF0aW9uID0gZ2V0VmFsdWUoZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IGR1cmF0aW9uIDogb3B0aW9ucy5kdXJhdGlvbiwgMSk7XG5cbiAgICAgIGlmICghb3B0aW9ucy51cGRhdGVEdXJhdGlvbikge1xuICAgICAgICB0b29sdGlwLmNsYXNzTGlzdC5yZW1vdmUoJ3RpcHB5LW5vdHJhbnNpdGlvbicpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5pbnRlcmFjdGl2ZSkge1xuICAgICAgICByZWZlcmVuY2UuY2xhc3NMaXN0LnJlbW92ZSgndGlwcHktYWN0aXZlJyk7XG4gICAgICB9XG5cbiAgICAgIHBvcHBlci5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICB0aGlzLnN0YXRlLnZpc2libGUgPSBmYWxzZTtcblxuICAgICAgYXBwbHlUcmFuc2l0aW9uRHVyYXRpb24oW3Rvb2x0aXAsIGJhY2tkcm9wLCBiYWNrZHJvcCA/IGNvbnRlbnQgOiBudWxsXSwgZHVyYXRpb24pO1xuXG4gICAgICBzZXRWaXNpYmlsaXR5U3RhdGUoW3Rvb2x0aXAsIGJhY2tkcm9wXSwgJ2hpZGRlbicpO1xuXG4gICAgICBpZiAob3B0aW9ucy5pbnRlcmFjdGl2ZSAmJiBvcHRpb25zLnRyaWdnZXIuaW5kZXhPZignY2xpY2snKSA+IC0xKSB7XG4gICAgICAgIGZvY3VzKHJlZmVyZW5jZSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucG9wcGVySW5zdGFuY2UuZGlzYWJsZUV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICAgIC8qXG4gICAgICAqIFRoaXMgY2FsbCBpcyBkZWZlcnJlZCBiZWNhdXNlIHNvbWV0aW1lcyB3aGVuIHRoZSB0b29sdGlwIGlzIHN0aWxsIHRyYW5zaXRpb25pbmcgaW4gYnV0IGhpZGUoKVxuICAgICAgKiBpcyBjYWxsZWQgYmVmb3JlIGl0IGZpbmlzaGVzLCB0aGUgQ1NTIHRyYW5zaXRpb24gd29uJ3QgcmV2ZXJzZSBxdWlja2x5IGVub3VnaCwgbWVhbmluZ1xuICAgICAgKiB0aGUgQ1NTIHRyYW5zaXRpb24gd2lsbCBmaW5pc2ggMS0yIGZyYW1lcyBsYXRlciwgYW5kIG9uSGlkZGVuKCkgd2lsbCBydW4gc2luY2UgdGhlIEpTIHNldCBpdFxuICAgICAgKiBtb3JlIHF1aWNrbHkuIEl0IHNob3VsZCBhY3R1YWxseSBiZSBvblNob3duKCkuIFNlZW1zIHRvIGJlIHNvbWV0aGluZyBDaHJvbWUgZG9lcywgbm90IFNhZmFyaVxuICAgICAgKi9cbiAgICAgIGRlZmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX29uVHJhbnNpdGlvbkVuZC5jYWxsKF90aGlzMiwgZHVyYXRpb24sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoX3RoaXMyLnN0YXRlLnZpc2libGUgfHwgIW9wdGlvbnMuYXBwZW5kVG8uY29udGFpbnMocG9wcGVyKSkgcmV0dXJuO1xuXG4gICAgICAgICAgaWYgKCFfdGhpczIuXyhrZXkpLmlzUHJlcGFyaW5nVG9TaG93KSB7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBfdGhpczIuXyhrZXkpLmZvbGxvd0N1cnNvckxpc3RlbmVyKTtcbiAgICAgICAgICAgIF90aGlzMi5fKGtleSkubGFzdE1vdXNlTW92ZUV2ZW50ID0gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZWZlcmVuY2UucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWRlc2NyaWJlZGJ5Jyk7XG5cbiAgICAgICAgICBvcHRpb25zLmFwcGVuZFRvLnJlbW92ZUNoaWxkKHBvcHBlcik7XG5cbiAgICAgICAgICBvcHRpb25zLm9uSGlkZGVuLmNhbGwocG9wcGVyLCBfdGhpczIpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSB0b29sdGlwIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBkZXN0cm95VGFyZ2V0SW5zdGFuY2VzIC0gcmVsZXZhbnQgb25seSB3aGVuIGRlc3Ryb3lpbmcgZGVsZWdhdGVzXG4gICAgICogQG1lbWJlcm9mIFRpcHB5XG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdkZXN0cm95JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgZGVzdHJveVRhcmdldEluc3RhbmNlcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdHJ1ZTtcblxuICAgICAgaWYgKHRoaXMuc3RhdGUuZGVzdHJveWVkKSByZXR1cm47XG5cbiAgICAgIC8vIEVuc3VyZSB0aGUgcG9wcGVyIGlzIGhpZGRlblxuICAgICAgaWYgKHRoaXMuc3RhdGUudmlzaWJsZSkge1xuICAgICAgICB0aGlzLmhpZGUoMCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIF90aGlzMy5yZWZlcmVuY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihsaXN0ZW5lci5ldmVudCwgbGlzdGVuZXIuaGFuZGxlcik7XG4gICAgICB9KTtcblxuICAgICAgLy8gUmVzdG9yZSB0aXRsZVxuICAgICAgaWYgKHRoaXMudGl0bGUpIHtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2Uuc2V0QXR0cmlidXRlKCd0aXRsZScsIHRoaXMudGl0bGUpO1xuICAgICAgfVxuXG4gICAgICBkZWxldGUgdGhpcy5yZWZlcmVuY2UuX3RpcHB5O1xuXG4gICAgICB2YXIgYXR0cmlidXRlcyA9IFsnZGF0YS1vcmlnaW5hbC10aXRsZScsICdkYXRhLXRpcHB5JywgJ2RhdGEtdGlwcHktZGVsZWdhdGUnXTtcbiAgICAgIGF0dHJpYnV0ZXMuZm9yRWFjaChmdW5jdGlvbiAoYXR0cikge1xuICAgICAgICBfdGhpczMucmVmZXJlbmNlLnJlbW92ZUF0dHJpYnV0ZShhdHRyKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnRhcmdldCAmJiBkZXN0cm95VGFyZ2V0SW5zdGFuY2VzKSB7XG4gICAgICAgIHRvQXJyYXkodGhpcy5yZWZlcmVuY2UucXVlcnlTZWxlY3RvckFsbCh0aGlzLm9wdGlvbnMudGFyZ2V0KSkuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICByZXR1cm4gY2hpbGQuX3RpcHB5ICYmIGNoaWxkLl90aXBweS5kZXN0cm95KCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5wb3BwZXJJbnN0YW5jZSkge1xuICAgICAgICB0aGlzLnBvcHBlckluc3RhbmNlLmRlc3Ryb3koKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fKGtleSkubXV0YXRpb25PYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuc3RhdGUuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFRpcHB5O1xufSgpO1xuXG4vKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogUHJpdmF0ZSBtZXRob2RzXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFN0YW5kYWxvbmUgZnVuY3Rpb25zIHRvIGJlIGNhbGxlZCB3aXRoIHRoZSBpbnN0YW5jZSdzIGB0aGlzYCBjb250ZXh0IHRvIG1ha2VcbiAqIHRoZW0gdHJ1bHkgcHJpdmF0ZSBhbmQgbm90IGFjY2Vzc2libGUgb24gdGhlIHByb3RvdHlwZVxuICovXG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgdG9vbHRpcCBpbnN0YW5jZSBoYXMgZm9sbG93Q3Vyc29yIGJlaGF2aW9yXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQG1lbWJlcm9mIFRpcHB5XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfaGFzRm9sbG93Q3Vyc29yQmVoYXZpb3IoKSB7XG4gIHZhciBsYXN0VHJpZ2dlckV2ZW50ID0gdGhpcy5fKGtleSkubGFzdFRyaWdnZXJFdmVudDtcbiAgcmV0dXJuIHRoaXMub3B0aW9ucy5mb2xsb3dDdXJzb3IgJiYgIWJyb3dzZXIudXNpbmdUb3VjaCAmJiBsYXN0VHJpZ2dlckV2ZW50ICYmIGxhc3RUcmlnZ2VyRXZlbnQudHlwZSAhPT0gJ2ZvY3VzJztcbn1cblxuLyoqXG4gKiBDcmVhdGVzIHRoZSBUaXBweSBpbnN0YW5jZSBmb3IgdGhlIGNoaWxkIHRhcmdldCBvZiB0aGUgZGVsZWdhdGUgY29udGFpbmVyXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICogQG1lbWJlcm9mIFRpcHB5XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfY3JlYXRlRGVsZWdhdGVDaGlsZFRpcHB5KGV2ZW50KSB7XG4gIHZhciB0YXJnZXRFbCA9IGNsb3Nlc3QoZXZlbnQudGFyZ2V0LCB0aGlzLm9wdGlvbnMudGFyZ2V0KTtcbiAgaWYgKHRhcmdldEVsICYmICF0YXJnZXRFbC5fdGlwcHkpIHtcbiAgICB2YXIgdGl0bGUgPSB0YXJnZXRFbC5nZXRBdHRyaWJ1dGUoJ3RpdGxlJykgfHwgdGhpcy50aXRsZTtcbiAgICBpZiAodGl0bGUpIHtcbiAgICAgIHRhcmdldEVsLnNldEF0dHJpYnV0ZSgndGl0bGUnLCB0aXRsZSk7XG4gICAgICB0aXBweSh0YXJnZXRFbCwgX2V4dGVuZHMoe30sIHRoaXMub3B0aW9ucywgeyB0YXJnZXQ6IG51bGwgfSkpO1xuICAgICAgX2VudGVyLmNhbGwodGFyZ2V0RWwuX3RpcHB5LCBldmVudCk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogTWV0aG9kIHVzZWQgYnkgZXZlbnQgbGlzdGVuZXJzIHRvIGludm9rZSB0aGUgc2hvdyBtZXRob2QsIHRha2luZyBpbnRvIGFjY291bnQgZGVsYXlzIGFuZFxuICogdGhlIGB3YWl0YCBvcHRpb25cbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gKiBAbWVtYmVyb2YgVGlwcHlcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9lbnRlcihldmVudCkge1xuICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuXG4gIF9jbGVhckRlbGF5VGltZW91dHMuY2FsbCh0aGlzKTtcblxuICBpZiAodGhpcy5zdGF0ZS52aXNpYmxlKSByZXR1cm47XG5cbiAgLy8gSXMgYSBkZWxlZ2F0ZSwgY3JlYXRlIFRpcHB5IGluc3RhbmNlIGZvciB0aGUgY2hpbGQgdGFyZ2V0XG4gIGlmIChvcHRpb25zLnRhcmdldCkge1xuICAgIF9jcmVhdGVEZWxlZ2F0ZUNoaWxkVGlwcHkuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5fKGtleSkuaXNQcmVwYXJpbmdUb1Nob3cgPSB0cnVlO1xuXG4gIGlmIChvcHRpb25zLndhaXQpIHtcbiAgICBvcHRpb25zLndhaXQuY2FsbCh0aGlzLnBvcHBlciwgdGhpcy5zaG93LmJpbmQodGhpcyksIGV2ZW50KTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBJZiB0aGUgdG9vbHRpcCBoYXMgYSBkZWxheSwgd2UgbmVlZCB0byBiZSBsaXN0ZW5pbmcgdG8gdGhlIG1vdXNlbW92ZSBhcyBzb29uIGFzIHRoZSB0cmlnZ2VyXG4gIC8vIGV2ZW50IGlzIGZpcmVkIHNvIHRoYXQgaXQncyBpbiB0aGUgY29ycmVjdCBwb3NpdGlvbiB1cG9uIG1vdW50LlxuICBpZiAoX2hhc0ZvbGxvd0N1cnNvckJlaGF2aW9yLmNhbGwodGhpcykpIHtcbiAgICBpZiAoIXRoaXMuXyhrZXkpLmZvbGxvd0N1cnNvckxpc3RlbmVyKSB7XG4gICAgICBfc2V0Rm9sbG93Q3Vyc29yTGlzdGVuZXIuY2FsbCh0aGlzKTtcbiAgICB9XG5cbiAgICB2YXIgX2dldElubmVyRWxlbWVudHMzID0gZ2V0SW5uZXJFbGVtZW50cyh0aGlzLnBvcHBlciksXG4gICAgICAgIGFycm93ID0gX2dldElubmVyRWxlbWVudHMzLmFycm93O1xuXG4gICAgaWYgKGFycm93KSBhcnJvdy5zdHlsZS5tYXJnaW4gPSAnMCc7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fKGtleSkuZm9sbG93Q3Vyc29yTGlzdGVuZXIpO1xuICB9XG5cbiAgdmFyIGRlbGF5ID0gZ2V0VmFsdWUob3B0aW9ucy5kZWxheSwgMCk7XG5cbiAgaWYgKGRlbGF5KSB7XG4gICAgdGhpcy5fKGtleSkuc2hvd1RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzNC5zaG93KCk7XG4gICAgfSwgZGVsYXkpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuc2hvdygpO1xuICB9XG59XG5cbi8qKlxuICogTWV0aG9kIHVzZWQgYnkgZXZlbnQgbGlzdGVuZXJzIHRvIGludm9rZSB0aGUgaGlkZSBtZXRob2QsIHRha2luZyBpbnRvIGFjY291bnQgZGVsYXlzXG4gKiBAbWVtYmVyb2YgVGlwcHlcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9sZWF2ZSgpIHtcbiAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgX2NsZWFyRGVsYXlUaW1lb3V0cy5jYWxsKHRoaXMpO1xuXG4gIGlmICghdGhpcy5zdGF0ZS52aXNpYmxlKSByZXR1cm47XG5cbiAgdGhpcy5fKGtleSkuaXNQcmVwYXJpbmdUb1Nob3cgPSBmYWxzZTtcblxuICB2YXIgZGVsYXkgPSBnZXRWYWx1ZSh0aGlzLm9wdGlvbnMuZGVsYXksIDEpO1xuXG4gIGlmIChkZWxheSkge1xuICAgIHRoaXMuXyhrZXkpLmhpZGVUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXM1LnN0YXRlLnZpc2libGUpIHtcbiAgICAgICAgX3RoaXM1LmhpZGUoKTtcbiAgICAgIH1cbiAgICB9LCBkZWxheSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5oaWRlKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIHJlbGV2YW50IGxpc3RlbmVycyBmb3IgdGhlIGluc3RhbmNlXG4gKiBAcmV0dXJuIHtPYmplY3R9IG9mIGxpc3RlbmVyc1xuICogQG1lbWJlcm9mIFRpcHB5XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfZ2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gIHZhciBvblRyaWdnZXIgPSBmdW5jdGlvbiBvblRyaWdnZXIoZXZlbnQpIHtcbiAgICBpZiAoIV90aGlzNi5zdGF0ZS5lbmFibGVkKSByZXR1cm47XG5cbiAgICB2YXIgc2hvdWxkU3RvcEV2ZW50ID0gYnJvd3Nlci5zdXBwb3J0c1RvdWNoICYmIGJyb3dzZXIudXNpbmdUb3VjaCAmJiBbJ21vdXNlZW50ZXInLCAnbW91c2VvdmVyJywgJ2ZvY3VzJ10uaW5kZXhPZihldmVudC50eXBlKSA+IC0xO1xuXG4gICAgaWYgKHNob3VsZFN0b3BFdmVudCAmJiBfdGhpczYub3B0aW9ucy50b3VjaEhvbGQpIHJldHVybjtcblxuICAgIF90aGlzNi5fKGtleSkubGFzdFRyaWdnZXJFdmVudCA9IGV2ZW50O1xuXG4gICAgLy8gVG9nZ2xlIHNob3cvaGlkZSB3aGVuIGNsaWNraW5nIGNsaWNrLXRyaWdnZXJlZCB0b29sdGlwc1xuICAgIGlmIChldmVudC50eXBlID09PSAnY2xpY2snICYmIF90aGlzNi5vcHRpb25zLmhpZGVPbkNsaWNrICE9PSAncGVyc2lzdGVudCcgJiYgX3RoaXM2LnN0YXRlLnZpc2libGUpIHtcbiAgICAgIF9sZWF2ZS5jYWxsKF90aGlzNik7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9lbnRlci5jYWxsKF90aGlzNiwgZXZlbnQpO1xuICAgIH1cblxuICAgIC8vIGlPUyBwcmV2ZW50cyBjbGljayBldmVudHMgZnJvbSBmaXJpbmdcbiAgICBpZiAoc2hvdWxkU3RvcEV2ZW50ICYmIGJyb3dzZXIuaU9TICYmIF90aGlzNi5yZWZlcmVuY2UuY2xpY2spIHtcbiAgICAgIF90aGlzNi5yZWZlcmVuY2UuY2xpY2soKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uTW91c2VMZWF2ZSA9IGZ1bmN0aW9uIG9uTW91c2VMZWF2ZShldmVudCkge1xuICAgIGlmIChbJ21vdXNlbGVhdmUnLCAnbW91c2VvdXQnXS5pbmRleE9mKGV2ZW50LnR5cGUpID4gLTEgJiYgYnJvd3Nlci5zdXBwb3J0c1RvdWNoICYmIGJyb3dzZXIudXNpbmdUb3VjaCAmJiBfdGhpczYub3B0aW9ucy50b3VjaEhvbGQpIHJldHVybjtcblxuICAgIGlmIChfdGhpczYub3B0aW9ucy5pbnRlcmFjdGl2ZSkge1xuICAgICAgdmFyIGhpZGUgPSBfbGVhdmUuYmluZChfdGhpczYpO1xuXG4gICAgICB2YXIgb25Nb3VzZU1vdmUgPSBmdW5jdGlvbiBvbk1vdXNlTW92ZShldmVudCkge1xuICAgICAgICB2YXIgcmVmZXJlbmNlQ3Vyc29ySXNPdmVyID0gY2xvc2VzdChldmVudC50YXJnZXQsIHNlbGVjdG9ycy5SRUZFUkVOQ0UpO1xuICAgICAgICB2YXIgY3Vyc29ySXNPdmVyUG9wcGVyID0gY2xvc2VzdChldmVudC50YXJnZXQsIHNlbGVjdG9ycy5QT1BQRVIpID09PSBfdGhpczYucG9wcGVyO1xuICAgICAgICB2YXIgY3Vyc29ySXNPdmVyUmVmZXJlbmNlID0gcmVmZXJlbmNlQ3Vyc29ySXNPdmVyID09PSBfdGhpczYucmVmZXJlbmNlO1xuXG4gICAgICAgIGlmIChjdXJzb3JJc092ZXJQb3BwZXIgfHwgY3Vyc29ySXNPdmVyUmVmZXJlbmNlKSByZXR1cm47XG5cbiAgICAgICAgaWYgKGN1cnNvcklzT3V0c2lkZUludGVyYWN0aXZlQm9yZGVyKGV2ZW50LCBfdGhpczYucG9wcGVyLCBfdGhpczYub3B0aW9ucykpIHtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBoaWRlKTtcbiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSk7XG5cbiAgICAgICAgICBfbGVhdmUuY2FsbChfdGhpczYsIG9uTW91c2VNb3ZlKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgaGlkZSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgX2xlYXZlLmNhbGwoX3RoaXM2KTtcbiAgfTtcblxuICB2YXIgb25CbHVyID0gZnVuY3Rpb24gb25CbHVyKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnRhcmdldCAhPT0gX3RoaXM2LnJlZmVyZW5jZSB8fCBicm93c2VyLnVzaW5nVG91Y2gpIHJldHVybjtcblxuICAgIGlmIChfdGhpczYub3B0aW9ucy5pbnRlcmFjdGl2ZSkge1xuICAgICAgaWYgKCFldmVudC5yZWxhdGVkVGFyZ2V0KSByZXR1cm47XG4gICAgICBpZiAoY2xvc2VzdChldmVudC5yZWxhdGVkVGFyZ2V0LCBzZWxlY3RvcnMuUE9QUEVSKSkgcmV0dXJuO1xuICAgIH1cblxuICAgIF9sZWF2ZS5jYWxsKF90aGlzNik7XG4gIH07XG5cbiAgdmFyIG9uRGVsZWdhdGVTaG93ID0gZnVuY3Rpb24gb25EZWxlZ2F0ZVNob3coZXZlbnQpIHtcbiAgICBpZiAoY2xvc2VzdChldmVudC50YXJnZXQsIF90aGlzNi5vcHRpb25zLnRhcmdldCkpIHtcbiAgICAgIF9lbnRlci5jYWxsKF90aGlzNiwgZXZlbnQpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25EZWxlZ2F0ZUhpZGUgPSBmdW5jdGlvbiBvbkRlbGVnYXRlSGlkZShldmVudCkge1xuICAgIGlmIChjbG9zZXN0KGV2ZW50LnRhcmdldCwgX3RoaXM2Lm9wdGlvbnMudGFyZ2V0KSkge1xuICAgICAgX2xlYXZlLmNhbGwoX3RoaXM2KTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBvblRyaWdnZXI6IG9uVHJpZ2dlcixcbiAgICBvbk1vdXNlTGVhdmU6IG9uTW91c2VMZWF2ZSxcbiAgICBvbkJsdXI6IG9uQmx1cixcbiAgICBvbkRlbGVnYXRlU2hvdzogb25EZWxlZ2F0ZVNob3csXG4gICAgb25EZWxlZ2F0ZUhpZGU6IG9uRGVsZWdhdGVIaWRlXG4gIH07XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbmQgcmV0dXJucyBhIG5ldyBwb3BwZXIgaW5zdGFuY2VcbiAqIEByZXR1cm4ge1BvcHBlcn1cbiAqIEBtZW1iZXJvZiBUaXBweVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2NyZWF0ZVBvcHBlckluc3RhbmNlKCkge1xuICB2YXIgX3RoaXM3ID0gdGhpcztcblxuICB2YXIgcG9wcGVyID0gdGhpcy5wb3BwZXIsXG4gICAgICByZWZlcmVuY2UgPSB0aGlzLnJlZmVyZW5jZSxcbiAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgdmFyIF9nZXRJbm5lckVsZW1lbnRzNCA9IGdldElubmVyRWxlbWVudHMocG9wcGVyKSxcbiAgICAgIHRvb2x0aXAgPSBfZ2V0SW5uZXJFbGVtZW50czQudG9vbHRpcDtcblxuICB2YXIgcG9wcGVyT3B0aW9ucyA9IG9wdGlvbnMucG9wcGVyT3B0aW9ucztcblxuICB2YXIgYXJyb3dTZWxlY3RvciA9IG9wdGlvbnMuYXJyb3dUeXBlID09PSAncm91bmQnID8gc2VsZWN0b3JzLlJPVU5EX0FSUk9XIDogc2VsZWN0b3JzLkFSUk9XO1xuICB2YXIgYXJyb3cgPSB0b29sdGlwLnF1ZXJ5U2VsZWN0b3IoYXJyb3dTZWxlY3Rvcik7XG5cbiAgdmFyIGNvbmZpZyA9IF9leHRlbmRzKHtcbiAgICBwbGFjZW1lbnQ6IG9wdGlvbnMucGxhY2VtZW50XG4gIH0sIHBvcHBlck9wdGlvbnMgfHwge30sIHtcbiAgICBtb2RpZmllcnM6IF9leHRlbmRzKHt9LCBwb3BwZXJPcHRpb25zID8gcG9wcGVyT3B0aW9ucy5tb2RpZmllcnMgOiB7fSwge1xuICAgICAgYXJyb3c6IF9leHRlbmRzKHtcbiAgICAgICAgZWxlbWVudDogYXJyb3dTZWxlY3RvclxuICAgICAgfSwgcG9wcGVyT3B0aW9ucyAmJiBwb3BwZXJPcHRpb25zLm1vZGlmaWVycyA/IHBvcHBlck9wdGlvbnMubW9kaWZpZXJzLmFycm93IDoge30pLFxuICAgICAgZmxpcDogX2V4dGVuZHMoe1xuICAgICAgICBlbmFibGVkOiBvcHRpb25zLmZsaXAsXG4gICAgICAgIHBhZGRpbmc6IG9wdGlvbnMuZGlzdGFuY2UgKyA1IC8qIDVweCBmcm9tIHZpZXdwb3J0IGJvdW5kYXJ5ICovXG4gICAgICAgICwgYmVoYXZpb3I6IG9wdGlvbnMuZmxpcEJlaGF2aW9yXG4gICAgICB9LCBwb3BwZXJPcHRpb25zICYmIHBvcHBlck9wdGlvbnMubW9kaWZpZXJzID8gcG9wcGVyT3B0aW9ucy5tb2RpZmllcnMuZmxpcCA6IHt9KSxcbiAgICAgIG9mZnNldDogX2V4dGVuZHMoe1xuICAgICAgICBvZmZzZXQ6IG9wdGlvbnMub2Zmc2V0XG4gICAgICB9LCBwb3BwZXJPcHRpb25zICYmIHBvcHBlck9wdGlvbnMubW9kaWZpZXJzID8gcG9wcGVyT3B0aW9ucy5tb2RpZmllcnMub2Zmc2V0IDoge30pXG4gICAgfSksXG4gICAgb25DcmVhdGU6IGZ1bmN0aW9uIG9uQ3JlYXRlKCkge1xuICAgICAgdG9vbHRpcC5zdHlsZVtnZXRQb3BwZXJQbGFjZW1lbnQocG9wcGVyKV0gPSBnZXRPZmZzZXREaXN0YW5jZUluUHgob3B0aW9ucy5kaXN0YW5jZSk7XG5cbiAgICAgIGlmIChhcnJvdyAmJiBvcHRpb25zLmFycm93VHJhbnNmb3JtKSB7XG4gICAgICAgIGNvbXB1dGVBcnJvd1RyYW5zZm9ybShwb3BwZXIsIGFycm93LCBvcHRpb25zLmFycm93VHJhbnNmb3JtKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9uVXBkYXRlOiBmdW5jdGlvbiBvblVwZGF0ZSgpIHtcbiAgICAgIHZhciBzdHlsZXMgPSB0b29sdGlwLnN0eWxlO1xuICAgICAgc3R5bGVzLnRvcCA9ICcnO1xuICAgICAgc3R5bGVzLmJvdHRvbSA9ICcnO1xuICAgICAgc3R5bGVzLmxlZnQgPSAnJztcbiAgICAgIHN0eWxlcy5yaWdodCA9ICcnO1xuICAgICAgc3R5bGVzW2dldFBvcHBlclBsYWNlbWVudChwb3BwZXIpXSA9IGdldE9mZnNldERpc3RhbmNlSW5QeChvcHRpb25zLmRpc3RhbmNlKTtcblxuICAgICAgaWYgKGFycm93ICYmIG9wdGlvbnMuYXJyb3dUcmFuc2Zvcm0pIHtcbiAgICAgICAgY29tcHV0ZUFycm93VHJhbnNmb3JtKHBvcHBlciwgYXJyb3csIG9wdGlvbnMuYXJyb3dUcmFuc2Zvcm0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgX2FkZE11dGF0aW9uT2JzZXJ2ZXIuY2FsbCh0aGlzLCB7XG4gICAgdGFyZ2V0OiBwb3BwZXIsXG4gICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgX3RoaXM3LnBvcHBlckluc3RhbmNlLnVwZGF0ZSgpO1xuICAgIH0sXG4gICAgb3B0aW9uczoge1xuICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgc3VidHJlZTogdHJ1ZSxcbiAgICAgIGNoYXJhY3RlckRhdGE6IHRydWVcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBuZXcgUG9wcGVyKHJlZmVyZW5jZSwgcG9wcGVyLCBjb25maWcpO1xufVxuXG4vKipcbiAqIEFwcGVuZHMgdGhlIHBvcHBlciBlbGVtZW50IHRvIHRoZSBET00sIHVwZGF0aW5nIG9yIGNyZWF0aW5nIHRoZSBwb3BwZXIgaW5zdGFuY2VcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAbWVtYmVyb2YgVGlwcHlcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9tb3VudChjYWxsYmFjaykge1xuICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuXG4gIGlmICghdGhpcy5wb3BwZXJJbnN0YW5jZSkge1xuICAgIHRoaXMucG9wcGVySW5zdGFuY2UgPSBfY3JlYXRlUG9wcGVySW5zdGFuY2UuY2FsbCh0aGlzKTtcbiAgICBpZiAoIW9wdGlvbnMubGl2ZVBsYWNlbWVudCkge1xuICAgICAgdGhpcy5wb3BwZXJJbnN0YW5jZS5kaXNhYmxlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5wb3BwZXJJbnN0YW5jZS5zY2hlZHVsZVVwZGF0ZSgpO1xuICAgIGlmIChvcHRpb25zLmxpdmVQbGFjZW1lbnQgJiYgIV9oYXNGb2xsb3dDdXJzb3JCZWhhdmlvci5jYWxsKHRoaXMpKSB7XG4gICAgICB0aGlzLnBvcHBlckluc3RhbmNlLmVuYWJsZUV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgdGhlIGluc3RhbmNlIHByZXZpb3VzbHkgaGFkIGZvbGxvd0N1cnNvciBiZWhhdmlvciwgaXQgd2lsbCBiZSBwb3NpdGlvbmVkIGluY29ycmVjdGx5XG4gIC8vIGlmIHRyaWdnZXJlZCBieSBgZm9jdXNgIGFmdGVyd2FyZHMgLSB1cGRhdGUgdGhlIHJlZmVyZW5jZSBiYWNrIHRvIHRoZSByZWFsIERPTSBlbGVtZW50XG4gIGlmICghX2hhc0ZvbGxvd0N1cnNvckJlaGF2aW9yLmNhbGwodGhpcykpIHtcbiAgICB2YXIgX2dldElubmVyRWxlbWVudHM1ID0gZ2V0SW5uZXJFbGVtZW50cyh0aGlzLnBvcHBlciksXG4gICAgICAgIGFycm93ID0gX2dldElubmVyRWxlbWVudHM1LmFycm93O1xuXG4gICAgaWYgKGFycm93KSBhcnJvdy5zdHlsZS5tYXJnaW4gPSAnJztcbiAgICB0aGlzLnBvcHBlckluc3RhbmNlLnJlZmVyZW5jZSA9IHRoaXMucmVmZXJlbmNlO1xuICB9XG5cbiAgdXBkYXRlUG9wcGVyUG9zaXRpb24odGhpcy5wb3BwZXJJbnN0YW5jZSwgY2FsbGJhY2ssIHRydWUpO1xuXG4gIGlmICghb3B0aW9ucy5hcHBlbmRUby5jb250YWlucyh0aGlzLnBvcHBlcikpIHtcbiAgICBvcHRpb25zLmFwcGVuZFRvLmFwcGVuZENoaWxkKHRoaXMucG9wcGVyKTtcbiAgfVxufVxuXG4vKipcbiAqIENsZWFycyB0aGUgc2hvdyBhbmQgaGlkZSBkZWxheSB0aW1lb3V0c1xuICogQG1lbWJlcm9mIFRpcHB5XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfY2xlYXJEZWxheVRpbWVvdXRzKCkge1xuICB2YXIgX3JlZiA9IHRoaXMuXyhrZXkpLFxuICAgICAgc2hvd1RpbWVvdXQgPSBfcmVmLnNob3dUaW1lb3V0LFxuICAgICAgaGlkZVRpbWVvdXQgPSBfcmVmLmhpZGVUaW1lb3V0O1xuXG4gIGNsZWFyVGltZW91dChzaG93VGltZW91dCk7XG4gIGNsZWFyVGltZW91dChoaWRlVGltZW91dCk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbW91c2Vtb3ZlIGV2ZW50IGxpc3RlbmVyIGZ1bmN0aW9uIGZvciBgZm9sbG93Q3Vyc29yYCBvcHRpb25cbiAqIEBtZW1iZXJvZiBUaXBweVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX3NldEZvbGxvd0N1cnNvckxpc3RlbmVyKCkge1xuICB2YXIgX3RoaXM4ID0gdGhpcztcblxuICB0aGlzLl8oa2V5KS5mb2xsb3dDdXJzb3JMaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciBfJGxhc3RNb3VzZU1vdmVFdmVudCA9IF90aGlzOC5fKGtleSkubGFzdE1vdXNlTW92ZUV2ZW50ID0gZXZlbnQsXG4gICAgICAgIGNsaWVudFggPSBfJGxhc3RNb3VzZU1vdmVFdmVudC5jbGllbnRYLFxuICAgICAgICBjbGllbnRZID0gXyRsYXN0TW91c2VNb3ZlRXZlbnQuY2xpZW50WTtcblxuICAgIGlmICghX3RoaXM4LnBvcHBlckluc3RhbmNlKSByZXR1cm47XG5cbiAgICBfdGhpczgucG9wcGVySW5zdGFuY2UucmVmZXJlbmNlID0ge1xuICAgICAgZ2V0Qm91bmRpbmdDbGllbnRSZWN0OiBmdW5jdGlvbiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgIHRvcDogY2xpZW50WSxcbiAgICAgICAgICBsZWZ0OiBjbGllbnRYLFxuICAgICAgICAgIHJpZ2h0OiBjbGllbnRYLFxuICAgICAgICAgIGJvdHRvbTogY2xpZW50WVxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIGNsaWVudFdpZHRoOiAwLFxuICAgICAgY2xpZW50SGVpZ2h0OiAwXG4gICAgfTtcblxuICAgIF90aGlzOC5wb3BwZXJJbnN0YW5jZS5zY2hlZHVsZVVwZGF0ZSgpO1xuICB9O1xufVxuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIHBvcHBlcidzIHBvc2l0aW9uIG9uIGVhY2ggYW5pbWF0aW9uIGZyYW1lXG4gKiBAbWVtYmVyb2YgVGlwcHlcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9tYWtlU3RpY2t5KCkge1xuICB2YXIgX3RoaXM5ID0gdGhpcztcblxuICB2YXIgYXBwbHlUcmFuc2l0aW9uRHVyYXRpb24kJDEgPSBmdW5jdGlvbiBhcHBseVRyYW5zaXRpb25EdXJhdGlvbiQkMSgpIHtcbiAgICBfdGhpczkucG9wcGVyLnN0eWxlW3ByZWZpeCgndHJhbnNpdGlvbkR1cmF0aW9uJyldID0gX3RoaXM5Lm9wdGlvbnMudXBkYXRlRHVyYXRpb24gKyAnbXMnO1xuICB9O1xuXG4gIHZhciByZW1vdmVUcmFuc2l0aW9uRHVyYXRpb24gPSBmdW5jdGlvbiByZW1vdmVUcmFuc2l0aW9uRHVyYXRpb24oKSB7XG4gICAgX3RoaXM5LnBvcHBlci5zdHlsZVtwcmVmaXgoJ3RyYW5zaXRpb25EdXJhdGlvbicpXSA9ICcnO1xuICB9O1xuXG4gIHZhciB1cGRhdGVQb3NpdGlvbiA9IGZ1bmN0aW9uIHVwZGF0ZVBvc2l0aW9uKCkge1xuICAgIGlmIChfdGhpczkucG9wcGVySW5zdGFuY2UpIHtcbiAgICAgIF90aGlzOS5wb3BwZXJJbnN0YW5jZS51cGRhdGUoKTtcbiAgICB9XG5cbiAgICBhcHBseVRyYW5zaXRpb25EdXJhdGlvbiQkMSgpO1xuXG4gICAgaWYgKF90aGlzOS5zdGF0ZS52aXNpYmxlKSB7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXBkYXRlUG9zaXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmVUcmFuc2l0aW9uRHVyYXRpb24oKTtcbiAgICB9XG4gIH07XG5cbiAgdXBkYXRlUG9zaXRpb24oKTtcbn1cblxuLyoqXG4gKiBBZGRzIGEgbXV0YXRpb24gb2JzZXJ2ZXIgdG8gYW4gZWxlbWVudCBhbmQgc3RvcmVzIGl0IGluIHRoZSBpbnN0YW5jZVxuICogQHBhcmFtIHtPYmplY3R9XG4gKiBAbWVtYmVyb2YgVGlwcHlcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9hZGRNdXRhdGlvbk9ic2VydmVyKF9yZWYyKSB7XG4gIHZhciB0YXJnZXQgPSBfcmVmMi50YXJnZXQsXG4gICAgICBjYWxsYmFjayA9IF9yZWYyLmNhbGxiYWNrLFxuICAgICAgb3B0aW9ucyA9IF9yZWYyLm9wdGlvbnM7XG5cbiAgaWYgKCF3aW5kb3cuTXV0YXRpb25PYnNlcnZlcikgcmV0dXJuO1xuXG4gIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKTtcbiAgb2JzZXJ2ZXIub2JzZXJ2ZSh0YXJnZXQsIG9wdGlvbnMpO1xuXG4gIHRoaXMuXyhrZXkpLm11dGF0aW9uT2JzZXJ2ZXJzLnB1c2gob2JzZXJ2ZXIpO1xufVxuXG4vKipcbiAqIEZpcmVzIHRoZSBjYWxsYmFjayBmdW5jdGlvbnMgb25jZSB0aGUgQ1NTIHRyYW5zaXRpb24gZW5kcyBmb3IgYHNob3dgIGFuZCBgaGlkZWAgbWV0aG9kc1xuICogQHBhcmFtIHtOdW1iZXJ9IGR1cmF0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGZpcmUgb25jZSB0cmFuc2l0aW9uIGNvbXBsZXRlc1xuICogQG1lbWJlcm9mIFRpcHB5XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfb25UcmFuc2l0aW9uRW5kKGR1cmF0aW9uLCBjYWxsYmFjaykge1xuICAvLyBNYWtlIGNhbGxiYWNrIHN5bmNocm9ub3VzIGlmIGR1cmF0aW9uIGlzIDBcbiAgaWYgKCFkdXJhdGlvbikge1xuICAgIHJldHVybiBjYWxsYmFjaygpO1xuICB9XG5cbiAgdmFyIF9nZXRJbm5lckVsZW1lbnRzNiA9IGdldElubmVyRWxlbWVudHModGhpcy5wb3BwZXIpLFxuICAgICAgdG9vbHRpcCA9IF9nZXRJbm5lckVsZW1lbnRzNi50b29sdGlwO1xuXG4gIHZhciB0b2dnbGVMaXN0ZW5lcnMgPSBmdW5jdGlvbiB0b2dnbGVMaXN0ZW5lcnMoYWN0aW9uLCBsaXN0ZW5lcikge1xuICAgIGlmICghbGlzdGVuZXIpIHJldHVybjtcbiAgICB0b29sdGlwW2FjdGlvbiArICdFdmVudExpc3RlbmVyJ10oJ29udHJhbnNpdGlvbmVuZCcgaW4gd2luZG93ID8gJ3RyYW5zaXRpb25lbmQnIDogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLCBsaXN0ZW5lcik7XG4gIH07XG5cbiAgdmFyIGxpc3RlbmVyID0gZnVuY3Rpb24gbGlzdGVuZXIoZSkge1xuICAgIGlmIChlLnRhcmdldCA9PT0gdG9vbHRpcCkge1xuICAgICAgdG9nZ2xlTGlzdGVuZXJzKCdyZW1vdmUnLCBsaXN0ZW5lcik7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfTtcblxuICB0b2dnbGVMaXN0ZW5lcnMoJ3JlbW92ZScsIHRoaXMuXyhrZXkpLnRyYW5zaXRpb25lbmRMaXN0ZW5lcik7XG4gIHRvZ2dsZUxpc3RlbmVycygnYWRkJywgbGlzdGVuZXIpO1xuXG4gIHRoaXMuXyhrZXkpLnRyYW5zaXRpb25lbmRMaXN0ZW5lciA9IGxpc3RlbmVyO1xufVxuXG52YXIgaWRDb3VudGVyID0gMTtcblxuLyoqXG4gKiBDcmVhdGVzIHRvb2x0aXBzIGZvciBlYWNoIHJlZmVyZW5jZSBlbGVtZW50XG4gKiBAcGFyYW0ge0VsZW1lbnRbXX0gZWxzXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gKiBAcmV0dXJuIHtUaXBweVtdfSBBcnJheSBvZiBUaXBweSBpbnN0YW5jZXNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlVG9vbHRpcHMoZWxzLCBjb25maWcpIHtcbiAgcmV0dXJuIGVscy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcmVmZXJlbmNlKSB7XG4gICAgdmFyIGlkID0gaWRDb3VudGVyO1xuXG4gICAgdmFyIG9wdGlvbnMgPSBldmFsdWF0ZU9wdGlvbnMocmVmZXJlbmNlLCBjb25maWcucGVyZm9ybWFuY2UgPyBjb25maWcgOiBnZXRJbmRpdmlkdWFsT3B0aW9ucyhyZWZlcmVuY2UsIGNvbmZpZykpO1xuXG4gICAgdmFyIHRpdGxlID0gcmVmZXJlbmNlLmdldEF0dHJpYnV0ZSgndGl0bGUnKTtcblxuICAgIC8vIERvbid0IGNyZWF0ZSBhbiBpbnN0YW5jZSB3aGVuOlxuICAgIC8vICogdGhlIGB0aXRsZWAgYXR0cmlidXRlIGlzIGZhbHN5IChudWxsIG9yIGVtcHR5IHN0cmluZyksIGFuZFxuICAgIC8vICogaXQncyBub3QgYSBkZWxlZ2F0ZSBmb3IgdG9vbHRpcHMsIGFuZFxuICAgIC8vICogdGhlcmUgaXMgbm8gaHRtbCB0ZW1wbGF0ZSBzcGVjaWZpZWQsIGFuZFxuICAgIC8vICogYGR5bmFtaWNUaXRsZWAgb3B0aW9uIGlzIGZhbHNlXG4gICAgaWYgKCF0aXRsZSAmJiAhb3B0aW9ucy50YXJnZXQgJiYgIW9wdGlvbnMuaHRtbCAmJiAhb3B0aW9ucy5keW5hbWljVGl0bGUpIHtcbiAgICAgIHJldHVybiBhY2M7XG4gICAgfVxuXG4gICAgLy8gRGVsZWdhdGVzIHNob3VsZCBiZSBoaWdobGlnaHRlZCBhcyBkaWZmZXJlbnRcbiAgICByZWZlcmVuY2Uuc2V0QXR0cmlidXRlKG9wdGlvbnMudGFyZ2V0ID8gJ2RhdGEtdGlwcHktZGVsZWdhdGUnIDogJ2RhdGEtdGlwcHknLCAnJyk7XG5cbiAgICByZW1vdmVUaXRsZShyZWZlcmVuY2UpO1xuXG4gICAgdmFyIHBvcHBlciA9IGNyZWF0ZVBvcHBlckVsZW1lbnQoaWQsIHRpdGxlLCBvcHRpb25zKTtcblxuICAgIHZhciB0aXBweSA9IG5ldyBUaXBweSh7XG4gICAgICBpZDogaWQsXG4gICAgICByZWZlcmVuY2U6IHJlZmVyZW5jZSxcbiAgICAgIHBvcHBlcjogcG9wcGVyLFxuICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgIHBvcHBlckluc3RhbmNlOiBudWxsXG4gICAgfSk7XG5cbiAgICBpZiAob3B0aW9ucy5jcmVhdGVQb3BwZXJJbnN0YW5jZU9uSW5pdCkge1xuICAgICAgdGlwcHkucG9wcGVySW5zdGFuY2UgPSBfY3JlYXRlUG9wcGVySW5zdGFuY2UuY2FsbCh0aXBweSk7XG4gICAgICB0aXBweS5wb3BwZXJJbnN0YW5jZS5kaXNhYmxlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG5cbiAgICB2YXIgbGlzdGVuZXJzID0gX2dldEV2ZW50TGlzdGVuZXJzLmNhbGwodGlwcHkpO1xuICAgIHRpcHB5Lmxpc3RlbmVycyA9IG9wdGlvbnMudHJpZ2dlci50cmltKCkuc3BsaXQoJyAnKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgZXZlbnRUeXBlKSB7XG4gICAgICByZXR1cm4gYWNjLmNvbmNhdChjcmVhdGVUcmlnZ2VyKGV2ZW50VHlwZSwgcmVmZXJlbmNlLCBsaXN0ZW5lcnMsIG9wdGlvbnMpKTtcbiAgICB9LCBbXSk7XG5cbiAgICAvLyBVcGRhdGUgdG9vbHRpcCBjb250ZW50IHdoZW5ldmVyIHRoZSB0aXRsZSBhdHRyaWJ1dGUgb24gdGhlIHJlZmVyZW5jZSBjaGFuZ2VzXG4gICAgaWYgKG9wdGlvbnMuZHluYW1pY1RpdGxlKSB7XG4gICAgICBfYWRkTXV0YXRpb25PYnNlcnZlci5jYWxsKHRpcHB5LCB7XG4gICAgICAgIHRhcmdldDogcmVmZXJlbmNlLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgdmFyIF9nZXRJbm5lckVsZW1lbnRzID0gZ2V0SW5uZXJFbGVtZW50cyhwb3BwZXIpLFxuICAgICAgICAgICAgICBjb250ZW50ID0gX2dldElubmVyRWxlbWVudHMuY29udGVudDtcblxuICAgICAgICAgIHZhciB0aXRsZSA9IHJlZmVyZW5jZS5nZXRBdHRyaWJ1dGUoJ3RpdGxlJyk7XG4gICAgICAgICAgaWYgKHRpdGxlKSB7XG4gICAgICAgICAgICBjb250ZW50W29wdGlvbnMuYWxsb3dUaXRsZUhUTUwgPyAnaW5uZXJIVE1MJyA6ICd0ZXh0Q29udGVudCddID0gdGlwcHkudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgICAgIHJlbW92ZVRpdGxlKHJlZmVyZW5jZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFNob3J0Y3V0c1xuICAgIHJlZmVyZW5jZS5fdGlwcHkgPSB0aXBweTtcbiAgICBwb3BwZXIuX3RpcHB5ID0gdGlwcHk7XG4gICAgcG9wcGVyLl9yZWZlcmVuY2UgPSByZWZlcmVuY2U7XG5cbiAgICBhY2MucHVzaCh0aXBweSk7XG5cbiAgICBpZENvdW50ZXIrKztcblxuICAgIHJldHVybiBhY2M7XG4gIH0sIFtdKTtcbn1cblxuLyoqXG4gKiBIaWRlcyBhbGwgcG9wcGVyc1xuICogQHBhcmFtIHtUaXBweX0gZXhjbHVkZVRpcHB5IC0gdGlwcHkgdG8gZXhjbHVkZSBpZiBuZWVkZWRcbiAqL1xuZnVuY3Rpb24gaGlkZUFsbFBvcHBlcnMoZXhjbHVkZVRpcHB5KSB7XG4gIHZhciBwb3BwZXJzID0gdG9BcnJheShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9ycy5QT1BQRVIpKTtcblxuICBwb3BwZXJzLmZvckVhY2goZnVuY3Rpb24gKHBvcHBlcikge1xuICAgIHZhciB0aXBweSA9IHBvcHBlci5fdGlwcHk7XG4gICAgaWYgKCF0aXBweSkgcmV0dXJuO1xuXG4gICAgdmFyIG9wdGlvbnMgPSB0aXBweS5vcHRpb25zO1xuXG5cbiAgICBpZiAoKG9wdGlvbnMuaGlkZU9uQ2xpY2sgPT09IHRydWUgfHwgb3B0aW9ucy50cmlnZ2VyLmluZGV4T2YoJ2ZvY3VzJykgPiAtMSkgJiYgKCFleGNsdWRlVGlwcHkgfHwgcG9wcGVyICE9PSBleGNsdWRlVGlwcHkucG9wcGVyKSkge1xuICAgICAgdGlwcHkuaGlkZSgpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogQWRkcyB0aGUgbmVlZGVkIGV2ZW50IGxpc3RlbmVyc1xuICovXG5mdW5jdGlvbiBiaW5kRXZlbnRMaXN0ZW5lcnMoKSB7XG4gIHZhciBvbkRvY3VtZW50VG91Y2ggPSBmdW5jdGlvbiBvbkRvY3VtZW50VG91Y2goKSB7XG4gICAgaWYgKGJyb3dzZXIudXNpbmdUb3VjaCkgcmV0dXJuO1xuXG4gICAgYnJvd3Nlci51c2luZ1RvdWNoID0gdHJ1ZTtcblxuICAgIGlmIChicm93c2VyLmlPUykge1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCd0aXBweS10b3VjaCcpO1xuICAgIH1cblxuICAgIGlmIChicm93c2VyLmR5bmFtaWNJbnB1dERldGVjdGlvbiAmJiB3aW5kb3cucGVyZm9ybWFuY2UpIHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uRG9jdW1lbnRNb3VzZU1vdmUpO1xuICAgIH1cblxuICAgIGJyb3dzZXIub25Vc2VySW5wdXRDaGFuZ2UoJ3RvdWNoJyk7XG4gIH07XG5cbiAgdmFyIG9uRG9jdW1lbnRNb3VzZU1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRpbWUgPSB2b2lkIDA7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXG4gICAgICAvLyBDaHJvbWUgNjArIGlzIDEgbW91c2Vtb3ZlIHBlciBhbmltYXRpb24gZnJhbWUsIHVzZSAyMG1zIHRpbWUgZGlmZmVyZW5jZVxuICAgICAgaWYgKG5vdyAtIHRpbWUgPCAyMCkge1xuICAgICAgICBicm93c2VyLnVzaW5nVG91Y2ggPSBmYWxzZTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Eb2N1bWVudE1vdXNlTW92ZSk7XG4gICAgICAgIGlmICghYnJvd3Nlci5pT1MpIHtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3RpcHB5LXRvdWNoJyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJvd3Nlci5vblVzZXJJbnB1dENoYW5nZSgnbW91c2UnKTtcbiAgICAgIH1cblxuICAgICAgdGltZSA9IG5vdztcbiAgICB9O1xuICB9KCk7XG5cbiAgdmFyIG9uRG9jdW1lbnRDbGljayA9IGZ1bmN0aW9uIG9uRG9jdW1lbnRDbGljayhldmVudCkge1xuICAgIC8vIFNpbXVsYXRlZCBldmVudHMgZGlzcGF0Y2hlZCBvbiB0aGUgZG9jdW1lbnRcbiAgICBpZiAoIShldmVudC50YXJnZXQgaW5zdGFuY2VvZiBFbGVtZW50KSkge1xuICAgICAgcmV0dXJuIGhpZGVBbGxQb3BwZXJzKCk7XG4gICAgfVxuXG4gICAgdmFyIHJlZmVyZW5jZSA9IGNsb3Nlc3QoZXZlbnQudGFyZ2V0LCBzZWxlY3RvcnMuUkVGRVJFTkNFKTtcbiAgICB2YXIgcG9wcGVyID0gY2xvc2VzdChldmVudC50YXJnZXQsIHNlbGVjdG9ycy5QT1BQRVIpO1xuXG4gICAgaWYgKHBvcHBlciAmJiBwb3BwZXIuX3RpcHB5ICYmIHBvcHBlci5fdGlwcHkub3B0aW9ucy5pbnRlcmFjdGl2ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChyZWZlcmVuY2UgJiYgcmVmZXJlbmNlLl90aXBweSkge1xuICAgICAgdmFyIG9wdGlvbnMgPSByZWZlcmVuY2UuX3RpcHB5Lm9wdGlvbnM7XG5cbiAgICAgIHZhciBpc0NsaWNrVHJpZ2dlciA9IG9wdGlvbnMudHJpZ2dlci5pbmRleE9mKCdjbGljaycpID4gLTE7XG4gICAgICB2YXIgaXNNdWx0aXBsZSA9IG9wdGlvbnMubXVsdGlwbGU7XG5cbiAgICAgIC8vIEhpZGUgYWxsIHBvcHBlcnMgZXhjZXB0IHRoZSBvbmUgYmVsb25naW5nIHRvIHRoZSBlbGVtZW50IHRoYXQgd2FzIGNsaWNrZWRcbiAgICAgIGlmICghaXNNdWx0aXBsZSAmJiBicm93c2VyLnVzaW5nVG91Y2ggfHwgIWlzTXVsdGlwbGUgJiYgaXNDbGlja1RyaWdnZXIpIHtcbiAgICAgICAgcmV0dXJuIGhpZGVBbGxQb3BwZXJzKHJlZmVyZW5jZS5fdGlwcHkpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5oaWRlT25DbGljayAhPT0gdHJ1ZSB8fCBpc0NsaWNrVHJpZ2dlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgaGlkZUFsbFBvcHBlcnMoKTtcbiAgfTtcblxuICB2YXIgb25XaW5kb3dCbHVyID0gZnVuY3Rpb24gb25XaW5kb3dCbHVyKCkge1xuICAgIHZhciBfZG9jdW1lbnQgPSBkb2N1bWVudCxcbiAgICAgICAgZWwgPSBfZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblxuICAgIGlmIChlbCAmJiBlbC5ibHVyICYmIG1hdGNoZXMkMS5jYWxsKGVsLCBzZWxlY3RvcnMuUkVGRVJFTkNFKSkge1xuICAgICAgZWwuYmx1cigpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25XaW5kb3dSZXNpemUgPSBmdW5jdGlvbiBvbldpbmRvd1Jlc2l6ZSgpIHtcbiAgICB0b0FycmF5KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3JzLlBPUFBFUikpLmZvckVhY2goZnVuY3Rpb24gKHBvcHBlcikge1xuICAgICAgdmFyIHRpcHB5SW5zdGFuY2UgPSBwb3BwZXIuX3RpcHB5O1xuICAgICAgaWYgKHRpcHB5SW5zdGFuY2UgJiYgIXRpcHB5SW5zdGFuY2Uub3B0aW9ucy5saXZlUGxhY2VtZW50KSB7XG4gICAgICAgIHRpcHB5SW5zdGFuY2UucG9wcGVySW5zdGFuY2Uuc2NoZWR1bGVVcGRhdGUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uRG9jdW1lbnRDbGljayk7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBvbkRvY3VtZW50VG91Y2gpO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIG9uV2luZG93Qmx1cik7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvbldpbmRvd1Jlc2l6ZSk7XG5cbiAgaWYgKCFicm93c2VyLnN1cHBvcnRzVG91Y2ggJiYgKG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyB8fCBuYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cykpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIG9uRG9jdW1lbnRUb3VjaCk7XG4gIH1cbn1cblxudmFyIGV2ZW50TGlzdGVuZXJzQm91bmQgPSBmYWxzZTtcblxuLyoqXG4gKiBFeHBvcnRlZCBtb2R1bGVcbiAqIEBwYXJhbSB7U3RyaW5nfEVsZW1lbnR8RWxlbWVudFtdfE5vZGVMaXN0fE9iamVjdH0gc2VsZWN0b3JcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uZSAtIGNyZWF0ZSBvbmUgdG9vbHRpcFxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiB0aXBweShzZWxlY3Rvciwgb3B0aW9ucywgb25lKSB7XG4gIGlmIChicm93c2VyLnN1cHBvcnRlZCAmJiAhZXZlbnRMaXN0ZW5lcnNCb3VuZCkge1xuICAgIGJpbmRFdmVudExpc3RlbmVycygpO1xuICAgIGV2ZW50TGlzdGVuZXJzQm91bmQgPSB0cnVlO1xuICB9XG5cbiAgaWYgKGlzT2JqZWN0TGl0ZXJhbChzZWxlY3RvcikpIHtcbiAgICBwb2x5ZmlsbFZpcnR1YWxSZWZlcmVuY2VQcm9wcyhzZWxlY3Rvcik7XG4gIH1cblxuICBvcHRpb25zID0gX2V4dGVuZHMoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICB2YXIgcmVmZXJlbmNlcyA9IGdldEFycmF5T2ZFbGVtZW50cyhzZWxlY3Rvcik7XG4gIHZhciBmaXJzdFJlZmVyZW5jZSA9IHJlZmVyZW5jZXNbMF07XG5cbiAgcmV0dXJuIHtcbiAgICBzZWxlY3Rvcjogc2VsZWN0b3IsXG4gICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICB0b29sdGlwczogYnJvd3Nlci5zdXBwb3J0ZWQgPyBjcmVhdGVUb29sdGlwcyhvbmUgJiYgZmlyc3RSZWZlcmVuY2UgPyBbZmlyc3RSZWZlcmVuY2VdIDogcmVmZXJlbmNlcywgb3B0aW9ucykgOiBbXSxcbiAgICBkZXN0cm95QWxsOiBmdW5jdGlvbiBkZXN0cm95QWxsKCkge1xuICAgICAgdGhpcy50b29sdGlwcy5mb3JFYWNoKGZ1bmN0aW9uICh0b29sdGlwKSB7XG4gICAgICAgIHJldHVybiB0b29sdGlwLmRlc3Ryb3koKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy50b29sdGlwcyA9IFtdO1xuICAgIH1cbiAgfTtcbn1cblxudGlwcHkudmVyc2lvbiA9IHZlcnNpb247XG50aXBweS5icm93c2VyID0gYnJvd3NlcjtcbnRpcHB5LmRlZmF1bHRzID0gZGVmYXVsdHM7XG50aXBweS5vbmUgPSBmdW5jdGlvbiAoc2VsZWN0b3IsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHRpcHB5KHNlbGVjdG9yLCBvcHRpb25zLCB0cnVlKS50b29sdGlwc1swXTtcbn07XG50aXBweS5kaXNhYmxlQW5pbWF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgZGVmYXVsdHMudXBkYXRlRHVyYXRpb24gPSBkZWZhdWx0cy5kdXJhdGlvbiA9IDA7XG4gIGRlZmF1bHRzLmFuaW1hdGVGaWxsID0gZmFsc2U7XG59O1xuXG4vKipcbiAqIEluamVjdHMgQ1NTIHN0eWxlcyB0byBkb2N1bWVudCBoZWFkXG4gKiBAcGFyYW0ge1N0cmluZ30gY3NzXG4gKi9cbmZ1bmN0aW9uIGluamVjdENTUygpIHtcbiAgdmFyIGNzcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XG5cbiAgaWYgKGlzQnJvd3NlciAmJiBicm93c2VyLnN1cHBvcnRlZCkge1xuICAgIHZhciBoZWFkID0gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkJyk7XG4gICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICBzdHlsZS50eXBlID0gJ3RleHQvY3NzJztcbiAgICBoZWFkLmluc2VydEJlZm9yZShzdHlsZSwgaGVhZC5maXJzdENoaWxkKTtcblxuICAgIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICAgIH1cbiAgfVxufVxuXG5pbmplY3RDU1Moc3R5bGVzKTtcblxucmV0dXJuIHRpcHB5O1xuXG59KSkpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBbe1widG9waWNcIjpcIkFpciBxdWFsaXR5XCIsXCJrZXlcIjpcIkZVR1Y0OVVCXCIsXCJ0aXRsZVwiOlwiRXhwbG9yZSBob3cgb2lsIGFuZCBnYXMgZGV2ZWxvcG1lbnQgY2FuIGFmZmVjdCBsb2NhbCBhbmQgcmVnaW9uYWwgYWlyIHF1YWxpdHlcIn0se1widG9waWNcIjpcIkNsaW1hdGUgY2hhbmdlXCIsXCJrZXlcIjpcIkNNUEZHUFJLXCIsXCJ0aXRsZVwiOlwiRXhhbWluZSB0aGUgaW1wbGljYXRpb25zIG9mIGluY3JlYXNlZCBvaWwgYW5kIGdhcyBkZXZlbG9wbWVudCBmb3IgY2xpbWF0ZSBjaGFuZ2VcIn0se1widG9waWNcIjpcIkNvbW11bml0eSBpbXBhY3RzXCIsXCJrZXlcIjpcIlY1MzhZN1Q5XCIsXCJ0aXRsZVwiOlwidW5kZWZpbmVkXCJ9LHtcInRvcGljXCI6XCJDb21tdW5pdHktaW5kdXN0cnkgaW50ZXJhY3Rpb25cIixcImtleVwiOlwiRjhRNUQ2UlNcIixcInRpdGxlXCI6XCJVbmRlcnN0YW5kIGhvdyBjb21tdW5pdGllcyBhbmQgb2lsIGFuZCBnYXMgY29tcGFuaWVzIGludGVyYWN0IG9uIGEgdmFyaWV0eSBvZiBpc3N1ZXNcIn0se1widG9waWNcIjpcIkN1bXVsYXRpdmUgaW1wYWN0c1wiLFwia2V5XCI6XCJtaXNzaW5nMVwiLFwidGl0bGVcIjpcIkV4cGxvcmUgc3R1ZGllcyB0aGF0IGFnZ3JlZ2F0ZSBtdWx0aXBsZSBlZmZlY3RzIG9mIG9pbCBhbmQgZ2FzIGRldmVsb3BtZW50XCJ9LHtcInRvcGljXCI6XCJFY29ub21pY3Mgb2Ygc2hhbGUgZGV2ZWxvcG1lbnRcIixcImtleVwiOlwiNDJINTRUUVNcIixcInRpdGxlXCI6XCJFeGFtaW5lIHRoZSBjb3N0cywgaW5ub3ZhdGlvbnMsIGFuZCB0cmVuZHMgdGhhdCBzaGFwZSB0aGUgZWNvbm9taWNzIG9mIHNoYWxlIGRldmVsb3BtZW50XCJ9LHtcInRvcGljXCI6XCJFY29zeXN0ZW1zLCBoYWJpdGF0cywgc3BlY2llc1wiLFwia2V5XCI6XCJNNDNDNk1URlwiLFwidGl0bGVcIjpcIlVuZGVyc3RhbmQgaG93IG9pbCBhbmQgZ2FzIGRldmVsb3BtZW50IGNhbiBhZmZlY3QgbG9jYWwgYW5kIHJlZ2lvbmFsIGVjb3N5c3RlbXMsIGhhYml0YXRzLCBhbmQgc3BlY2llc1wifSx7XCJ0b3BpY1wiOlwiRW52aXJvbm1lbnRhbCBqdXN0aWNlXCIsXCJrZXlcIjpcIlg1WkVEU01RXCIsXCJ0aXRsZVwiOlwiRG9lcyBvaWwgYW5kIGdhcyBkZXZlbG9wbWVudCBoYXZlIGEgZGlzcHJvcG9ydGlvbmF0ZSBpbXBhY3Qgb24gbG93LWluY29tZSBvciBtaW5vcml0eSBjb21tdW5pdGllcz9cIn0se1widG9waWNcIjpcIkZlZGVyYWwgcmVndWxhdGlvblwiLFwia2V5XCI6XCJTRkxVUzVJNFwiLFwidGl0bGVcIjpcIkhvdyBkb2VzIHRoZSBmZWRlcmFsIGdvdmVybm1lbnQgcmVndWxhdGUgdGhlIG9pbCBhbmQgZ2FzIGluZHVzdHJ5P1wifSx7XCJ0b3BpY1wiOlwiR3JvdW5kd2F0ZXJcIixcImtleVwiOlwiUTdNVkoyRURcIixcInRpdGxlXCI6XCJVbmRlcnN0YW5kIHRoZSBwb3RlbnRpYWwgaW1wYWN0cyBvZiBvaWwgYW5kIGdhcyBkZXZlbG9wbWVudCBvbiBncm91bmR3YXRlciByZXNvdXJjZXNcIn0se1widG9waWNcIjpcIkh1bWFuIGhlYWx0aFwiLFwia2V5XCI6XCI1VzJaSlRKQ1wiLFwidGl0bGVcIjpcIkV4cGxvcmUgdGhlIHBvdGVudGlhbCBpbXBhY3RzIG9mIG9pbCBhbmQgZ2FzIGRldmVsb3BtZW50IG9uIGh1bWFuIGhlYWx0aFwifSx7XCJ0b3BpY1wiOlwiTG9jYWwgZ292ZXJubWVudHNcIixcImtleVwiOlwiRVhMUzNOVjRcIixcInRpdGxlXCI6XCJVbmRlcnN0YW5kIGhvdyBvaWwgYW5kIGdhcyBkZXZlbG9wbWVudCBhZmZlY3RzIGxvY2FsIGdvdmVybm1lbnRzXCJ9LHtcInRvcGljXCI6XCJOYXRpb25hbCAoVVMpL3NlY3RvcmFsIGVjb25vbXlcIixcImtleVwiOlwiNE5QSTNHWU1cIixcInRpdGxlXCI6XCJFeGFtaW5lIHRoZSBlY29ub21pYyBpbXBhY3RzIG9mIG9pbCBhbmQgZ2FzIGRldmVsb3BtZW50IGZvciB0aGUgVS5TLiBhbmQgbWFqb3IgZWNvbm9taWMgc2VjdG9yc1wifSx7XCJ0b3BpY1wiOlwiT2NjdXBhdGlvbmFsIGhhemFyZHNcIixcImtleVwiOlwibWlzc2luZzJcIixcInRpdGxlXCI6XCJXaGF0IGFyZSB0aGUgcmlza3Mgb2Ygd29ya2luZyBpbiBvaWwgYW5kIGdhcyBwcm9kdWN0aW9uP1wifSx7XCJ0b3BpY1wiOlwiUHJvcGVydHkgdmFsdWVzXCIsXCJrZXlcIjpcIk5YU1lWNElNXCIsXCJ0aXRsZVwiOlwiSG93IGRvZXMgb2lsIGFuZCBnYXMgZGV2ZWxvcG1lbnQgYWZmZWN0IG5lYXJieSBwcm9wZXJ0eSB2YWx1ZXM/XCJ9LHtcInRvcGljXCI6XCJQdWJsaWMgb3BpbmlvblwiLFwia2V5XCI6XCJZSkRZVTlWTVwiLFwidGl0bGVcIjpcIkhvdyBkb2VzIHRoZSBwdWJsaWMgdmlldyB0aGUgZWZmZWN0cyBvZiBvaWwgYW5kIGdhcyBkZXZlbG9wbWVudD9cIn0se1widG9waWNcIjpcIlF1YWxpdHkgb2YgbGlmZS9Db21tdW5pdHkgaW1wYWN0c1wiLFwia2V5XCI6XCJYTjdHWE5GUVwiLFwidGl0bGVcIjpcIkV4YW1pbmUgY29tbXVuaXR5IGltcGFjdHMgc3VjaCBhcyBob3VzaW5nIGFmZm9yZGFiaWxpdHksIGNyaW1lLCBlZHVjYXRpb24sIHRydWNrIHRyYWZmaWMsIG5vaXNlLCBhbmQgbW9yZVwifSx7XCJ0b3BpY1wiOlwiU2Vpc21pY2l0eVwiLFwia2V5XCI6XCJGV01ZR1VXSVwiLFwidGl0bGVcIjpcIkV4cGxvcmUgdGhlIGNvbm5lY3Rpb24gYmV0d2VlbiBvaWwgYW5kIGdhcyBkZXZlbG9wbWVudCBhbmQgZWFydGhxdWFrZXNcIn0se1widG9waWNcIjpcIlN0YXRlIGdvdmVybm1lbnRcIixcImtleVwiOlwiQVBSSTNWTVpcIixcInRpdGxlXCI6XCJVbmRlcnN0YW5kIGhvdyBzdGF0ZSBnb3Zlcm5tZW50cyBhcmUgYWZmZWN0ZWQgYnksIGFuZCBob3cgdGhleSBhZmZlY3QsIG9pbCBhbmQgZ2FzIGRldmVsb3BtZW50XCJ9LHtcInRvcGljXCI6XCJTdGF0ZSByZWd1bGF0aW9uXCIsXCJrZXlcIjpcIjlJTDNUQ0tGXCIsXCJ0aXRsZVwiOlwiSG93IGRvIHN0YXRlIGdvdmVybm1lbnRzIHJlZ3VsYXRlIHRoZSBvaWwgYW5kIGdhcyBpbmR1c3RyeT9cIn0se1widG9waWNcIjpcIlN1Ym5hdGlvbmFsIGVjb25vbWllc1wiLFwia2V5XCI6XCJYOURTVElHRVwiLFwidGl0bGVcIjpcIkV4YW1pbmUgaG93IG9pbCBhbmQgZ2FzIGRldmVsb3BtZW50IGFmZmVjdHMgbG9jYWwsIHN0YXRlLCBhbmQgcmVnaW9uYWwgZWNvbm9taWVzXCJ9LHtcInRvcGljXCI6XCJTdXJmYWNlIHdhdGVyXCIsXCJrZXlcIjpcIlFDVzM3UFAyXCIsXCJ0aXRsZVwiOlwiRXhhbWluZSB0aGUgaW1wYWN0cyBvZiBvaWwgYW5kIGdhcyBkZXZlbG9wbWVudCBvbiB0aGUgcXVhbnRpdHkgYW5kIHF1YWxpdHkgb2Ygc3VyZmFjZSB3YXRlciByZXNvdXJjZXNcIn1dIiwiZXhwb3J0IGNvbnN0IFN0cmluZ0hlbHBlcnMgPSAoZnVuY3Rpb24oKXtcbiAgICBTdHJpbmcucHJvdG90eXBlLmNsZWFuU3RyaW5nID0gZnVuY3Rpb24oKSB7IC8vIGxvd2VyY2FzZSBhbmQgcmVtb3ZlIHB1bmN0dWF0aW9uIGFuZCByZXBsYWNlIHNwYWNlcyB3aXRoIGh5cGhlbnM7IGRlbGV0ZSBwdW5jdHVhdGlvblxuICAgICAgICByZXR1cm4gdGhpcy5yZXBsYWNlKC9bIC9dL2csJy0nKS5yZXBsYWNlKC9bJ1wi4oCd4oCZ4oCc4oCYLC4hPzsoKSZdL2csJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgfTtcblxuICAgIFN0cmluZy5wcm90b3R5cGUucmVtb3ZlVW5kZXJzY29yZXMgPSBmdW5jdGlvbigpIHsgXG4gICAgICAgIHJldHVybiB0aGlzLnJlcGxhY2UoL18vZywnICcpO1xuICAgIH07XG5cbiAgICBTdHJpbmcucHJvdG90eXBlLnVuZG9DYW1lbENhc2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVwbGFjZSgvKFtBLVpdKS9nLCAnICQxJykudG9Mb3dlckNhc2UoKTtcbiAgICB9O1xuXG4gICAgU3RyaW5nLnByb3RvdHlwZS50cnVuYyA9IFN0cmluZy5wcm90b3R5cGUudHJ1bmMgfHwgLy8gaHQgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzExOTk0MjBcbiAgICAgICAgIGZ1bmN0aW9uKCBuLCB1c2VXb3JkQm91bmRhcnkgKXtcbiAgICAgICAgICAgICBpZiAodGhpcy5sZW5ndGggPD0gbikgeyByZXR1cm4gdGhpczsgfVxuICAgICAgICAgICAgIHZhciBzdWJTdHJpbmcgPSB0aGlzLnN1YnN0cigwLCBuLTEpO1xuICAgICAgICAgICAgIHJldHVybiAodXNlV29yZEJvdW5kYXJ5IFxuICAgICAgICAgICAgICAgID8gc3ViU3RyaW5nLnN1YnN0cigwLCBzdWJTdHJpbmcubGFzdEluZGV4T2YoJyAnKSkgXG4gICAgICAgICAgICAgICAgOiBzdWJTdHJpbmcpICsgXCIuLi5cIjtcbiAgICAgICAgICB9O1xufSkoKTsiLCJpbXBvcnQgJy4vY3NzL21haW4uc2Nzcyc7XG5pbXBvcnQgJy4uL2hlbHBlcnMvc3RyaW5nLWhlbHBlcnMnO1xuaW1wb3J0IHRvb2x0aXBzIGZyb20gJy4vZGF0YS90b29sdGlwcy5jc3YnO1xuaW1wb3J0IHRpcHB5IGZyb20gJ3RpcHB5LmpzJztcbmltcG9ydCB7IGNyZWF0ZUJyb3dzZUNhdGVnb3J5LCBjcmVhdGVUb3BpY0tleSB9IGZyb20gJy4vY29tcG9uZW50cy9Ccm93c2VCdXR0b25zJztcbmltcG9ydCB7IGNyZWF0ZVJlc3VsdHNDb250YWluZXIsIGNyZWF0ZVJlc3VsdEl0ZW0sIGZpbHRlclJlc3VsdHMgfSBmcm9tICcuL2NvbXBvbmVudHMvUmVzdWx0SXRlbXMnOyBcbmltcG9ydCBzbW9vdGhzY3JvbGwgZnJvbSAnc21vb3Roc2Nyb2xsLXBvbHlmaWxsJztcbi8vaW1wb3J0IFNXSGFuZGxlciBmcm9tICcuL3V0aWxzL3NlcnZpY2Utd29ya2VyLWhhbmRsZXIuanMnO1xuICAgXG4oZnVuY3Rpb24oKXsgICAgIFxuLyogZ2xvYmFsIGQzICovXG5cInVzZSBzdHJpY3RcIjsgIFxuICAgIGNvbnN0IGdyb3VwSWQgPSAnMjEyNzk0OCc7XG4gICAgdmFyIGNvbnRyb2xsZXIgPSB7IFxuICAgICAgICBnYXRlQ2hlY2s6IDAsIFxuICAgICAgICBzZWFyY2hUeXBlOiAnZmllbGRzJyxcbiAgICAgICAgaW5pdCh1c2VMb2NhbCl7IC8vIHBhc3MgaW4gdHJ1ZSB0byBieXBhc3MgQVBJIGFuZCB1c2UgbG9jYWwgZGF0YVxuXG4gICAgICAgICAgICAvL1NXSGFuZGxlci5pbml0KCk7XG5cbiAgICAgICAgICAgIHdpbmRvdy5SRkZBcHAubW9kZWwudG9waWNCdXR0b25Qcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuUkZGQXBwLm1vZGVsLnJlc29sdmVUb3BpY0J1dHRvbnMgPSByZXNvbHZlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmdldFpvdGVyb0NvbGxlY3Rpb25zKHVzZUxvY2FsKTtcbiAgICAgICAgICAgIHRoaXMuZ2V0Wm90ZXJvSXRlbXModXNlTG9jYWwpO1xuICAgICAgICAgICAgdGhpcy5zZXR1cFNlYXJjaCgpO1xuICAgICAgICAgICAgY29uc29sZS5sb2codG9vbHRpcHMpO1xuICAgICAgICAgICAgXG4gICAgICAgIH0sXG4gICAgICAgIGNsZWFyU2VhcmNoKCl7XG4gICAgICAgICAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29sbGVjdGlvbi1zZWFyY2ggaW5wdXQnKTtcbiAgICAgICAgICAgIGlucHV0LnZhbHVlID0gJyc7XG4gICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgJ1NlYXJjaCB0aGUgY29sbGVjdGlvbiAoYnkgdGl0bGUsIGF1dGhvciwgb3IgeWVhciknKTtcblxuICAgICAgICB9LFxuICAgICAgICBzZXR1cFNlYXJjaCgpe1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbGxlY3Rpb24tc2VhcmNoJykub25zdWJtaXQgPSBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdmlldy5sb2FkaW5nKHRydWUpO1xuICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXMucXVlcnlTZWxlY3RvcignaW5wdXQnKS52YWx1ZTtcbiAgICAgICAgICAgICAgICB2YXIgQVBJU3RyaW5nID0gJ2h0dHBzOi8vYXBpLnpvdGVyby5vcmcvZ3JvdXBzLycgKyBncm91cElkICsgJy9pdGVtcz9xPScgKyBpbnB1dCArICcmZm9ybWF0PWtleXMnO1xuICAgICAgICAgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGQzLnRleHQoQVBJU3RyaW5nLCAoZXJyb3IsZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhLnNwbGl0KC9cXG4vKSk7IFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBwcm9taXNlLnRoZW4odiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHYpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodlswXSAhPT0gJycpe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5nZXRTZWFyY2hJdGVtcyh2LCBpbnB1dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3LmxvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBnZXRTZWFyY2hJdGVtcyhrZXlzLCBpbnB1dCkge1xuICAgICAgICAgICAgdmFyIHNlYXJjaEl0ZW1zID0gbW9kZWwuem90ZXJvSXRlbXMuZmlsdGVyKGl0ZW0gPT4ga2V5cy5pbmRleE9mKGl0ZW0ua2V5KSAhPT0gLTEgKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHNlYXJjaEl0ZW1zKTtcbiAgICAgICAgICAgIGZpbHRlclJlc3VsdHMuY2FsbCh2aWV3LCBzZWFyY2hJdGVtcywgY29udHJvbGxlcik7XG4gICAgICAgICAgICB2aWV3LnVwZGF0ZVBpZUNoYXJ0KHNlYXJjaEl0ZW1zLCAnbWF0Y2hpbmcgc2VhcmNoOiBcIicgKyBpbnB1dCArICdcIicpXG4gICAgICAgIH0sXG4gICAgICAgXG4gICAgICAgIGNoaWxkcmVuaWZ5KGRhdGEpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7IFxuICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGQgPT4ge1xuICAgICAgICAgICAgICAgIGlmICggZC5kYXRhLnBhcmVudENvbGxlY3Rpb24gIT09IGZhbHNlICYmIGQubWV0YS5udW1JdGVtcyA+IDAgKSB7IC8vIGllIGhhcyBhIHBhcmVudCBhbmQgaGFzIGl0ZW1zIChleGNsdWRlIGVtcHR5IHN1YmNvbGxlY3Rpb25zKVxuICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2ggPSBkYXRhLmZpbmQoY29sbGVjdGlvbiA9PiBjb2xsZWN0aW9uLmtleSA9PT0gZC5kYXRhLnBhcmVudENvbGxlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIG1hdGNoICE9PSB1bmRlZmluZWQgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoLmNoaWxkcmVuID0gbWF0Y2guY2hpbGRyZW4gfHwgW107XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaC5jaGlsZHJlbi5wdXNoKGQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7IFxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7IFxuIFxuICAgICAgICB9LFxuICAgICAgICByZXR1cm5LZXlWYWx1ZXModmFsdWVzLCBjb2VyY2Upe1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlcy5zbGljZSgxKS5tYXAocm93ID0+IHJvdy5yZWR1Y2UoKGFjYywgY3VyLCBpKSA9PiB7IFxuICAgICAgICAgICAgXG4gICAgICAgIFxuICAgICAgICAgICAgICAgIGFjY1t2YWx1ZXNbMF1baV1dID0gY29lcmNlID09PSB0cnVlID8gaXNOYU4oK2N1cikgfHwgY3VyID09PSAnJyA/IGN1ciA6ICtjdXIgOiBjdXI7IFxuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0ZXN0IGZvciBlbXB0eSBzdHJpbmdzIGJlZm9yZSBjb2VyY2luZyBiYyArJycgPT4gMFxuICAgICAgICAgICAgfSwge30pKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICBcbiAgICAgICAgfSxcbiAgICAgICAgbmVzdFByZWxpbShuZXN0QnlBcnJheSl7XG4gICAgICAgICAgICAvLyByZWN1cnNpdmUgIG5lc3RpbmcgZnVuY3Rpb24sIHByZWxpbSBzdGVwIHRvIHJlY3Vyc2l2ZU5lc3RcbiAgICAgICAgICAgIHJldHVybiBuZXN0QnlBcnJheS5yZWR1Y2UoKGFjYywgY3VyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjdXIgIT09ICdzdHJpbmcnICYmIHR5cGVvZiBjdXIgIT09ICdmdW5jdGlvbicgKSB7IHRocm93ICdlYWNoIG5lc3RCeSBpdGVtIG11c3QgYmUgYSBzdHJpbmcgb3IgZnVuY3Rpb24nOyB9XG4gICAgICAgICAgICAgICAgdmFyIHJ0bjtcbiAgICAgICAgICAgICAgICBpZiAoIHR5cGVvZiBjdXIgPT09ICdzdHJpbmcnICl7XG4gICAgICAgICAgICAgICAgICAgIHJ0biA9IGFjYy5rZXkoZnVuY3Rpb24oZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZFtjdXJdO1xuICAgICAgICAgICAgICAgICAgICB9KTsgICAgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICggdHlwZW9mIGN1ciA9PT0gJ2Z1bmN0aW9uJyApe1xuICAgICAgICAgICAgICAgICAgICBydG4gPSBhY2Mua2V5KGZ1bmN0aW9uKGQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cihkKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJldHVybiBydG47XG4gICAgICAgICAgICB9LCBkMy5uZXN0KCkpO1xuICAgICAgICB9LFxuICAgICAgICByZWN1cnNpdmVOZXN0KHZhbHVlcywgbmVzdEJ5LCBuZXN0VHlwZSA9ICdzZXJpZXMnKXtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gbmVzdEJ5ID0gc3RyaW5nIG9yIGFycmF5IG9mIGZpZWxkKHMpIHRvIG5lc3QgYnksIG9yIGEgY3VzdG9tIGZ1bmN0aW9uLCBvciBhbiBhcnJheSBvZiBzdHJpbmdzIG9yIGZ1bmN0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICggdHlwZW9mIG5lc3RCeSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG5lc3RCeSA9PT0gJ2Z1bmN0aW9uJyApIHsgLy8gaWUgb25seSBvbmUgbmVzdEJ5IGZpZWxkIG9yIGZ1bmNpdG9uXG4gICAgICAgICAgICAgICAgdGhpcy5uZXN0QnlBcnJheSA9IFtuZXN0QnldO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkobmVzdEJ5KSkgeyB0aHJvdyAnbmVzdEJ5IHZhcmlhYmxlIG11c3QgYmUgYSBzdHJpbmcsIGZ1bmN0aW9uLCBvciBhcnJheSBvZiBzdHJpbmdzIG9yIGZ1bmN0aW9ucyc7IH1cbiAgICAgICAgICAgICAgICB0aGlzLm5lc3RCeUFycmF5ID0gbmVzdEJ5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHByZWxpbSA9IHRoaXMubmVzdFByZWxpbSh0aGlzLm5lc3RCeUFycmF5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCBuZXN0VHlwZSA9PT0gJ29iamVjdCcgKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJlbGltXG4gICAgICAgICAgICAgICAgICAgIC5vYmplY3QodmFsdWVzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZWxpbVxuICAgICAgICAgICAgICAgICAgICAuZW50cmllcyh2YWx1ZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXRab3Rlcm9Db2xsZWN0aW9ucyh1c2VMb2NhbCl7IC8vIElNUE9SVEFOVCB0aGlzIHdpbGwgYnJlYWsgaWYgIyBvZiBjb2xsZWN0aW9ucyBleGNlZWRzIDEwMC4gd2lsbCBuZWVkcyB0byBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW1wbGVtZW50IHN0cmF0ZWd5IHVzZSBmb3IgZ2V0dGluZyBpdGVtc1xuXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICggdXNlTG9jYWwgKXtcbiAgICAgICAgICAgICAgICBkMy5qc29uKCdkYXRhL3pvdGVyb0NvbGxlY3Rpb25zLTctMjUtMTguanNvbicsIChlcnJvcixkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICggZXJyb3IgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtb2RlbC5jb2xsZWN0aW9ucyA9IHRoaXMuY2hpbGRyZW5pZnkoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpbmNyZW1lbnQgZ2F0ZUNoZWNrIGZyb20gZ2V0IGNvbGxlY3Rpb25zJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2F0ZUNoZWNrKys7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcuaW5pdCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIGF0dGVtcHQgPSAwO1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHRyeVJlcXVlc3QoKXtcbiAgICAgICAgICAgICAgICAgICAgZDMuanNvbignaHR0cHM6Ly9hcGkuem90ZXJvLm9yZy9ncm91cHMvJyArIGdyb3VwSWQgKyAnL2NvbGxlY3Rpb25zP2xpbWl0PTEwMCcsIChlcnJvcixkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggYXR0ZW1wdCA8IDMgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yLCBhdHRlbXB0ICcgKyBhdHRlbXB0ICsgJzogJywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRlbXB0Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeVJlcXVlc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5jb2xsZWN0aW9ucyA9IHRoaXMuY2hpbGRyZW5pZnkoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBtb2RlbC5jb2xsZWN0aW9ucyA9IHRoaXMucmVjdXJzaXZlTmVzdChkYXRhLCBbZCA9PiBkLmRhdGEucGFyZW50Q29sbGVjdGlvbiwgZCA9PiBkLmRhdGEucGFyZW50Q29sbGVjdGlvbl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUobW9kZWwuY29sbGVjdGlvbnMpOyBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyeVJlcXVlc3QuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcHJvbWlzZS50aGVuKGRhdGEgPT4geyAgXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2luY3JlbWVudCBnYXRlQ2hlY2sgZnJvbSBnZXQgY29sbGVjdGlvbnMnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmdhdGVDaGVjaysrO1xuICAgICAgICAgICAgICAgIHZpZXcuaW5pdCgpO1xuICAgICAgICAgICAgfSk7IFxuICAgICAgICB9LCBcbiAgICAgICAgZ2V0Wm90ZXJvSXRlbXModXNlTG9jYWwpeyAgIFxuXG4gICAgICAgICAgICBpZiAoIHVzZUxvY2FsICl7XG4gICAgICAgICAgICAgICAgZDMuanNvbignZGF0YS96b3Rlcm9JdGVtcy03LTI1LTE4Lmpzb24nLCAoZXJyb3IsZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIGVycm9yICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuem90ZXJvSXRlbXMgPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnNlWm90ZXJvSXRlbURhdGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpbmNyZW1lbnQgZ2F0ZUNoZWNrIGZyb20gZ2V0IGl0ZW1zJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2F0ZUNoZWNrKys7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcuaW5pdCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGluaXRpYWxJdGVtc1Byb21pc2VzID0gW10sXG4gICAgICAgICAgICAgICAgc3Vic2VxdWVudEl0ZW1zUHJvbWlzZXMgPSBbXSxcbiAgICAgICAgICAgICAgICBpbml0aWFsTWF4ID0gOSwgLy8gbGFzdCBrbm93biBudW1iZXIgb2YgdGltZXMgdGhlIEFQSSBtdXN0IGJlIGhpdCB0byBnZXQgYWxsIHJlc3VsdHMuIDEwMCByZXR1cm5lZCBhdCBhIHRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNvIDMgd291bGQgZ2V0IHVwIHRvIDMwMCBodW5kcmVkLiB0aW1lIG9mIGNvZGluZyB0b3RhbCB3YXMgMjg0OyB3aGVuIHRoZSB0b2FsIGluY3JlYXNlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgY29kZSBiZWxvdyB3aWxsIG1ha2UgYWRkaXRpb24gQVBJIGNhbGxzXG4gICAgICAgICAgICAgICAgdGhyb3R0bGUgPSA1MDA7IC8vIG1zIGJ5IHdoaWNoIHRvIGRlbGF5IHN1Y2Nlc3NpdmUgYXBpIGNhbGxzIHRvIGF2b2lkIDUwMCBlcnJvciAoPylcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZnVuY3Rpb24gY29uc3RydWN0UHJvbWlzZShpKXtcbiAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCkgPT4geyAvLyB1c2luZyBkMy5yZXF1ZXN0IGluc3RlYWQgb2YgLmpzb24gdG8gaGF2ZSBhY2Nlc3MgdG8gdGhlIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlc3BvbnNlIGhlYWRlcnMuICdUb3RhbC1SZXN1bHRzJywgaW4gcGFydHVjdWxhclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXR0ZW1wdCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHRyeVJlcXVlc3QoKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGQzLnJlcXVlc3QoJ2h0dHBzOi8vYXBpLnpvdGVyby5vcmcvZ3JvdXBzLycgKyBncm91cElkICsgJy9pdGVtcy90b3A/aW5jbHVkZT1kYXRhLGJpYiZsaW1pdD0xMDAmc3RhcnQ9JyArICggaSAqIDEwMCApLCAoZXJyb3IseGhyKSA9PiB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGF0dGVtcHQgPCAzICl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IsIGF0dGVtcHQgJyArIGF0dGVtcHQgKyAnOiAnLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRlbXB0Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnlSZXF1ZXN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUTyBETzogV0hBVCBUTyBETyBXSEVOIFRIRVJFJ1MgQU4gRVJST1IgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coK3hoci5nZXRSZXNwb25zZUhlYWRlcignbGFzdC1tb2RpZmllZC12ZXJzaW9uJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL21vZGVsLmxhc3RNb2RpZmllZFZlcnNpb24gPSBtb2RlbC5sYXN0TW9kaWZpZWRWZXJzaW9uIHx8ICt4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ2xhc3QtbW9kaWZpZWQtdmVyc2lvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiAreGhyLmdldFJlc3BvbnNlSGVhZGVyKCdUb3RhbC1SZXN1bHRzJyksIC8vICsgb3BlcmFuZCBjb2VyY2VzIHRvIG51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdHJ5UmVxdWVzdCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlOyAgICAgXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAoIGxldCBpID0gMDsgaSA8IGluaXRpYWxNYXg7IGkrKyApe1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoaW5pdGlhbEl0ZW1zUHJvbWlzZXMucHVzaChjb25zdHJ1Y3RQcm9taXNlKGkpKSwgaSAqIHRocm90dGxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFByb21pc2UucmFjZShpbml0aWFsSXRlbXNQcm9taXNlcykudGhlbih2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmICggdmFsdWUudG90YWwgPiBpbml0aWFsTWF4ICkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKCBsZXQgaSA9IGluaXRpYWxNYXg7IGkgPCBNYXRoLmNlaWwodmFsdWUudG90YWwgLyAxMDApOyBpKysgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNlcXVlbnRJdGVtc1Byb21pc2VzLnB1c2goY29uc3RydWN0UHJvbWlzZShpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgUHJvbWlzZS5hbGwoWy4uLmluaXRpYWxJdGVtc1Byb21pc2VzLC4uLnN1YnNlcXVlbnRJdGVtc1Byb21pc2VzXSkudGhlbigodmFsdWVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZGF0ZVN0cmluZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcy5mb3JFYWNoKHZhbHVlID0+IHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh2YWx1ZS5kYXRhLmRhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLnpvdGVyb0l0ZW1zLnB1c2goLi4udmFsdWUuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KG1vZGVsLnpvdGVyb0l0ZW1zKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnNlWm90ZXJvSXRlbURhdGVzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhdGVDaGVjaysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5pbml0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIFByb21pc2UuYWxsKGluaXRpYWxJdGVtc1Byb21pc2VzKS50aGVuKCh2YWx1ZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhbHVlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuem90ZXJvSXRlbXMucHVzaCguLi52YWx1ZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJzZVpvdGVyb0l0ZW1EYXRlcygpOyBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2F0ZUNlY2srKztcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXcuaW5pdCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgIH0sXG4gICAgICAgIHBhcnNlWm90ZXJvSXRlbURhdGVzKCl7XG4gICAgICAgICAgICBtb2RlbC56b3Rlcm9JdGVtcy5mb3JFYWNoKGQgPT4geyAvLyBUT0RPICB3YXkgdG9vIHJlcGV0aXRpdmUgb2YgYWJvdmVcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyIHBhcnNlZERhdGVzID0gdGhpcy5nZXREYXRlc0Zyb21TdHJpbmcoZC5kYXRhLmRhdGUpO1xuICAgICAgICAgICAgICAgIGQuZGF0YS5kYXRlU3RyaW5nID0gcGFyc2VkRGF0ZXMuZGlzcGxheTtcbiAgICAgICAgICAgICAgICBkLmRhdGEuZGF0ZVZhbHVlID0gcGFyc2VkRGF0ZXMudmFsdWU7XG4gICAgICAgICAgICB9KTsgXG4gICAgICAgICAgICBtb2RlbC56b3Rlcm9JdGVtcy5zb3J0KChhLGIpID0+IGQzLmRlc2NlbmRpbmcoYS5kYXRhLmRhdGVWYWx1ZSwgYi5kYXRhLmRhdGVWYWx1ZSkpOyBcbiAgICAgIH0sXG4gICAgICAgIGdldENvbGxlY3Rpb25JdGVtcyhjb2xsZWN0aW9uS2V5KXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdJbiBnZXQgY29sbGVjdGlvbiBJdGVtcycpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coY29sbGVjdGlvbktleSk7XG4gICAgICAgICAgICB2YXIgY29sbGVjdGlvbnMgPSBbXTtcbiAgICAgICAgICAgIHZhciBzeW50aGVzaXNJdGVtcyA9IFtdOyBcbiAgICAgICAgICAgIGlmICggY29sbGVjdGlvbktleSAhPT0gJ2luaXRpYWwnICl7XG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbnMgPSBjb2xsZWN0aW9uS2V5ICE9PSAnc3ludGhlc2VzLW9ubHknID8gW21vZGVsLmNvbGxlY3Rpb25zLmZpbmQoYyA9PiBjLmtleSA9PT0gY29sbGVjdGlvbktleSApXSA6IG1vZGVsLmNvbGxlY3Rpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNvbGxlY3Rpb25JdGVtcyA9IGNvbGxlY3Rpb25LZXkgPT09ICdpbml0aWFsJyA/IG1vZGVsLnpvdGVyb0l0ZW1zIDogY29sbGVjdGlvbktleSA9PT0gJ3N5bnRoZXNlcy1vbmx5JyA/IFtdIDogbW9kZWwuem90ZXJvSXRlbXMuZmlsdGVyKHogPT4gei5kYXRhLmNvbGxlY3Rpb25zLmluZGV4T2YoY29sbGVjdGlvbktleSkgIT09IC0xICk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjb2xsZWN0aW9uSXRlbXMpO1xuICAgICAgICAgICAgY29sbGVjdGlvbnMuZm9yRWFjaChjb2xsZWN0aW9uID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIGNvbGxlY3Rpb24gIT09IHVuZGVmaW5lZCAmJiBjb2xsZWN0aW9uLmNoaWxkcmVuICkge1xuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uLmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4geyAvLyB0byBkbyBtYWtlIG1vcmUgRFJZXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IG1vZGVsLnpvdGVyb0l0ZW1zLmZpbHRlcih6ID0+ICggei5kYXRhLmNvbGxlY3Rpb25zLmluZGV4T2YoY2hpbGQua2V5KSAhPT0gLTEgJiYgKCBjaGlsZC5kYXRhLm5hbWUgPT09ICdMaXRlcmF0dXJlIFJldmlldycgfHwgY2hpbGQuZGF0YS5uYW1lID09PSAnSXNzdWUgQnJpZWYnKSApKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcy5mb3JFYWNoKG1hdGNoID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjaGlsZC5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaC5zeW50aGVzaXNUeXBlID0gY2hpbGQuZGF0YS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzeW50aGVzaXNJdGVtcy5wdXNoKC4uLm1hdGNoZXMpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNyZWF0ZVJlc3VsdHNDb250YWluZXIuY2FsbCh2aWV3KTtcbiAgICAgICAgICAgIGZpbHRlclJlc3VsdHMuY2FsbCh2aWV3LCBjb2xsZWN0aW9uSXRlbXMsIGNvbnRyb2xsZXIsIGNvbGxlY3Rpb25LZXkpO1xuICAgICAgICAgICAgdmlldy5maWx0ZXJTeW50aGVzaXNSZXN1bHRzKHN5bnRoZXNpc0l0ZW1zKTtcbiAgICAgICAgICAgIHZpZXcudXBkYXRlUGllQ2hhcnQoY29sbGVjdGlvbkl0ZW1zLCAoY29sbGVjdGlvbnMubGVuZ3RoID09PSAwID8gJ0FsbCB0b3BpY3MnIDogY29sbGVjdGlvbnMubGVuZ3RoID09PSAxID8gY29sbGVjdGlvbnNbMF0uZGF0YS5uYW1lIDogJ0N1cmF0ZWQgcmV2aWV3cycpICk7XG5cbiAgICAgICAgICAgIC8qdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSxyZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBkMy50ZXh0KCdodHRwczovL2FwaS56b3Rlcm8ub3JnL2dyb3Vwcy8nICsgZ3JvdXBJZCArICcvY29sbGVjdGlvbnMvJyArIGNvbGxlY3Rpb25LZXkgKyAnL2l0ZW1zP2Zvcm1hdD1rZXlzJywgKGVycm9yLHRleHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0ZXh0KTsgXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHByb21pc2UudGhlbih0ZXh0ID0+IHtcbiAgICAgICAgICAgICAgICB2YXIga2V5cyA9IHRleHQuc3BsaXQoJ1xcbicpOyAvLyBBUEkgcmVzcG9uc2UgaXMgdGV4dCBvZiBrZXlzIHdpdGggbmV3bGluZSBiZXR3ZWVuXG4gICAgICAgICAgICAgICAgaWYgKCBrZXlzW2tleXMubGVuZ3RoIC0gMV0gPT09ICcnICl7IC8vIHRoZSBsYXN0IGl0ZW0gc2VlbXMgdG8gYmUgYW4gZW1wdHkgc3RyaW5nIChuZXdsaW5lIGF0IGVuZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBjaGVja3MgZm9yIHRoYXQgYW5kIHJlbW92ZXMgaXQgKHBvcCgpKSBpZiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIGtleXMucG9wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7Ki9cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0RGF0ZXNGcm9tU3RyaW5nKHN0cmluZyl7XG4gICAgICAgLy8gICAgIGNvbnNvbGUubG9nKHN0cmluZyk7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBuZXcgRGF0ZSgxNzc2LDMsNCksIC8vIHNvIHRoYXQgcHVicyB3aXRob3V0IGRhdGVzIGFyZSBzb3J0ZWQgcHJvcGVybHkgKG51bGwgPT0gMCA9PSAxOTcwKTtcbiAgICAgICAgICAgICAgICBkaXNwbGF5ID0gJycsXG4gICAgICAgICAgICAgICAgbWF0Y2hUeXBlcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgZm9ydGhjb21pbmc6L2ZvcnRoY29taW5nLyxcbiAgICAgICAgICAgICAgICAgICAgeXl5eTogICAgICAgL14oXFxkezR9KSQvLFxuICAgICAgICAgICAgICAgICAgICB5eXl5bW1kZDogICAvKFxcZHs0fSlbLS9dKFxcZHsxLDJ9KVstL10oXFxkezEsMn0pLywgXG4gICAgICAgICAgICAgICAgICAgIG1vbnRoZGR5eXl5Oi9eKFxcdyspXFwuKiAqKFxcZHsxLDJ9KSwgKihcXGR7NH0pLyxcbiAgICAgICAgICAgICAgICAgICAgbW9udGh5eXl5OiAgL14oXFx3KylcXC4qIChcXGR7NH0pLyxcbiAgICAgICAgICAgICAgICAgICAgeXl5eW1tOiAgICAgL14oXFxkezR9KVstL10oXFxkezEsMn0pJC8sXG4gICAgICAgICAgICAgICAgICAgIG1tZGR5eXl5OiAgIC9eKFxcZHsxLDJ9KVstL10oXFxkezEsMn0pWy0vXShcXGR7NH0pLyxcbiAgICAgICAgICAgICAgICAgICAgeXl5eXl5eXk6ICAgL14oXFxkezR9KVst4oCT4oCUXVxcZHs0fS8sXG4gICAgICAgICAgICAgICAgICAgIHl5eXltb250aGRkOi9eKFxcZHs0fSkgKihcXHcrKVxcLiogKihcXGR7MSwyfSkvIFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZnVuY3Rpb24gY2hlY2tNb250aChzdHIpe1xuICAgICAgICAgICAgICAgIGlmICggbW9udGhzW3N0cl0gIT09IHVuZGVmaW5lZCAmJiBpc05hTihtb250aHNbc3RyXSkgKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtb250aHNbc3RyXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIG1vbnRocyA9IHtcbiAgICAgICAgICAgICAgICAnMCc6ICdKYW51YXJ5JyxcbiAgICAgICAgICAgICAgICAnMSc6ICdGZWJydWFyeScsXG4gICAgICAgICAgICAgICAgJzInOiAnTWFyY2gnLFxuICAgICAgICAgICAgICAgICczJzogJ0FwcmlsJyxcbiAgICAgICAgICAgICAgICAnNCc6ICdNYXknLFxuICAgICAgICAgICAgICAgICc1JzogJ0p1bmUnLFxuICAgICAgICAgICAgICAgICc2JzogJ0p1bHknLFxuICAgICAgICAgICAgICAgICc3JzogJ0F1Z3VzdCcsXG4gICAgICAgICAgICAgICAgJzgnOiAnU2VwdGVtYmVyJyxcbiAgICAgICAgICAgICAgICAnOSc6ICdPY3RvYmVyJyxcbiAgICAgICAgICAgICAgICcxMCc6ICdOb3ZlbWJlcicsXG4gICAgICAgICAgICAgICAnMTEnOiAnRGVjZW1iZXInLFxuICAgICAgICAgICAgICAgICdKYW51YXJ5JzogIDAsXG4gICAgICAgICAgICAgICAgJ0ZlYnJ1YXJ5JzogMSxcbiAgICAgICAgICAgICAgICAnTWFyY2gnOiAgICAyLFxuICAgICAgICAgICAgICAgICdBcHJpbCc6ICAgIDMsXG4gICAgICAgICAgICAgICAgJ01heSc6ICAgICAgNCxcbiAgICAgICAgICAgICAgICAnSnVuZSc6ICAgICA1LFxuICAgICAgICAgICAgICAgICdKdWx5JzogICAgIDYsXG4gICAgICAgICAgICAgICAgJ0F1Z3VzdCc6ICAgNyxcbiAgICAgICAgICAgICAgICAnU2VwdGVtYmVyJzo4LFxuICAgICAgICAgICAgICAgICdPY3RvYmVyJzogIDksXG4gICAgICAgICAgICAgICAgJ05vdmVtYmVyJzogMTAsXG4gICAgICAgICAgICAgICAgJ0RlY2VtYmVyJzogMTEsXG4gICAgICAgICAgICAgICAgJ1dpbnRlcic6ICAgMTEsXG4gICAgICAgICAgICAgICAgJ1NwcmluZyc6ICAgMixcbiAgICAgICAgICAgICAgICAnU3VtbWVyJzogICA1LFxuICAgICAgICAgICAgICAgICdGYWxsJzogICAgIDgsXG4gICAgICAgICAgICAgICAgJ0F1dHVtbic6ICAgOCxcbiAgICAgICAgICAgICAgICAnSmFuJzogJ0phbnVhcnknLFxuICAgICAgICAgICAgICAgICdGZWInOiAnRmVicnVhcnknLFxuICAgICAgICAgICAgICAgICdNYXInOiAnTWFyY2gnLFxuICAgICAgICAgICAgICAgICdBcHInOiAnQXByaWwnLFxuICAgICAgICAgICAgICAgICdKdW4nOiAnSnVuZScsXG4gICAgICAgICAgICAgICAgJ0p1bCc6ICdKdWx5JyxcbiAgICAgICAgICAgICAgICAnQXVnJzogJ0F1Z3VzdCcsXG4gICAgICAgICAgICAgICAgJ1NlcCc6ICdTZXB0ZW1iZXInLFxuICAgICAgICAgICAgICAgICdTZXB0JzogJ1NlcHRlbWJlcicsXG4gICAgICAgICAgICAgICAgJ09jdCc6ICdPY3RvYmVyJyxcbiAgICAgICAgICAgICAgICAnTm92JzogJ05vdmVtZWJlcicsXG4gICAgICAgICAgICAgICAgJ0RlYyc6ICdEZWNlbWJlcidcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmb3IgKHZhciB0eXBlIGluIG1hdGNoVHlwZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIG1hdGNoVHlwZXMuaGFzT3duUHJvcGVydHkodHlwZSkgJiYgc3RyaW5nICE9PSB1bmRlZmluZWQgKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXRjaCA9IHN0cmluZy5tYXRjaChtYXRjaFR5cGVzW3R5cGVdKTsgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBtYXRjaCAhPT0gbnVsbCApIHtcbiAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoIHR5cGUgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAneXl5eSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXkgPSBzdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUoK21hdGNoWzFdLDAsMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3l5eXltbWRkJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheSA9IGAke21vbnRoc1soK21hdGNoWzJdIC0gMSkudG9TdHJpbmcoKV19ICR7K21hdGNoWzNdfSwgJHttYXRjaFsxXX1gOyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSgrbWF0Y2hbMV0sICttYXRjaFsyXSAtIDEsICttYXRjaFszXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ21vbnRoZGR5eXl5JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheSA9IGAke2NoZWNrTW9udGgobWF0Y2hbMV0pfSAkeyttYXRjaFsyXX0sICR7bWF0Y2hbM119YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSgrbWF0Y2hbM10sIG1vbnRoc1tjaGVja01vbnRoKG1hdGNoWzFdKV0sICttYXRjaFsyXSk7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdtb250aHl5eXknOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5ID0gYCR7Y2hlY2tNb250aChtYXRjaFsxXSl9ICR7bWF0Y2hbMl19YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSgrbWF0Y2hbMl0sIG1vbnRoc1tjaGVja01vbnRoKG1hdGNoWzFdKV0sIDEpOyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAneXl5eW1tJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheSA9IG1vbnRoc1soK21hdGNoWzJdIC0gMSldICsgJyAnICsgbWF0Y2hbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUoK21hdGNoWzFdLCArbWF0Y2hbMl0gLSAxLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnbW1kZHl5eXknOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5ID0gYCR7bW9udGhzWygrbWF0Y2hbMV0gLSAxKV19ICR7K21hdGNoWzJdfSwgJHttYXRjaFszXX1gOyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSgrbWF0Y2hbM10sICttYXRjaFsxXSAtIDEsICttYXRjaFsyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3l5eXl5eXl5JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheSA9IHN0cmluZy5yZXBsYWNlKCctJywn4oCUJykucmVwbGFjZSgnLScsJ+KAkycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKCttYXRjaFsxXSwwLDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd5eXl5bW9udGhkZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXkgPSBgJHtjaGVja01vbnRoKG1hdGNoWzJdKX0gJHsrbWF0Y2hbM119LCAke21hdGNoWzFdfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUoK21hdGNoWzFdLCBtb250aHNbY2hlY2tNb250aChtYXRjaFsyXSldLCArbWF0Y2hbM10pOyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZm9ydGhjb21pbmcnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5ID0gICdmb3J0aGNvbWluZyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gIG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gIFxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICBkaXNwbGF5XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBiaWJsaW9Ub29sdGlwcygpe1xuICAgICAgICAgICAgdGlwcHkoJy50aXBweS1jbGlwYm9hcmQnLCB7XG4gICAgICAgICAgICAgICAgYXJyb3c6IHRydWUsXG4gICAgICAgICAgICAgICAgdGhlbWU6J1JGRicsXG4gICAgICAgICAgICAgICAgdHJpZ2dlcjogJ21hbnVhbCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGlwcHkoJy5jb3B5LWJpYicsIHtcbiAgICAgICAgICAgICAgICBhcnJvdzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBoaWRlT25DbGljazogZmFsc2UsXG4gICAgICAgICAgICAgICAgaW50ZXJhY3RpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgdGhlbWU6J1JGRicsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgY29weUJpYlRleHQoKXtcbiAgICAgICAgICAvLyB0aGlzID0gZWxlbWVudFxuICAgICAgICAgIHZhciBiaWJFbnRyeSA9IHRoaXMucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCcuYmliLWNvbnRhaW5lcicpO1xuICAgICAgICAgLy8gYmliRW50cnkuZm9jdXMoKTtcbiAgICAgICAgICBiaWJFbnRyeS5zZWxlY3QoKTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHN1Y2Nlc3NmdWwgPSBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpO1xuICAgICAgICAgICAgdmFyIG1zZyA9IHN1Y2Nlc3NmdWwgPyAnc3VjY2Vzc2Z1bCcgOiAndW5zdWNjZXNzZnVsJztcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDb3B5aW5nIHRleHQgY29tbWFuZCB3YXMgJyArIG1zZyk7XG4gICAgICAgICAgICBpZiAoIHN1Y2Nlc3NmdWwgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnROb2RlLl90aXBweS5zaG93KCk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50Tm9kZS5fdGlwcHkuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH0sMTAwMCk7XG4gICAgICAgICAgICAgICAgLy90aGlzLl90aXBweS5wb3BwZXIucXVlcnlTZWxlY3RvcignLnRpcHB5LWNvbnRlbnQnKS50ZXh0Q29udGVudCA9ICdDb3BpZWQgdG8gY2xpcGJvYXJkJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdPb3BzLCB1bmFibGUgdG8gY29weScpO1xuICAgICAgICAgIH1cblxuICAgICAgICB9ICBcblxuXG4gICAgfTsgXG4gXG4gICAgdmFyIG1vZGVsID0ge1xuICAgICAgICB6b3Rlcm9JdGVtczogW11cbiAgICB9OyBcbiAgICBcbiAgICB2YXIgdmlldyA9IHsgXG4gICAgICAgIGluaXQoKXtcbiAgICAgICAgICAgIHNtb290aHNjcm9sbC5wb2x5ZmlsbCgpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coY29udHJvbGxlci5nYXRlQ2hlY2spO1xuICAgICAgICAgICAgaWYgKCBjb250cm9sbGVyLmdhdGVDaGVjayA8IDIgKXtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdyZXR1cm4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUkVBRFkhJyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhtb2RlbC56b3Rlcm9JdGVtcyk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclRvcGljQnV0dG9ucygpO1xuICAgICAgICAgICAgdGhpcy5hdHRhY2hUb29sdGlwcygpO1xuICAgICAgICAgICAgY29uc29sZS5sb2cobW9kZWwuY29sbGVjdGlvbnMpO1xuICAgICAgICAgICAgLy92YXIgaW5pdGlhbENhdGVnb3J5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJyb3dzZS1idXR0b25zIGRpdicpLmRhdGFzZXQuY29sbGVjdGlvbjtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZ2V0Q29sbGVjdGlvbkl0ZW1zKCdpbml0aWFsJyk7XG4gICAgICAgICAgICAvLyB0d28gbGluZXMgYWJvdmUgbGVmdG92ZXJzIGZyb20gd2hlbiBsaXN0IGxvYWRlZCB3aXRoIGZpcnN0IGNhdGVnb3J5XG4gICAgICAgICAgICAvLyB0aGUgbmV4dCB0d28gbGluZXMgdG8gbGlzdCBhbGwgcHVicyB3ZXJlbid0IHdvcmtpbmcgd2l0aG91dCB0aGVtXG4gICAgICAgICAgICAvLyBiZWluZyBjYWxsZWQgZmlyc3RcbiAgICAgICAgICAgIC8vZmlsdGVyUmVzdWx0cy5jYWxsKHZpZXcsIHVuZGVmaW5lZCwgY29udHJvbGxlcik7XG4gICAgICAgICAgICAvL3ZpZXcuZmlsdGVyU3ludGhlc2lzUmVzdWx0cy5jYWxsKHZpZXcsW10pO1xuICAgICAgICAgICAgdGhpcy5zZXR1cFNpZGViYXIoKTtcbiAgICAgICAgICAgIHRoaXMubG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgIFxuICAgICAgICB9LFxuICAgICAgICBzbW9vdGhTY3JvbGwoZWxlbSl7XG4gICAgICAgICAgICBlbGVtLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnIH0pXG4gICAgICAgIH0sXG4gICAgICAgIGF0dGFjaFRvb2x0aXBzKCl7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYnJvd3NlLWJ1dHRvbnMgPiBkaXYnKS5mb3JFYWNoKGJ0biA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoID0gdG9vbHRpcHMuZmluZChkID0+IGQua2V5ID09PSBidG4uZGF0YXNldC5jb2xsZWN0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAoIG1hdGNoICE9PSB1bmRlZmluZWQgKXtcbiAgICAgICAgICAgICAgICAgICAgYnRuLnNldEF0dHJpYnV0ZSgndGl0bGUnLCBtYXRjaC50aXRsZSk7XG4gICAgICAgICAgICAgICAgICAgIHRpcHB5Lm9uZShidG4sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoZW1lOidSRkYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJyb3c6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldHVwU2lkZWJhcigpe1xuICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIG1vbnRocyA9IHtcbiAgICAgICAgICAgICAgICAnMCc6ICdKYW51YXJ5JyxcbiAgICAgICAgICAgICAgICAnMSc6ICdGZWJydWFyeScsXG4gICAgICAgICAgICAgICAgJzInOiAnTWFyY2gnLFxuICAgICAgICAgICAgICAgICczJzogJ0FwcmlsJyxcbiAgICAgICAgICAgICAgICAnNCc6ICdNYXknLFxuICAgICAgICAgICAgICAgICc1JzogJ0p1bmUnLFxuICAgICAgICAgICAgICAgICc2JzogJ0p1bHknLFxuICAgICAgICAgICAgICAgICc3JzogJ0F1Z3VzdCcsXG4gICAgICAgICAgICAgICAgJzgnOiAnU2VwdGVtYmVyJyxcbiAgICAgICAgICAgICAgICAnOSc6ICdPY3RvYmVyJyxcbiAgICAgICAgICAgICAgICcxMCc6ICdOb3ZlbWJlcicsXG4gICAgICAgICAgICAgICAnMTEnOiAnRGVjZW1iZXInXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGxhc3RNb2RpZmllZERhdGUgPSBkMy5tYXgobW9kZWwuem90ZXJvSXRlbXMsIGQgPT4gbmV3IERhdGUoZC5kYXRhLmRhdGVNb2RpZmllZCkpO1xuICAgICAgICAgICAgdmFyIHZlcnNpb24gPSBkMy5tYXgobW9kZWwuem90ZXJvSXRlbXMsIGQgPT4gZC5kYXRhLnZlcnNpb24pO1xuICAgICAgICAgICAgdmFyIHNpZGViYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2lkZWJhcicpO1xuICAgICAgICAgICAgdmFyIGh0bWwgPSBgXG4gICAgICAgICAgICA8aDI+TGlicmFyeSBpbmZvPC9oMj5cbiAgICAgICAgICAgIDxwPkRhdGUgbGFzdCBtb2RpZmllZDogJHtsYXN0TW9kaWZpZWREYXRlLmdldERhdGUoKX0gJHttb250aHNbbGFzdE1vZGlmaWVkRGF0ZS5nZXRNb250aCgpXX0gJHtsYXN0TW9kaWZpZWREYXRlLmdldEZ1bGxZZWFyKCl9PGJyIC8+KFZlcnNpb24gJHt2ZXJzaW9ufSk8L3A+XG4gICAgICAgICAgICBgO1xuXG4gICAgICAgICAgICBzaWRlYmFyLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgaHRtbCk7XG5cbiAgICAgICAgICAgIHRoaXMuc2lkZWJhckNvbnRhY3QoKTsgICBcbiAgICAgICAgICAgIHRoaXMuc2liZWJhckRvY3VtZW50YXRpb24oKTsgICAgIFxuICAgICAgICAgICAgdGhpcy5tYWtlUGllQ2hhcnQoKTsgIFxuXG4gICAgICAgIH0sXG4gICAgICAgIHNpYmViYXJEb2N1bWVudGF0aW9uKCl7XG4gICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBkaXYuY2xhc3NOYW1lID0gJ2RvY3VtZW50YXRpb24nO1xuICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxoMz5Eb2N1bWVudGF0aW9uPC9oMz5cbiAgICAgICAgICAgIDxwPjxhIGhyZWY9XCJodHRwOi8vd3d3LnJmZi5vcmcvZmlsZXMvZmFxLnBkZlwiPlNIQVJDIEZyZXF1ZW50bHkgQXNrZWQgUXVlc3Rpb25zPC9hPiAoUERGKTwvcD5cbiAgICAgICAgICAgIDxwPjxhIGhyZWY9XCJodHRwOi8vd3d3LnJmZi5vcmcvZmlsZXMvaG93LXNoYXJjLWlzLWJ1aWx0LnBkZlwiPkhvdyBTSEFSQyBJcyBCdWlsdDwvYT4gKFBERik8L3A+XG4gICAgICAgICAgICBgO1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NpZGViYXInKS5hcHBlbmQoZGl2KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2lkZWJhckNvbnRhY3QoKXtcbiAgICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBkaXYuY2xhc3NOYW1lID0gJ2NvbnRhY3QtdXMnO1xuICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8aDM+R2V0IGluIHRvdWNoPC9oMz5cbiAgICAgICAgICAgICAgPGZvcm0+PCEtLTxmb3JtIG1ldGhvZD1cIlBPU1RcIiBhY3Rpb249XCJodHRwOi8vZm9ybXNwcmVlLmlvL1hYWFhYWFhcIiBfbHBjaGVja2VkPVwiMVwiPi0tPlxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImVtYWlsXCIgbmFtZT1cImVtYWlsXCIgcGxhY2Vob2xkZXI9XCJZb3VyIGVtYWlsXCI+XG4gICAgICAgICAgICAgIDx0ZXh0YXJlYSBuYW1lPVwibWVzc2FnZVwiIHBsYWNlaG9sZGVyPVwiWW91ciBtZXNzYWdlXCI+PC90ZXh0YXJlYT5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiX2dvdGNoYVwiIHN0eWxlPVwiZGlzcGxheTpub25lXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiX25leHRcIiB2YWx1ZT1cIi9wcm9qZWN0cy8/dGhhbmtzXCI+XG4gICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiPlNlbmQ8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICBgOyAgXG4gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NpZGViYXInKS5hcHBlbmQoZGl2KTtcbiAgICAgICAgfSxcbiAgICAgICAgbWFrZVBpZUNoYXJ0KCl7XG4gICAgICAgICAgICB2YXIgc3ZnID0gZDMuc2VsZWN0KCcjc2lkZWJhcjInKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3N2ZycpXG4gICAgICAgICAgICAgICAgICAuYXR0cignd2lkdGgnLCAnMTAwJScpXG4gICAgICAgICAgICAgICAgICAuYXR0cigneG1sbnMnLCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycpXG4gICAgICAgICAgICAgICAgICAuYXR0cigndmVyc2lvbicsJzEuMScpXG4gICAgICAgICAgICAgICAgICAuYXR0cigndmlld0JveCcsIGAwIDAgMTAwIDYyYClcbiAgICAgICAgICAgICAgICAgIC5hdHRyKCdmb2N1c2FibGUnLGZhbHNlKVxuICAgICAgICAgICAgICAgICAgLmF0dHIoJ2FyaWEtbGFiZWxsZWRieScsIGBzdmdUaXRsZSBzdmdEZXNjYClcbiAgICAgICAgICAgICAgICAgIC5hdHRyKCdyb2xlJywnZ3JhcGhpY3MtZGF0YXVuaXQnKVxuICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3B1YnR5cGUtcGllJyk7XG5cbiAgICAgICAgICAgICAgICBzdmcuYXBwZW5kKCd0aXRsZScpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdpZCcsIGBzdmdUaXRsZWApXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KGBQaWUgY2hhcnQgb2YgcHVibGljYXRpb24gdHlwZXNgKTtcblxuICAgICAgICAgICAgICAgIHN2Zy5hcHBlbmQoJ2Rlc2MnKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignaWQnLGBzdmdEZXNjYClcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoYFBpZSBjaGFydCBvZiBwdWJsaWNhdGlvbiB0eXBlc2ApO1xuXG4gICAgICAgICAgICBzdmcuYXBwZW5kKCdnJyk7XG5cbiAgICAgICAgICAgIGQzLnNlbGVjdCgnI3NpZGViYXIyIHN2ZycpLmFwcGVuZCgnZycpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywnbGVnZW5kJyk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBkMy5zZWxlY3QoJyNzaWRlYmFyMiBzdmcnKS5hcHBlbmQoJ3RleHQnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd0b3RhbCcpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIDEwKVxuICAgICAgICAgICAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUGllQ2hhcnQobW9kZWwuem90ZXJvSXRlbXMsICdBbGwgdG9waWNzJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlUGllQ2hhcnQoaXRlbXMsIHRvcGljKXtcblxuICAgICAgICAgICAgZDMuc2VsZWN0KCcjc2lkZWJhcjIgI3BpZS1oZWFkZXInKVxuICAgICAgICAgICAgICAgIC50ZXh0KHRvcGljKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGl0ZW1zKTtcbiAgICAgICAgICAgIC8vdmFyIHQgPSBkMy50cmFuc2l0aW9uKCkuZHVyYXRpb24oMjUwKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIHJhZGl1cyA9IDMwO1xuICAgICAgICAgICAgdmFyIHBpZVNlZ21lbnRzID0gNTtcbiAgICAgICAgICAgIHZhciByb2xsdXAgPSBkMy5uZXN0KCkua2V5KGQgPT4gZC5kYXRhLml0ZW1UeXBlKS5yb2xsdXAodiA9PiB2Lmxlbmd0aCkuZW50cmllcyhpdGVtcy5maWx0ZXIoZCA9PiBkLmRhdGEuaXRlbVR5cGUgIT09ICdhdHRhY2htZW50JykpLnNvcnQoKGEsYikgPT4gZDMuZGVzY2VuZGluZyhhLnZhbHVlLCBiLnZhbHVlKSk7XG4gICAgICAgICAgICB2YXIgdG90YWxOdW1iZXIgPSByb2xsdXAucmVkdWNlKChhY2MsY3VyKSA9PiBhY2MgKyBjdXIudmFsdWUsIDApO1xuICAgICAgICAgICAgdmFyIHBpZURhdGEgPSBbXTtcbiAgICAgICAgICAgIHJvbGx1cC5mb3JFYWNoKChkLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCBpIDwgcGllU2VnbWVudHMgLSAxICl7XG4gICAgICAgICAgICAgICAgICAgIHBpZURhdGEucHVzaCgge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBkLmtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBpID09PSBwaWVTZWdtZW50cyAtIDEgKXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbWJpbmVkVmFsdWUgPSByb2xsdXAuc2xpY2UoaSkucmVkdWNlKChhY2MsIGN1cikgPT4gYWNjICsgY3VyLnZhbHVlLDApO1xuICAgICAgICAgICAgICAgICAgICBwaWVEYXRhLnB1c2goIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ290aGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNvbWJpbmVkVmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwaWVEYXRhKTtcbiAgICAgICAgICAgIHZhciBwaWUgPSBkMy5waWUoKS5zb3J0KG51bGwpLnZhbHVlKGQgPT4gZC52YWx1ZSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwaWUocGllRGF0YSkpO1xuICAgICAgICAgICAgdmFyIHBhdGggPSBkMy5hcmMoKVxuICAgICAgICAgICAgICAgIC5vdXRlclJhZGl1cyhyYWRpdXMpXG4gICAgICAgICAgICAgICAgLmlubmVyUmFkaXVzKHJhZGl1cyAvIDEuNSApO1xuXG4gICAgICAgICAgICB2YXIgbGFiZWwgPSBkMy5hcmMoKVxuICAgICAgICAgICAgICAgIC5vdXRlclJhZGl1cyhyYWRpdXMgKiAuODUpXG4gICAgICAgICAgICAgICAgLmlubmVyUmFkaXVzKCByYWRpdXMgKiAuODUgKTtcblxuICAgICAgICAgICAgdmFyIGcgPSBkMy5zZWxlY3QoJyNzaWRlYmFyMiBzdmcgZycpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtyYWRpdXN9LCR7cmFkaXVzfSlgKTtcbiAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgYXJjID0gZy5zZWxlY3RBbGwoJy5hcmMnKVxuICAgICAgICAgICAgICAgIC5kYXRhKHBpZShwaWVEYXRhKSwgZCA9PiBkLmRhdGEubmFtZSk7XG5cbiAgICAgICAgICAgIC8qIFVQREFURSBFWElTVElORyAqLyAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgYXJjLnNlbGVjdCgncGF0aCcpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2QnLCBwYXRoKTtcbiAgICAgICAgICAgIGFyYy5zZWxlY3QoJ3RleHQnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBkID0+ICd0cmFuc2xhdGUoJyArIGxhYmVsLmNlbnRyb2lkKGQpICsgJyknKVxuICAgICAgICAgICAgICAgIC50ZXh0KGQgPT4gZC5kYXRhLnZhbHVlKTtcblxuICAgICAgICAgICAgLyogUkVNT1ZFIEVYSVRJTkcgKi9cbiAgICAgICAgICAgIGFyYy5leGl0KClcbiAgICAgICAgICAgICAgIC8vIC5hdHRyKCdjbGFzcycsICdleGl0JylcbiAgICAgICAgICAgICAgICAucmVtb3ZlKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8qIEFERCBFTlRFUklORyAqL1xuXG4gICAgICAgICAgICB2YXIgZW50ZXJpbmcgPSBhcmMuZW50ZXIoKS5hcHBlbmQoJ2cnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsIGQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdhcmMgJyArIGQuZGF0YS5uYW1lO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBlbnRlcmluZ1xuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3BhdGgnKVxuICAgICAgICAgICAgICAgICAgLmF0dHIoJ2QnLCBwYXRoKTtcblxuICAgICAgICAgICAgIGVudGVyaW5nLmFwcGVuZCgndGV4dCcpXG4gICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBkID0+ICd0cmFuc2xhdGUoJyArIGxhYmVsLmNlbnRyb2lkKGQpICsgJyknKVxuICAgICAgICAgICAgICAuYXR0cignZHknLCAnMC4zNWVtJylcbiAgICAgICAgICAgICAgLmF0dHIoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpXG4gICAgICAgICAgICAgIC5hdHRyKCdmb250LXNpemUnLCA0KVxuICAgICAgICAgICAgICAuYXR0cignZmlsbCcsIGQgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChkLmRhdGEubmFtZSA9PT0gJ2pvdXJuYWxBcnRpY2xlJyB8fCBkLmRhdGEubmFtZSA9PT0gJ2Jvb2snIHx8IGQuZGF0YS5uYW1lID09PSAncmVwb3J0Jyl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnI2ZmZmZmZic7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcjMDAwMDAwJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC50ZXh0KGQgPT4gZC5kYXRhLnZhbHVlKTtcblxuICAgICAgICAgICAgdmFyIHB1YlR5cGVzID0ge1xuICAgICAgICAgICAgICAgIGpvdXJuYWxBcnRpY2xlOiAnam91cm5hbCBhcnRpY2xlcycsXG4gICAgICAgICAgICAgICAgcmVwb3J0OiAncmVwb3J0cycsXG4gICAgICAgICAgICAgICAgd2VicGFnZTogJ3dlYnBhZ2VzJyxcbiAgICAgICAgICAgICAgICBib29rOiAnYm9va3MnLFxuICAgICAgICAgICAgICAgIG90aGVyOiAnb3RoZXInLFxuICAgICAgICAgICAgICAgIGJvb2tTZWN0aW9uOiAnY2hhcHRlcnMnLFxuICAgICAgICAgICAgICAgIGRvY3VtZW50OiAnZG9jdW1lbnRzJyxcbiAgICAgICAgICAgICAgICBtYWdhemluZUFydGljbGU6ICdtYWdhemluZSBhcnRpY2xlcycsXG4gICAgICAgICAgICAgICAgcHJlc2VudGF0aW9uOiAncHJlc2VudGF0aW9ucydcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGxlZ2VuZCA9IGQzLnNlbGVjdCgnI3NpZGViYXIyIHN2ZyBnLmxlZ2VuZCcpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArICggcmFkaXVzICogMiArIDUgKSArICcsMiknKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIGxlZ2VuZEl0ZW1zID0gbGVnZW5kXG4gICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgnLmxlZ2VuZC1pdGVtJylcbiAgICAgICAgICAgICAgICAuZGF0YShwaWUocGllRGF0YSksIGQgPT4gZC5kYXRhLm5hbWUpO1xuXG4gICAgICAgICAgICBsZWdlbmRJdGVtcy5zZWxlY3QoJ2cubGVnZW5kLWl0ZW0nKVxuICAgICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAoZCxpKSA9PiAndHJhbnNsYXRlKDAsJyArIGkgKiA3ICsgJyknKTtcblxuICAgICAgICAgICAgbGVnZW5kSXRlbXMuZXhpdCgpLnJlbW92ZSgpO1xuXG4gICAgICAgICAgICB2YXIgZW50ZXJpbmdMID0gbGVnZW5kSXRlbXNcbiAgICAgICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ2cnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsIGQgPT4gJ2xlZ2VuZC1pdGVtICcgKyBkLmRhdGEubmFtZSlcbiAgICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgKGQsaSkgPT4gJ3RyYW5zbGF0ZSgwLCcgKyBpICogNyArICcpJyk7XG5cbiAgICAgICAgICAgICAgICBlbnRlcmluZ0xcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgncmVjdCcpXG4gICAgICAgICAgICAgICAgICAgIC8vLmF0dHIoJ2NsYXNzJywgZCA9PiBkLmRhdGEubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgNSlcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIDUpO1xuXG4gICAgICAgICAgICAgICAgZW50ZXJpbmdMXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3RleHQnKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSg3LDQpJylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIDQpXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KGQgPT4gcHViVHlwZXNbZC5kYXRhLm5hbWVdKTtcblxuICAgICAgICAgICAgZDMuc2VsZWN0KCcjc2lkZWJhcjIgc3ZnIHRleHQudG90YWwnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7cmFkaXVzfSwke3JhZGl1c30pYClcbiAgICAgICAgICAgICAgICAudGV4dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICggdG90YWxOdW1iZXIgPiAwICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvdGFsTnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgXG4gICAgICAgIH0sXG4gICAgICAgIGxvYWRpbmcoaXNMb2FkaW5nKXtcbiAgICAgICAgICAgIGlmICggaXNMb2FkaW5nICl7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmNsYXNzTGlzdC5hZGQoJ2xvYWRpbmcnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmNsYXNzTGlzdC5yZW1vdmUoJ2xvYWRpbmcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcmVuZGVyVG9waWNCdXR0b25zKCl7XG4gICAgICAgICAgICB2YXIgc2VjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdicm93c2UtYnV0dG9ucy1jb250YWluZXInKTtcbiAgICAgICAgICAgIHZhciBjYXRlZ29yaWVzID0gbW9kZWwuY29sbGVjdGlvbnMuZmlsdGVyKGQgPT4gZC5kYXRhLnBhcmVudENvbGxlY3Rpb24gPT09IGZhbHNlKS5zb3J0KChhLGIpID0+IGQzLmFzY2VuZGluZyhhLmRhdGEubmFtZSwgYi5kYXRhLm5hbWUpKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNhdGVnb3JpZXMpO1xuICAgICAgICAgICAgLy9tb2RlbC5jb2xsZWN0aW9ucy5mYWxzZS5zb3J0KChhLGIpID0+IGQzLmFzY2VuZGluZyhhLmRhdGEubmFtZSwgYi5kYXRhLm5hbWUpKTsgLy8gJ2ZhbHNlJyBrZXkgPT4gdG9wLWx2ZWwgY2F0ZWdvcmllc1xuICAgICAgICAgICAgY2F0ZWdvcmllcy5maWx0ZXIoZCA9PiBkLmNoaWxkcmVuICE9PSB1bmRlZmluZWQpLmZvckVhY2goZnVuY3Rpb24oZCxpKXtcbiAgICAgICAgICAgICAgICBzZWN0aW9uLmFwcGVuZENoaWxkKGNyZWF0ZUJyb3dzZUNhdGVnb3J5KGQsaSx0cnVlKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNhdGVnb3JpZXMuZmlsdGVyKGQgPT4gZC5jaGlsZHJlbiA9PT0gdW5kZWZpbmVkKS5mb3JFYWNoKGZ1bmN0aW9uKGQsaSl7XG4gICAgICAgICAgICAgICAgc2VjdGlvbi5hcHBlbmRDaGlsZChjcmVhdGVCcm93c2VDYXRlZ29yeShkLGksZmFsc2UpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgd2luZG93LlJGRkFwcC5tb2RlbC5yZXNvbHZlVG9waWNCdXR0b25zKHRydWUpO1xuICAgICAgICAgICAgY3JlYXRlVG9waWNLZXkoKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyU2hvd0FsbEJ1dHRvbigpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJTaG93QWxsU3ludGhlc2VzKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbmRlclNob3dBbGxCdXR0b24oKXtcbiAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGRpdi5pZCA9ICdzaG93LWFsbC1jb250YWluZXInO1xuICAgICAgICAgICAgZGl2LmNsYXNzTmFtZSA9ICdicm93c2UtYnV0dG9ucyc7XG5cbiAgICAgICAgICAgIHZhciBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGJ0bi5jbGFzc05hbWUgPSAnYnV0dG9uIGJ1dHRvbi0tc2Vjb25kYXJ5IHNob3ctYWxsIGFjdGl2ZSc7XG4gICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoYnRuKTtcblxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Jyb3dzZS1idXR0b25zLWNvbnRhaW5lcicpLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGRpdi5vdXRlckhUTUwpO1xuICAgICAgICAgICAgdmFyIHNob3dBbGwgPSBkMy5zZWxlY3QoJ2Rpdi5zaG93LWFsbCcpO1xuXG4gICAgICAgICAgICBzaG93QWxsXG4gICAgICAgICAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5icm93c2UtYnV0dG9ucyAuYnV0dG9uJykgIC8vIG5vdCBEUlk7IG5lZWQgdG8gYnJpbmcgb3V0IGludG8gZm47IGJyb3dzZWJ1dHRvbnMgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG8gdGhlIHNhbWUgdGhpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCdhY3RpdmUnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ2FjdGl2ZScsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJSZXN1bHRzLmNhbGwodmlldywgdW5kZWZpbmVkLCBjb250cm9sbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5maWx0ZXJTeW50aGVzaXNSZXN1bHRzLmNhbGwodmlldyxbXSk7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcudXBkYXRlUGllQ2hhcnQobW9kZWwuem90ZXJvSXRlbXMsICdBbGwgdG9waWNzJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuY2xlYXJTZWFyY2goKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzaG93QWxsICAgICBcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCdzcGFuJylcbiAgICAgICAgICAgICAgICAudGV4dCgnU2hvdyBmdWxsIGNvbGxlY3Rpb24nKTtcbiAgICAgICAgICAgIFxuICAgICAgICB9LFxuICAgICAgICByZW5kZXJTaG93QWxsU3ludGhlc2VzKCl7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciBzaG93QWxsID0gZDMuc2VsZWN0KCcjc2hvdy1hbGwtY29udGFpbmVyJylcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCdkaXYnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdidXR0b24gYnV0dG9uLS1zZWNvbmRhcnkgc2hvdy1zeW50aGVzZXMnKTtcbiAgICAgICAgICAgIHNob3dBbGxcbiAgICAgICAgICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5icm93c2UtYnV0dG9ucyAuYnV0dG9uJykgIC8vIG5vdCBEUlk7IG5lZWQgdG8gYnJpbmcgb3V0IGludG8gZm47IGJyb3dzZWJ1dHRvbnMgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG8gdGhlIHNhbWUgdGhpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCdhY3RpdmUnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ2FjdGl2ZScsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmdldENvbGxlY3Rpb25JdGVtcygnc3ludGhlc2VzLW9ubHknKTtcbiAgICAgICAgICAgICAgICAgICAgLy9maWx0ZXJSZXN1bHRzLmNhbGwodmlldywgJ25vbmUnLCBjb250cm9sbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgLy92aWV3LmZpbHRlclN5bnRoZXNpc1Jlc3VsdHMuY2FsbCh2aWV3LFtdKTtcbiAgICAgICAgICAgICAgICAgICAgLy92aWV3LnVwZGF0ZVBpZUNoYXJ0KG1vZGVsLnpvdGVyb0l0ZW1zLCAnQ3VyYXRlZCByZXZpZXdzJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuY2xlYXJTZWFyY2goKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNob3dBbGwgICAgIFxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3NwYW4nKVxuICAgICAgICAgICAgICAgIC50ZXh0KCdTaG93IGN1cmF0ZWQgcmV2aWV3cycpO1xuICAgICAgICAgICAgXG4gICAgICAgIH0sXG5cbiAgICAgICAgZmlsdGVyU3ludGhlc2lzUmVzdWx0cyhtYXRjaGVzKXsgLy8gbmVlZHMgdG8gYmUgbW9yZSBEUlkgcmU6IGNvZGUgYWJvdmVcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG1hdGNoZXMpO1xuICAgICAgICAgICAgdmFyIGl0ZW1zID0gZDMuc2VsZWN0KCcuc3ludGhlc2lzLXJlc3VsdHMgdWwnKS5zZWxlY3RBbGwoJy5saXN0LWl0ZW0nKVxuICAgICAgICAgICAgICAgIC5kYXRhKG1hdGNoZXMsIGQgPT4gZC5kYXRhLmtleSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coaXRlbXMpO1xuICAgICAgICAgICAgaXRlbXMuZXhpdCgpXG4gICAgICAgICAgICAgICAgLmNsYXNzZWQoJ2VudGVyZWQnLGZhbHNlKVxuICAgICAgICAgICAgICAgIC5jbGFzc2VkKCdleGl0aW5nJywgdHJ1ZSlcbiAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigxNTAwKS5yZW1vdmUoKTtcblxuICAgICAgICAgICAgdmFyIGVudGVyaW5nID0gaXRlbXMuZW50ZXIoKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2xpJylcbiAgICAgICAgICAgICAgICAuYXR0cignaWQnLCBkID0+IGQua2V5KVxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsIChkLGkpID0+ICggZC5zeW50aGVzaXNUeXBlLmNsZWFuU3RyaW5nKCkgfHwgZC5kYXRhLml0ZW1UeXBlICkgICsgJyBpbmRleC0nICsgaSArICggZC5kYXRhLmluc3RpdHV0aW9uID09PSAnUkZGJyB8fCBkLmRhdGEuaW5zdGl0dXRpb24gPT09ICdSZXNvdXJjZXMgZm9yIHRoZSBGdXR1cmUnID8gJyBSRkYnIDogJycpKVxuICAgICAgICAgICAgICAgIC5jbGFzc2VkKCdSRkYnLCB0cnVlKVxuICAgICAgICAgICAgICAgIC5jbGFzc2VkKCdlbnRlcmluZycsIHRydWUpXG4gICAgICAgICAgICAgICAgLmNsYXNzZWQoJ2xpc3QtaXRlbScsIHRydWUpXG4gICAgICAgICAgICAgICAgLmh0bWwoZCA9PiBjcmVhdGVSZXN1bHRJdGVtKGQpKVxuICAgICAgICAgICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cub3BlbignLi9wZGYvJyArIHRoaXMuaWQgKyAnLnBkZicsICdfYmxhbmsnKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGVudGVyaW5nLmNsYXNzZWQoJ2VudGVyaW5nJyxmYWxzZSk7ICAgIFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuc3ludGhlc2lzSXRlbXMgPSBlbnRlcmluZy5tZXJnZShpdGVtcyk7IFxuICAgICAgICAgICBcblxuICAgICAgICB9XG4gICAgfTtcbiAgICB3aW5kb3cuUkZGQXBwID0ge1xuICAgICAgICBjb250cm9sbGVyLFxuICAgICAgICBtb2RlbCBcbiAgICB9O1xuICAgIGNvbnRyb2xsZXIuaW5pdCh0cnVlKTsgLy8gcGFzcyBpbiBgdHJ1ZWAgdG8gdXNlIGxvY2FsIHNuYXBzaG90IGluc3RlYWQgb2YgQVBJXG4gICAgIFxufSgpKTsgLy8gZW5kIElJRkUgIl0sInNvdXJjZVJvb3QiOiIifQ==