!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=14)}([function(t,e,n){t.exports=n.p+"sw.js"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(0),o=(i=r)&&i.__esModule?i:{default:i};console.log(o.default);var a={init:function(){"serviceWorker"in navigator?window.addEventListener("load",function(){navigator.serviceWorker.register(o.default).then(function(t){console.log("ServiceWorker registration successful with scope: ",t.scope,t)},function(t){console.log("ServiceWorker registration failed: ",t)})}):console.log("service workers not supported")}};e.default=a},,function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.filterResults=e.createResultItem=e.createResultsContainer=void 0;var i,r=n(3),o=(i=r)&&i.__esModule?i:{default:i};console.log(o.default);e.createResultsContainer=function(){document.getElementById("results-container").innerHTML='<div class="synthesis-results">\n                  <ul class="flex space-between"></ul>\n              </div>\n              <div class="results">\n                  <ul class="loadable"></ul>\n              </div> ',this.results=document.querySelector("div.results ul")};var a=e.createResultItem=function(t){var e,n;if(void 0===t.data.creators)e="";else if(e=(n=t.data.creators.map(function(t){return t.firstName+" "+t.lastName})).join(","),2===n.length)e=e.replace(","," and ");else if(n.length>4)e=n[0]+" et al.";else{var i=(e=e.replace(/,/g,", ")).lastIndexOf(",");-1!==i&&(e=e.substr(0,i+1)+" and"+e.substr(i+1))}var r,o,a=t.data.publisher||t.data.journalAbbreviation||t.data.publicationTitle||t.data.institution||t.data.websiteTitle||"",s=document.createElement("div");if(s.className="links-div tippy-clipboard",s.setAttribute("title","Copied to clipboard"),t.data.url&&""!==t.data.url){var p=document.createElement("a");r=t.data.url,p.setAttribute("href",r),p.setAttribute("target","_blank"),p.setAttribute("class","details-link"),p.innerHTML="Go to link",s.appendChild(p)}if(t.bib&&""!==t.bib){var l=document.createElement("div");l.innerHTML=t.bib;var c=l.querySelector(".csl-entry").innerHTML,d=document.createElement("textarea");d.innerHTML=c,d.setAttribute("class","bib-container");var u=document.createElement("a");u.setAttribute("href","#"),u.setAttribute("class","copy-bib"),u.setAttribute("title",c),u.innerHTML="Copy biblio. info",s.appendChild(d),s.appendChild(u)}return o=void 0!==r?'<a class="item-title-link" target="_blank" href="'+r+'">'+t.data.title+"</a>":""+t.data.title,'\n              \n              <div class="summary-results">\n                  <div class="flex space-between">\n                      <span class="flex item-info items-center">\n                          <span class="list-item__label">'+(t.synthesisType||t.data.itemType.undoCamelCase())+'</span>\n                          <span class="list-item__meta publisher-name">'+a.trunc(90,!0)+'</span>\n                      </span>\n                      <span class="list-item__meta">'+t.data.dateString+'</span>\n                  </div>\n                  <h3 class="list-item__title">'+o+'</h3>\n                  <span class="list-item__meta">'+e+"</span>\n                  "+s.outerHTML+"\n              </div>\n              "};e.filterResults=function(t,e){console.log("list-item");var n=void 0===t?window.RFFApp.model.zoteroItems:t,i=d3.select(this.results).selectAll(".list-item").data(n,function(t){return t.key});i.exit().classed("entered",!1).classed("exiting",!0).transition(1500).remove();var r=i.enter().append("li").attr("class",function(t,e){return t.key+" "+t.data.itemType+" index-"+e+("RFF"===t.data.institution||"Resources for the Future"===t.data.institution?" RFF":"")}).classed("entering",!0).classed("list-item",!0).html(function(t){return a(t)});setTimeout(function(){r.classed("entering",!1)}),this.items=r.merge(i),d3.selectAll(".copy-bib").on("click",function(){d3.event.preventDefault(),e.copyBibText.call(this)}),e.biblioTooltips()}},,function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTopicKey=e.createBrowseCategory=void 0;var i,r=n(6),o=(i=r)&&i.__esModule?i:{default:i};console.log(o.default);e.createBrowseCategory=function(t,e,n){var i,r=document.createElement("div");return n?(r.innerHTML="\n      <h3>"+t.data.name+"</h3>\n    ",(i=document.createElement("div")).className="browse-buttons",t.children.sort(function(t,e){return d3.ascending(t.data.name,e.data.name)}).forEach(function(t,e){i.appendChild(a(t,e))})):((i=document.querySelector(".browse-buttons.uncategorized")||document.createElement("div")).className="browse-buttons uncategorized",0!==t.data.name.indexOf("_")&&i.appendChild(a(t))),console.log(t),r.appendChild(i),console.log(r),r;function a(t,i){var r=[];t.children&&(r=t.children.map(function(t){return t.data.name.cleanString()})),console.log(o.default,r);var a=document.createElement("div");a.innerHTML='\n    <div title="not loaded" data-collection="'+t.key+'" class="button button--'+(n?"secondary":"tertiary")+" "+r.reduce(function(t,e){return t+e+" "},"")+" "+(0===e&&0===i&&n?"active":"")+'">\n      <span>'+t.data.name+"</span>\n    </div>";var s=a.children[0];return s.onclick=function(){console.log(this),d3.selectAll(".browse-buttons .button").classed("active",!1),d3.select(this).classed("active",!0),RFFApp.controller.getCollectionItems(t.data.key)},s}},e.createTopicKey=function(){document.getElementById("browse-buttons-container").insertAdjacentHTML("beforeend",'<div id="topic-key">\n                  <div class="issue-brief">= issue brief and literature review available</div>\n                  <div>= issue brief and literature review still to come</div>\n              </div>')}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(e){
/*!
* Tippy.js v2.5.2
* (c) 2017-2018 atomiks
* MIT
*/var n;n=function(){"use strict";var t="undefined"!=typeof window,n=t&&/MSIE |Trident\//.test(navigator.userAgent),i={};t&&(i.supported="requestAnimationFrame"in window,i.supportsTouch="ontouchstart"in window,i.usingTouch=!1,i.dynamicInputDetection=!0,i.iOS=/iPhone|iPad|iPod/.test(navigator.platform)&&!window.MSStream,i.onUserInputChange=function(){});var r={POPPER:".tippy-popper",TOOLTIP:".tippy-tooltip",CONTENT:".tippy-content",BACKDROP:".tippy-backdrop",ARROW:".tippy-arrow",ROUND_ARROW:".tippy-roundarrow",REFERENCE:"[data-tippy]"},o={placement:"top",livePlacement:!0,trigger:"mouseenter focus",animation:"shift-away",html:!1,animateFill:!0,arrow:!1,delay:0,duration:[350,300],interactive:!1,interactiveBorder:2,theme:"dark",size:"regular",distance:10,offset:0,hideOnClick:!0,multiple:!1,followCursor:!1,inertia:!1,updateDuration:350,sticky:!1,appendTo:function(){return document.body},zIndex:9999,touchHold:!1,performance:!1,dynamicTitle:!1,flip:!0,flipBehavior:"flip",arrowType:"sharp",arrowTransform:"",maxWidth:"",target:null,allowTitleHTML:!0,popperOptions:{},createPopperInstanceOnInit:!1,onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){}},a=i.supported&&Object.keys(o);function s(t){return"[object Object]"==={}.toString.call(t)}function p(t){return[].slice.call(t)}function l(t){for(var e=["","webkit"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],o=r?r+n:t;if(void 0!==document.body.style[o])return o}return null}function c(){return document.createElement("div")}var d=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function m(t){var e=function(e){return t.querySelector(e)};return{tooltip:e(r.TOOLTIP),backdrop:e(r.BACKDROP),content:e(r.CONTENT),arrow:e(r.ARROW)||e(r.ROUND_ARROW)}}function h(t){var e=t.getAttribute("title");e&&t.setAttribute("data-original-title",e),t.removeAttribute("title")}
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.14.3
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */for(var y="undefined"!=typeof window&&"undefined"!=typeof document,b=["Edge","Trident","Firefox"],v=0,g=0;g<b.length;g+=1)if(y&&navigator.userAgent.indexOf(b[g])>=0){v=1;break}var w=y&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},v))}};function x(t){return t&&"[object Function]"==={}.toString.call(t)}function k(t,e){if(1!==t.nodeType)return[];var n=getComputedStyle(t,null);return e?n[e]:n}function E(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function T(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=k(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?t:T(E(t))}var O=y&&!(!window.MSInputMethodContext||!document.documentMode),A=y&&/MSIE 10/.test(navigator.userAgent);function C(t){return 11===t?O:10===t?A:O||A}function S(t){if(!t)return document.documentElement;for(var e=C(10)?document.body:null,n=t.offsetParent;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TD","TABLE"].indexOf(n.nodeName)&&"static"===k(n,"position")?S(n):n:t?t.ownerDocument.documentElement:document.documentElement}function L(t){return null!==t.parentNode?L(t.parentNode):t}function M(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,r=n?e:t,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var a,s,p=o.commonAncestorContainer;if(t!==p&&e!==p||i.contains(r))return"BODY"===(s=(a=p).nodeName)||"HTML"!==s&&S(a.firstElementChild)!==a?S(p):p;var l=L(t);return l.host?M(l.host,e):M(t,L(e).host)}function I(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var i=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||i)[e]}return t[e]}function F(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+i+"Width"],10)}function P(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],C(10)?n["offset"+t]+i["margin"+("Height"===t?"Top":"Left")]+i["margin"+("Height"===t?"Bottom":"Right")]:0)}function D(){var t=document.body,e=document.documentElement,n=C(10)&&getComputedStyle(e);return{height:P("Height",t,e,n),width:P("Width",t,e,n)}}var R=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},_=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),N=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},Y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function X(t){return Y({},t,{right:t.left+t.width,bottom:t.top+t.height})}function H(t){var e={};try{if(C(10)){e=t.getBoundingClientRect();var n=I(t,"top"),i=I(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(t){}var r={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?D():{},a=o.width||t.clientWidth||r.right-r.left,s=o.height||t.clientHeight||r.bottom-r.top,p=t.offsetWidth-a,l=t.offsetHeight-s;if(p||l){var c=k(t);p-=F(c,"x"),l-=F(c,"y"),r.width-=p,r.height-=l}return X(r)}function B(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=C(10),r="HTML"===e.nodeName,o=H(t),a=H(e),s=T(t),p=k(e),l=parseFloat(p.borderTopWidth,10),c=parseFloat(p.borderLeftWidth,10);n&&"HTML"===e.nodeName&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var d=X({top:o.top-a.top-l,left:o.left-a.left-c,width:o.width,height:o.height});if(d.marginTop=0,d.marginLeft=0,!i&&r){var u=parseFloat(p.marginTop,10),f=parseFloat(p.marginLeft,10);d.top-=l-u,d.bottom-=l-u,d.left-=c-f,d.right-=c-f,d.marginTop=u,d.marginLeft=f}return(i&&!n?e.contains(s):e===s&&"BODY"!==s.nodeName)&&(d=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=I(e,"top"),r=I(e,"left"),o=n?-1:1;return t.top+=i*o,t.bottom+=i*o,t.left+=r*o,t.right+=r*o,t}(d,e)),d}function z(t){if(!t||!t.parentElement||C())return document.documentElement;for(var e=t.parentElement;e&&"none"===k(e,"transform");)e=e.parentElement;return e||document.documentElement}function j(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=r?z(t):M(t,e);if("viewport"===i)o=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=B(t,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:I(n),s=e?0:I(n,"left");return X({top:a-i.top+i.marginTop,left:s-i.left+i.marginLeft,width:r,height:o})}(a,r);else{var s=void 0;"scrollParent"===i?"BODY"===(s=T(E(e))).nodeName&&(s=t.ownerDocument.documentElement):s="window"===i?t.ownerDocument.documentElement:i;var p=B(s,a,r);if("HTML"!==s.nodeName||function t(e){var n=e.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===k(e,"position")||t(E(e)))}(a))o=p;else{var l=D(),c=l.height,d=l.width;o.top+=p.top-p.marginTop,o.bottom=c+p.top,o.left+=p.left-p.marginLeft,o.right=d+p.left}}return o.left+=n,o.top+=n,o.right-=n,o.bottom-=n,o}function W(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=j(n,i,o,r),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},p=Object.keys(s).map(function(t){return Y({key:t},s[t],{area:(e=s[t],e.width*e.height)});var e}).sort(function(t,e){return e.area-t.area}),l=p.filter(function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight}),c=l.length>0?l[0].key:p[0].key,d=t.split("-")[1];return c+(d?"-"+d:"")}function U(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return B(n,i?z(e):M(e,n),i)}function q(t){var e=getComputedStyle(t),n=parseFloat(e.marginTop)+parseFloat(e.marginBottom),i=parseFloat(e.marginLeft)+parseFloat(e.marginRight);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function J(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function V(t,e,n){n=n.split("-")[0];var i=q(t),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",p=o?"height":"width",l=o?"width":"height";return r[a]=e[a]+e[p]/2-i[p]/2,r[s]=n===s?e[s]-i[l]:e[J(s)],r}function G(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function K(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var i=G(t,function(t){return t[e]===n});return t.indexOf(i)}(t,"name",n))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&x(n)&&(e.offsets.popper=X(e.offsets.popper),e.offsets.reference=X(e.offsets.reference),e=n(e,t))}),e}function Z(t,e){return t.some(function(t){var n=t.name;return t.enabled&&n===e})}function Q(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],o=r?""+r+n:t;if(void 0!==document.body.style[o])return o}return null}function $(t){var e=t.ownerDocument;return e?e.defaultView:window}function tt(t,e,n,i){n.updateBound=i,$(t).addEventListener("resize",n.updateBound,{passive:!0});var r=T(t);return function t(e,n,i,r){var o="BODY"===e.nodeName,a=o?e.ownerDocument.defaultView:e;a.addEventListener(n,i,{passive:!0}),o||t(T(a.parentNode),n,i,r),r.push(a)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function et(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,$(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function nt(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function it(t,e){Object.keys(e).forEach(function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&nt(e[n])&&(i="px"),t.style[n]=e[n]+i})}function rt(t,e,n){var i=G(t,function(t){return t.name===e}),r=!!i&&t.some(function(t){return t.name===n&&t.enabled&&t.order<i.order});if(!r){var o="`"+e+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}var ot=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],at=ot.slice(3);function st(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=at.indexOf(t),i=at.slice(n+1).concat(at.slice(0,n));return e?i.reverse():i}var pt={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function lt(t,e,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),a=t.split(/(\+|\-)/).map(function(t){return t.trim()}),s=a.indexOf(G(a,function(t){return-1!==t.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var p=/\s*,\s*|\s+/,l=-1!==s?[a.slice(0,s).concat([a[s].split(p)[0]]),[a[s].split(p)[1]].concat(a.slice(s+1))]:[a];return(l=l.map(function(t,i){var r=(1===i?!o:o)?"height":"width",a=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)},[]).map(function(t){return function(t,e,n,i){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],a=r[2];if(!o)return t;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=i}return X(s)[e]/100*o}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;return o}(t,r,e,n)})})).forEach(function(t,e){t.forEach(function(n,i){nt(n)&&(r[e]+=n*("-"===t[i-1]?-1:1))})}),r}var ct={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var r=t.offsets,o=r.reference,a=r.popper,s=-1!==["bottom","top"].indexOf(n),p=s?"left":"top",l=s?"width":"height",c={start:N({},p,o[p]),end:N({},p,o[p]+o[l]-a[l])};t.offsets.popper=Y({},a,c[i])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,i=t.placement,r=t.offsets,o=r.popper,a=r.reference,s=i.split("-")[0],p=void 0;return p=nt(+n)?[+n,0]:lt(n,o,a,s),"left"===s?(o.top+=p[0],o.left-=p[1]):"right"===s?(o.top+=p[0],o.left+=p[1]):"top"===s?(o.left+=p[0],o.top-=p[1]):"bottom"===s&&(o.left+=p[0],o.top+=p[1]),t.popper=o,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||S(t.instance.popper);t.instance.reference===n&&(n=S(n));var i=Q("transform"),r=t.instance.popper.style,o=r.top,a=r.left,s=r[i];r.top="",r.left="",r[i]="";var p=j(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);r.top=o,r.left=a,r[i]=s,e.boundaries=p;var l=e.priority,c=t.offsets.popper,d={primary:function(t){var n=c[t];return c[t]<p[t]&&!e.escapeWithReference&&(n=Math.max(c[t],p[t])),N({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=c[n];return c[t]>p[t]&&!e.escapeWithReference&&(i=Math.min(c[n],p[t]-("right"===t?c.width:c.height))),N({},n,i)}};return l.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";c=Y({},c,d[e](t))}),t.offsets.popper=c,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,i=e.reference,r=t.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(r),s=a?"right":"bottom",p=a?"left":"top",l=a?"width":"height";return n[s]<o(i[p])&&(t.offsets.popper[p]=o(i[p])-n[l]),n[p]>o(i[s])&&(t.offsets.popper[p]=o(i[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!rt(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if("string"==typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var r=t.placement.split("-")[0],o=t.offsets,a=o.popper,s=o.reference,p=-1!==["left","right"].indexOf(r),l=p?"height":"width",c=p?"Top":"Left",d=c.toLowerCase(),u=p?"left":"top",f=p?"bottom":"right",m=q(i)[l];s[f]-m<a[d]&&(t.offsets.popper[d]-=a[d]-(s[f]-m)),s[d]+m>a[f]&&(t.offsets.popper[d]+=s[d]+m-a[f]),t.offsets.popper=X(t.offsets.popper);var h=s[d]+s[l]/2-m/2,y=k(t.instance.popper),b=parseFloat(y["margin"+c],10),v=parseFloat(y["border"+c+"Width"],10),g=h-t.offsets.popper[d]-b-v;return g=Math.max(Math.min(a[l]-m,g),0),t.arrowElement=i,t.offsets.arrow=(N(n={},d,Math.round(g)),N(n,u,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(Z(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=j(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],r=J(i),o=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case pt.FLIP:a=[i,r];break;case pt.CLOCKWISE:a=st(i);break;case pt.COUNTERCLOCKWISE:a=st(i,!0);break;default:a=e.behavior}return a.forEach(function(s,p){if(i!==s||a.length===p+1)return t;i=t.placement.split("-")[0],r=J(i);var l=t.offsets.popper,c=t.offsets.reference,d=Math.floor,u="left"===i&&d(l.right)>d(c.left)||"right"===i&&d(l.left)<d(c.right)||"top"===i&&d(l.bottom)>d(c.top)||"bottom"===i&&d(l.top)<d(c.bottom),f=d(l.left)<d(n.left),m=d(l.right)>d(n.right),h=d(l.top)<d(n.top),y=d(l.bottom)>d(n.bottom),b="left"===i&&f||"right"===i&&m||"top"===i&&h||"bottom"===i&&y,v=-1!==["top","bottom"].indexOf(i),g=!!e.flipVariations&&(v&&"start"===o&&f||v&&"end"===o&&m||!v&&"start"===o&&h||!v&&"end"===o&&y);(u||b||g)&&(t.flipped=!0,(u||b)&&(i=a[p+1]),g&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),t.placement=i+(o?"-"+o:""),t.offsets.popper=Y({},t.offsets.popper,V(t.instance.popper,t.offsets.reference,t.placement)),t=K(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,r=i.popper,o=i.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return r[a?"left":"top"]=o[n]-(s?r[a?"width":"height"]:0),t.placement=J(e),t.offsets.popper=X(r),t}},hide:{order:800,enabled:!0,fn:function(t){if(!rt(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=G(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,i=e.y,r=t.offsets.popper,o=G(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:e.gpuAcceleration,s=H(S(t.instance.popper)),p={position:r.position},l={left:Math.floor(r.left),top:Math.round(r.top),bottom:Math.round(r.bottom),right:Math.floor(r.right)},c="bottom"===n?"top":"bottom",d="right"===i?"left":"right",u=Q("transform"),f=void 0,m=void 0;if(m="bottom"===c?-s.height+l.bottom:l.top,f="right"===d?-s.width+l.right:l.left,a&&u)p[u]="translate3d("+f+"px, "+m+"px, 0)",p[c]=0,p[d]=0,p.willChange="transform";else{var h="bottom"===c?-1:1,y="right"===d?-1:1;p[c]=m*h,p[d]=f*y,p.willChange=c+", "+d}var b={"x-placement":t.placement};return t.attributes=Y({},b,t.attributes),t.styles=Y({},p,t.styles),t.arrowStyles=Y({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return it(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach(function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)}),t.arrowElement&&Object.keys(t.arrowStyles).length&&it(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,i,r){var o=U(r,e,t,n.positionFixed),a=W(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",a),it(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},dt=function(){function t(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};R(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=w(this.update.bind(this)),this.options=Y({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(Y({},t.Defaults.modifiers,r.modifiers)).forEach(function(e){i.options.modifiers[e]=Y({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return Y({name:t},i.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&x(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return _(t,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=U(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=W(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=V(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=K(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,Z(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Q("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=tt(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return et.call(this)}}]),t}();function ut(t){return t.getAttribute("x-placement").replace(/-.+/,"")}function ft(t,e,n,i){return e.length?{scale:1===e.length?""+e[0]:n?e[0]+", "+e[1]:e[1]+", "+e[0],translate:1===e.length?i?-e[0]+"px":e[0]+"px":n?i?e[0]+"px, "+-e[1]+"px":e[0]+"px, "+e[1]+"px":i?-e[1]+"px, "+e[0]+"px":e[1]+"px, "+e[0]+"px"}[t]:""}function mt(t,e){if(!t)return"";return e?t:{X:"Y",Y:"X"}[t]}function ht(t,e,n){var i=ut(t),r="top"===i||"bottom"===i,o="right"===i||"bottom"===i,a=function(t){var e=n.match(t);return e?e[1]:""},s=function(t){var e=n.match(t);return e?e[1].split(",").map(parseFloat):[]},p=/translateX?Y?\(([^)]+)\)/,c=/scaleX?Y?\(([^)]+)\)/,d={translate:{axis:a(/translate([XY])/),numbers:s(p)},scale:{axis:a(/scale([XY])/),numbers:s(c)}},u=n.replace(p,"translate"+mt(d.translate.axis,r)+"("+ft("translate",d.translate.numbers,r,o)+")").replace(c,"scale"+mt(d.scale.axis,r)+"("+ft("scale",d.scale.numbers,r,o)+")");e.style[l("transform")]=u}function yt(t){return-(t-o.distance)+"px"}dt.Utils=("undefined"!=typeof window?window:e).PopperUtils,dt.placements=ot,dt.Defaults=ct;var bt={};if(t){var vt=Element.prototype;bt=vt.matches||vt.matchesSelector||vt.webkitMatchesSelector||vt.mozMatchesSelector||vt.msMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;--n>=0&&e.item(n)!==this;);return n>-1}}var gt=bt;function wt(t,e){return(Element.prototype.closest||function(t){for(var e=this;e;){if(gt.call(e,t))return e;e=e.parentElement}}).call(t,e)}function xt(t,e){return Array.isArray(t)?t[e]:t}function kt(t,e){t.forEach(function(t){t&&t.setAttribute("data-state",e)})}function Et(t,e){t.filter(Boolean).forEach(function(t){t.style[l("transitionDuration")]=e+"ms"})}function Tt(t){var e=window.scrollX||window.pageXOffset,n=window.scrollY||window.pageYOffset;t.focus(),scroll(e,n)}var Ot={},At=function(t){return function(e){return e===Ot&&t}},Ct=function(){function t(e){for(var n in d(this,t),e)this[n]=e[n];this.state={destroyed:!1,visible:!1,enabled:!0},this._=At({mutationObservers:[]})}return u(t,[{key:"enable",value:function(){this.state.enabled=!0}},{key:"disable",value:function(){this.state.enabled=!1}},{key:"show",value:function(t){var e=this;if(!this.state.destroyed&&this.state.enabled){var n=this.popper,i=this.reference,r=this.options,o=m(n),a=o.tooltip,s=o.backdrop,p=o.content;r.dynamicTitle&&!i.getAttribute("data-original-title")||i.hasAttribute("disabled")||(i.refObj||document.documentElement.contains(i)?(r.onShow.call(n,this),t=xt(void 0!==t?t:r.duration,0),Et([n,a,s],0),n.style.visibility="visible",this.state.visible=!0,function(t){var e=this.options;this.popperInstance?(this.popperInstance.scheduleUpdate(),e.livePlacement&&!St.call(this)&&this.popperInstance.enableEventListeners()):(this.popperInstance=Ft.call(this),e.livePlacement||this.popperInstance.disableEventListeners());if(!St.call(this)){var n=m(this.popper),i=n.arrow;i&&(i.style.margin=""),this.popperInstance.reference=this.reference}(function(t,e,n){var i=t.popper,r=t.options,o=r.onCreate,a=r.onUpdate;r.onCreate=r.onUpdate=function(){(function(t){t.offsetHeight})(i),e&&e(),a(),r.onCreate=o,r.onUpdate=a},n||t.scheduleUpdate()})(this.popperInstance,t,!0),e.appendTo.contains(this.popper)||e.appendTo.appendChild(this.popper)}.call(this,function(){if(e.state.visible){if(St.call(e)||e.popperInstance.scheduleUpdate(),St.call(e)){e.popperInstance.disableEventListeners();var o=xt(r.delay,0),c=e._(Ot).lastTriggerEvent;c&&e._(Ot).followCursorListener(o&&e._(Ot).lastMouseMoveEvent?e._(Ot).lastMouseMoveEvent:c)}Et([a,s,s?p:null],t),s&&getComputedStyle(s)[l("transform")],r.interactive&&i.classList.add("tippy-active"),r.sticky&&function(){var t=this;!function e(){t.popperInstance&&t.popperInstance.update(),t.popper.style[l("transitionDuration")]=t.options.updateDuration+"ms",t.state.visible?requestAnimationFrame(e):t.popper.style[l("transitionDuration")]=""}()}.call(e),kt([a,s],"visible"),Rt.call(e,t,function(){r.updateDuration||a.classList.add("tippy-notransition"),r.interactive&&Tt(n),i.setAttribute("aria-describedby","tippy-"+e.id),r.onShown.call(n,e)})}})):this.destroy())}}},{key:"hide",value:function(t){var e=this;if(!this.state.destroyed&&this.state.enabled){var n,i=this.popper,r=this.reference,o=this.options,a=m(i),s=a.tooltip,p=a.backdrop,l=a.content;o.onHide.call(i,this),t=xt(void 0!==t?t:o.duration,1),o.updateDuration||s.classList.remove("tippy-notransition"),o.interactive&&r.classList.remove("tippy-active"),i.style.visibility="hidden",this.state.visible=!1,Et([s,p,p?l:null],t),kt([s,p],"hidden"),o.interactive&&o.trigger.indexOf("click")>-1&&Tt(r),this.popperInstance.disableEventListeners(),n=function(){Rt.call(e,t,function(){!e.state.visible&&o.appendTo.contains(i)&&(e._(Ot).isPreparingToShow||(document.removeEventListener("mousemove",e._(Ot).followCursorListener),e._(Ot).lastMouseMoveEvent=null),r.removeAttribute("aria-describedby"),o.appendTo.removeChild(i),o.onHidden.call(i,e))})},requestAnimationFrame(function(){setTimeout(n,1)})}}},{key:"destroy",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.state.destroyed){this.state.visible&&this.hide(0),this.listeners.forEach(function(e){t.reference.removeEventListener(e.event,e.handler)}),this.title&&this.reference.setAttribute("title",this.title),delete this.reference._tippy;["data-original-title","data-tippy","data-tippy-delegate"].forEach(function(e){t.reference.removeAttribute(e)}),this.options.target&&e&&p(this.reference.querySelectorAll(this.options.target)).forEach(function(t){return t._tippy&&t._tippy.destroy()}),this.popperInstance&&this.popperInstance.destroy(),this._(Ot).mutationObservers.forEach(function(t){t.disconnect()}),this.state.destroyed=!0}}}]),t}();function St(){var t=this._(Ot).lastTriggerEvent;return this.options.followCursor&&!i.usingTouch&&t&&"focus"!==t.type}function Lt(t){var e=this,n=this.options;if(Pt.call(this),!this.state.visible)if(n.target)(function(t){var e=wt(t.target,this.options.target);if(e&&!e._tippy){var n=e.getAttribute("title")||this.title;n&&(e.setAttribute("title",n),Ht(e,f({},this.options,{target:null})),Lt.call(e._tippy,t))}}).call(this,t);else if(this._(Ot).isPreparingToShow=!0,n.wait)n.wait.call(this.popper,this.show.bind(this),t);else{if(St.call(this)){this._(Ot).followCursorListener||function(){var t=this;this._(Ot).followCursorListener=function(e){var n=t._(Ot).lastMouseMoveEvent=e,i=n.clientX,r=n.clientY;t.popperInstance&&(t.popperInstance.reference={getBoundingClientRect:function(){return{width:0,height:0,top:r,left:i,right:i,bottom:r}},clientWidth:0,clientHeight:0},t.popperInstance.scheduleUpdate())}}.call(this);var i=m(this.popper).arrow;i&&(i.style.margin="0"),document.addEventListener("mousemove",this._(Ot).followCursorListener)}var r=xt(n.delay,0);r?this._(Ot).showTimeout=setTimeout(function(){e.show()},r):this.show()}}function Mt(){var t=this;if(Pt.call(this),this.state.visible){this._(Ot).isPreparingToShow=!1;var e=xt(this.options.delay,1);e?this._(Ot).hideTimeout=setTimeout(function(){t.state.visible&&t.hide()},e):this.hide()}}function It(){var t=this;return{onTrigger:function(e){if(t.state.enabled){var n=i.supportsTouch&&i.usingTouch&&["mouseenter","mouseover","focus"].indexOf(e.type)>-1;n&&t.options.touchHold||(t._(Ot).lastTriggerEvent=e,"click"===e.type&&"persistent"!==t.options.hideOnClick&&t.state.visible?Mt.call(t):Lt.call(t,e),n&&i.iOS&&t.reference.click&&t.reference.click())}},onMouseLeave:function(e){if(!(["mouseleave","mouseout"].indexOf(e.type)>-1&&i.supportsTouch&&i.usingTouch&&t.options.touchHold)){if(t.options.interactive){var n=Mt.bind(t);return document.body.addEventListener("mouseleave",n),void document.addEventListener("mousemove",function e(i){var o=wt(i.target,r.REFERENCE),a=wt(i.target,r.POPPER)===t.popper,s=o===t.reference;a||s||function(t,e,n){if(!e.getAttribute("x-placement"))return!0;var i=t.clientX,r=t.clientY,o=n.interactiveBorder,a=n.distance,s=e.getBoundingClientRect(),p=ut(e),l=o+a,c={top:s.top-r>o,bottom:r-s.bottom>o,left:s.left-i>o,right:i-s.right>o};switch(p){case"top":c.top=s.top-r>l;break;case"bottom":c.bottom=r-s.bottom>l;break;case"left":c.left=s.left-i>l;break;case"right":c.right=i-s.right>l}return c.top||c.bottom||c.left||c.right}(i,t.popper,t.options)&&(document.body.removeEventListener("mouseleave",n),document.removeEventListener("mousemove",e),Mt.call(t,e))})}Mt.call(t)}},onBlur:function(e){if(e.target===t.reference&&!i.usingTouch){if(t.options.interactive){if(!e.relatedTarget)return;if(wt(e.relatedTarget,r.POPPER))return}Mt.call(t)}},onDelegateShow:function(e){wt(e.target,t.options.target)&&Lt.call(t,e)},onDelegateHide:function(e){wt(e.target,t.options.target)&&Mt.call(t)}}}function Ft(){var t=this,e=this.popper,n=this.reference,i=this.options,o=m(e).tooltip,a=i.popperOptions,s="round"===i.arrowType?r.ROUND_ARROW:r.ARROW,p=o.querySelector(s),l=f({placement:i.placement},a||{},{modifiers:f({},a?a.modifiers:{},{arrow:f({element:s},a&&a.modifiers?a.modifiers.arrow:{}),flip:f({enabled:i.flip,padding:i.distance+5,behavior:i.flipBehavior},a&&a.modifiers?a.modifiers.flip:{}),offset:f({offset:i.offset},a&&a.modifiers?a.modifiers.offset:{})}),onCreate:function(){o.style[ut(e)]=yt(i.distance),p&&i.arrowTransform&&ht(e,p,i.arrowTransform)},onUpdate:function(){var t=o.style;t.top="",t.bottom="",t.left="",t.right="",t[ut(e)]=yt(i.distance),p&&i.arrowTransform&&ht(e,p,i.arrowTransform)}});return Dt.call(this,{target:e,callback:function(){t.popperInstance.update()},options:{childList:!0,subtree:!0,characterData:!0}}),new dt(n,e,l)}function Pt(){var t=this._(Ot),e=t.showTimeout,n=t.hideTimeout;clearTimeout(e),clearTimeout(n)}function Dt(t){var e=t.target,n=t.callback,i=t.options;if(window.MutationObserver){var r=new MutationObserver(n);r.observe(e,i),this._(Ot).mutationObservers.push(r)}}function Rt(t,e){if(!t)return e();var n=m(this.popper).tooltip,i=function(t,e){e&&n[t+"EventListener"]("ontransitionend"in window?"transitionend":"webkitTransitionEnd",e)},r=function t(r){r.target===n&&(i("remove",t),e())};i("remove",this._(Ot).transitionendListener),i("add",r),this._(Ot).transitionendListener=r}var _t=1;function Nt(t,e){return t.reduce(function(t,r){var o=_t,s=function(t,e){return e.arrow&&(e.animateFill=!1),e.appendTo&&"function"==typeof e.appendTo&&(e.appendTo=e.appendTo()),"function"==typeof e.html&&(e.html=e.html(t)),e}(r,e.performance?e:function(t,e){var n=a.reduce(function(n,i){var r=t.getAttribute("data-tippy-"+i.toLowerCase())||e[i];return"false"===r&&(r=!1),"true"===r&&(r=!0),isFinite(r)&&!isNaN(parseFloat(r))&&(r=parseFloat(r)),"target"!==i&&"string"==typeof r&&"["===r.trim().charAt(0)&&(r=JSON.parse(r)),n[i]=r,n},{});return f({},e,n)}(r,e)),p=r.getAttribute("title");if(!(p||s.target||s.html||s.dynamicTitle))return t;r.setAttribute(s.target?"data-tippy-delegate":"data-tippy",""),h(r);var d=function(t,e,n){var i=c();i.setAttribute("class","tippy-popper"),i.setAttribute("role","tooltip"),i.setAttribute("id","tippy-"+t),i.style.zIndex=n.zIndex,i.style.maxWidth=n.maxWidth;var r=c();r.setAttribute("class","tippy-tooltip"),r.setAttribute("data-size",n.size),r.setAttribute("data-animation",n.animation),r.setAttribute("data-state","hidden"),n.theme.split(" ").forEach(function(t){r.classList.add(t+"-theme")});var o=c();if(o.setAttribute("class","tippy-content"),n.arrow){var a=c();a.style[l("transform")]=n.arrowTransform,"round"===n.arrowType?(a.classList.add("tippy-roundarrow"),a.innerHTML='<svg viewBox="0 0 24 8" xmlns="http://www.w3.org/2000/svg"><path d="M3 8s2.021-.015 5.253-4.218C9.584 2.051 10.797 1.007 12 1c1.203-.007 2.416 1.035 3.761 2.782C19.012 8.005 21 8 21 8H3z"/></svg>'):a.classList.add("tippy-arrow"),r.appendChild(a)}if(n.animateFill){r.setAttribute("data-animatefill","");var s=c();s.classList.add("tippy-backdrop"),s.setAttribute("data-state","hidden"),r.appendChild(s)}n.inertia&&r.setAttribute("data-inertia",""),n.interactive&&r.setAttribute("data-interactive","");var p=n.html;if(p){var d=void 0;p instanceof Element?(o.appendChild(p),d="#"+(p.id||"tippy-html-template")):(o.innerHTML=document.querySelector(p).innerHTML,d=p),i.setAttribute("data-html",""),r.setAttribute("data-template-id",d),n.interactive&&i.setAttribute("tabindex","-1")}else o[n.allowTitleHTML?"innerHTML":"textContent"]=e;return r.appendChild(o),i.appendChild(r),i}(o,p,s),u=new Ct({id:o,reference:r,popper:d,options:s,title:p,popperInstance:null});s.createPopperInstanceOnInit&&(u.popperInstance=Ft.call(u),u.popperInstance.disableEventListeners());var y=It.call(u);return u.listeners=s.trigger.trim().split(" ").reduce(function(t,e){return t.concat(function(t,e,r,o){var a=r.onTrigger,s=r.onMouseLeave,p=r.onBlur,l=r.onDelegateShow,c=r.onDelegateHide,d=[];if("manual"===t)return d;var u=function(t,n){e.addEventListener(t,n),d.push({event:t,handler:n})};return o.target?(i.supportsTouch&&o.touchHold&&(u("touchstart",l),u("touchend",c)),"mouseenter"===t&&(u("mouseover",l),u("mouseout",c)),"focus"===t&&(u("focusin",l),u("focusout",c)),"click"===t&&u("click",l)):(u(t,a),i.supportsTouch&&o.touchHold&&(u("touchstart",a),u("touchend",s)),"mouseenter"===t&&u("mouseleave",s),"focus"===t&&u(n?"focusout":"blur",p)),d}(e,r,y,s))},[]),s.dynamicTitle&&Dt.call(u,{target:r,callback:function(){var t=m(d).content,e=r.getAttribute("title");e&&(t[s.allowTitleHTML?"innerHTML":"textContent"]=u.title=e,h(r))},options:{attributes:!0}}),r._tippy=u,d._tippy=u,d._reference=r,t.push(u),_t++,t},[])}function Yt(t){p(document.querySelectorAll(r.POPPER)).forEach(function(e){var n=e._tippy;if(n){var i=n.options;!(!0===i.hideOnClick||i.trigger.indexOf("focus")>-1)||t&&e===t.popper||n.hide()}})}var Xt=!1;function Ht(t,e,n){var a,l,c,d;i.supported&&!Xt&&(l=function(){i.usingTouch||(i.usingTouch=!0,i.iOS&&document.body.classList.add("tippy-touch"),i.dynamicInputDetection&&window.performance&&document.addEventListener("mousemove",c),i.onUserInputChange("touch"))},a=void 0,c=function(){var t=performance.now();t-a<20&&(i.usingTouch=!1,document.removeEventListener("mousemove",c),i.iOS||document.body.classList.remove("tippy-touch"),i.onUserInputChange("mouse")),a=t},document.addEventListener("click",function(t){if(!(t.target instanceof Element))return Yt();var e=wt(t.target,r.REFERENCE),n=wt(t.target,r.POPPER);if(!(n&&n._tippy&&n._tippy.options.interactive)){if(e&&e._tippy){var o=e._tippy.options,a=o.trigger.indexOf("click")>-1,s=o.multiple;if(!s&&i.usingTouch||!s&&a)return Yt(e._tippy);if(!0!==o.hideOnClick||a)return}Yt()}}),document.addEventListener("touchstart",l),window.addEventListener("blur",function(){var t=document.activeElement;t&&t.blur&&gt.call(t,r.REFERENCE)&&t.blur()}),window.addEventListener("resize",function(){p(document.querySelectorAll(r.POPPER)).forEach(function(t){var e=t._tippy;e&&!e.options.livePlacement&&e.popperInstance.scheduleUpdate()})}),i.supportsTouch||!navigator.maxTouchPoints&&!navigator.msMaxTouchPoints||document.addEventListener("pointerdown",l),Xt=!0),s(t)&&((d=t).refObj=!0,d.attributes=d.attributes||{},d.setAttribute=function(t,e){d.attributes[t]=e},d.getAttribute=function(t){return d.attributes[t]},d.removeAttribute=function(t){delete d.attributes[t]},d.hasAttribute=function(t){return t in d.attributes},d.addEventListener=function(){},d.removeEventListener=function(){},d.classList={classNames:{},add:function(t){return d.classList.classNames[t]=!0},remove:function(t){return delete d.classList.classNames[t],!0},contains:function(t){return t in d.classList.classNames}}),e=f({},o,e);var u=function(t){if(t instanceof Element||s(t))return[t];if(t instanceof NodeList)return p(t);if(Array.isArray(t))return t;try{return p(document.querySelectorAll(t))}catch(t){return[]}}(t),m=u[0];return{selector:t,options:e,tooltips:i.supported?Nt(n&&m?[m]:u,e):[],destroyAll:function(){this.tooltips.forEach(function(t){return t.destroy()}),this.tooltips=[]}}}return Ht.version="2.5.2",Ht.browser=i,Ht.defaults=o,Ht.one=function(t,e){return Ht(t,e,!0).tooltips[0]},Ht.disableAnimations=function(){o.updateDuration=o.duration=0,o.animateFill=!1},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t&&i.supported){var n=document.head||document.querySelector("head"),r=document.createElement("style");r.type="text/css",n.insertBefore(r,n.firstChild),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}('.tippy-touch{cursor:pointer!important}.tippy-notransition{transition:none!important}.tippy-popper{max-width:350px;-webkit-perspective:700px;perspective:700px;z-index:9999;outline:0;transition-timing-function:cubic-bezier(.165,.84,.44,1);pointer-events:none;line-height:1.4}.tippy-popper[data-html]{max-width:96%;max-width:calc(100% - 20px)}.tippy-popper[x-placement^=top] .tippy-backdrop{border-radius:40% 40% 0 0}.tippy-popper[x-placement^=top] .tippy-roundarrow{bottom:-8px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.tippy-popper[x-placement^=top] .tippy-arrow{border-top:7px solid #333;border-right:7px solid transparent;border-left:7px solid transparent;bottom:-7px;margin:0 6px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-backdrop{-webkit-transform-origin:0 90%;transform-origin:0 90%}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(6) translate(-50%,25%);transform:scale(6) translate(-50%,25%);opacity:1}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1) translate(-50%,25%);transform:scale(1) translate(-50%,25%);opacity:0}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(-20px);transform:translateY(-20px)}.tippy-popper[x-placement^=top] [data-animation=perspective]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px) rotateX(0);transform:translateY(-10px) rotateX(0)}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) rotateX(90deg);transform:translateY(0) rotateX(90deg)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px) scale(1);transform:translateY(-10px) scale(1)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) scale(0);transform:translateY(0) scale(0)}.tippy-popper[x-placement^=bottom] .tippy-backdrop{border-radius:0 0 30% 30%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow{top:-8px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(0);transform:rotate(0)}.tippy-popper[x-placement^=bottom] .tippy-arrow{border-bottom:7px solid #333;border-right:7px solid transparent;border-left:7px solid transparent;top:-7px;margin:0 6px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-backdrop{-webkit-transform-origin:0 -90%;transform-origin:0 -90%}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(6) translate(-50%,-125%);transform:scale(6) translate(-50%,-125%);opacity:1}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1) translate(-50%,-125%);transform:scale(1) translate(-50%,-125%);opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateY(10px) rotateX(0);transform:translateY(10px) rotateX(0)}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) rotateX(-90deg);transform:translateY(0) rotateX(-90deg)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateY(10px) scale(1);transform:translateY(10px) scale(1)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) scale(0);transform:translateY(0) scale(0)}.tippy-popper[x-placement^=left] .tippy-backdrop{border-radius:50% 0 0 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow{right:-16px;-webkit-transform-origin:33.33333333% 50%;transform-origin:33.33333333% 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.tippy-popper[x-placement^=left] .tippy-arrow{border-left:7px solid #333;border-top:7px solid transparent;border-bottom:7px solid transparent;right:-7px;margin:3px 0;-webkit-transform-origin:0 50%;transform-origin:0 50%}.tippy-popper[x-placement^=left] .tippy-backdrop{-webkit-transform-origin:100% 0;transform-origin:100% 0}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(6) translate(40%,-50%);transform:scale(6) translate(40%,-50%);opacity:1}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1.5) translate(40%,-50%);transform:scale(1.5) translate(40%,-50%);opacity:0}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(-20px);transform:translateX(-20px)}.tippy-popper[x-placement^=left] [data-animation=perspective]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px) rotateY(0);transform:translateX(-10px) rotateY(0)}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) rotateY(-90deg);transform:translateX(0) rotateY(-90deg)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px) scale(1);transform:translateX(-10px) scale(1)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) scale(0);transform:translateX(0) scale(0)}.tippy-popper[x-placement^=right] .tippy-backdrop{border-radius:0 50% 50% 0}.tippy-popper[x-placement^=right] .tippy-roundarrow{left:-16px;-webkit-transform-origin:66.66666666% 50%;transform-origin:66.66666666% 50%}.tippy-popper[x-placement^=right] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.tippy-popper[x-placement^=right] .tippy-arrow{border-right:7px solid #333;border-top:7px solid transparent;border-bottom:7px solid transparent;left:-7px;margin:3px 0;-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.tippy-popper[x-placement^=right] .tippy-backdrop{-webkit-transform-origin:-100% 0;transform-origin:-100% 0}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(6) translate(-140%,-50%);transform:scale(6) translate(-140%,-50%);opacity:1}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1.5) translate(-140%,-50%);transform:scale(1.5) translate(-140%,-50%);opacity:0}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(20px);transform:translateX(20px)}.tippy-popper[x-placement^=right] [data-animation=perspective]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateX(10px) rotateY(0);transform:translateX(10px) rotateY(0)}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) rotateY(90deg);transform:translateX(0) rotateY(90deg)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateX(10px) scale(1);transform:translateX(10px) scale(1)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) scale(0);transform:translateX(0) scale(0)}.tippy-tooltip{position:relative;color:#fff;border-radius:4px;font-size:.9rem;padding:.3rem .6rem;text-align:center;will-change:transform;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:#333}.tippy-tooltip[data-size=small]{padding:.2rem .4rem;font-size:.75rem}.tippy-tooltip[data-size=large]{padding:.4rem .8rem;font-size:1rem}.tippy-tooltip[data-animatefill]{overflow:hidden;background-color:transparent}.tippy-tooltip[data-animatefill] .tippy-content{transition:-webkit-clip-path cubic-bezier(.46,.1,.52,.98);transition:clip-path cubic-bezier(.46,.1,.52,.98);transition:clip-path cubic-bezier(.46,.1,.52,.98),-webkit-clip-path cubic-bezier(.46,.1,.52,.98)}.tippy-tooltip[data-interactive],.tippy-tooltip[data-interactive] path{pointer-events:auto}.tippy-tooltip[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.53,2,.36,.85)}.tippy-tooltip[data-inertia][data-state=hidden]{transition-timing-function:ease}.tippy-arrow,.tippy-roundarrow{position:absolute;width:0;height:0}.tippy-roundarrow{width:24px;height:8px;fill:#333;pointer-events:none}.tippy-backdrop{position:absolute;will-change:transform;background-color:#333;border-radius:50%;width:26%;left:50%;top:50%;z-index:-1;transition:all cubic-bezier(.46,.1,.52,.98);-webkit-backface-visibility:hidden;backface-visibility:hidden}.tippy-backdrop:after{content:"";float:left;padding-top:100%}body:not(.tippy-touch) .tippy-tooltip[data-animatefill][data-state=visible] .tippy-content{-webkit-clip-path:ellipse(100% 100% at 50% 50%);clip-path:ellipse(100% 100% at 50% 50%)}body:not(.tippy-touch) .tippy-tooltip[data-animatefill][data-state=hidden] .tippy-content{-webkit-clip-path:ellipse(5% 50% at 50% 50%);clip-path:ellipse(5% 50% at 50% 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=right] .tippy-tooltip[data-animatefill][data-state=visible] .tippy-content{-webkit-clip-path:ellipse(135% 100% at 0 50%);clip-path:ellipse(135% 100% at 0 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=right] .tippy-tooltip[data-animatefill][data-state=hidden] .tippy-content{-webkit-clip-path:ellipse(40% 100% at 0 50%);clip-path:ellipse(40% 100% at 0 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=left] .tippy-tooltip[data-animatefill][data-state=visible] .tippy-content{-webkit-clip-path:ellipse(135% 100% at 100% 50%);clip-path:ellipse(135% 100% at 100% 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=left] .tippy-tooltip[data-animatefill][data-state=hidden] .tippy-content{-webkit-clip-path:ellipse(40% 100% at 100% 50%);clip-path:ellipse(40% 100% at 100% 50%)}@media (max-width:360px){.tippy-popper{max-width:96%;max-width:calc(100% - 20px)}}'),Ht},t.exports=n()}).call(this,n(8))},function(t,e){t.exports=[{topic:"Air quality",key:"FUGV49UB",title:"Explore how oil and gas development can affect local and regional air quality"},{topic:"Climate change",key:"CMPFGPRK",title:"Examine the implications of increased oil and gas development for climate change"},{topic:"Community impacts",key:"V538Y7T9",title:"undefined"},{topic:"Community-industry interaction",key:"F8Q5D6RS",title:"Understand how communities and oil and gas companies interact on a variety of issues"},{topic:"Cumulative impacts",key:"missing1",title:"Explore studies that aggregate multiple effects of oil and gas development"},{topic:"Economics of shale development",key:"42H54TQS",title:"Examine the costs, innovations, and trends that shape the economics of shale development"},{topic:"Ecosystems, habitats, species",key:"M43C6MTF",title:"Understand how oil and gas development can affect local and regional ecosystems, habitats, and species"},{topic:"Environmental justice",key:"X5ZEDSMQ",title:"Does oil and gas development have a disproportionate impact on low-income or minority communities?"},{topic:"Federal regulation",key:"SFLUS5I4",title:"How does the federal government regulate the oil and gas industry?"},{topic:"Groundwater",key:"Q7MVJ2ED",title:"Understand the potential impacts of oil and gas development on groundwater resources"},{topic:"Human health",key:"5W2ZJTJC",title:"Explore the potential impacts of oil and gas development on human health"},{topic:"Local governments",key:"EXLS3NV4",title:"Understand how oil and gas development affects local governments"},{topic:"National (US)/sectoral economy",key:"4NPI3GYM",title:"Examine the economic impacts of oil and gas development for the U.S. and major economic sectors"},{topic:"Occupational hazards",key:"missing2",title:"What are the risks of working in oil and gas production?"},{topic:"Property values",key:"NXSYV4IM",title:"How does oil and gas development affect nearby property values?"},{topic:"Public opinion",key:"YJDYU9VM",title:"How does the public view the effects of oil and gas development?"},{topic:"Quality of life/Community impacts",key:"XN7GXNFQ",title:"Examine community impacts such as housing affordability, crime, education, truck traffic, noise, and more"},{topic:"Seismicity",key:"FWMYGUWI",title:"Explore the connection between oil and gas development and earthquakes"},{topic:"State government",key:"APRI3VMZ",title:"Understand how state governments are affected by, and how they affect, oil and gas development"},{topic:"State regulation",key:"9IL3TCKF",title:"How do state governments regulate the oil and gas industry?"},{topic:"Subnational economies",key:"X9DSTIGE",title:"Examine how oil and gas development affects local, state, and regional economies"},{topic:"Surface water",key:"QCW37PP2",title:"Examine the impacts of oil and gas development on the quantity and quality of surface water resources"}]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.StringHelpers=(String.prototype.cleanString=function(){return this.replace(/[ /]/g,"-").replace(/['"”’“‘,.!?;()&]/g,"").toLowerCase()},String.prototype.removeUnderscores=function(){return this.replace(/_/g," ")},String.prototype.undoCamelCase=function(){return this.replace(/([A-Z])/g," $1").toLowerCase()},void(String.prototype.trunc=String.prototype.trunc||function(t,e){if(this.length<=t)return this;var n=this.substr(0,t-1);return(e?n.substr(0,n.lastIndexOf(" ")):n)+"..."}))},,function(t,e,n){},function(t,e,n){"use strict";n(13),n(11);var i,r,o,a,s=u(n(10)),p=u(n(9)),l=n(7),c=n(4),d=u(n(1));function u(t){return t&&t.__esModule?t:{default:t}}function f(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}i="2127948",r={gateCheck:0,searchType:"fields",init:function(t){d.default.init(),window.RFFApp.model.topicButtonPromise=new Promise(function(t){window.RFFApp.model.resolveTopicButtons=t}),this.getZoteroCollections(t),this.getZoteroItems(t),this.setupSearch(),console.log(s.default)},setupSearch:function(){document.getElementById("collection-search").onsubmit=function(t){t.preventDefault(),a.loading(!0);var e=this.querySelector("input").value,n="https://api.zotero.org/groups/"+i+"/items?q="+e+"&format=keys";new Promise(function(t,e){d3.text(n,function(n,i){if(n)throw e(n),n;t(i.split(/\n/))})}).then(function(t){console.log(t),""!==t[0]&&(r.getSearchItems(t),a.loading(!1))})}},getSearchItems:function(t){var e=o.zoteroItems.filter(function(e){return-1!==t.indexOf(e.key)});console.log(e),c.filterResults.call(a,e,r)},childrenify:function(t){return console.log(t),t.forEach(function(e){if(!1!==e.data.parentCollection&&e.meta.numItems>0){var n=t.find(function(t){return t.key===e.data.parentCollection});void 0!==n&&(n.children=n.children||[],n.children.push(e))}}),t},returnKeyValues:function(t,e){return t.slice(1).map(function(n){return n.reduce(function(n,i,r){return n[t[0][r]]=!0===e?isNaN(+i)||""===i?i:+i:i,n},{})})},nestPrelim:function(t){return t.reduce(function(t,e){if("string"!=typeof e&&"function"!=typeof e)throw"each nestBy item must be a string or function";var n;return"string"==typeof e&&(n=t.key(function(t){return t[e]})),"function"==typeof e&&(n=t.key(function(t){return e(t)})),n},d3.nest())},recursiveNest:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"series";if("string"==typeof e||"function"==typeof e)this.nestByArray=[e];else{if(!Array.isArray(e))throw"nestBy variable must be a string, function, or array of strings or functions";this.nestByArray=e}var i=this.nestPrelim(this.nestByArray);return"object"===n?i.object(t):i.entries(t)},getZoteroCollections:function(t){var e=this;t?d3.json("data/zoteroCollections-7-16-18.json",function(t,n){if(t)throw t;o.collections=e.childrenify(n),console.log("increment gateCheck from get collections"),e.gateCheck++,a.init()}):new Promise(function(t,n){d3.json("https://api.zotero.org/groups/"+i+"/collections?limit=100",function(i,r){if(i)throw n(i),i;console.log(JSON.stringify(r)),o.collections=e.childrenify(r),t(o.collections)})}).then(function(t){console.log(t),console.log("increment gateCheck from get collections"),e.gateCheck++,a.init()})},getZoteroItems:function(t){var e=this;if(t)d3.json("data/zoteroItems-7-16-18.json",function(t,n){if(t)throw t;o.zoteroItems=n,e.parseZoteroItemDates(),console.log("increment gateCheck from get items"),e.gateCheck++,a.init()});else{for(var n=[],r=[],s=0;s<9;s++)n.push(p(s));Promise.race(n).then(function(t){if(console.log(t),t.total>9){for(var i=9;i<Math.ceil(t.total/100);i++)r.push(p(i));Promise.all([].concat(n,r)).then(function(t){window.dateStrings=[],console.log(t),t.forEach(function(t){var e;(e=o.zoteroItems).push.apply(e,f(t.data))}),console.log(JSON.stringify(o.zoteroItems)),e.parseZoteroItemDates(),e.gateCheck++,a.init()})}else Promise.all(n).then(function(t){console.log(t),t.forEach(function(t){var e;(e=o.zoteroItems).push.apply(e,f(t.data))}),e.parseZoteroItemDates(),e.gateCeck++,a.init()})})}function p(t){return new Promise(function(e,n){d3.request("https://api.zotero.org/groups/"+i+"/items/top?include=data,bib&limit=100&start="+100*t,function(t,i){if(t)throw n(t),t;console.log(+i.getResponseHeader("last-modified-version")),e({total:+i.getResponseHeader("Total-Results"),data:JSON.parse(i.responseText)})})})}},parseZoteroItemDates:function(){var t=this;o.zoteroItems.forEach(function(e){var n=t.getDatesFromString(e.data.date);e.data.dateString=n.display,e.data.dateValue=n.value}),o.zoteroItems.sort(function(t,e){return d3.descending(t.data.dateValue,e.data.dateValue)})},getCollectionItems:function(t){console.log(t);var e=o.collections.find(function(e){return e.key===t});console.log(e);var n=o.zoteroItems.filter(function(e){return-1!==e.data.collections.indexOf(t)});console.log(n);var i=[];e.children&&e.children.forEach(function(t){var e=o.zoteroItems.filter(function(e){return-1!==e.data.collections.indexOf(t.key)});e.forEach(function(e){e.synthesisType=t.data.name}),i.push.apply(i,f(e))}),c.createResultsContainer.call(a),c.filterResults.call(a,n,r),a.filterSynthesisResults(i)},getDatesFromString:function(t){var e=new Date(1776,3,4),n="",i={forthcoming:/forthcoming/,yyyy:/^(\d{4})$/,yyyymmdd:/(\d{4})[-/](\d{1,2})[-/](\d{1,2})/,monthddyyyy:/^(\w+)\.* *(\d{1,2}), *(\d{4})/,monthyyyy:/^(\w+)\.* (\d{4})/,yyyymm:/^(\d{4})[-/](\d{1,2})$/,mmddyyyy:/^(\d{1,2})[-/](\d{1,2})[-/](\d{4})/,yyyyyyyy:/^(\d{4})[-–—]\d{4}/,yyyymonthdd:/^(\d{4}) *(\w+)\.* *(\d{1,2})/};function r(t){return void 0!==o[t]&&isNaN(o[t])?o[t]:t}var o={0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December",January:0,February:1,March:2,April:3,May:4,June:5,July:6,August:7,September:8,October:9,November:10,December:11,Winter:11,Spring:2,Summer:5,Fall:8,Autumn:8,Jan:"January",Feb:"February",Mar:"March",Apr:"April",Jun:"June",Jul:"July",Aug:"August",Sep:"September",Sept:"September",Oct:"October",Nov:"Novemeber",Dec:"December"};for(var a in i)if(i.hasOwnProperty(a)&&void 0!==t){var s=t.match(i[a]);if(null!==s)switch(a){case"yyyy":n=t,e=new Date(+s[1],0,1);break;case"yyyymmdd":n=o[(+s[2]-1).toString()]+" "+ +s[3]+", "+s[1],e=new Date(+s[1],+s[2]-1,+s[3]);break;case"monthddyyyy":n=r(s[1])+" "+ +s[2]+", "+s[3],e=new Date(+s[3],o[r(s[1])],+s[2]);break;case"monthyyyy":n=r(s[1])+" "+s[2],e=new Date(+s[2],o[r(s[1])],1);break;case"yyyymm":n=o[+s[2]-1]+" "+s[1],e=new Date(+s[1],+s[2]-1,1);break;case"mmddyyyy":n=o[+s[1]-1]+" "+ +s[2]+", "+s[3],e=new Date(+s[3],+s[1]-1,+s[2]);break;case"yyyyyyyy":n=t.replace("-","—").replace("-","–"),e=new Date(+s[1],0,1);break;case"yyyymonthdd":n=r(s[2])+" "+ +s[3]+", "+s[1],e=new Date(+s[1],o[r(s[2])],+s[3]);break;case"forthcoming":n="forthcoming",e=new Date}}return{value:e,display:n}},biblioTooltips:function(){(0,p.default)(".tippy-clipboard",{arrow:!0,theme:"RFF",trigger:"manual"}),(0,p.default)(".copy-bib",{arrow:!0,hideOnClick:!1,interactive:!0,theme:"RFF"})},copyBibText:function(){var t=this;this.parentNode.querySelector(".bib-container").select();try{var e=document.execCommand("copy"),n=e?"successful":"unsuccessful";console.log("Copying text command was "+n),e&&(this.parentNode._tippy.show(),setTimeout(function(){t.parentNode._tippy.hide()},1e3))}catch(t){console.log("Oops, unable to copy")}}},o={zoteroItems:[]},a={init:function(){if(console.log(r.gateCheck),!(r.gateCheck<2)){console.log("READY!"),console.log(o.zoteroItems),this.renderTopicButtons(),this.attachTooltips(),console.log(o.collections);var t=document.querySelector(".browse-buttons div.active").dataset.collection;r.getCollectionItems(t),this.setupSidebar(),this.loading(!1)}},attachTooltips:function(){document.querySelectorAll(".browse-buttons > div").forEach(function(t){var e=s.default.find(function(e){return e.key===t.dataset.collection});void 0!==e&&(t.setAttribute("title",e.title),p.default.one(t,{theme:"RFF",arrow:!0}))})},setupSidebar:function(){var t=d3.max(o.zoteroItems,function(t){return new Date(t.data.dateModified)}),e=d3.max(o.zoteroItems,function(t){return t.data.version});document.querySelector("#sidebar").innerHTML="\n            <h2>Library info</h2>\n            <p>Date last modified: "+t.getDate()+" "+{0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"}[t.getMonth()]+" "+t.getFullYear()+"<br />(Version "+e+")</p>\n            ",this.makePieChart(),this.sibebarDocumentation(),this.sidebarContact()},sibebarDocumentation:function(){var t=document.createElement("div");t.className="documentation",t.innerHTML='\n            <h3>Documentation</h3>\n            <p><a href="#">SHARC Frequently Asked Questions</a> (PDF)</p>\n            <p><a href="#">How SHARC Is Built</a> (PDF)</p>\n            ',document.querySelector("#sidebar").append(t)},sidebarContact:function(){var t=document.createElement("div");t.className="contact-us",t.innerHTML='\n            <h3>Questions? Get in touch</h3>\n              <form>\x3c!--<form method="POST" action="http://formspree.io/XXXXXXX" _lpchecked="1">--\x3e\n              <input type="email" name="email" placeholder="Your email">\n              <textarea name="message" placeholder="Your message"></textarea>\n                <input type="text" name="_gotcha" style="display:none">\n                <input type="hidden" name="_next" value="/projects/?thanks">\n              <button type="submit">Send</button>\n            </form>\n          ',document.querySelector("#sidebar").append(t)},makePieChart:function(){var t=d3.select("#sidebar").append("svg").attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").attr("version","1.1").attr("viewBox","0 0 100 62").attr("focusable",!1).attr("aria-labelledby","svgTitle svgDesc").attr("role","graphics-dataunit").attr("class","pubtype-pie");t.append("title").attr("id","svgTitle").text("Pie chart of publication types"),t.append("desc").attr("id","svgDesc").text("Pie chart of publication types");var e=t.append("g").attr("transform","translate(30,30)"),n=d3.nest().key(function(t){return t.data.itemType}).rollup(function(t){return t.length}).entries(o.zoteroItems.filter(function(t){return"attachment"!==t.data.itemType})).sort(function(t,e){return d3.descending(t.value,e.value)}),i=n.reduce(function(t,e){return t+e.value},0),r=[];n.forEach(function(t,e){if(e<4)r.push({name:t.key,value:t.value});else if(4===e){var i=n.slice(e).reduce(function(t,e){return t+e.value},0);r.push({name:"other",value:i})}}),console.log(r);var a=d3.pie().sort(null).value(function(t){return t.value}),s=d3.arc().outerRadius(30).innerRadius(20),p=d3.arc().outerRadius(25.5).innerRadius(25.5),l=e.selectAll(".arc").data(a(r)).enter().append("g").attr("class",function(t){return console.log(t),"arc "+t.data.name});l.append("path").attr("d",s),l.append("text").attr("transform",function(t){return"translate("+p.centroid(t)+")"}).attr("dy","0.35em").attr("text-anchor","middle").attr("font-size",4).attr("fill",function(t){return"journalArticle"===t.data.name||"book"===t.data.name||"report"===t.data.name?"#ffffff":"#000000"}).text(function(t){return t.data.value});var c={journalArticle:"journal articles",report:"reports",webpage:"webpages",book:"books",other:"other"},d=t.append("g").attr("class","legend").attr("transform","translate(65,2)").selectAll(".legend-item").data(a(r)).enter().append("g").attr("class",function(t){return"legend-item "+t.data.name}).attr("transform",function(t,e){return"translate(0,"+7*e+")"});d.append("rect").attr("width",5).attr("height",5),d.append("text").attr("transform","translate(7,4)").attr("font-size",4).text(function(t){return c[t.data.name]}),t.append("text").attr("transform","translate(30,30)").text(i).attr("font-size",10).attr("text-anchor","middle")},loading:function(t){t?document.querySelector("body").classList.add("loading"):document.querySelector("body").classList.remove("loading")},renderTopicButtons:function(){var t=document.getElementById("browse-buttons-container"),e=o.collections.filter(function(t){return!1===t.data.parentCollection}).sort(function(t,e){return d3.ascending(t.data.name,e.data.name)});console.log(e),e.filter(function(t){return void 0!==t.children}).forEach(function(e,n){t.appendChild((0,l.createBrowseCategory)(e,n,!0))}),e.filter(function(t){return void 0===t.children}).forEach(function(e,n){t.appendChild((0,l.createBrowseCategory)(e,n,!1))}),window.RFFApp.model.resolveTopicButtons(!0),this.renderShowAllButton()},renderShowAllButton:function(){d3.select(".browse-buttons.uncategorized").append("div").classed("button button--tertiary show-all",!0).on("click",function(){d3.selectAll(".browse-buttons .button").classed("active",!1),d3.select(this).classed("active",!0),c.filterResults.call(a,void 0,r),a.filterSynthesisResults.call(a,[])}).append("span").text("Show all"),(0,l.createTopicKey)()},filterSynthesisResults:function(t){console.log(t);var e=d3.select(".synthesis-results ul").selectAll(".list-item").data(t,function(t){return t.data.key});console.log(e),e.exit().classed("entered",!1).classed("exiting",!0).transition(1500).remove();var n=e.enter().append("li").attr("id",function(t){return t.key}).attr("class",function(t,e){return(t.synthesisType.cleanString()||t.data.itemType)+" index-"+e+("RFF"===t.data.institution||"Resources for the Future"===t.data.institution?" RFF":"")}).classed("RFF",!0).classed("entering",!0).classed("list-item",!0).html(function(t){return(0,c.createResultItem)(t)}).on("click",function(){window.open("./pdf/"+this.id+".pdf","_blank")});setTimeout(function(){n.classed("entering",!1)}),this.synthesisItems=n.merge(e)}},window.RFFApp={controller:r,model:o},r.init(!0)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL3N3LmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9zZXJ2aWNlLXdvcmtlci1oYW5kbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1Jlc3VsdEl0ZW1zLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0Jyb3dzZUJ1dHRvbnMuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlwcHkuanMvZGlzdC90aXBweS5hbGwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGEvdG9vbHRpcHMuY3N2Iiwid2VicGFjazovLy8uL2hlbHBlcnMvc3RyaW5nLWhlbHBlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsInZhbHVlIiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfc3ciLCJjb25zb2xlIiwibG9nIiwiX3N3MiIsImRlZmF1bHQiLCJTZXJ2aWNlV29ya2VySGFuZGxlciIsImluaXQiLCJuYXZpZ2F0b3IiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwic2VydmljZVdvcmtlciIsInJlZ2lzdGVyIiwidGhlbiIsInJlZ2lzdHJhdGlvbiIsInNjb3BlIiwiZXJyIiwiX3Jlc3VsdHNJdGVtcyIsIl9yZXN1bHRzSXRlbXMyIiwiY3JlYXRlUmVzdWx0c0NvbnRhaW5lciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJpbm5lckhUTUwiLCJodG1sIiwidGhpcyIsInJlc3VsdHMiLCJxdWVyeVNlbGVjdG9yIiwiY3JlYXRlUmVzdWx0SXRlbSIsImF1dGhvclN0ciIsImF1dGhvcnMiLCJ1bmRlZmluZWQiLCJkYXRhIiwiY3JlYXRvcnMiLCJtYXAiLCJlYWNoIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJqb2luIiwibGVuZ3RoIiwicmVwbGFjZSIsImxhc3RJbmRleE9mIiwic3Vic3RyIiwicHViVVJMIiwidGl0bGVJbm5lckhUTUwiLCJwdWJsaXNoZXIiLCJqb3VybmFsQWJicmV2aWF0aW9uIiwicHVibGljYXRpb25UaXRsZSIsImluc3RpdHV0aW9uIiwid2Vic2l0ZVRpdGxlIiwibGlua3NEaXYiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwic2V0QXR0cmlidXRlIiwidXJsIiwibGluayIsImFwcGVuZENoaWxkIiwiYmliIiwicGxhY2Vob2xkZXIiLCJ0ZXh0T25seSIsImJpYkNvbnRhaW5lciIsInRpdGxlIiwic3ludGhlc2lzVHlwZSIsIml0ZW1UeXBlIiwidW5kb0NhbWVsQ2FzZSIsInRydW5jIiwiZGF0ZVN0cmluZyIsIm91dGVySFRNTCIsImZpbHRlclJlc3VsdHMiLCJtYXRjaGVzIiwiY29udHJvbGxlciIsImZpbHRlcmVkRGF0YSIsIlJGRkFwcCIsIm1vZGVsIiwiem90ZXJvSXRlbXMiLCJpdGVtcyIsImQzIiwic2VsZWN0Iiwic2VsZWN0QWxsIiwia2V5IiwiZXhpdCIsImNsYXNzZWQiLCJ0cmFuc2l0aW9uIiwicmVtb3ZlIiwiZW50ZXJpbmciLCJlbnRlciIsImFwcGVuZCIsImF0dHIiLCJzZXRUaW1lb3V0IiwibWVyZ2UiLCJvbiIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJjb3B5QmliVGV4dCIsImJpYmxpb1Rvb2x0aXBzIiwiX2Jyb3dzZUJ1dHRvbnMiLCJfYnJvd3NlQnV0dG9uczIiLCJjcmVhdGVCcm93c2VDYXRlZ29yeSIsImNhdGVnb3J5IiwiaW5kZXgiLCJpc0NhdGVnb3JpemVkIiwiY29udGFpbmVyIiwiY2F0ZWdvcnlEaXYiLCJjaGlsZHJlbiIsInNvcnQiLCJhIiwiYiIsImFzY2VuZGluZyIsImZvckVhY2giLCJjcmVhdGVCcm93c2VCdXR0b24iLCJpbmRleE9mIiwiY29sbGVjdGlvbiIsImNoaWxkcmVuQ2xhc3NlcyIsImNsZWFuU3RyaW5nIiwicGFyZW50IiwicmVkdWNlIiwiYWNjIiwiY3VyIiwiYnJvd3NlQnV0dG9uIiwib25jbGljayIsImdldENvbGxlY3Rpb25JdGVtcyIsImNyZWF0ZVRvcGljS2V5IiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiZyIsIkZ1bmN0aW9uIiwiZXZhbCIsImUiLCJnbG9iYWwiLCJmYWN0b3J5IiwiaXNCcm93c2VyIiwiaXNJRSIsInRlc3QiLCJ1c2VyQWdlbnQiLCJicm93c2VyIiwic3VwcG9ydGVkIiwic3VwcG9ydHNUb3VjaCIsInVzaW5nVG91Y2giLCJkeW5hbWljSW5wdXREZXRlY3Rpb24iLCJpT1MiLCJwbGF0Zm9ybSIsIk1TU3RyZWFtIiwib25Vc2VySW5wdXRDaGFuZ2UiLCJzZWxlY3RvcnMiLCJQT1BQRVIiLCJUT09MVElQIiwiQ09OVEVOVCIsIkJBQ0tEUk9QIiwiQVJST1ciLCJST1VORF9BUlJPVyIsIlJFRkVSRU5DRSIsImRlZmF1bHRzIiwicGxhY2VtZW50IiwibGl2ZVBsYWNlbWVudCIsInRyaWdnZXIiLCJhbmltYXRpb24iLCJhbmltYXRlRmlsbCIsImFycm93IiwiZGVsYXkiLCJkdXJhdGlvbiIsImludGVyYWN0aXZlIiwiaW50ZXJhY3RpdmVCb3JkZXIiLCJ0aGVtZSIsInNpemUiLCJkaXN0YW5jZSIsIm9mZnNldCIsImhpZGVPbkNsaWNrIiwibXVsdGlwbGUiLCJmb2xsb3dDdXJzb3IiLCJpbmVydGlhIiwidXBkYXRlRHVyYXRpb24iLCJzdGlja3kiLCJhcHBlbmRUbyIsImJvZHkiLCJ6SW5kZXgiLCJ0b3VjaEhvbGQiLCJwZXJmb3JtYW5jZSIsImR5bmFtaWNUaXRsZSIsImZsaXAiLCJmbGlwQmVoYXZpb3IiLCJhcnJvd1R5cGUiLCJhcnJvd1RyYW5zZm9ybSIsIm1heFdpZHRoIiwidGFyZ2V0IiwiYWxsb3dUaXRsZUhUTUwiLCJwb3BwZXJPcHRpb25zIiwiY3JlYXRlUG9wcGVySW5zdGFuY2VPbkluaXQiLCJvblNob3ciLCJvblNob3duIiwib25IaWRlIiwib25IaWRkZW4iLCJkZWZhdWx0c0tleXMiLCJrZXlzIiwiaXNPYmplY3RMaXRlcmFsIiwidG9TdHJpbmciLCJ0b0FycmF5Iiwic2xpY2UiLCJwcmVmaXgiLCJwcmVmaXhlcyIsInVwcGVyUHJvcCIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwiX3ByZWZpeCIsInByZWZpeGVkUHJvcCIsInN0eWxlIiwiZGl2IiwiY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwicHJvcHMiLCJkZXNjcmlwdG9yIiwid3JpdGFibGUiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJfZXh0ZW5kcyIsImFzc2lnbiIsImFyZ3VtZW50cyIsInNvdXJjZSIsImdldElubmVyRWxlbWVudHMiLCJwb3BwZXIiLCJ0b29sdGlwIiwiYmFja2Ryb3AiLCJjb250ZW50IiwicmVtb3ZlVGl0bGUiLCJlbCIsImdldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsImlzQnJvd3NlciQxIiwibG9uZ2VyVGltZW91dEJyb3dzZXJzIiwidGltZW91dER1cmF0aW9uIiwiZGVib3VuY2UiLCJQcm9taXNlIiwiZm4iLCJjYWxsZWQiLCJyZXNvbHZlIiwic2NoZWR1bGVkIiwiaXNGdW5jdGlvbiIsImZ1bmN0aW9uVG9DaGVjayIsImdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eSIsImVsZW1lbnQiLCJub2RlVHlwZSIsImNzcyIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQYXJlbnROb2RlIiwibm9kZU5hbWUiLCJwYXJlbnROb2RlIiwiaG9zdCIsImdldFNjcm9sbFBhcmVudCIsIm93bmVyRG9jdW1lbnQiLCJfZ2V0U3R5bGVDb21wdXRlZFByb3AiLCJvdmVyZmxvdyIsIm92ZXJmbG93WCIsIm92ZXJmbG93WSIsImlzSUUxMSIsIk1TSW5wdXRNZXRob2RDb250ZXh0IiwiZG9jdW1lbnRNb2RlIiwiaXNJRTEwIiwiaXNJRSQxIiwidmVyc2lvbiIsImdldE9mZnNldFBhcmVudCIsImRvY3VtZW50RWxlbWVudCIsIm5vT2Zmc2V0UGFyZW50Iiwib2Zmc2V0UGFyZW50IiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiZ2V0Um9vdCIsIm5vZGUiLCJmaW5kQ29tbW9uT2Zmc2V0UGFyZW50IiwiZWxlbWVudDEiLCJlbGVtZW50MiIsIm9yZGVyIiwiY29tcGFyZURvY3VtZW50UG9zaXRpb24iLCJOb2RlIiwiRE9DVU1FTlRfUE9TSVRJT05fRk9MTE9XSU5HIiwic3RhcnQiLCJlbmQiLCJyYW5nZSIsImNyZWF0ZVJhbmdlIiwic2V0U3RhcnQiLCJzZXRFbmQiLCJjb21tb25BbmNlc3RvckNvbnRhaW5lciIsImNvbnRhaW5zIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJlbGVtZW50MXJvb3QiLCJnZXRTY3JvbGwiLCJ1cHBlclNpZGUiLCJzY3JvbGxpbmdFbGVtZW50IiwiZ2V0Qm9yZGVyc1NpemUiLCJzdHlsZXMiLCJheGlzIiwic2lkZUEiLCJzaWRlQiIsInBhcnNlRmxvYXQiLCJnZXRTaXplIiwiY29tcHV0ZWRTdHlsZSIsIk1hdGgiLCJtYXgiLCJnZXRXaW5kb3dTaXplcyIsImhlaWdodCIsIndpZHRoIiwiY2xhc3NDYWxsQ2hlY2skMSIsImNyZWF0ZUNsYXNzJDEiLCJkZWZpbmVQcm9wZXJ0eSQxIiwib2JqIiwiX2V4dGVuZHMkMSIsImdldENsaWVudFJlY3QiLCJvZmZzZXRzIiwicmlnaHQiLCJsZWZ0IiwiYm90dG9tIiwidG9wIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicmVjdCIsInNjcm9sbFRvcCIsInNjcm9sbExlZnQiLCJyZXN1bHQiLCJzaXplcyIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwiaG9yaXpTY3JvbGxiYXIiLCJvZmZzZXRXaWR0aCIsInZlcnRTY3JvbGxiYXIiLCJvZmZzZXRIZWlnaHQiLCJnZXRPZmZzZXRSZWN0UmVsYXRpdmVUb0FyYml0cmFyeU5vZGUiLCJmaXhlZFBvc2l0aW9uIiwiaXNIVE1MIiwiY2hpbGRyZW5SZWN0IiwicGFyZW50UmVjdCIsInNjcm9sbFBhcmVudCIsImJvcmRlclRvcFdpZHRoIiwiYm9yZGVyTGVmdFdpZHRoIiwibWFyZ2luVG9wIiwibWFyZ2luTGVmdCIsInN1YnRyYWN0IiwibW9kaWZpZXIiLCJpbmNsdWRlU2Nyb2xsIiwiZ2V0Rml4ZWRQb3NpdGlvbk9mZnNldFBhcmVudCIsInBhcmVudEVsZW1lbnQiLCJnZXRCb3VuZGFyaWVzIiwicmVmZXJlbmNlIiwicGFkZGluZyIsImJvdW5kYXJpZXNFbGVtZW50IiwiYm91bmRhcmllcyIsImV4Y2x1ZGVTY3JvbGwiLCJyZWxhdGl2ZU9mZnNldCIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImdldFZpZXdwb3J0T2Zmc2V0UmVjdFJlbGF0aXZlVG9BcnRiaXRyYXJ5Tm9kZSIsImJvdW5kYXJpZXNOb2RlIiwiaXNGaXhlZCIsIl9nZXRXaW5kb3dTaXplcyIsImNvbXB1dGVBdXRvUGxhY2VtZW50IiwicmVmUmVjdCIsInJlY3RzIiwic29ydGVkQXJlYXMiLCJhcmVhIiwiX3JlZiIsImZpbHRlcmVkQXJlYXMiLCJmaWx0ZXIiLCJfcmVmMiIsImNvbXB1dGVkUGxhY2VtZW50IiwidmFyaWF0aW9uIiwic3BsaXQiLCJnZXRSZWZlcmVuY2VPZmZzZXRzIiwic3RhdGUiLCJnZXRPdXRlclNpemVzIiwieCIsIm1hcmdpbkJvdHRvbSIsInkiLCJtYXJnaW5SaWdodCIsImdldE9wcG9zaXRlUGxhY2VtZW50IiwiaGFzaCIsIm1hdGNoZWQiLCJnZXRQb3BwZXJPZmZzZXRzIiwicmVmZXJlbmNlT2Zmc2V0cyIsInBvcHBlclJlY3QiLCJwb3BwZXJPZmZzZXRzIiwiaXNIb3JpeiIsIm1haW5TaWRlIiwic2Vjb25kYXJ5U2lkZSIsIm1lYXN1cmVtZW50Iiwic2Vjb25kYXJ5TWVhc3VyZW1lbnQiLCJmaW5kIiwiYXJyIiwiY2hlY2siLCJBcnJheSIsInJ1bk1vZGlmaWVycyIsIm1vZGlmaWVycyIsImVuZHMiLCJwcm9wIiwiZmluZEluZGV4IiwibWF0Y2giLCJ3YXJuIiwiZW5hYmxlZCIsImlzTW9kaWZpZXJFbmFibGVkIiwibW9kaWZpZXJOYW1lIiwic29tZSIsImdldFN1cHBvcnRlZFByb3BlcnR5TmFtZSIsInRvQ2hlY2siLCJnZXRXaW5kb3ciLCJkZWZhdWx0VmlldyIsInNldHVwRXZlbnRMaXN0ZW5lcnMiLCJvcHRpb25zIiwidXBkYXRlQm91bmQiLCJwYXNzaXZlIiwic2Nyb2xsRWxlbWVudCIsImF0dGFjaFRvU2Nyb2xsUGFyZW50cyIsImNhbGxiYWNrIiwic2Nyb2xsUGFyZW50cyIsImlzQm9keSIsInB1c2giLCJldmVudHNFbmFibGVkIiwiZGlzYWJsZUV2ZW50TGlzdGVuZXJzIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJzY2hlZHVsZVVwZGF0ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpc051bWVyaWMiLCJpc05hTiIsImlzRmluaXRlIiwic2V0U3R5bGVzIiwidW5pdCIsImlzTW9kaWZpZXJSZXF1aXJlZCIsInJlcXVlc3RpbmdOYW1lIiwicmVxdWVzdGVkTmFtZSIsInJlcXVlc3RpbmciLCJpc1JlcXVpcmVkIiwiX3JlcXVlc3RpbmciLCJyZXF1ZXN0ZWQiLCJwbGFjZW1lbnRzIiwidmFsaWRQbGFjZW1lbnRzIiwiY2xvY2t3aXNlIiwiY291bnRlciIsImNvbmNhdCIsInJldmVyc2UiLCJCRUhBVklPUlMiLCJGTElQIiwiQ0xPQ0tXSVNFIiwiQ09VTlRFUkNMT0NLV0lTRSIsInBhcnNlT2Zmc2V0IiwiYmFzZVBsYWNlbWVudCIsInVzZUhlaWdodCIsImZyYWdtZW50cyIsImZyYWciLCJ0cmltIiwiZGl2aWRlciIsInNlYXJjaCIsInNwbGl0UmVnZXgiLCJvcHMiLCJvcCIsIm1lcmdlV2l0aFByZXZpb3VzIiwic3RyIiwidG9WYWx1ZSIsImluZGV4MiIsIkRlZmF1bHRzIiwicG9zaXRpb25GaXhlZCIsInJlbW92ZU9uRGVzdHJveSIsIm9uQ3JlYXRlIiwib25VcGRhdGUiLCJzaGlmdCIsInNoaWZ0dmFyaWF0aW9uIiwiX2RhdGEkb2Zmc2V0cyIsImlzVmVydGljYWwiLCJzaWRlIiwic2hpZnRPZmZzZXRzIiwicHJldmVudE92ZXJmbG93IiwidHJhbnNmb3JtUHJvcCIsInBvcHBlclN0eWxlcyIsInRyYW5zZm9ybSIsInByaW9yaXR5IiwicHJpbWFyeSIsImVzY2FwZVdpdGhSZWZlcmVuY2UiLCJzZWNvbmRhcnkiLCJtaW4iLCJrZWVwVG9nZXRoZXIiLCJmbG9vciIsIm9wU2lkZSIsIl9kYXRhJG9mZnNldHMkYXJyb3ciLCJhcnJvd0VsZW1lbnQiLCJsZW4iLCJzaWRlQ2FwaXRhbGl6ZWQiLCJ0b0xvd2VyQ2FzZSIsImFsdFNpZGUiLCJhcnJvd0VsZW1lbnRTaXplIiwiY2VudGVyIiwicG9wcGVyTWFyZ2luU2lkZSIsInBvcHBlckJvcmRlclNpZGUiLCJzaWRlVmFsdWUiLCJyb3VuZCIsImZsaXBwZWQiLCJvcmlnaW5hbFBsYWNlbWVudCIsInBsYWNlbWVudE9wcG9zaXRlIiwiZmxpcE9yZGVyIiwiYmVoYXZpb3IiLCJzdGVwIiwicmVmT2Zmc2V0cyIsIm92ZXJsYXBzUmVmIiwib3ZlcmZsb3dzTGVmdCIsIm92ZXJmbG93c1JpZ2h0Iiwib3ZlcmZsb3dzVG9wIiwib3ZlcmZsb3dzQm90dG9tIiwib3ZlcmZsb3dzQm91bmRhcmllcyIsImZsaXBwZWRWYXJpYXRpb24iLCJmbGlwVmFyaWF0aW9ucyIsImdldE9wcG9zaXRlVmFyaWF0aW9uIiwiaW5uZXIiLCJzdWJ0cmFjdExlbmd0aCIsImhpZGUiLCJib3VuZCIsImF0dHJpYnV0ZXMiLCJjb21wdXRlU3R5bGUiLCJsZWdhY3lHcHVBY2NlbGVyYXRpb25PcHRpb24iLCJncHVBY2NlbGVyYXRpb24iLCJvZmZzZXRQYXJlbnRSZWN0IiwicG9zaXRpb24iLCJwcmVmaXhlZFByb3BlcnR5Iiwid2lsbENoYW5nZSIsImludmVydFRvcCIsImludmVydExlZnQiLCJ4LXBsYWNlbWVudCIsImFycm93U3R5bGVzIiwiYXBwbHlTdHlsZSIsIm9uTG9hZCIsIm1vZGlmaWVyT3B0aW9ucyIsIlBvcHBlciIsIl90aGlzIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwidXBkYXRlIiwiYmluZCIsImlzRGVzdHJveWVkIiwiaXNDcmVhdGVkIiwianF1ZXJ5IiwiZW5hYmxlRXZlbnRMaXN0ZW5lcnMiLCJyZW1vdmVDaGlsZCIsImdldFBvcHBlclBsYWNlbWVudCIsInRyYW5zZm9ybU51bWJlcnNCYXNlZE9uUGxhY2VtZW50QXhpcyIsInR5cGUiLCJudW1iZXJzIiwiaXNSZXZlcnNlIiwic2NhbGUiLCJ0cmFuc2xhdGUiLCJ0cmFuc2Zvcm1BeGlzIiwiWCIsIlkiLCJjb21wdXRlQXJyb3dUcmFuc2Zvcm0iLCJnZXRBeGlzIiwicmUiLCJnZXROdW1iZXJzIiwiY29tcHV0ZWRUcmFuc2Zvcm0iLCJnZXRPZmZzZXREaXN0YW5jZUluUHgiLCJVdGlscyIsIlBvcHBlclV0aWxzIiwiRWxlbWVudCIsIm1hdGNoZXNTZWxlY3RvciIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwicXVlcnlTZWxlY3RvckFsbCIsIml0ZW0iLCJtYXRjaGVzJDEiLCJjbG9zZXN0IiwicGFyZW50U2VsZWN0b3IiLCJzZWxlY3RvciIsImdldFZhbHVlIiwiaXNBcnJheSIsInNldFZpc2liaWxpdHlTdGF0ZSIsImVscyIsImFwcGx5VHJhbnNpdGlvbkR1cmF0aW9uIiwiQm9vbGVhbiIsImZvY3VzIiwic2Nyb2xsWCIsInBhZ2VYT2Zmc2V0Iiwic2Nyb2xsWSIsInBhZ2VZT2Zmc2V0Iiwic2Nyb2xsIiwic3RvcmUiLCJrIiwiVGlwcHkiLCJjb25maWciLCJfa2V5IiwiZGVzdHJveWVkIiwidmlzaWJsZSIsIl8iLCJtdXRhdGlvbk9ic2VydmVycyIsIl9nZXRJbm5lckVsZW1lbnRzIiwiaGFzQXR0cmlidXRlIiwicmVmT2JqIiwidmlzaWJpbGl0eSIsInBvcHBlckluc3RhbmNlIiwiX2hhc0ZvbGxvd0N1cnNvckJlaGF2aW9yIiwiX2NyZWF0ZVBvcHBlckluc3RhbmNlIiwiX2dldElubmVyRWxlbWVudHM1IiwibWFyZ2luIiwidXBkYXRlQWxyZWFkeUNhbGxlZCIsInJlZmxvdyIsInVwZGF0ZVBvcHBlclBvc2l0aW9uIiwibGFzdFRyaWdnZXJFdmVudCIsImZvbGxvd0N1cnNvckxpc3RlbmVyIiwibGFzdE1vdXNlTW92ZUV2ZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiX3RoaXM5IiwidXBkYXRlUG9zaXRpb24iLCJfb25UcmFuc2l0aW9uRW5kIiwiaWQiLCJkZXN0cm95IiwiX3RoaXMyIiwiX2dldElubmVyRWxlbWVudHMyIiwiaXNQcmVwYXJpbmdUb1Nob3ciLCJfdGhpczMiLCJkZXN0cm95VGFyZ2V0SW5zdGFuY2VzIiwibGlzdGVuZXJzIiwibGlzdGVuZXIiLCJoYW5kbGVyIiwiX3RpcHB5IiwiY2hpbGQiLCJvYnNlcnZlciIsImRpc2Nvbm5lY3QiLCJfZW50ZXIiLCJfdGhpczQiLCJfY2xlYXJEZWxheVRpbWVvdXRzIiwidGFyZ2V0RWwiLCJ0aXBweSIsIndhaXQiLCJzaG93IiwiX3RoaXM4IiwiXyRsYXN0TW91c2VNb3ZlRXZlbnQiLCJjbGllbnRYIiwiY2xpZW50WSIsInNob3dUaW1lb3V0IiwiX2xlYXZlIiwiX3RoaXM1IiwiaGlkZVRpbWVvdXQiLCJfZ2V0RXZlbnRMaXN0ZW5lcnMiLCJfdGhpczYiLCJvblRyaWdnZXIiLCJzaG91bGRTdG9wRXZlbnQiLCJjbGljayIsIm9uTW91c2VMZWF2ZSIsIm9uTW91c2VNb3ZlIiwicmVmZXJlbmNlQ3Vyc29ySXNPdmVyIiwiY3Vyc29ySXNPdmVyUG9wcGVyIiwiY3Vyc29ySXNPdmVyUmVmZXJlbmNlIiwiYm9yZGVyV2l0aERpc3RhbmNlIiwiZXhjZWVkcyIsImN1cnNvcklzT3V0c2lkZUludGVyYWN0aXZlQm9yZGVyIiwib25CbHVyIiwicmVsYXRlZFRhcmdldCIsIm9uRGVsZWdhdGVTaG93Iiwib25EZWxlZ2F0ZUhpZGUiLCJfdGhpczciLCJhcnJvd1NlbGVjdG9yIiwiX2FkZE11dGF0aW9uT2JzZXJ2ZXIiLCJjaGlsZExpc3QiLCJzdWJ0cmVlIiwiY2hhcmFjdGVyRGF0YSIsImNsZWFyVGltZW91dCIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJvYnNlcnZlIiwidG9nZ2xlTGlzdGVuZXJzIiwiYWN0aW9uIiwidHJhbnNpdGlvbmVuZExpc3RlbmVyIiwiaWRDb3VudGVyIiwiY3JlYXRlVG9vbHRpcHMiLCJldmFsdWF0ZU9wdGlvbnMiLCJpbnN0YW5jZU9wdGlvbnMiLCJ2YWwiLCJKU09OIiwicGFyc2UiLCJnZXRJbmRpdmlkdWFsT3B0aW9ucyIsInQiLCJ0ZW1wbGF0ZUlkIiwiY3JlYXRlUG9wcGVyRWxlbWVudCIsImV2ZW50VHlwZSIsImhhbmRsZXJzIiwiY3JlYXRlVHJpZ2dlciIsIl9yZWZlcmVuY2UiLCJoaWRlQWxsUG9wcGVycyIsImV4Y2x1ZGVUaXBweSIsImV2ZW50TGlzdGVuZXJzQm91bmQiLCJvbmUiLCJ0aW1lIiwib25Eb2N1bWVudFRvdWNoIiwib25Eb2N1bWVudE1vdXNlTW92ZSIsIm5vdyIsImlzQ2xpY2tUcmlnZ2VyIiwiaXNNdWx0aXBsZSIsImFjdGl2ZUVsZW1lbnQiLCJibHVyIiwidGlwcHlJbnN0YW5jZSIsIm1heFRvdWNoUG9pbnRzIiwibXNNYXhUb3VjaFBvaW50cyIsImNsYXNzTmFtZXMiLCJyZWZlcmVuY2VzIiwiTm9kZUxpc3QiLCJnZXRBcnJheU9mRWxlbWVudHMiLCJmaXJzdFJlZmVyZW5jZSIsInRvb2x0aXBzIiwiZGVzdHJveUFsbCIsImRpc2FibGVBbmltYXRpb25zIiwiaGVhZCIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNyZWF0ZVRleHROb2RlIiwiaW5qZWN0Q1NTIiwidG9waWMiLCJTdHJpbmdIZWxwZXJzIiwiU3RyaW5nIiwicmVtb3ZlVW5kZXJzY29yZXMiLCJ1c2VXb3JkQm91bmRhcnkiLCJzdWJTdHJpbmciLCJncm91cElkIiwidmlldyIsIl9Ccm93c2VCdXR0b25zIiwiX1Jlc3VsdEl0ZW1zIiwiZ2F0ZUNoZWNrIiwic2VhcmNoVHlwZSIsInVzZUxvY2FsIiwiX3NlcnZpY2VXb3JrZXJIYW5kbGVyMiIsInRvcGljQnV0dG9uUHJvbWlzZSIsInJlc29sdmVUb3BpY0J1dHRvbnMiLCJnZXRab3Rlcm9Db2xsZWN0aW9ucyIsImdldFpvdGVyb0l0ZW1zIiwic2V0dXBTZWFyY2giLCJfdG9vbHRpcHMyIiwib25zdWJtaXQiLCJsb2FkaW5nIiwiaW5wdXQiLCJBUElTdHJpbmciLCJyZWplY3QiLCJ0ZXh0IiwiZXJyb3IiLCJ2IiwiZ2V0U2VhcmNoSXRlbXMiLCJzZWFyY2hJdGVtcyIsImNoaWxkcmVuaWZ5IiwicGFyZW50Q29sbGVjdGlvbiIsIm1ldGEiLCJudW1JdGVtcyIsInJldHVybktleVZhbHVlcyIsInZhbHVlcyIsImNvZXJjZSIsInJvdyIsIm5lc3RQcmVsaW0iLCJuZXN0QnlBcnJheSIsInJ0biIsIm5lc3QiLCJyZWN1cnNpdmVOZXN0IiwibmVzdEJ5IiwibmVzdFR5cGUiLCJwcmVsaW0iLCJlbnRyaWVzIiwianNvbiIsImNvbGxlY3Rpb25zIiwic3RyaW5naWZ5IiwicGFyc2Vab3Rlcm9JdGVtRGF0ZXMiLCJpbml0aWFsSXRlbXNQcm9taXNlcyIsInN1YnNlcXVlbnRJdGVtc1Byb21pc2VzIiwiY29uc3RydWN0UHJvbWlzZSIsInJhY2UiLCJ0b3RhbCIsImNlaWwiLCJhbGwiLCJkYXRlU3RyaW5ncyIsIl9tb2RlbCR6b3Rlcm9JdGVtcyIsImFwcGx5IiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiX21vZGVsJHpvdGVyb0l0ZW1zMiIsImdhdGVDZWNrIiwicmVxdWVzdCIsInhociIsImdldFJlc3BvbnNlSGVhZGVyIiwicmVzcG9uc2VUZXh0IiwicGFyc2VkRGF0ZXMiLCJnZXREYXRlc0Zyb21TdHJpbmciLCJkYXRlIiwiZGlzcGxheSIsImRhdGVWYWx1ZSIsImRlc2NlbmRpbmciLCJjb2xsZWN0aW9uS2V5IiwiY29sbGVjdGlvbkl0ZW1zIiwieiIsInN5bnRoZXNpc0l0ZW1zIiwiZmlsdGVyU3ludGhlc2lzUmVzdWx0cyIsInN0cmluZyIsIkRhdGUiLCJtYXRjaFR5cGVzIiwiZm9ydGhjb21pbmciLCJ5eXl5IiwieXl5eW1tZGQiLCJtb250aGRkeXl5eSIsIm1vbnRoeXl5eSIsInl5eXltbSIsIm1tZGR5eXl5IiwieXl5eXl5eXkiLCJ5eXl5bW9udGhkZCIsImNoZWNrTW9udGgiLCJtb250aHMiLCIwIiwiMSIsIjIiLCIzIiwiNCIsIjUiLCI2IiwiNyIsIjgiLCI5IiwiMTAiLCIxMSIsIkphbnVhcnkiLCJGZWJydWFyeSIsIk1hcmNoIiwiQXByaWwiLCJNYXkiLCJKdW5lIiwiSnVseSIsIkF1Z3VzdCIsIlNlcHRlbWJlciIsIk9jdG9iZXIiLCJOb3ZlbWJlciIsIkRlY2VtYmVyIiwiV2ludGVyIiwiU3ByaW5nIiwiU3VtbWVyIiwiRmFsbCIsIkF1dHVtbiIsIkphbiIsIkZlYiIsIk1hciIsIkFwciIsIkp1biIsIkp1bCIsIkF1ZyIsIlNlcCIsIlNlcHQiLCJPY3QiLCJOb3YiLCJEZWMiLCJfdGlwcHkyIiwic3VjY2Vzc2Z1bCIsImV4ZWNDb21tYW5kIiwibXNnIiwicmVuZGVyVG9waWNCdXR0b25zIiwiYXR0YWNoVG9vbHRpcHMiLCJpbml0aWFsQ2F0ZWdvcnkiLCJkYXRhc2V0Iiwic2V0dXBTaWRlYmFyIiwiYnRuIiwibGFzdE1vZGlmaWVkRGF0ZSIsImRhdGVNb2RpZmllZCIsImdldERhdGUiLCJnZXRNb250aCIsImdldEZ1bGxZZWFyIiwibWFrZVBpZUNoYXJ0Iiwic2liZWJhckRvY3VtZW50YXRpb24iLCJzaWRlYmFyQ29udGFjdCIsInN2ZyIsInJvbGx1cCIsInRvdGFsTnVtYmVyIiwicGllRGF0YSIsInBpZVNlZ21lbnRzIiwiY29tYmluZWRWYWx1ZSIsInBpZSIsInBhdGgiLCJhcmMiLCJvdXRlclJhZGl1cyIsImlubmVyUmFkaXVzIiwicmFkaXVzIiwibGFiZWwiLCJjZW50cm9pZCIsInB1YlR5cGVzIiwiam91cm5hbEFydGljbGUiLCJyZXBvcnQiLCJ3ZWJwYWdlIiwiYm9vayIsIm90aGVyIiwibGVnZW5kSXRlbXMiLCJpc0xvYWRpbmciLCJzZWN0aW9uIiwiY2F0ZWdvcmllcyIsInJlbmRlclNob3dBbGxCdXR0b24iLCJvcGVuIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FDQUssY0FBQSxFQUNBQyxZQUFBLEVBQ0FDLElBQUFOLEtBTUFaLEVBQUFtQixFQUFBLFNBQUFqQixHQUNBWSxPQUFBQyxlQUFBYixFQUFBLGNBQWlEa0IsT0FBQSxLQUlqRHBCLEVBQUFxQixFQUFBLFNBQUFsQixHQUNBLElBQUFTLEVBQUFULEtBQUFtQixXQUNBLFdBQTJCLE9BQUFuQixFQUFBLFNBQzNCLFdBQWlDLE9BQUFBLEdBRWpDLE9BREFILEVBQUFVLEVBQUFFLEVBQUEsSUFBQUEsR0FDQUEsR0FJQVosRUFBQWEsRUFBQSxTQUFBVSxFQUFBQyxHQUFzRCxPQUFBVixPQUFBVyxVQUFBQyxlQUFBbkIsS0FBQWdCLEVBQUFD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QUFqQixFQUFBbGxCLG1CQUdKd3BCLHVCQXJQTyxTQXFQZ0I1c0IsR0FDbkJsRSxRQUFRQyxJQUFJaUUsR0FDWixJQUFJTSxFQUFRQyxHQUFHQyxPQUFPLHlCQUF5QkMsVUFBVSxjQUNwRDlDLEtBQUtxQyxFQUFTLFNBQUF0RixHQUFBLE9BQUtBLEVBQUVpRCxLQUFLK0MsTUFDM0I1RSxRQUFRQyxJQUFJdUUsR0FDaEJBLEVBQU1LLE9BQ0RDLFFBQVEsV0FBVSxHQUNsQkEsUUFBUSxXQUFXLEdBQ25CQyxXQUFXLE1BQU1DLFNBRXRCLElBQUlDLEVBQVdULEVBQU1VLFFBQ2hCQyxPQUFPLE1BQ1BDLEtBQUssS0FBTSxTQUFBeEcsR0FBQSxPQUFLQSxFQUFFZ0csTUFDbEJRLEtBQUssUUFBUyxTQUFDeEcsRUFBRU4sR0FBSCxPQUFXTSxFQUFFK0UsY0FBY21ELGVBQWlCbEksRUFBRWlELEtBQUsrQixVQUFjLFVBQVl0RixHQUE2QixRQUF2Qk0sRUFBRWlELEtBQUtnQixhQUFnRCw2QkFBdkJqRSxFQUFFaUQsS0FBS2dCLFlBQTZDLE9BQVMsTUFDOUxpQyxRQUFRLE9BQU8sR0FDZkEsUUFBUSxZQUFZLEdBQ3BCQSxRQUFRLGFBQWEsR0FDckJ6RCxLQUFLLFNBQUF6QyxHQUFBLE9BQUssRUFBQTZ0QixFQUFBaHJCLGtCQUFpQjdDLEtBQzNCMkcsR0FBRyxRQUFTLFdBQ1RoRixPQUFPMDJCLEtBQUssU0FBVzMxQixLQUFLbWtCLEdBQUssT0FBUSxZQUdqRHBnQixXQUFXLFdBQ1BKLEVBQVNILFFBQVEsWUFBVyxLQUdoQ3hELEtBQUt1dkIsZUFBaUI1ckIsRUFBU0ssTUFBTWQsS0FLN0NqRSxPQUFPOEQsUUFDSEYsYUFDQUcsU0FFSkgsRUFBVzlELE1BQUsiLCJmaWxlIjoianMvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDE0KTtcbiIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcInN3LmpzXCI7IiwiaW1wb3J0IHN3VVJMIGZyb20gXCJmaWxlLWxvYWRlcj9uYW1lPXN3LmpzIWJhYmVsLWxvYWRlciEuL3N3XCI7XG4vLyBIVDogaHR0cHM6Ly9taWNoYWx6YWxlY2tpLmNvbS9wcm9ncmVzc2l2ZS13ZWItYXBwcy13aXRoLXdlYnBhY2svIFxuLyogVXNpbmcgZmlsZS1sb2FkZXIgdG8gb2J0YWluIHN3VVJMIGlzIGEgaGFjayB3aGljaCBhbGxvd3MgZm9yIHVzaW5nIEJhYmVsIGxvYWRlclxuKGFuZCBhbnkgb3RoZXIgbG9hZGVyKSBmb3Igc3cuanMgd2l0aG91dCBhZGRpbmcgc3cuanMgYXMgd2VicGFja+KAmXMgZW50cnkgcG9pbnQuICovIFxuY29uc29sZS5sb2coc3dVUkwpO1xuY29uc3QgU2VydmljZVdvcmtlckhhbmRsZXIgPSB7XG4gICAgaW5pdCgpe1xuICAgICAgICBpZiAoJ3NlcnZpY2VXb3JrZXInIGluIG5hdmlnYXRvcikge1xuICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3Rlcihzd1VSTCkudGhlbihmdW5jdGlvbihyZWdpc3RyYXRpb24pIHtcbiAgICAgICAgICAgICAgLy8gUmVnaXN0cmF0aW9uIHdhcyBzdWNjZXNzZnVsXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXJ2aWNlV29ya2VyIHJlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsIHdpdGggc2NvcGU6ICcsIHJlZ2lzdHJhdGlvbi5zY29wZSwgcmVnaXN0cmF0aW9uKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAvLyByZWdpc3RyYXRpb24gZmFpbGVkIDooXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXJ2aWNlV29ya2VyIHJlZ2lzdHJhdGlvbiBmYWlsZWQ6ICcsIGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZXJ2aWNlIHdvcmtlcnMgbm90IHN1cHBvcnRlZCcpXG5cbiAgICAgICAgfVxuICAgIH0gICAgXG59O1xuXG5leHBvcnQgZGVmYXVsdCBTZXJ2aWNlV29ya2VySGFuZGxlcjsiLCJpbXBvcnQgc3R5bGVzIGZyb20gJy4vcmVzdWx0cy1pdGVtcy5zY3NzJztcbmNvbnNvbGUubG9nKHN0eWxlcyk7XG4vKiAqKioqKioqKiAqL1xuXG5leHBvcnQgY29uc3QgY3JlYXRlUmVzdWx0c0NvbnRhaW5lciA9IGZ1bmN0aW9uKCl7XG4gIHZhciBodG1sID0gYDxkaXYgY2xhc3M9XCJzeW50aGVzaXMtcmVzdWx0c1wiPlxuICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwiZmxleCBzcGFjZS1iZXR3ZWVuXCI+PC91bD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZXN1bHRzXCI+XG4gICAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJsb2FkYWJsZVwiPjwvdWw+XG4gICAgICAgICAgICAgIDwvZGl2PiBgO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdWx0cy1jb250YWluZXInKS5pbm5lckhUTUwgPSBodG1sO1xuICB0aGlzLnJlc3VsdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXYucmVzdWx0cyB1bCcpO1xufTtcblxuLyogKioqKioqKiogKi9cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVJlc3VsdEl0ZW0gPSBmdW5jdGlvbihkKXtcbiAgICB2YXIgYXV0aG9yU3RyLFxuICAgICAgICBhdXRob3JzO1xuICAgIGlmICggZC5kYXRhLmNyZWF0b3JzID09PSB1bmRlZmluZWQgKSB7XG4gICAgICAgIGF1dGhvclN0ciA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGF1dGhvcnMgPSBkLmRhdGEuY3JlYXRvcnMubWFwKGVhY2ggPT4gZWFjaC5maXJzdE5hbWUgKyAnICcgKyBlYWNoLmxhc3ROYW1lKTtcbiAgICAgICAgYXV0aG9yU3RyID0gYXV0aG9ycy5qb2luKCcsJyk7XG4gICAgICAgIGlmIChhdXRob3JzLmxlbmd0aCA9PT0gMil7XG4gICAgICAgICAgICBhdXRob3JTdHIgPSBhdXRob3JTdHIucmVwbGFjZSgnLCcsJyBhbmQgJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoIGF1dGhvcnMubGVuZ3RoID4gNCApIHtcbiAgICAgICAgICAgIGF1dGhvclN0ciA9IGF1dGhvcnNbMF0gKyAnIGV0IGFsLic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhdXRob3JTdHIgPSBhdXRob3JTdHIucmVwbGFjZSgvLC9nLCcsICcpO1xuICAgICAgICAgICAgbGV0IGkgPSBhdXRob3JTdHIubGFzdEluZGV4T2YoJywnKTtcbiAgICAgICAgICAgIGlmICggaSAhPT0gLTEgKXtcbiAgICAgICAgICAgICAgICBhdXRob3JTdHIgPSBhdXRob3JTdHIuc3Vic3RyKDAsIGkgKyAxKSArICcgYW5kJyArIGF1dGhvclN0ci5zdWJzdHIoaSArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIFxuXG4gICAgdmFyIHB1Ymxpc2hlciA9IGQuZGF0YS5wdWJsaXNoZXIgfHwgZC5kYXRhLmpvdXJuYWxBYmJyZXZpYXRpb24gfHwgZC5kYXRhLnB1YmxpY2F0aW9uVGl0bGUgfHwgZC5kYXRhLmluc3RpdHV0aW9uIHx8IGQuZGF0YS53ZWJzaXRlVGl0bGUgfHwgJyc7XG5cbiAgICB2YXIgbGlua3NEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBsaW5rc0Rpdi5jbGFzc05hbWUgPSAnbGlua3MtZGl2JyArICcgdGlwcHktY2xpcGJvYXJkJztcbiAgICBsaW5rc0Rpdi5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgJ0NvcGllZCB0byBjbGlwYm9hcmQnKTtcbiAgICB2YXIgcHViVVJMO1xuICAgIGlmICggZC5kYXRhLnVybCAmJiBkLmRhdGEudXJsICE9PSAnJyApIHtcbiAgICAgICAgbGV0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIHB1YlVSTCA9IGQuZGF0YS51cmw7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgcHViVVJMKTtcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ3RhcmdldCcsICdfYmxhbmsnKVxuICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnY2xhc3MnLGBkZXRhaWxzLWxpbmtgKTtcbiAgICAgICAgbGluay5pbm5lckhUTUwgPSAnR28gdG8gbGluayc7XG4gICAgICAgIGxpbmtzRGl2LmFwcGVuZENoaWxkKGxpbmspO1xuICAgIH1cblxuICAgIGlmICggZC5iaWIgJiYgZC5iaWIgIT09ICcnICkge1xuICAgICAgICBsZXQgcGxhY2Vob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgcGxhY2Vob2xkZXIuaW5uZXJIVE1MID0gZC5iaWI7XG4gICAgICAgIGxldCB0ZXh0T25seSA9IHBsYWNlaG9sZGVyLnF1ZXJ5U2VsZWN0b3IoJy5jc2wtZW50cnknKS5pbm5lckhUTUw7XG4gICAgICAgIGxldCBiaWJDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuICAgICAgICBiaWJDb250YWluZXIuaW5uZXJIVE1MID0gdGV4dE9ubHk7XG4gICAgICAgIGJpYkNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywnYmliLWNvbnRhaW5lcicpO1xuICAgICAgICBsZXQgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnIycpO1xuICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnY2xhc3MnLGBjb3B5LWJpYmApO1xuICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgndGl0bGUnLCB0ZXh0T25seSk7XG4gICAgICAgIGxpbmsuaW5uZXJIVE1MID0gJ0NvcHkgYmlibGlvLiBpbmZvJztcbiAgICAgICAgbGlua3NEaXYuYXBwZW5kQ2hpbGQoYmliQ29udGFpbmVyKTtcbiAgICAgICAgbGlua3NEaXYuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgfVxuICAgIHZhciB0aXRsZUlubmVySFRNTDtcbiAgICBpZiAoIHB1YlVSTCAhPT0gdW5kZWZpbmVkICl7XG4gICAgICB0aXRsZUlubmVySFRNTCA9IGA8YSBjbGFzcz1cIml0ZW0tdGl0bGUtbGlua1wiIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCIke3B1YlVSTH1cIj4ke2QuZGF0YS50aXRsZX08L2E+YDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGl0bGVJbm5lckhUTUwgPSBgJHtkLmRhdGEudGl0bGV9YDtcbiAgICB9XG4gICAgLyp2YXIgZGV0YWlscyA9ICcnOyBcblxuICAgIHZhciB0b3BpY3MgPSAnJztcblxuICAgIGlmICggZC5kYXRhLmNvbGxlY3Rpb25zICYmIGQuZGF0YS5jb2xsZWN0aW9ucy5sZW5ndGggPiAwICkge1xuICAgICAgICB0b3BpY3MgPSAnPGI+VG9waWM6PC9iPiAnO1xuICAgICAgICBpZiAoIGQuZGF0YS5jb2xsZWN0aW9ucy5sZW5ndGggPiAxICkge1xuICAgICAgICAgICAgdG9waWNzID0gJzxiPlRvcGljczogPC9iPic7XG4gICAgICAgIH1cbiAgICAgICAgZC5kYXRhLmNvbGxlY3Rpb25zLmZvckVhY2goKGMsaSkgPT4ge1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhjLGQpO1xuICAgICAgICAgICAgdmFyIHRvcGljTmFtZSA9IFJGRkFwcC5tb2RlbC5jb2xsZWN0aW9ucy5maW5kKGQgPT4gZC5rZXkgPT09IGMpLmRhdGEubmFtZTtcbiAgICAgICAgICAgIHRvcGljcyArPSBpID4gMCA/ICcsICcgKyB0b3BpY05hbWUgOiB0b3BpY05hbWU7XG4gICAgICAgIH0pO1xuICAgICAgICBkZXRhaWxzICs9IHRvcGljcyArICc8YnIgLz4nO1xuICAgIH1cblxuXG4gICAgaWYgKCBkLmRhdGEudXJsICYmIGQuZGF0YS51cmwgIT09ICcnICkge1xuICAgICAgICBsZXQgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBkLmRhdGEudXJsKTtcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ3RhcmdldCcsICdfYmxhbmsnKVxuICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCdkZXRhaWxzLWxpbmsnKTtcbiAgICAgICAgbGluay5pbm5lckhUTUwgPSAnR28gdG8gbGluayc7XG4gICAgICAgIGRldGFpbHMgKz0gbGluay5vdXRlckhUTUwgKyAnPGJyIC8+JztcbiAgICB9XG5cbiAgICBpZiAoIGQuZGF0YS5ET0kgJiYgZC5kYXRhLkRPSSAhPT0gJycgKSB7XG4gICAgICAgIGRldGFpbHMgKz0gJ0RPSTogJyArIGQuZGF0YS5ET0kgKyAnPGJyIC8+JztcbiAgICB9XG5cbiAgICBpZiAoIGQuYmliICYmIGQuYmliICE9PSAnJyApIHtcbiAgICAgICAgbGV0IHBsYWNlaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHBsYWNlaG9sZGVyLmlubmVySFRNTCA9IGQuYmliO1xuICAgICAgICBsZXQgdGV4dE9ubHkgPSBwbGFjZWhvbGRlci5xdWVyeVNlbGVjdG9yKCcuY3NsLWVudHJ5JykuaW5uZXJIVE1MO1xuICAgICAgICBsZXQgYmliQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgICAgICAgYmliQ29udGFpbmVyLmlubmVySFRNTCA9IHRleHRPbmx5O1xuICAgICAgICBiaWJDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsc3R5bGVzWydiaWItY29udGFpbmVyJ10pO1xuICAgICAgICBsZXQgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnIycpO1xuICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCdkZXRhaWxzLWxpbmsgY29weS1iaWInKTtcbiAgICAgICAgbGluay5pbm5lckhUTUwgPSAnQ29weSBiaWJsaW8uIGluZm8nO1xuICAgICAgICBkZXRhaWxzICs9IGJpYkNvbnRhaW5lci5vdXRlckhUTUwgKyBsaW5rLm91dGVySFRNTDtcbiAgICB9XG5cbiAgICBcblxuICAgIGRldGFpbHMgPSBkZXRhaWxzICE9PSAnJyA/IGRldGFpbHMgOiAnPCBub3RoaW5nIHRvIHNob3cgPic7Ki9cblxuICAgICAgcmV0dXJuIGBcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdW1tYXJ5LXJlc3VsdHNcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IHNwYWNlLWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZsZXggaXRlbS1pbmZvIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImxpc3QtaXRlbV9fbGFiZWxcIj4ke2Quc3ludGhlc2lzVHlwZSB8fCBkLmRhdGEuaXRlbVR5cGUudW5kb0NhbWVsQ2FzZSgpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsaXN0LWl0ZW1fX21ldGEgcHVibGlzaGVyLW5hbWVcIj4ke3B1Ymxpc2hlci50cnVuYyg5MCx0cnVlKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibGlzdC1pdGVtX19tZXRhXCI+JHtkLmRhdGEuZGF0ZVN0cmluZ308L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz1cImxpc3QtaXRlbV9fdGl0bGVcIj4ke3RpdGxlSW5uZXJIVE1MfTwvaDM+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImxpc3QtaXRlbV9fbWV0YVwiPiR7YXV0aG9yU3RyfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICR7bGlua3NEaXYub3V0ZXJIVE1MfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgYDtcbn1cblxuXG4vKiAqKioqKioqKiAqL1xuXG5leHBvcnQgY29uc3QgZmlsdGVyUmVzdWx0cyA9IGZ1bmN0aW9uKG1hdGNoZXMsIGNvbnRyb2xsZXIpe1xuICAvKiBnbG9iYWwgZDMgKi9cbiAgY29uc29sZS5sb2coJ2xpc3QtaXRlbScpO1xuICAgIHZhciBmaWx0ZXJlZERhdGEgPSBtYXRjaGVzID09PSB1bmRlZmluZWQgPyB3aW5kb3cuUkZGQXBwLm1vZGVsLnpvdGVyb0l0ZW1zIDogbWF0Y2hlczsgXG4gICAgdmFyIGl0ZW1zID0gZDMuc2VsZWN0KHRoaXMucmVzdWx0cykuc2VsZWN0QWxsKCcuJyArICdsaXN0LWl0ZW0nKVxuICAgICAgICAuZGF0YShmaWx0ZXJlZERhdGEsIGQgPT4gZC5rZXkpO1xuXG4gICAgICAgIC8vIHVwZGF0ZSBleGlzdGluZ1xuICAvKiAgaXRlbXNcbiAgICAgICAgLmNsYXNzZWQoJ2VudGVyZWQnLGZhbHNlKVxuICAgICAgICAuY2xhc3NlZCgncmVtYWluZWQnLCB0cnVlKTtcbiovXG4gICAgLy8gdHJhbnNpdGlvbiBhbmQgcmVtb3ZlIGV4aXRpbmdcbiAgICBcbiAgICBpdGVtcy5leGl0KClcbiAgICAgICAgLmNsYXNzZWQoJ2VudGVyZWQnLGZhbHNlKVxuICAgICAgICAuY2xhc3NlZCgnZXhpdGluZycsIHRydWUpXG4gICAgICAgIC50cmFuc2l0aW9uKDE1MDApLnJlbW92ZSgpO1xuXG4gICAgdmFyIGVudGVyaW5nID0gaXRlbXMuZW50ZXIoKVxuICAgICAgICAuYXBwZW5kKCdsaScpXG4gICAgICAgIC5hdHRyKCdjbGFzcycsIChkLGkpID0+IGQua2V5ICsgJyAnICsgZC5kYXRhLml0ZW1UeXBlICsgJyBpbmRleC0nICsgaSArICggZC5kYXRhLmluc3RpdHV0aW9uID09PSAnUkZGJyB8fCBkLmRhdGEuaW5zdGl0dXRpb24gPT09ICdSZXNvdXJjZXMgZm9yIHRoZSBGdXR1cmUnID8gJyBSRkYnIDogJycpKVxuICAgICAgICAuY2xhc3NlZCgnZW50ZXJpbmcnLCB0cnVlKVxuICAgICAgICAuY2xhc3NlZCgnbGlzdC1pdGVtJywgdHJ1ZSlcbiAgICAgICAgLmh0bWwoZCA9PiBjcmVhdGVSZXN1bHRJdGVtKGQpKTtcbiAgICAgICAgXG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgIGVudGVyaW5nLmNsYXNzZWQoJ2VudGVyaW5nJyxmYWxzZSk7ICAgXG4gICAgfSk7XG5cbiAgICB0aGlzLml0ZW1zID0gZW50ZXJpbmcubWVyZ2UoaXRlbXMpOyBcbiAgIC8qIGQzLnNlbGVjdEFsbCgnLml0ZW0tdGl0bGUtbGluaycpXG4gICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWNrJyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkMy5ldmVudCk7XG4gICAgICAgICAgICBkMy5ldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAgICAgXG4gICAgICAgIH0pOyovXG4gICAgZDMuc2VsZWN0QWxsKCcuY29weS1iaWInKVxuICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGQzLmV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBjb250cm9sbGVyLmNvcHlCaWJUZXh0LmNhbGwodGhpcyk7XG4gICAgICAgIH0pO1xuXG4gICAgIGNvbnRyb2xsZXIuYmlibGlvVG9vbHRpcHMoKTtcblxuXG59OyBcbiIsImltcG9ydCBzdHlsZXMgZnJvbSAnLi9icm93c2UtYnV0dG9ucy5zY3NzJztcblxuY29uc29sZS5sb2coc3R5bGVzKTtcbmV4cG9ydCBjb25zdCBjcmVhdGVCcm93c2VDYXRlZ29yeSA9IGZ1bmN0aW9uKGNhdGVnb3J5LCBpbmRleCwgaXNDYXRlZ29yaXplZCl7XG4gIC8qIGdsb2JhbCBkMywgUkZGQXBwICovXG4gIHZhciBjYXRlZ29yeURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICB2YXIgY29udGFpbmVyO1xuICBcbiAgaWYgKCBpc0NhdGVnb3JpemVkICl7XG4gICAgY2F0ZWdvcnlEaXYuaW5uZXJIVE1MID0gYFxuICAgICAgPGgzPiR7Y2F0ZWdvcnkuZGF0YS5uYW1lfTwvaDM+XG4gICAgYDtcbiAgICBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb250YWluZXIuY2xhc3NOYW1lID0gJ2Jyb3dzZS1idXR0b25zJztcbiAgICBjYXRlZ29yeS5jaGlsZHJlbi5zb3J0KChhLGIpID0+IGQzLmFzY2VuZGluZyhhLmRhdGEubmFtZSwgYi5kYXRhLm5hbWUpKS5mb3JFYWNoKChkLGkpID0+IHtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVCcm93c2VCdXR0b24oZCxpKSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJyb3dzZS1idXR0b25zLnVuY2F0ZWdvcml6ZWQnKSB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb250YWluZXIuY2xhc3NOYW1lID0gJ2Jyb3dzZS1idXR0b25zIHVuY2F0ZWdvcml6ZWQnO1xuICAgIGlmICggY2F0ZWdvcnkuZGF0YS5uYW1lLmluZGV4T2YoJ18nKSAhPT0gMCApe1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY3JlYXRlQnJvd3NlQnV0dG9uKGNhdGVnb3J5KSk7XG4gICAgfVxuICB9XG4gIGNvbnNvbGUubG9nKGNhdGVnb3J5KTtcbiAgY2F0ZWdvcnlEaXYuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbiAgY29uc29sZS5sb2coY2F0ZWdvcnlEaXYpO1xuXG4gIFxuICByZXR1cm4gY2F0ZWdvcnlEaXY7XG4gICAgXG4gIGZ1bmN0aW9uIGNyZWF0ZUJyb3dzZUJ1dHRvbihjb2xsZWN0aW9uLCBpKXtcbiAgICB2YXIgY2hpbGRyZW5DbGFzc2VzID0gW107XG4gICAgaWYgKCBjb2xsZWN0aW9uLmNoaWxkcmVuICkge1xuICAgICBcbiAgICAgIGNoaWxkcmVuQ2xhc3NlcyA9IGNvbGxlY3Rpb24uY2hpbGRyZW4ubWFwKGVhY2ggPT4gZWFjaC5kYXRhLm5hbWUuY2xlYW5TdHJpbmcoKSk7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKHN0eWxlcyxjaGlsZHJlbkNsYXNzZXMpO1xuICAgIHZhciBwYXJlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBwYXJlbnQuaW5uZXJIVE1MID0gYFxuICAgIDxkaXYgdGl0bGU9XCJub3QgbG9hZGVkXCIgZGF0YS1jb2xsZWN0aW9uPVwiJHtjb2xsZWN0aW9uLmtleX1cIiBjbGFzcz1cImJ1dHRvbiBidXR0b24tLSR7IGlzQ2F0ZWdvcml6ZWQgPyAnc2Vjb25kYXJ5JyA6ICd0ZXJ0aWFyeSd9ICR7IGNoaWxkcmVuQ2xhc3Nlcy5yZWR1Y2UoKGFjYyxjdXIpID0+IGFjYyArIGN1ciArICcgJywnJyl9ICR7IGluZGV4ID09PSAwICYmIGkgPT09IDAgJiYgaXNDYXRlZ29yaXplZCA/ICdhY3RpdmUnIDogJyd9XCI+XG4gICAgICA8c3Bhbj4ke2NvbGxlY3Rpb24uZGF0YS5uYW1lfTwvc3Bhbj5cbiAgICA8L2Rpdj5gO1xuXG4gICAgdmFyIGJyb3dzZUJ1dHRvbiA9IHBhcmVudC5jaGlsZHJlblswXTsgXG5cbiAgICBicm93c2VCdXR0b24ub25jbGljayA9IGZ1bmN0aW9uKCl7XG4gICAgICBjb25zb2xlLmxvZyh0aGlzKTtcbiAgICAgIGQzLnNlbGVjdEFsbCgnLmJyb3dzZS1idXR0b25zIC5idXR0b24nKVxuICAgICAgICAuY2xhc3NlZCgnYWN0aXZlJywgZmFsc2UpO1xuICAgICAgZDMuc2VsZWN0KHRoaXMpXG4gICAgICAgIC5jbGFzc2VkKCdhY3RpdmUnLCB0cnVlKTtcbiAgICAgIFJGRkFwcC5jb250cm9sbGVyLmdldENvbGxlY3Rpb25JdGVtcyhjb2xsZWN0aW9uLmRhdGEua2V5KTtcbiAgICB9O1xuICAgIFxuICAgIHJldHVybiBicm93c2VCdXR0b247IFxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVUb3BpY0tleSA9IGZ1bmN0aW9uKCl7XG4gIHZhciBjb250ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Jyb3dzZS1idXR0b25zLWNvbnRhaW5lcicpO1xuICB2YXIgaHRtbCA9IGA8ZGl2IGlkPVwidG9waWMta2V5XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaXNzdWUtYnJpZWZcIj49IGlzc3VlIGJyaWVmIGFuZCBsaXRlcmF0dXJlIHJldmlldyBhdmFpbGFibGU8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXY+PSBpc3N1ZSBicmllZiBhbmQgbGl0ZXJhdHVyZSByZXZpZXcgc3RpbGwgdG8gY29tZTwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5gO1xuICBjb250Lmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgaHRtbCk7XG59XG4iLCJ2YXIgZztcclxuXHJcbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXHJcbmcgPSAoZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn0pKCk7XHJcblxyXG50cnkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxyXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSwgZXZhbCkoXCJ0aGlzXCIpO1xyXG59IGNhdGNoIChlKSB7XHJcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcclxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcclxufVxyXG5cclxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxyXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xyXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGc7XHJcbiIsIi8qIVxuKiBUaXBweS5qcyB2Mi41LjJcbiogKGMpIDIwMTctMjAxOCBhdG9taWtzXG4qIE1JVFxuKi9cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG5cdHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcblx0dHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcblx0KGdsb2JhbC50aXBweSA9IGZhY3RvcnkoKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxudmFyIHN0eWxlcyA9IFwiLnRpcHB5LXRvdWNoe2N1cnNvcjpwb2ludGVyIWltcG9ydGFudH0udGlwcHktbm90cmFuc2l0aW9ue3RyYW5zaXRpb246bm9uZSFpbXBvcnRhbnR9LnRpcHB5LXBvcHBlcnttYXgtd2lkdGg6MzUwcHg7LXdlYmtpdC1wZXJzcGVjdGl2ZTo3MDBweDtwZXJzcGVjdGl2ZTo3MDBweDt6LWluZGV4Ojk5OTk7b3V0bGluZTowO3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMTY1LC44NCwuNDQsMSk7cG9pbnRlci1ldmVudHM6bm9uZTtsaW5lLWhlaWdodDoxLjR9LnRpcHB5LXBvcHBlcltkYXRhLWh0bWxde21heC13aWR0aDo5NiU7bWF4LXdpZHRoOmNhbGMoMTAwJSAtIDIwcHgpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gLnRpcHB5LWJhY2tkcm9we2JvcmRlci1yYWRpdXM6NDAlIDQwJSAwIDB9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49dG9wXSAudGlwcHktcm91bmRhcnJvd3tib3R0b206LThweDstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46NTAlIDA7dHJhbnNmb3JtLW9yaWdpbjo1MCUgMH0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj10b3BdIC50aXBweS1yb3VuZGFycm93IHN2Z3twb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDE4MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgxODBkZWcpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gLnRpcHB5LWFycm93e2JvcmRlci10b3A6N3B4IHNvbGlkICMzMzM7Ym9yZGVyLXJpZ2h0OjdweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItbGVmdDo3cHggc29saWQgdHJhbnNwYXJlbnQ7Ym90dG9tOi03cHg7bWFyZ2luOjAgNnB4Oy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjo1MCUgMDt0cmFuc2Zvcm0tb3JpZ2luOjUwJSAwfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gLnRpcHB5LWJhY2tkcm9wey13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjowIDkwJTt0cmFuc2Zvcm0tb3JpZ2luOjAgOTAlfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gLnRpcHB5LWJhY2tkcm9wW2RhdGEtc3RhdGU9dmlzaWJsZV17LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoNikgdHJhbnNsYXRlKC01MCUsMjUlKTt0cmFuc2Zvcm06c2NhbGUoNikgdHJhbnNsYXRlKC01MCUsMjUlKTtvcGFjaXR5OjF9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49dG9wXSAudGlwcHktYmFja2Ryb3BbZGF0YS1zdGF0ZT1oaWRkZW5dey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpIHRyYW5zbGF0ZSgtNTAlLDI1JSk7dHJhbnNmb3JtOnNjYWxlKDEpIHRyYW5zbGF0ZSgtNTAlLDI1JSk7b3BhY2l0eTowfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gW2RhdGEtYW5pbWF0aW9uPXNoaWZ0LXRvd2FyZF1bZGF0YS1zdGF0ZT12aXNpYmxlXXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgtMTBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwcHgpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gW2RhdGEtYW5pbWF0aW9uPXNoaWZ0LXRvd2FyZF1bZGF0YS1zdGF0ZT1oaWRkZW5de29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKC0yMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtMjBweCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49dG9wXSBbZGF0YS1hbmltYXRpb249cGVyc3BlY3RpdmVdey13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpib3R0b207dHJhbnNmb3JtLW9yaWdpbjpib3R0b219LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49dG9wXSBbZGF0YS1hbmltYXRpb249cGVyc3BlY3RpdmVdW2RhdGEtc3RhdGU9dmlzaWJsZV17b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwcHgpIHJvdGF0ZVgoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwcHgpIHJvdGF0ZVgoMCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49dG9wXSBbZGF0YS1hbmltYXRpb249cGVyc3BlY3RpdmVdW2RhdGEtc3RhdGU9aGlkZGVuXXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgwKSByb3RhdGVYKDkwZGVnKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKSByb3RhdGVYKDkwZGVnKX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj10b3BdIFtkYXRhLWFuaW1hdGlvbj1mYWRlXVtkYXRhLXN0YXRlPXZpc2libGVde29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKC0xMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtMTBweCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49dG9wXSBbZGF0YS1hbmltYXRpb249ZmFkZV1bZGF0YS1zdGF0ZT1oaWRkZW5de29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKC0xMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtMTBweCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49dG9wXSBbZGF0YS1hbmltYXRpb249c2hpZnQtYXdheV1bZGF0YS1zdGF0ZT12aXNpYmxlXXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgtMTBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwcHgpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gW2RhdGEtYW5pbWF0aW9uPXNoaWZ0LWF3YXldW2RhdGEtc3RhdGU9aGlkZGVuXXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj10b3BdIFtkYXRhLWFuaW1hdGlvbj1zY2FsZV1bZGF0YS1zdGF0ZT12aXNpYmxlXXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgtMTBweCkgc2NhbGUoMSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwcHgpIHNjYWxlKDEpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gW2RhdGEtYW5pbWF0aW9uPXNjYWxlXVtkYXRhLXN0YXRlPWhpZGRlbl17b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCkgc2NhbGUoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCkgc2NhbGUoMCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49Ym90dG9tXSAudGlwcHktYmFja2Ryb3B7Ym9yZGVyLXJhZGl1czowIDAgMzAlIDMwJX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1ib3R0b21dIC50aXBweS1yb3VuZGFycm93e3RvcDotOHB4Oy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjo1MCUgMTAwJTt0cmFuc2Zvcm0tb3JpZ2luOjUwJSAxMDAlfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWJvdHRvbV0gLnRpcHB5LXJvdW5kYXJyb3cgc3Zne3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMCk7dHJhbnNmb3JtOnJvdGF0ZSgwKX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1ib3R0b21dIC50aXBweS1hcnJvd3tib3JkZXItYm90dG9tOjdweCBzb2xpZCAjMzMzO2JvcmRlci1yaWdodDo3cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWxlZnQ6N3B4IHNvbGlkIHRyYW5zcGFyZW50O3RvcDotN3B4O21hcmdpbjowIDZweDstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46NTAlIDEwMCU7dHJhbnNmb3JtLW9yaWdpbjo1MCUgMTAwJX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1ib3R0b21dIC50aXBweS1iYWNrZHJvcHstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46MCAtOTAlO3RyYW5zZm9ybS1vcmlnaW46MCAtOTAlfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWJvdHRvbV0gLnRpcHB5LWJhY2tkcm9wW2RhdGEtc3RhdGU9dmlzaWJsZV17LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoNikgdHJhbnNsYXRlKC01MCUsLTEyNSUpO3RyYW5zZm9ybTpzY2FsZSg2KSB0cmFuc2xhdGUoLTUwJSwtMTI1JSk7b3BhY2l0eToxfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWJvdHRvbV0gLnRpcHB5LWJhY2tkcm9wW2RhdGEtc3RhdGU9aGlkZGVuXXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKSB0cmFuc2xhdGUoLTUwJSwtMTI1JSk7dHJhbnNmb3JtOnNjYWxlKDEpIHRyYW5zbGF0ZSgtNTAlLC0xMjUlKTtvcGFjaXR5OjB9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49Ym90dG9tXSBbZGF0YS1hbmltYXRpb249c2hpZnQtdG93YXJkXVtkYXRhLXN0YXRlPXZpc2libGVde29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDEwcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDEwcHgpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWJvdHRvbV0gW2RhdGEtYW5pbWF0aW9uPXNoaWZ0LXRvd2FyZF1bZGF0YS1zdGF0ZT1oaWRkZW5de29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDIwcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDIwcHgpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWJvdHRvbV0gW2RhdGEtYW5pbWF0aW9uPXBlcnNwZWN0aXZlXXstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46dG9wO3RyYW5zZm9ybS1vcmlnaW46dG9wfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWJvdHRvbV0gW2RhdGEtYW5pbWF0aW9uPXBlcnNwZWN0aXZlXVtkYXRhLXN0YXRlPXZpc2libGVde29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDEwcHgpIHJvdGF0ZVgoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTBweCkgcm90YXRlWCgwKX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1ib3R0b21dIFtkYXRhLWFuaW1hdGlvbj1wZXJzcGVjdGl2ZV1bZGF0YS1zdGF0ZT1oaWRkZW5de29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApIHJvdGF0ZVgoLTkwZGVnKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKSByb3RhdGVYKC05MGRlZyl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49Ym90dG9tXSBbZGF0YS1hbmltYXRpb249ZmFkZV1bZGF0YS1zdGF0ZT12aXNpYmxlXXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgxMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgxMHB4KX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1ib3R0b21dIFtkYXRhLWFuaW1hdGlvbj1mYWRlXVtkYXRhLXN0YXRlPWhpZGRlbl17b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTBweCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49Ym90dG9tXSBbZGF0YS1hbmltYXRpb249c2hpZnQtYXdheV1bZGF0YS1zdGF0ZT12aXNpYmxlXXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgxMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgxMHB4KX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1ib3R0b21dIFtkYXRhLWFuaW1hdGlvbj1zaGlmdC1hd2F5XVtkYXRhLXN0YXRlPWhpZGRlbl17b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49Ym90dG9tXSBbZGF0YS1hbmltYXRpb249c2NhbGVdW2RhdGEtc3RhdGU9dmlzaWJsZV17b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTBweCkgc2NhbGUoMSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTBweCkgc2NhbGUoMSl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49Ym90dG9tXSBbZGF0YS1hbmltYXRpb249c2NhbGVdW2RhdGEtc3RhdGU9aGlkZGVuXXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgwKSBzY2FsZSgwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKSBzY2FsZSgwKX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1sZWZ0XSAudGlwcHktYmFja2Ryb3B7Ym9yZGVyLXJhZGl1czo1MCUgMCAwIDUwJX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1sZWZ0XSAudGlwcHktcm91bmRhcnJvd3tyaWdodDotMTZweDstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46MzMuMzMzMzMzMzMlIDUwJTt0cmFuc2Zvcm0tb3JpZ2luOjMzLjMzMzMzMzMzJSA1MCV9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49bGVmdF0gLnRpcHB5LXJvdW5kYXJyb3cgc3Zne3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoOTBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoOTBkZWcpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWxlZnRdIC50aXBweS1hcnJvd3tib3JkZXItbGVmdDo3cHggc29saWQgIzMzMztib3JkZXItdG9wOjdweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItYm90dG9tOjdweCBzb2xpZCB0cmFuc3BhcmVudDtyaWdodDotN3B4O21hcmdpbjozcHggMDstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46MCA1MCU7dHJhbnNmb3JtLW9yaWdpbjowIDUwJX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1sZWZ0XSAudGlwcHktYmFja2Ryb3B7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOjEwMCUgMDt0cmFuc2Zvcm0tb3JpZ2luOjEwMCUgMH0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1sZWZ0XSAudGlwcHktYmFja2Ryb3BbZGF0YS1zdGF0ZT12aXNpYmxlXXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSg2KSB0cmFuc2xhdGUoNDAlLC01MCUpO3RyYW5zZm9ybTpzY2FsZSg2KSB0cmFuc2xhdGUoNDAlLC01MCUpO29wYWNpdHk6MX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1sZWZ0XSAudGlwcHktYmFja2Ryb3BbZGF0YS1zdGF0ZT1oaWRkZW5dey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuNSkgdHJhbnNsYXRlKDQwJSwtNTAlKTt0cmFuc2Zvcm06c2NhbGUoMS41KSB0cmFuc2xhdGUoNDAlLC01MCUpO29wYWNpdHk6MH0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1sZWZ0XSBbZGF0YS1hbmltYXRpb249c2hpZnQtdG93YXJkXVtkYXRhLXN0YXRlPXZpc2libGVde29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC0xMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtMTBweCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49bGVmdF0gW2RhdGEtYW5pbWF0aW9uPXNoaWZ0LXRvd2FyZF1bZGF0YS1zdGF0ZT1oaWRkZW5de29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC0yMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtMjBweCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49bGVmdF0gW2RhdGEtYW5pbWF0aW9uPXBlcnNwZWN0aXZlXXstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46cmlnaHQ7dHJhbnNmb3JtLW9yaWdpbjpyaWdodH0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1sZWZ0XSBbZGF0YS1hbmltYXRpb249cGVyc3BlY3RpdmVdW2RhdGEtc3RhdGU9dmlzaWJsZV17b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTEwcHgpIHJvdGF0ZVkoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTEwcHgpIHJvdGF0ZVkoMCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49bGVmdF0gW2RhdGEtYW5pbWF0aW9uPXBlcnNwZWN0aXZlXVtkYXRhLXN0YXRlPWhpZGRlbl17b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCkgcm90YXRlWSgtOTBkZWcpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKDApIHJvdGF0ZVkoLTkwZGVnKX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1sZWZ0XSBbZGF0YS1hbmltYXRpb249ZmFkZV1bZGF0YS1zdGF0ZT12aXNpYmxlXXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtMTBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTEwcHgpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWxlZnRdIFtkYXRhLWFuaW1hdGlvbj1mYWRlXVtkYXRhLXN0YXRlPWhpZGRlbl17b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTEwcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC0xMHB4KX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1sZWZ0XSBbZGF0YS1hbmltYXRpb249c2hpZnQtYXdheV1bZGF0YS1zdGF0ZT12aXNpYmxlXXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtMTBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTEwcHgpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWxlZnRdIFtkYXRhLWFuaW1hdGlvbj1zaGlmdC1hd2F5XVtkYXRhLXN0YXRlPWhpZGRlbl17b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49bGVmdF0gW2RhdGEtYW5pbWF0aW9uPXNjYWxlXVtkYXRhLXN0YXRlPXZpc2libGVde29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC0xMHB4KSBzY2FsZSgxKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtMTBweCkgc2NhbGUoMSl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49bGVmdF0gW2RhdGEtYW5pbWF0aW9uPXNjYWxlXVtkYXRhLXN0YXRlPWhpZGRlbl17b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCkgc2NhbGUoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCkgc2NhbGUoMCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49cmlnaHRdIC50aXBweS1iYWNrZHJvcHtib3JkZXItcmFkaXVzOjAgNTAlIDUwJSAwfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXJpZ2h0XSAudGlwcHktcm91bmRhcnJvd3tsZWZ0Oi0xNnB4Oy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjo2Ni42NjY2NjY2NiUgNTAlO3RyYW5zZm9ybS1vcmlnaW46NjYuNjY2NjY2NjYlIDUwJX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1yaWdodF0gLnRpcHB5LXJvdW5kYXJyb3cgc3Zne3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTkwZGVnKTt0cmFuc2Zvcm06cm90YXRlKC05MGRlZyl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49cmlnaHRdIC50aXBweS1hcnJvd3tib3JkZXItcmlnaHQ6N3B4IHNvbGlkICMzMzM7Ym9yZGVyLXRvcDo3cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWJvdHRvbTo3cHggc29saWQgdHJhbnNwYXJlbnQ7bGVmdDotN3B4O21hcmdpbjozcHggMDstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46MTAwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjoxMDAlIDUwJX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1yaWdodF0gLnRpcHB5LWJhY2tkcm9wey13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjotMTAwJSAwO3RyYW5zZm9ybS1vcmlnaW46LTEwMCUgMH0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1yaWdodF0gLnRpcHB5LWJhY2tkcm9wW2RhdGEtc3RhdGU9dmlzaWJsZV17LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoNikgdHJhbnNsYXRlKC0xNDAlLC01MCUpO3RyYW5zZm9ybTpzY2FsZSg2KSB0cmFuc2xhdGUoLTE0MCUsLTUwJSk7b3BhY2l0eToxfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXJpZ2h0XSAudGlwcHktYmFja2Ryb3BbZGF0YS1zdGF0ZT1oaWRkZW5dey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuNSkgdHJhbnNsYXRlKC0xNDAlLC01MCUpO3RyYW5zZm9ybTpzY2FsZSgxLjUpIHRyYW5zbGF0ZSgtMTQwJSwtNTAlKTtvcGFjaXR5OjB9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49cmlnaHRdIFtkYXRhLWFuaW1hdGlvbj1zaGlmdC10b3dhcmRdW2RhdGEtc3RhdGU9dmlzaWJsZV17b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMTBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMTBweCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49cmlnaHRdIFtkYXRhLWFuaW1hdGlvbj1zaGlmdC10b3dhcmRdW2RhdGEtc3RhdGU9aGlkZGVuXXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgyMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgyMHB4KX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1yaWdodF0gW2RhdGEtYW5pbWF0aW9uPXBlcnNwZWN0aXZlXXstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46bGVmdDt0cmFuc2Zvcm0tb3JpZ2luOmxlZnR9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49cmlnaHRdIFtkYXRhLWFuaW1hdGlvbj1wZXJzcGVjdGl2ZV1bZGF0YS1zdGF0ZT12aXNpYmxlXXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgxMHB4KSByb3RhdGVZKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVYKDEwcHgpIHJvdGF0ZVkoMCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49cmlnaHRdIFtkYXRhLWFuaW1hdGlvbj1wZXJzcGVjdGl2ZV1bZGF0YS1zdGF0ZT1oaWRkZW5de29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKDApIHJvdGF0ZVkoOTBkZWcpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKDApIHJvdGF0ZVkoOTBkZWcpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXJpZ2h0XSBbZGF0YS1hbmltYXRpb249ZmFkZV1bZGF0YS1zdGF0ZT12aXNpYmxlXXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgxMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgxMHB4KX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1yaWdodF0gW2RhdGEtYW5pbWF0aW9uPWZhZGVdW2RhdGEtc3RhdGU9aGlkZGVuXXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgxMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgxMHB4KX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1yaWdodF0gW2RhdGEtYW5pbWF0aW9uPXNoaWZ0LWF3YXldW2RhdGEtc3RhdGU9dmlzaWJsZV17b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMTBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMTBweCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49cmlnaHRdIFtkYXRhLWFuaW1hdGlvbj1zaGlmdC1hd2F5XVtkYXRhLXN0YXRlPWhpZGRlbl17b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49cmlnaHRdIFtkYXRhLWFuaW1hdGlvbj1zY2FsZV1bZGF0YS1zdGF0ZT12aXNpYmxlXXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgxMHB4KSBzY2FsZSgxKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgxMHB4KSBzY2FsZSgxKX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1yaWdodF0gW2RhdGEtYW5pbWF0aW9uPXNjYWxlXVtkYXRhLXN0YXRlPWhpZGRlbl17b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCkgc2NhbGUoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCkgc2NhbGUoMCl9LnRpcHB5LXRvb2x0aXB7cG9zaXRpb246cmVsYXRpdmU7Y29sb3I6I2ZmZjtib3JkZXItcmFkaXVzOjRweDtmb250LXNpemU6LjlyZW07cGFkZGluZzouM3JlbSAuNnJlbTt0ZXh0LWFsaWduOmNlbnRlcjt3aWxsLWNoYW5nZTp0cmFuc2Zvcm07LXdlYmtpdC1mb250LXNtb290aGluZzphbnRpYWxpYXNlZDstbW96LW9zeC1mb250LXNtb290aGluZzpncmF5c2NhbGU7YmFja2dyb3VuZC1jb2xvcjojMzMzfS50aXBweS10b29sdGlwW2RhdGEtc2l6ZT1zbWFsbF17cGFkZGluZzouMnJlbSAuNHJlbTtmb250LXNpemU6Ljc1cmVtfS50aXBweS10b29sdGlwW2RhdGEtc2l6ZT1sYXJnZV17cGFkZGluZzouNHJlbSAuOHJlbTtmb250LXNpemU6MXJlbX0udGlwcHktdG9vbHRpcFtkYXRhLWFuaW1hdGVmaWxsXXtvdmVyZmxvdzpoaWRkZW47YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0udGlwcHktdG9vbHRpcFtkYXRhLWFuaW1hdGVmaWxsXSAudGlwcHktY29udGVudHt0cmFuc2l0aW9uOi13ZWJraXQtY2xpcC1wYXRoIGN1YmljLWJlemllciguNDYsLjEsLjUyLC45OCk7dHJhbnNpdGlvbjpjbGlwLXBhdGggY3ViaWMtYmV6aWVyKC40NiwuMSwuNTIsLjk4KTt0cmFuc2l0aW9uOmNsaXAtcGF0aCBjdWJpYy1iZXppZXIoLjQ2LC4xLC41MiwuOTgpLC13ZWJraXQtY2xpcC1wYXRoIGN1YmljLWJlemllciguNDYsLjEsLjUyLC45OCl9LnRpcHB5LXRvb2x0aXBbZGF0YS1pbnRlcmFjdGl2ZV0sLnRpcHB5LXRvb2x0aXBbZGF0YS1pbnRlcmFjdGl2ZV0gcGF0aHtwb2ludGVyLWV2ZW50czphdXRvfS50aXBweS10b29sdGlwW2RhdGEtaW5lcnRpYV1bZGF0YS1zdGF0ZT12aXNpYmxlXXt0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjUzLDIsLjM2LC44NSl9LnRpcHB5LXRvb2x0aXBbZGF0YS1pbmVydGlhXVtkYXRhLXN0YXRlPWhpZGRlbl17dHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZX0udGlwcHktYXJyb3csLnRpcHB5LXJvdW5kYXJyb3d7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MDtoZWlnaHQ6MH0udGlwcHktcm91bmRhcnJvd3t3aWR0aDoyNHB4O2hlaWdodDo4cHg7ZmlsbDojMzMzO3BvaW50ZXItZXZlbnRzOm5vbmV9LnRpcHB5LWJhY2tkcm9we3Bvc2l0aW9uOmFic29sdXRlO3dpbGwtY2hhbmdlOnRyYW5zZm9ybTtiYWNrZ3JvdW5kLWNvbG9yOiMzMzM7Ym9yZGVyLXJhZGl1czo1MCU7d2lkdGg6MjYlO2xlZnQ6NTAlO3RvcDo1MCU7ei1pbmRleDotMTt0cmFuc2l0aW9uOmFsbCBjdWJpYy1iZXppZXIoLjQ2LC4xLC41MiwuOTgpOy13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTpoaWRkZW47YmFja2ZhY2UtdmlzaWJpbGl0eTpoaWRkZW59LnRpcHB5LWJhY2tkcm9wOmFmdGVye2NvbnRlbnQ6XFxcIlxcXCI7ZmxvYXQ6bGVmdDtwYWRkaW5nLXRvcDoxMDAlfWJvZHk6bm90KC50aXBweS10b3VjaCkgLnRpcHB5LXRvb2x0aXBbZGF0YS1hbmltYXRlZmlsbF1bZGF0YS1zdGF0ZT12aXNpYmxlXSAudGlwcHktY29udGVudHstd2Via2l0LWNsaXAtcGF0aDplbGxpcHNlKDEwMCUgMTAwJSBhdCA1MCUgNTAlKTtjbGlwLXBhdGg6ZWxsaXBzZSgxMDAlIDEwMCUgYXQgNTAlIDUwJSl9Ym9keTpub3QoLnRpcHB5LXRvdWNoKSAudGlwcHktdG9vbHRpcFtkYXRhLWFuaW1hdGVmaWxsXVtkYXRhLXN0YXRlPWhpZGRlbl0gLnRpcHB5LWNvbnRlbnR7LXdlYmtpdC1jbGlwLXBhdGg6ZWxsaXBzZSg1JSA1MCUgYXQgNTAlIDUwJSk7Y2xpcC1wYXRoOmVsbGlwc2UoNSUgNTAlIGF0IDUwJSA1MCUpfWJvZHk6bm90KC50aXBweS10b3VjaCkgLnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudD1yaWdodF0gLnRpcHB5LXRvb2x0aXBbZGF0YS1hbmltYXRlZmlsbF1bZGF0YS1zdGF0ZT12aXNpYmxlXSAudGlwcHktY29udGVudHstd2Via2l0LWNsaXAtcGF0aDplbGxpcHNlKDEzNSUgMTAwJSBhdCAwIDUwJSk7Y2xpcC1wYXRoOmVsbGlwc2UoMTM1JSAxMDAlIGF0IDAgNTAlKX1ib2R5Om5vdCgudGlwcHktdG91Y2gpIC50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnQ9cmlnaHRdIC50aXBweS10b29sdGlwW2RhdGEtYW5pbWF0ZWZpbGxdW2RhdGEtc3RhdGU9aGlkZGVuXSAudGlwcHktY29udGVudHstd2Via2l0LWNsaXAtcGF0aDplbGxpcHNlKDQwJSAxMDAlIGF0IDAgNTAlKTtjbGlwLXBhdGg6ZWxsaXBzZSg0MCUgMTAwJSBhdCAwIDUwJSl9Ym9keTpub3QoLnRpcHB5LXRvdWNoKSAudGlwcHktcG9wcGVyW3gtcGxhY2VtZW50PWxlZnRdIC50aXBweS10b29sdGlwW2RhdGEtYW5pbWF0ZWZpbGxdW2RhdGEtc3RhdGU9dmlzaWJsZV0gLnRpcHB5LWNvbnRlbnR7LXdlYmtpdC1jbGlwLXBhdGg6ZWxsaXBzZSgxMzUlIDEwMCUgYXQgMTAwJSA1MCUpO2NsaXAtcGF0aDplbGxpcHNlKDEzNSUgMTAwJSBhdCAxMDAlIDUwJSl9Ym9keTpub3QoLnRpcHB5LXRvdWNoKSAudGlwcHktcG9wcGVyW3gtcGxhY2VtZW50PWxlZnRdIC50aXBweS10b29sdGlwW2RhdGEtYW5pbWF0ZWZpbGxdW2RhdGEtc3RhdGU9aGlkZGVuXSAudGlwcHktY29udGVudHstd2Via2l0LWNsaXAtcGF0aDplbGxpcHNlKDQwJSAxMDAlIGF0IDEwMCUgNTAlKTtjbGlwLXBhdGg6ZWxsaXBzZSg0MCUgMTAwJSBhdCAxMDAlIDUwJSl9QG1lZGlhIChtYXgtd2lkdGg6MzYwcHgpey50aXBweS1wb3BwZXJ7bWF4LXdpZHRoOjk2JTttYXgtd2lkdGg6Y2FsYygxMDAlIC0gMjBweCl9fVwiO1xuXG52YXIgdmVyc2lvbiA9IFwiMi41LjJcIjtcblxudmFyIGlzQnJvd3NlciA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xuXG52YXIgaXNJRSA9IGlzQnJvd3NlciAmJiAvTVNJRSB8VHJpZGVudFxcLy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblxudmFyIGJyb3dzZXIgPSB7fTtcblxuaWYgKGlzQnJvd3Nlcikge1xuICBicm93c2VyLnN1cHBvcnRlZCA9ICdyZXF1ZXN0QW5pbWF0aW9uRnJhbWUnIGluIHdpbmRvdztcbiAgYnJvd3Nlci5zdXBwb3J0c1RvdWNoID0gJ29udG91Y2hzdGFydCcgaW4gd2luZG93O1xuICBicm93c2VyLnVzaW5nVG91Y2ggPSBmYWxzZTtcbiAgYnJvd3Nlci5keW5hbWljSW5wdXREZXRlY3Rpb24gPSB0cnVlO1xuICBicm93c2VyLmlPUyA9IC9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkgJiYgIXdpbmRvdy5NU1N0cmVhbTtcbiAgYnJvd3Nlci5vblVzZXJJbnB1dENoYW5nZSA9IGZ1bmN0aW9uICgpIHt9O1xufVxuXG4vKipcbiAqIFNlbGVjdG9yIGNvbnN0YW50cyB1c2VkIGZvciBncmFiYmluZyBlbGVtZW50c1xuICovXG52YXIgc2VsZWN0b3JzID0ge1xuICBQT1BQRVI6ICcudGlwcHktcG9wcGVyJyxcbiAgVE9PTFRJUDogJy50aXBweS10b29sdGlwJyxcbiAgQ09OVEVOVDogJy50aXBweS1jb250ZW50JyxcbiAgQkFDS0RST1A6ICcudGlwcHktYmFja2Ryb3AnLFxuICBBUlJPVzogJy50aXBweS1hcnJvdycsXG4gIFJPVU5EX0FSUk9XOiAnLnRpcHB5LXJvdW5kYXJyb3cnLFxuICBSRUZFUkVOQ0U6ICdbZGF0YS10aXBweV0nXG59O1xuXG52YXIgZGVmYXVsdHMgPSB7XG4gIHBsYWNlbWVudDogJ3RvcCcsXG4gIGxpdmVQbGFjZW1lbnQ6IHRydWUsXG4gIHRyaWdnZXI6ICdtb3VzZWVudGVyIGZvY3VzJyxcbiAgYW5pbWF0aW9uOiAnc2hpZnQtYXdheScsXG4gIGh0bWw6IGZhbHNlLFxuICBhbmltYXRlRmlsbDogdHJ1ZSxcbiAgYXJyb3c6IGZhbHNlLFxuICBkZWxheTogMCxcbiAgZHVyYXRpb246IFszNTAsIDMwMF0sXG4gIGludGVyYWN0aXZlOiBmYWxzZSxcbiAgaW50ZXJhY3RpdmVCb3JkZXI6IDIsXG4gIHRoZW1lOiAnZGFyaycsXG4gIHNpemU6ICdyZWd1bGFyJyxcbiAgZGlzdGFuY2U6IDEwLFxuICBvZmZzZXQ6IDAsXG4gIGhpZGVPbkNsaWNrOiB0cnVlLFxuICBtdWx0aXBsZTogZmFsc2UsXG4gIGZvbGxvd0N1cnNvcjogZmFsc2UsXG4gIGluZXJ0aWE6IGZhbHNlLFxuICB1cGRhdGVEdXJhdGlvbjogMzUwLFxuICBzdGlja3k6IGZhbHNlLFxuICBhcHBlbmRUbzogZnVuY3Rpb24gYXBwZW5kVG8oKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmJvZHk7XG4gIH0sXG4gIHpJbmRleDogOTk5OSxcbiAgdG91Y2hIb2xkOiBmYWxzZSxcbiAgcGVyZm9ybWFuY2U6IGZhbHNlLFxuICBkeW5hbWljVGl0bGU6IGZhbHNlLFxuICBmbGlwOiB0cnVlLFxuICBmbGlwQmVoYXZpb3I6ICdmbGlwJyxcbiAgYXJyb3dUeXBlOiAnc2hhcnAnLFxuICBhcnJvd1RyYW5zZm9ybTogJycsXG4gIG1heFdpZHRoOiAnJyxcbiAgdGFyZ2V0OiBudWxsLFxuICBhbGxvd1RpdGxlSFRNTDogdHJ1ZSxcbiAgcG9wcGVyT3B0aW9uczoge30sXG4gIGNyZWF0ZVBvcHBlckluc3RhbmNlT25Jbml0OiBmYWxzZSxcbiAgb25TaG93OiBmdW5jdGlvbiBvblNob3coKSB7fSxcbiAgb25TaG93bjogZnVuY3Rpb24gb25TaG93bigpIHt9LFxuICBvbkhpZGU6IGZ1bmN0aW9uIG9uSGlkZSgpIHt9LFxuICBvbkhpZGRlbjogZnVuY3Rpb24gb25IaWRkZW4oKSB7fVxufTtcblxuLyoqXG4gKiBUaGUga2V5cyBvZiB0aGUgZGVmYXVsdHMgb2JqZWN0IGZvciByZWR1Y2luZyBkb3duIGludG8gYSBuZXcgb2JqZWN0XG4gKiBVc2VkIGluIGBnZXRJbmRpdmlkdWFsT3B0aW9ucygpYFxuICovXG52YXIgZGVmYXVsdHNLZXlzID0gYnJvd3Nlci5zdXBwb3J0ZWQgJiYgT2JqZWN0LmtleXMoZGVmYXVsdHMpO1xuXG4vKipcbiAqIERldGVybWluZXMgaWYgYSB2YWx1ZSBpcyBhbiBvYmplY3QgbGl0ZXJhbFxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaXRlcmFsKHZhbHVlKSB7XG4gIHJldHVybiB7fS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG59XG5cbi8qKlxuICogUG9ueWZpbGwgZm9yIEFycmF5LmZyb21cbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5mdW5jdGlvbiB0b0FycmF5KHZhbHVlKSB7XG4gIHJldHVybiBbXS5zbGljZS5jYWxsKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGFuIGFycmF5IG9mIGVsZW1lbnRzIGJhc2VkIG9uIHRoZSBzZWxlY3RvciBpbnB1dFxuICogQHBhcmFtIHtTdHJpbmd8RWxlbWVudHxFbGVtZW50W118Tm9kZUxpc3R8T2JqZWN0fSBzZWxlY3RvclxuICogQHJldHVybiB7RWxlbWVudFtdfVxuICovXG5mdW5jdGlvbiBnZXRBcnJheU9mRWxlbWVudHMoc2VsZWN0b3IpIHtcbiAgaWYgKHNlbGVjdG9yIGluc3RhbmNlb2YgRWxlbWVudCB8fCBpc09iamVjdExpdGVyYWwoc2VsZWN0b3IpKSB7XG4gICAgcmV0dXJuIFtzZWxlY3Rvcl07XG4gIH1cblxuICBpZiAoc2VsZWN0b3IgaW5zdGFuY2VvZiBOb2RlTGlzdCkge1xuICAgIHJldHVybiB0b0FycmF5KHNlbGVjdG9yKTtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KHNlbGVjdG9yKSkge1xuICAgIHJldHVybiBzZWxlY3RvcjtcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmV0dXJuIHRvQXJyYXkoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpO1xuICB9IGNhdGNoIChfKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59XG5cbi8qKlxuICogUG9seWZpbGxzIG5lZWRlZCBwcm9wcy9tZXRob2RzIGZvciBhIHZpcnR1YWwgcmVmZXJlbmNlIG9iamVjdFxuICogTk9URTogaW4gdjMuMCB0aGlzIHdpbGwgYmUgcHVyZVxuICogQHBhcmFtIHtPYmplY3R9IHJlZmVyZW5jZVxuICovXG5mdW5jdGlvbiBwb2x5ZmlsbFZpcnR1YWxSZWZlcmVuY2VQcm9wcyhyZWZlcmVuY2UpIHtcbiAgcmVmZXJlbmNlLnJlZk9iaiA9IHRydWU7XG4gIHJlZmVyZW5jZS5hdHRyaWJ1dGVzID0gcmVmZXJlbmNlLmF0dHJpYnV0ZXMgfHwge307XG4gIHJlZmVyZW5jZS5zZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbiAoa2V5LCB2YWwpIHtcbiAgICByZWZlcmVuY2UuYXR0cmlidXRlc1trZXldID0gdmFsO1xuICB9O1xuICByZWZlcmVuY2UuZ2V0QXR0cmlidXRlID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiByZWZlcmVuY2UuYXR0cmlidXRlc1trZXldO1xuICB9O1xuICByZWZlcmVuY2UucmVtb3ZlQXR0cmlidXRlID0gZnVuY3Rpb24gKGtleSkge1xuICAgIGRlbGV0ZSByZWZlcmVuY2UuYXR0cmlidXRlc1trZXldO1xuICB9O1xuICByZWZlcmVuY2UuaGFzQXR0cmlidXRlID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBrZXkgaW4gcmVmZXJlbmNlLmF0dHJpYnV0ZXM7XG4gIH07XG4gIHJlZmVyZW5jZS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKCkge307XG4gIHJlZmVyZW5jZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKCkge307XG4gIHJlZmVyZW5jZS5jbGFzc0xpc3QgPSB7XG4gICAgY2xhc3NOYW1lczoge30sXG4gICAgYWRkOiBmdW5jdGlvbiBhZGQoa2V5KSB7XG4gICAgICByZXR1cm4gcmVmZXJlbmNlLmNsYXNzTGlzdC5jbGFzc05hbWVzW2tleV0gPSB0cnVlO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoa2V5KSB7XG4gICAgICBkZWxldGUgcmVmZXJlbmNlLmNsYXNzTGlzdC5jbGFzc05hbWVzW2tleV07XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIGNvbnRhaW5zOiBmdW5jdGlvbiBjb250YWlucyhrZXkpIHtcbiAgICAgIHJldHVybiBrZXkgaW4gcmVmZXJlbmNlLmNsYXNzTGlzdC5jbGFzc05hbWVzO1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzdXBwb3J0ZWQgcHJlZml4ZWQgcHJvcGVydHkgLSBvbmx5IGB3ZWJraXRgIGlzIG5lZWRlZCwgYG1vemAsIGBtc2AgYW5kIGBvYCBhcmUgb2Jzb2xldGVcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuICogQHJldHVybiB7U3RyaW5nfSAtIGJyb3dzZXIgc3VwcG9ydGVkIHByZWZpeGVkIHByb3BlcnR5XG4gKi9cbmZ1bmN0aW9uIHByZWZpeChwcm9wZXJ0eSkge1xuICB2YXIgcHJlZml4ZXMgPSBbJycsICd3ZWJraXQnXTtcbiAgdmFyIHVwcGVyUHJvcCA9IHByb3BlcnR5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcHJvcGVydHkuc2xpY2UoMSk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmVmaXhlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBfcHJlZml4ID0gcHJlZml4ZXNbaV07XG4gICAgdmFyIHByZWZpeGVkUHJvcCA9IF9wcmVmaXggPyBfcHJlZml4ICsgdXBwZXJQcm9wIDogcHJvcGVydHk7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudC5ib2R5LnN0eWxlW3ByZWZpeGVkUHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gcHJlZml4ZWRQcm9wO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBkaXYgZWxlbWVudFxuICogQHJldHVybiB7RWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gZGl2KCkge1xuICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHBvcHBlciBlbGVtZW50IHRoZW4gcmV0dXJucyBpdFxuICogQHBhcmFtIHtOdW1iZXJ9IGlkIC0gdGhlIHBvcHBlciBpZFxuICogQHBhcmFtIHtTdHJpbmd9IHRpdGxlIC0gdGhlIHRvb2x0aXAncyBgdGl0bGVgIGF0dHJpYnV0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBpbmRpdmlkdWFsIG9wdGlvbnNcbiAqIEByZXR1cm4ge0VsZW1lbnR9IC0gdGhlIHBvcHBlciBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVBvcHBlckVsZW1lbnQoaWQsIHRpdGxlLCBvcHRpb25zKSB7XG4gIHZhciBwb3BwZXIgPSBkaXYoKTtcbiAgcG9wcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndGlwcHktcG9wcGVyJyk7XG4gIHBvcHBlci5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAndG9vbHRpcCcpO1xuICBwb3BwZXIuc2V0QXR0cmlidXRlKCdpZCcsICd0aXBweS0nICsgaWQpO1xuICBwb3BwZXIuc3R5bGUuekluZGV4ID0gb3B0aW9ucy56SW5kZXg7XG4gIHBvcHBlci5zdHlsZS5tYXhXaWR0aCA9IG9wdGlvbnMubWF4V2lkdGg7XG5cbiAgdmFyIHRvb2x0aXAgPSBkaXYoKTtcbiAgdG9vbHRpcC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3RpcHB5LXRvb2x0aXAnKTtcbiAgdG9vbHRpcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2l6ZScsIG9wdGlvbnMuc2l6ZSk7XG4gIHRvb2x0aXAuc2V0QXR0cmlidXRlKCdkYXRhLWFuaW1hdGlvbicsIG9wdGlvbnMuYW5pbWF0aW9uKTtcbiAgdG9vbHRpcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3RhdGUnLCAnaGlkZGVuJyk7XG4gIG9wdGlvbnMudGhlbWUuc3BsaXQoJyAnKS5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XG4gICAgdG9vbHRpcC5jbGFzc0xpc3QuYWRkKHQgKyAnLXRoZW1lJyk7XG4gIH0pO1xuXG4gIHZhciBjb250ZW50ID0gZGl2KCk7XG4gIGNvbnRlbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsICd0aXBweS1jb250ZW50Jyk7XG5cbiAgaWYgKG9wdGlvbnMuYXJyb3cpIHtcbiAgICB2YXIgYXJyb3cgPSBkaXYoKTtcbiAgICBhcnJvdy5zdHlsZVtwcmVmaXgoJ3RyYW5zZm9ybScpXSA9IG9wdGlvbnMuYXJyb3dUcmFuc2Zvcm07XG5cbiAgICBpZiAob3B0aW9ucy5hcnJvd1R5cGUgPT09ICdyb3VuZCcpIHtcbiAgICAgIGFycm93LmNsYXNzTGlzdC5hZGQoJ3RpcHB5LXJvdW5kYXJyb3cnKTtcbiAgICAgIGFycm93LmlubmVySFRNTCA9ICc8c3ZnIHZpZXdCb3g9XCIwIDAgMjQgOFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTMgOHMyLjAyMS0uMDE1IDUuMjUzLTQuMjE4QzkuNTg0IDIuMDUxIDEwLjc5NyAxLjAwNyAxMiAxYzEuMjAzLS4wMDcgMi40MTYgMS4wMzUgMy43NjEgMi43ODJDMTkuMDEyIDguMDA1IDIxIDggMjEgOEgzelwiLz48L3N2Zz4nO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcnJvdy5jbGFzc0xpc3QuYWRkKCd0aXBweS1hcnJvdycpO1xuICAgIH1cblxuICAgIHRvb2x0aXAuYXBwZW5kQ2hpbGQoYXJyb3cpO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMuYW5pbWF0ZUZpbGwpIHtcbiAgICAvLyBDcmVhdGUgYW5pbWF0ZUZpbGwgY2lyY2xlIGVsZW1lbnQgZm9yIGFuaW1hdGlvblxuICAgIHRvb2x0aXAuc2V0QXR0cmlidXRlKCdkYXRhLWFuaW1hdGVmaWxsJywgJycpO1xuICAgIHZhciBiYWNrZHJvcCA9IGRpdigpO1xuICAgIGJhY2tkcm9wLmNsYXNzTGlzdC5hZGQoJ3RpcHB5LWJhY2tkcm9wJyk7XG4gICAgYmFja2Ryb3Auc2V0QXR0cmlidXRlKCdkYXRhLXN0YXRlJywgJ2hpZGRlbicpO1xuICAgIHRvb2x0aXAuYXBwZW5kQ2hpbGQoYmFja2Ryb3ApO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMuaW5lcnRpYSkge1xuICAgIC8vIENoYW5nZSB0cmFuc2l0aW9uIHRpbWluZyBmdW5jdGlvbiBjdWJpYyBiZXppZXJcbiAgICB0b29sdGlwLnNldEF0dHJpYnV0ZSgnZGF0YS1pbmVydGlhJywgJycpO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMuaW50ZXJhY3RpdmUpIHtcbiAgICB0b29sdGlwLnNldEF0dHJpYnV0ZSgnZGF0YS1pbnRlcmFjdGl2ZScsICcnKTtcbiAgfVxuXG4gIHZhciBodG1sID0gb3B0aW9ucy5odG1sO1xuICBpZiAoaHRtbCkge1xuICAgIHZhciB0ZW1wbGF0ZUlkID0gdm9pZCAwO1xuXG4gICAgaWYgKGh0bWwgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICBjb250ZW50LmFwcGVuZENoaWxkKGh0bWwpO1xuICAgICAgdGVtcGxhdGVJZCA9ICcjJyArIChodG1sLmlkIHx8ICd0aXBweS1odG1sLXRlbXBsYXRlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHRyaWNrIGxpbnRlcnM6IGh0dHBzOi8vZ2l0aHViLmNvbS9hdG9taWtzL3RpcHB5anMvaXNzdWVzLzE5N1xuICAgICAgY29udGVudFt0cnVlICYmICdpbm5lckhUTUwnXSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaHRtbClbdHJ1ZSAmJiAnaW5uZXJIVE1MJ107XG4gICAgICB0ZW1wbGF0ZUlkID0gaHRtbDtcbiAgICB9XG5cbiAgICBwb3BwZXIuc2V0QXR0cmlidXRlKCdkYXRhLWh0bWwnLCAnJyk7XG4gICAgdG9vbHRpcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGVtcGxhdGUtaWQnLCB0ZW1wbGF0ZUlkKTtcblxuICAgIGlmIChvcHRpb25zLmludGVyYWN0aXZlKSB7XG4gICAgICBwb3BwZXIuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICctMScpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb250ZW50W29wdGlvbnMuYWxsb3dUaXRsZUhUTUwgPyAnaW5uZXJIVE1MJyA6ICd0ZXh0Q29udGVudCddID0gdGl0bGU7XG4gIH1cblxuICB0b29sdGlwLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICBwb3BwZXIuYXBwZW5kQ2hpbGQodG9vbHRpcCk7XG5cbiAgcmV0dXJuIHBvcHBlcjtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgdHJpZ2dlciBieSBhZGRpbmcgdGhlIG5lY2Vzc2FyeSBldmVudCBsaXN0ZW5lcnMgdG8gdGhlIHJlZmVyZW5jZSBlbGVtZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRUeXBlIC0gdGhlIGN1c3RvbSBldmVudCBzcGVjaWZpZWQgaW4gdGhlIGB0cmlnZ2VyYCBzZXR0aW5nXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHJlZmVyZW5jZVxuICogQHBhcmFtIHtPYmplY3R9IGhhbmRsZXJzIC0gdGhlIGhhbmRsZXJzIGZvciBlYWNoIGV2ZW50XG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQHJldHVybiB7QXJyYXl9IC0gYXJyYXkgb2YgbGlzdGVuZXIgb2JqZWN0c1xuICovXG5mdW5jdGlvbiBjcmVhdGVUcmlnZ2VyKGV2ZW50VHlwZSwgcmVmZXJlbmNlLCBoYW5kbGVycywgb3B0aW9ucykge1xuICB2YXIgb25UcmlnZ2VyID0gaGFuZGxlcnMub25UcmlnZ2VyLFxuICAgICAgb25Nb3VzZUxlYXZlID0gaGFuZGxlcnMub25Nb3VzZUxlYXZlLFxuICAgICAgb25CbHVyID0gaGFuZGxlcnMub25CbHVyLFxuICAgICAgb25EZWxlZ2F0ZVNob3cgPSBoYW5kbGVycy5vbkRlbGVnYXRlU2hvdyxcbiAgICAgIG9uRGVsZWdhdGVIaWRlID0gaGFuZGxlcnMub25EZWxlZ2F0ZUhpZGU7XG5cbiAgdmFyIGxpc3RlbmVycyA9IFtdO1xuXG4gIGlmIChldmVudFR5cGUgPT09ICdtYW51YWwnKSByZXR1cm4gbGlzdGVuZXJzO1xuXG4gIHZhciBvbiA9IGZ1bmN0aW9uIG9uKGV2ZW50VHlwZSwgaGFuZGxlcikge1xuICAgIHJlZmVyZW5jZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgaGFuZGxlcik7XG4gICAgbGlzdGVuZXJzLnB1c2goeyBldmVudDogZXZlbnRUeXBlLCBoYW5kbGVyOiBoYW5kbGVyIH0pO1xuICB9O1xuXG4gIGlmICghb3B0aW9ucy50YXJnZXQpIHtcbiAgICBvbihldmVudFR5cGUsIG9uVHJpZ2dlcik7XG5cbiAgICBpZiAoYnJvd3Nlci5zdXBwb3J0c1RvdWNoICYmIG9wdGlvbnMudG91Y2hIb2xkKSB7XG4gICAgICBvbigndG91Y2hzdGFydCcsIG9uVHJpZ2dlcik7XG4gICAgICBvbigndG91Y2hlbmQnLCBvbk1vdXNlTGVhdmUpO1xuICAgIH1cbiAgICBpZiAoZXZlbnRUeXBlID09PSAnbW91c2VlbnRlcicpIHtcbiAgICAgIG9uKCdtb3VzZWxlYXZlJywgb25Nb3VzZUxlYXZlKTtcbiAgICB9XG4gICAgaWYgKGV2ZW50VHlwZSA9PT0gJ2ZvY3VzJykge1xuICAgICAgb24oaXNJRSA/ICdmb2N1c291dCcgOiAnYmx1cicsIG9uQmx1cik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChicm93c2VyLnN1cHBvcnRzVG91Y2ggJiYgb3B0aW9ucy50b3VjaEhvbGQpIHtcbiAgICAgIG9uKCd0b3VjaHN0YXJ0Jywgb25EZWxlZ2F0ZVNob3cpO1xuICAgICAgb24oJ3RvdWNoZW5kJywgb25EZWxlZ2F0ZUhpZGUpO1xuICAgIH1cbiAgICBpZiAoZXZlbnRUeXBlID09PSAnbW91c2VlbnRlcicpIHtcbiAgICAgIG9uKCdtb3VzZW92ZXInLCBvbkRlbGVnYXRlU2hvdyk7XG4gICAgICBvbignbW91c2VvdXQnLCBvbkRlbGVnYXRlSGlkZSk7XG4gICAgfVxuICAgIGlmIChldmVudFR5cGUgPT09ICdmb2N1cycpIHtcbiAgICAgIG9uKCdmb2N1c2luJywgb25EZWxlZ2F0ZVNob3cpO1xuICAgICAgb24oJ2ZvY3Vzb3V0Jywgb25EZWxlZ2F0ZUhpZGUpO1xuICAgIH1cbiAgICBpZiAoZXZlbnRUeXBlID09PSAnY2xpY2snKSB7XG4gICAgICBvbignY2xpY2snLCBvbkRlbGVnYXRlU2hvdyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGxpc3RlbmVycztcbn1cblxudmFyIGNsYXNzQ2FsbENoZWNrID0gZnVuY3Rpb24gKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn07XG5cbnZhciBjcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfTtcbn0oKTtcblxuXG5cblxuXG5cblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhbiBvYmplY3Qgb2Ygc2V0dGluZ3MgdG8gb3ZlcnJpZGUgZ2xvYmFsIHNldHRpbmdzXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHJlZmVyZW5jZVxuICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlT3B0aW9uc1xuICogQHJldHVybiB7T2JqZWN0fSAtIGluZGl2aWR1YWwgb3B0aW9uc1xuICovXG5mdW5jdGlvbiBnZXRJbmRpdmlkdWFsT3B0aW9ucyhyZWZlcmVuY2UsIGluc3RhbmNlT3B0aW9ucykge1xuICB2YXIgb3B0aW9ucyA9IGRlZmF1bHRzS2V5cy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgdmFyIHZhbCA9IHJlZmVyZW5jZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGlwcHktJyArIGtleS50b0xvd2VyQ2FzZSgpKSB8fCBpbnN0YW5jZU9wdGlvbnNba2V5XTtcblxuICAgIC8vIENvbnZlcnQgc3RyaW5ncyB0byBib29sZWFuc1xuICAgIGlmICh2YWwgPT09ICdmYWxzZScpIHZhbCA9IGZhbHNlO1xuICAgIGlmICh2YWwgPT09ICd0cnVlJykgdmFsID0gdHJ1ZTtcblxuICAgIC8vIENvbnZlcnQgbnVtYmVyIHN0cmluZ3MgdG8gdHJ1ZSBudW1iZXJzXG4gICAgaWYgKGlzRmluaXRlKHZhbCkgJiYgIWlzTmFOKHBhcnNlRmxvYXQodmFsKSkpIHtcbiAgICAgIHZhbCA9IHBhcnNlRmxvYXQodmFsKTtcbiAgICB9XG5cbiAgICAvLyBDb252ZXJ0IGFycmF5IHN0cmluZ3MgdG8gYWN0dWFsIGFycmF5c1xuICAgIGlmIChrZXkgIT09ICd0YXJnZXQnICYmIHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnICYmIHZhbC50cmltKCkuY2hhckF0KDApID09PSAnWycpIHtcbiAgICAgIHZhbCA9IEpTT04ucGFyc2UodmFsKTtcbiAgICB9XG5cbiAgICBhY2Nba2V5XSA9IHZhbDtcblxuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9KTtcblxuICByZXR1cm4gX2V4dGVuZHMoe30sIGluc3RhbmNlT3B0aW9ucywgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogRXZhbHVhdGVzL21vZGlmaWVzIHRoZSBvcHRpb25zIG9iamVjdCBmb3IgYXBwcm9wcmlhdGUgYmVoYXZpb3JcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IHJlZmVyZW5jZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm4ge09iamVjdH0gbW9kaWZpZWQvZXZhbHVhdGVkIG9wdGlvbnNcbiAqL1xuZnVuY3Rpb24gZXZhbHVhdGVPcHRpb25zKHJlZmVyZW5jZSwgb3B0aW9ucykge1xuICAvLyBhbmltYXRlRmlsbCBpcyBkaXNhYmxlZCBpZiBhbiBhcnJvdyBpcyB0cnVlXG4gIGlmIChvcHRpb25zLmFycm93KSB7XG4gICAgb3B0aW9ucy5hbmltYXRlRmlsbCA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMuYXBwZW5kVG8gJiYgdHlwZW9mIG9wdGlvbnMuYXBwZW5kVG8gPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmFwcGVuZFRvID0gb3B0aW9ucy5hcHBlbmRUbygpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmh0bWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmh0bWwgPSBvcHRpb25zLmh0bWwocmVmZXJlbmNlKTtcbiAgfVxuXG4gIHJldHVybiBvcHRpb25zO1xufVxuXG4vKipcbiAqIFJldHVybnMgaW5uZXIgZWxlbWVudHMgb2YgdGhlIHBvcHBlciBlbGVtZW50XG4gKiBAcGFyYW0ge0VsZW1lbnR9IHBvcHBlclxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBnZXRJbm5lckVsZW1lbnRzKHBvcHBlcikge1xuICB2YXIgc2VsZWN0ID0gZnVuY3Rpb24gc2VsZWN0KHMpIHtcbiAgICByZXR1cm4gcG9wcGVyLnF1ZXJ5U2VsZWN0b3Iocyk7XG4gIH07XG4gIHJldHVybiB7XG4gICAgdG9vbHRpcDogc2VsZWN0KHNlbGVjdG9ycy5UT09MVElQKSxcbiAgICBiYWNrZHJvcDogc2VsZWN0KHNlbGVjdG9ycy5CQUNLRFJPUCksXG4gICAgY29udGVudDogc2VsZWN0KHNlbGVjdG9ycy5DT05URU5UKSxcbiAgICBhcnJvdzogc2VsZWN0KHNlbGVjdG9ycy5BUlJPVykgfHwgc2VsZWN0KHNlbGVjdG9ycy5ST1VORF9BUlJPVylcbiAgfTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIHRoZSB0aXRsZSBmcm9tIGFuIGVsZW1lbnQsIHNldHRpbmcgYGRhdGEtb3JpZ2luYWwtdGl0bGVgXG4gKiBhcHByb3ByaWF0ZWx5XG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZVRpdGxlKGVsKSB7XG4gIHZhciB0aXRsZSA9IGVsLmdldEF0dHJpYnV0ZSgndGl0bGUnKTtcbiAgLy8gT25seSBzZXQgYGRhdGEtb3JpZ2luYWwtdGl0bGVgIGF0dHIgaWYgdGhlcmUgaXMgYSB0aXRsZVxuICBpZiAodGl0bGUpIHtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnLCB0aXRsZSk7XG4gIH1cbiAgZWwucmVtb3ZlQXR0cmlidXRlKCd0aXRsZScpO1xufVxuXG4vKiohXG4gKiBAZmlsZU92ZXJ2aWV3IEtpY2thc3MgbGlicmFyeSB0byBjcmVhdGUgYW5kIHBsYWNlIHBvcHBlcnMgbmVhciB0aGVpciByZWZlcmVuY2UgZWxlbWVudHMuXG4gKiBAdmVyc2lvbiAxLjE0LjNcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTYgRmVkZXJpY28gWml2b2xvIGFuZCBjb250cmlidXRvcnNcbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsXG4gKiBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEVcbiAqIFNPRlRXQVJFLlxuICovXG52YXIgaXNCcm93c2VyJDEgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xuXG52YXIgbG9uZ2VyVGltZW91dEJyb3dzZXJzID0gWydFZGdlJywgJ1RyaWRlbnQnLCAnRmlyZWZveCddO1xudmFyIHRpbWVvdXREdXJhdGlvbiA9IDA7XG5mb3IgKHZhciBpID0gMDsgaSA8IGxvbmdlclRpbWVvdXRCcm93c2Vycy5sZW5ndGg7IGkgKz0gMSkge1xuICBpZiAoaXNCcm93c2VyJDEgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKGxvbmdlclRpbWVvdXRCcm93c2Vyc1tpXSkgPj0gMCkge1xuICAgIHRpbWVvdXREdXJhdGlvbiA9IDE7XG4gICAgYnJlYWs7XG4gIH1cbn1cblxuZnVuY3Rpb24gbWljcm90YXNrRGVib3VuY2UoZm4pIHtcbiAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmIChjYWxsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2FsbGVkID0gdHJ1ZTtcbiAgICB3aW5kb3cuUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsZWQgPSBmYWxzZTtcbiAgICAgIGZuKCk7XG4gICAgfSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHRhc2tEZWJvdW5jZShmbikge1xuICB2YXIgc2NoZWR1bGVkID0gZmFsc2U7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFzY2hlZHVsZWQpIHtcbiAgICAgIHNjaGVkdWxlZCA9IHRydWU7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2NoZWR1bGVkID0gZmFsc2U7XG4gICAgICAgIGZuKCk7XG4gICAgICB9LCB0aW1lb3V0RHVyYXRpb24pO1xuICAgIH1cbiAgfTtcbn1cblxudmFyIHN1cHBvcnRzTWljcm9UYXNrcyA9IGlzQnJvd3NlciQxICYmIHdpbmRvdy5Qcm9taXNlO1xuXG4vKipcbiogQ3JlYXRlIGEgZGVib3VuY2VkIHZlcnNpb24gb2YgYSBtZXRob2QsIHRoYXQncyBhc3luY2hyb25vdXNseSBkZWZlcnJlZFxuKiBidXQgY2FsbGVkIGluIHRoZSBtaW5pbXVtIHRpbWUgcG9zc2libGUuXG4qXG4qIEBtZXRob2RcbiogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuKiBAYXJndW1lbnQge0Z1bmN0aW9ufSBmblxuKiBAcmV0dXJucyB7RnVuY3Rpb259XG4qL1xudmFyIGRlYm91bmNlID0gc3VwcG9ydHNNaWNyb1Rhc2tzID8gbWljcm90YXNrRGVib3VuY2UgOiB0YXNrRGVib3VuY2U7XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIGEgZnVuY3Rpb25cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7QW55fSBmdW5jdGlvblRvQ2hlY2sgLSB2YXJpYWJsZSB0byBjaGVja1xuICogQHJldHVybnMge0Jvb2xlYW59IGFuc3dlciB0bzogaXMgYSBmdW5jdGlvbj9cbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbihmdW5jdGlvblRvQ2hlY2spIHtcbiAgdmFyIGdldFR5cGUgPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uVG9DaGVjayAmJiBnZXRUeXBlLnRvU3RyaW5nLmNhbGwoZnVuY3Rpb25Ub0NoZWNrKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbn1cblxuLyoqXG4gKiBHZXQgQ1NTIGNvbXB1dGVkIHByb3BlcnR5IG9mIHRoZSBnaXZlbiBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VlbWVudH0gZWxlbWVudFxuICogQGFyZ3VtZW50IHtTdHJpbmd9IHByb3BlcnR5XG4gKi9cbmZ1bmN0aW9uIGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShlbGVtZW50LCBwcm9wZXJ0eSkge1xuICBpZiAoZWxlbWVudC5ub2RlVHlwZSAhPT0gMSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICAvLyBOT1RFOiAxIERPTSBhY2Nlc3MgaGVyZVxuICB2YXIgY3NzID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBudWxsKTtcbiAgcmV0dXJuIHByb3BlcnR5ID8gY3NzW3Byb3BlcnR5XSA6IGNzcztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBwYXJlbnROb2RlIG9yIHRoZSBob3N0IG9mIHRoZSBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtFbGVtZW50fSBwYXJlbnRcbiAqL1xuZnVuY3Rpb24gZ2V0UGFyZW50Tm9kZShlbGVtZW50KSB7XG4gIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnSFRNTCcpIHtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuICByZXR1cm4gZWxlbWVudC5wYXJlbnROb2RlIHx8IGVsZW1lbnQuaG9zdDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzY3JvbGxpbmcgcGFyZW50IG9mIHRoZSBnaXZlbiBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtFbGVtZW50fSBzY3JvbGwgcGFyZW50XG4gKi9cbmZ1bmN0aW9uIGdldFNjcm9sbFBhcmVudChlbGVtZW50KSB7XG4gIC8vIFJldHVybiBib2R5LCBgZ2V0U2Nyb2xsYCB3aWxsIHRha2UgY2FyZSB0byBnZXQgdGhlIGNvcnJlY3QgYHNjcm9sbFRvcGAgZnJvbSBpdFxuICBpZiAoIWVsZW1lbnQpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuYm9keTtcbiAgfVxuXG4gIHN3aXRjaCAoZWxlbWVudC5ub2RlTmFtZSkge1xuICAgIGNhc2UgJ0hUTUwnOlxuICAgIGNhc2UgJ0JPRFknOlxuICAgICAgcmV0dXJuIGVsZW1lbnQub3duZXJEb2N1bWVudC5ib2R5O1xuICAgIGNhc2UgJyNkb2N1bWVudCc6XG4gICAgICByZXR1cm4gZWxlbWVudC5ib2R5O1xuICB9XG5cbiAgLy8gRmlyZWZveCB3YW50IHVzIHRvIGNoZWNrIGAteGAgYW5kIGAteWAgdmFyaWF0aW9ucyBhcyB3ZWxsXG5cbiAgdmFyIF9nZXRTdHlsZUNvbXB1dGVkUHJvcCA9IGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShlbGVtZW50KSxcbiAgICAgIG92ZXJmbG93ID0gX2dldFN0eWxlQ29tcHV0ZWRQcm9wLm92ZXJmbG93LFxuICAgICAgb3ZlcmZsb3dYID0gX2dldFN0eWxlQ29tcHV0ZWRQcm9wLm92ZXJmbG93WCxcbiAgICAgIG92ZXJmbG93WSA9IF9nZXRTdHlsZUNvbXB1dGVkUHJvcC5vdmVyZmxvd1k7XG5cbiAgaWYgKC8oYXV0b3xzY3JvbGx8b3ZlcmxheSkvLnRlc3Qob3ZlcmZsb3cgKyBvdmVyZmxvd1kgKyBvdmVyZmxvd1gpKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cblxuICByZXR1cm4gZ2V0U2Nyb2xsUGFyZW50KGdldFBhcmVudE5vZGUoZWxlbWVudCkpO1xufVxuXG52YXIgaXNJRTExID0gaXNCcm93c2VyJDEgJiYgISEod2luZG93Lk1TSW5wdXRNZXRob2RDb250ZXh0ICYmIGRvY3VtZW50LmRvY3VtZW50TW9kZSk7XG52YXIgaXNJRTEwID0gaXNCcm93c2VyJDEgJiYgL01TSUUgMTAvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgYnJvd3NlciBpcyBJbnRlcm5ldCBFeHBsb3JlclxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHBhcmFtIHtOdW1iZXJ9IHZlcnNpb24gdG8gY2hlY2tcbiAqIEByZXR1cm5zIHtCb29sZWFufSBpc0lFXG4gKi9cbmZ1bmN0aW9uIGlzSUUkMSh2ZXJzaW9uKSB7XG4gIGlmICh2ZXJzaW9uID09PSAxMSkge1xuICAgIHJldHVybiBpc0lFMTE7XG4gIH1cbiAgaWYgKHZlcnNpb24gPT09IDEwKSB7XG4gICAgcmV0dXJuIGlzSUUxMDtcbiAgfVxuICByZXR1cm4gaXNJRTExIHx8IGlzSUUxMDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBvZmZzZXQgcGFyZW50IG9mIHRoZSBnaXZlbiBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtFbGVtZW50fSBvZmZzZXQgcGFyZW50XG4gKi9cbmZ1bmN0aW9uIGdldE9mZnNldFBhcmVudChlbGVtZW50KSB7XG4gIGlmICghZWxlbWVudCkge1xuICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIH1cblxuICB2YXIgbm9PZmZzZXRQYXJlbnQgPSBpc0lFJDEoMTApID8gZG9jdW1lbnQuYm9keSA6IG51bGw7XG5cbiAgLy8gTk9URTogMSBET00gYWNjZXNzIGhlcmVcbiAgdmFyIG9mZnNldFBhcmVudCA9IGVsZW1lbnQub2Zmc2V0UGFyZW50O1xuICAvLyBTa2lwIGhpZGRlbiBlbGVtZW50cyB3aGljaCBkb24ndCBoYXZlIGFuIG9mZnNldFBhcmVudFxuICB3aGlsZSAob2Zmc2V0UGFyZW50ID09PSBub09mZnNldFBhcmVudCAmJiBlbGVtZW50Lm5leHRFbGVtZW50U2libGluZykge1xuICAgIG9mZnNldFBhcmVudCA9IChlbGVtZW50ID0gZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcpLm9mZnNldFBhcmVudDtcbiAgfVxuXG4gIHZhciBub2RlTmFtZSA9IG9mZnNldFBhcmVudCAmJiBvZmZzZXRQYXJlbnQubm9kZU5hbWU7XG5cbiAgaWYgKCFub2RlTmFtZSB8fCBub2RlTmFtZSA9PT0gJ0JPRFknIHx8IG5vZGVOYW1lID09PSAnSFRNTCcpIHtcbiAgICByZXR1cm4gZWxlbWVudCA/IGVsZW1lbnQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIH1cblxuICAvLyAub2Zmc2V0UGFyZW50IHdpbGwgcmV0dXJuIHRoZSBjbG9zZXN0IFREIG9yIFRBQkxFIGluIGNhc2VcbiAgLy8gbm8gb2Zmc2V0UGFyZW50IGlzIHByZXNlbnQsIEkgaGF0ZSB0aGlzIGpvYi4uLlxuICBpZiAoWydURCcsICdUQUJMRSddLmluZGV4T2Yob2Zmc2V0UGFyZW50Lm5vZGVOYW1lKSAhPT0gLTEgJiYgZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KG9mZnNldFBhcmVudCwgJ3Bvc2l0aW9uJykgPT09ICdzdGF0aWMnKSB7XG4gICAgcmV0dXJuIGdldE9mZnNldFBhcmVudChvZmZzZXRQYXJlbnQpO1xuICB9XG5cbiAgcmV0dXJuIG9mZnNldFBhcmVudDtcbn1cblxuZnVuY3Rpb24gaXNPZmZzZXRDb250YWluZXIoZWxlbWVudCkge1xuICB2YXIgbm9kZU5hbWUgPSBlbGVtZW50Lm5vZGVOYW1lO1xuXG4gIGlmIChub2RlTmFtZSA9PT0gJ0JPRFknKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBub2RlTmFtZSA9PT0gJ0hUTUwnIHx8IGdldE9mZnNldFBhcmVudChlbGVtZW50LmZpcnN0RWxlbWVudENoaWxkKSA9PT0gZWxlbWVudDtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgcm9vdCBub2RlIChkb2N1bWVudCwgc2hhZG93RE9NIHJvb3QpIG9mIHRoZSBnaXZlbiBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IG5vZGVcbiAqIEByZXR1cm5zIHtFbGVtZW50fSByb290IG5vZGVcbiAqL1xuZnVuY3Rpb24gZ2V0Um9vdChub2RlKSB7XG4gIGlmIChub2RlLnBhcmVudE5vZGUgIT09IG51bGwpIHtcbiAgICByZXR1cm4gZ2V0Um9vdChub2RlLnBhcmVudE5vZGUpO1xuICB9XG5cbiAgcmV0dXJuIG5vZGU7XG59XG5cbi8qKlxuICogRmluZHMgdGhlIG9mZnNldCBwYXJlbnQgY29tbW9uIHRvIHRoZSB0d28gcHJvdmlkZWQgbm9kZXNcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudDFcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudDJcbiAqIEByZXR1cm5zIHtFbGVtZW50fSBjb21tb24gb2Zmc2V0IHBhcmVudFxuICovXG5mdW5jdGlvbiBmaW5kQ29tbW9uT2Zmc2V0UGFyZW50KGVsZW1lbnQxLCBlbGVtZW50Mikge1xuICAvLyBUaGlzIGNoZWNrIGlzIG5lZWRlZCB0byBhdm9pZCBlcnJvcnMgaW4gY2FzZSBvbmUgb2YgdGhlIGVsZW1lbnRzIGlzbid0IGRlZmluZWQgZm9yIGFueSByZWFzb25cbiAgaWYgKCFlbGVtZW50MSB8fCAhZWxlbWVudDEubm9kZVR5cGUgfHwgIWVsZW1lbnQyIHx8ICFlbGVtZW50Mi5ub2RlVHlwZSkge1xuICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIH1cblxuICAvLyBIZXJlIHdlIG1ha2Ugc3VyZSB0byBnaXZlIGFzIFwic3RhcnRcIiB0aGUgZWxlbWVudCB0aGF0IGNvbWVzIGZpcnN0IGluIHRoZSBET01cbiAgdmFyIG9yZGVyID0gZWxlbWVudDEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZWxlbWVudDIpICYgTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9GT0xMT1dJTkc7XG4gIHZhciBzdGFydCA9IG9yZGVyID8gZWxlbWVudDEgOiBlbGVtZW50MjtcbiAgdmFyIGVuZCA9IG9yZGVyID8gZWxlbWVudDIgOiBlbGVtZW50MTtcblxuICAvLyBHZXQgY29tbW9uIGFuY2VzdG9yIGNvbnRhaW5lclxuICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICByYW5nZS5zZXRTdGFydChzdGFydCwgMCk7XG4gIHJhbmdlLnNldEVuZChlbmQsIDApO1xuICB2YXIgY29tbW9uQW5jZXN0b3JDb250YWluZXIgPSByYW5nZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtcblxuICAvLyBCb3RoIG5vZGVzIGFyZSBpbnNpZGUgI2RvY3VtZW50XG5cbiAgaWYgKGVsZW1lbnQxICE9PSBjb21tb25BbmNlc3RvckNvbnRhaW5lciAmJiBlbGVtZW50MiAhPT0gY29tbW9uQW5jZXN0b3JDb250YWluZXIgfHwgc3RhcnQuY29udGFpbnMoZW5kKSkge1xuICAgIGlmIChpc09mZnNldENvbnRhaW5lcihjb21tb25BbmNlc3RvckNvbnRhaW5lcikpIHtcbiAgICAgIHJldHVybiBjb21tb25BbmNlc3RvckNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0T2Zmc2V0UGFyZW50KGNvbW1vbkFuY2VzdG9yQ29udGFpbmVyKTtcbiAgfVxuXG4gIC8vIG9uZSBvZiB0aGUgbm9kZXMgaXMgaW5zaWRlIHNoYWRvd0RPTSwgZmluZCB3aGljaCBvbmVcbiAgdmFyIGVsZW1lbnQxcm9vdCA9IGdldFJvb3QoZWxlbWVudDEpO1xuICBpZiAoZWxlbWVudDFyb290Lmhvc3QpIHtcbiAgICByZXR1cm4gZmluZENvbW1vbk9mZnNldFBhcmVudChlbGVtZW50MXJvb3QuaG9zdCwgZWxlbWVudDIpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmaW5kQ29tbW9uT2Zmc2V0UGFyZW50KGVsZW1lbnQxLCBnZXRSb290KGVsZW1lbnQyKS5ob3N0KTtcbiAgfVxufVxuXG4vKipcbiAqIEdldHMgdGhlIHNjcm9sbCB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudCBpbiB0aGUgZ2l2ZW4gc2lkZSAodG9wIGFuZCBsZWZ0KVxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50XG4gKiBAYXJndW1lbnQge1N0cmluZ30gc2lkZSBgdG9wYCBvciBgbGVmdGBcbiAqIEByZXR1cm5zIHtudW1iZXJ9IGFtb3VudCBvZiBzY3JvbGxlZCBwaXhlbHNcbiAqL1xuZnVuY3Rpb24gZ2V0U2Nyb2xsKGVsZW1lbnQpIHtcbiAgdmFyIHNpZGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICd0b3AnO1xuXG4gIHZhciB1cHBlclNpZGUgPSBzaWRlID09PSAndG9wJyA/ICdzY3JvbGxUb3AnIDogJ3Njcm9sbExlZnQnO1xuICB2YXIgbm9kZU5hbWUgPSBlbGVtZW50Lm5vZGVOYW1lO1xuXG4gIGlmIChub2RlTmFtZSA9PT0gJ0JPRFknIHx8IG5vZGVOYW1lID09PSAnSFRNTCcpIHtcbiAgICB2YXIgaHRtbCA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgdmFyIHNjcm9sbGluZ0VsZW1lbnQgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudCB8fCBodG1sO1xuICAgIHJldHVybiBzY3JvbGxpbmdFbGVtZW50W3VwcGVyU2lkZV07XG4gIH1cblxuICByZXR1cm4gZWxlbWVudFt1cHBlclNpZGVdO1xufVxuXG4vKlxuICogU3VtIG9yIHN1YnRyYWN0IHRoZSBlbGVtZW50IHNjcm9sbCB2YWx1ZXMgKGxlZnQgYW5kIHRvcCkgZnJvbSBhIGdpdmVuIHJlY3Qgb2JqZWN0XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge09iamVjdH0gcmVjdCAtIFJlY3Qgb2JqZWN0IHlvdSB3YW50IHRvIGNoYW5nZVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIFRoZSBlbGVtZW50IGZyb20gdGhlIGZ1bmN0aW9uIHJlYWRzIHRoZSBzY3JvbGwgdmFsdWVzXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHN1YnRyYWN0IC0gc2V0IHRvIHRydWUgaWYgeW91IHdhbnQgdG8gc3VidHJhY3QgdGhlIHNjcm9sbCB2YWx1ZXNcbiAqIEByZXR1cm4ge09iamVjdH0gcmVjdCAtIFRoZSBtb2RpZmllciByZWN0IG9iamVjdFxuICovXG5mdW5jdGlvbiBpbmNsdWRlU2Nyb2xsKHJlY3QsIGVsZW1lbnQpIHtcbiAgdmFyIHN1YnRyYWN0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcblxuICB2YXIgc2Nyb2xsVG9wID0gZ2V0U2Nyb2xsKGVsZW1lbnQsICd0b3AnKTtcbiAgdmFyIHNjcm9sbExlZnQgPSBnZXRTY3JvbGwoZWxlbWVudCwgJ2xlZnQnKTtcbiAgdmFyIG1vZGlmaWVyID0gc3VidHJhY3QgPyAtMSA6IDE7XG4gIHJlY3QudG9wICs9IHNjcm9sbFRvcCAqIG1vZGlmaWVyO1xuICByZWN0LmJvdHRvbSArPSBzY3JvbGxUb3AgKiBtb2RpZmllcjtcbiAgcmVjdC5sZWZ0ICs9IHNjcm9sbExlZnQgKiBtb2RpZmllcjtcbiAgcmVjdC5yaWdodCArPSBzY3JvbGxMZWZ0ICogbW9kaWZpZXI7XG4gIHJldHVybiByZWN0O1xufVxuXG4vKlxuICogSGVscGVyIHRvIGRldGVjdCBib3JkZXJzIG9mIGEgZ2l2ZW4gZWxlbWVudFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHBhcmFtIHtDU1NTdHlsZURlY2xhcmF0aW9ufSBzdHlsZXNcbiAqIFJlc3VsdCBvZiBgZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5YCBvbiB0aGUgZ2l2ZW4gZWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IGF4aXMgLSBgeGAgb3IgYHlgXG4gKiBAcmV0dXJuIHtudW1iZXJ9IGJvcmRlcnMgLSBUaGUgYm9yZGVycyBzaXplIG9mIHRoZSBnaXZlbiBheGlzXG4gKi9cblxuZnVuY3Rpb24gZ2V0Qm9yZGVyc1NpemUoc3R5bGVzLCBheGlzKSB7XG4gIHZhciBzaWRlQSA9IGF4aXMgPT09ICd4JyA/ICdMZWZ0JyA6ICdUb3AnO1xuICB2YXIgc2lkZUIgPSBzaWRlQSA9PT0gJ0xlZnQnID8gJ1JpZ2h0JyA6ICdCb3R0b20nO1xuXG4gIHJldHVybiBwYXJzZUZsb2F0KHN0eWxlc1snYm9yZGVyJyArIHNpZGVBICsgJ1dpZHRoJ10sIDEwKSArIHBhcnNlRmxvYXQoc3R5bGVzWydib3JkZXInICsgc2lkZUIgKyAnV2lkdGgnXSwgMTApO1xufVxuXG5mdW5jdGlvbiBnZXRTaXplKGF4aXMsIGJvZHksIGh0bWwsIGNvbXB1dGVkU3R5bGUpIHtcbiAgcmV0dXJuIE1hdGgubWF4KGJvZHlbJ29mZnNldCcgKyBheGlzXSwgYm9keVsnc2Nyb2xsJyArIGF4aXNdLCBodG1sWydjbGllbnQnICsgYXhpc10sIGh0bWxbJ29mZnNldCcgKyBheGlzXSwgaHRtbFsnc2Nyb2xsJyArIGF4aXNdLCBpc0lFJDEoMTApID8gaHRtbFsnb2Zmc2V0JyArIGF4aXNdICsgY29tcHV0ZWRTdHlsZVsnbWFyZ2luJyArIChheGlzID09PSAnSGVpZ2h0JyA/ICdUb3AnIDogJ0xlZnQnKV0gKyBjb21wdXRlZFN0eWxlWydtYXJnaW4nICsgKGF4aXMgPT09ICdIZWlnaHQnID8gJ0JvdHRvbScgOiAnUmlnaHQnKV0gOiAwKTtcbn1cblxuZnVuY3Rpb24gZ2V0V2luZG93U2l6ZXMoKSB7XG4gIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgdmFyIGh0bWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIHZhciBjb21wdXRlZFN0eWxlID0gaXNJRSQxKDEwKSAmJiBnZXRDb21wdXRlZFN0eWxlKGh0bWwpO1xuXG4gIHJldHVybiB7XG4gICAgaGVpZ2h0OiBnZXRTaXplKCdIZWlnaHQnLCBib2R5LCBodG1sLCBjb21wdXRlZFN0eWxlKSxcbiAgICB3aWR0aDogZ2V0U2l6ZSgnV2lkdGgnLCBib2R5LCBodG1sLCBjb21wdXRlZFN0eWxlKVxuICB9O1xufVxuXG52YXIgY2xhc3NDYWxsQ2hlY2skMSA9IGZ1bmN0aW9uIGNsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn07XG5cbnZhciBjcmVhdGVDbGFzcyQxID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9O1xufSgpO1xuXG52YXIgZGVmaW5lUHJvcGVydHkkMSA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59O1xuXG52YXIgX2V4dGVuZHMkMSA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59O1xuXG4vKipcbiAqIEdpdmVuIGVsZW1lbnQgb2Zmc2V0cywgZ2VuZXJhdGUgYW4gb3V0cHV0IHNpbWlsYXIgdG8gZ2V0Qm91bmRpbmdDbGllbnRSZWN0XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge09iamVjdH0gb2Zmc2V0c1xuICogQHJldHVybnMge09iamVjdH0gQ2xpZW50UmVjdCBsaWtlIG91dHB1dFxuICovXG5mdW5jdGlvbiBnZXRDbGllbnRSZWN0KG9mZnNldHMpIHtcbiAgcmV0dXJuIF9leHRlbmRzJDEoe30sIG9mZnNldHMsIHtcbiAgICByaWdodDogb2Zmc2V0cy5sZWZ0ICsgb2Zmc2V0cy53aWR0aCxcbiAgICBib3R0b206IG9mZnNldHMudG9wICsgb2Zmc2V0cy5oZWlnaHRcbiAgfSk7XG59XG5cbi8qKlxuICogR2V0IGJvdW5kaW5nIGNsaWVudCByZWN0IG9mIGdpdmVuIGVsZW1lbnRcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm4ge09iamVjdH0gY2xpZW50IHJlY3RcbiAqL1xuZnVuY3Rpb24gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQpIHtcbiAgdmFyIHJlY3QgPSB7fTtcblxuICAvLyBJRTEwIDEwIEZJWDogUGxlYXNlLCBkb24ndCBhc2ssIHRoZSBlbGVtZW50IGlzbid0XG4gIC8vIGNvbnNpZGVyZWQgaW4gRE9NIGluIHNvbWUgY2lyY3Vtc3RhbmNlcy4uLlxuICAvLyBUaGlzIGlzbid0IHJlcHJvZHVjaWJsZSBpbiBJRTEwIGNvbXBhdGliaWxpdHkgbW9kZSBvZiBJRTExXG4gIHRyeSB7XG4gICAgaWYgKGlzSUUkMSgxMCkpIHtcbiAgICAgIHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdmFyIHNjcm9sbFRvcCA9IGdldFNjcm9sbChlbGVtZW50LCAndG9wJyk7XG4gICAgICB2YXIgc2Nyb2xsTGVmdCA9IGdldFNjcm9sbChlbGVtZW50LCAnbGVmdCcpO1xuICAgICAgcmVjdC50b3AgKz0gc2Nyb2xsVG9wO1xuICAgICAgcmVjdC5sZWZ0ICs9IHNjcm9sbExlZnQ7XG4gICAgICByZWN0LmJvdHRvbSArPSBzY3JvbGxUb3A7XG4gICAgICByZWN0LnJpZ2h0ICs9IHNjcm9sbExlZnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge31cblxuICB2YXIgcmVzdWx0ID0ge1xuICAgIGxlZnQ6IHJlY3QubGVmdCxcbiAgICB0b3A6IHJlY3QudG9wLFxuICAgIHdpZHRoOiByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0LFxuICAgIGhlaWdodDogcmVjdC5ib3R0b20gLSByZWN0LnRvcFxuICB9O1xuXG4gIC8vIHN1YnRyYWN0IHNjcm9sbGJhciBzaXplIGZyb20gc2l6ZXNcbiAgdmFyIHNpemVzID0gZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0hUTUwnID8gZ2V0V2luZG93U2l6ZXMoKSA6IHt9O1xuICB2YXIgd2lkdGggPSBzaXplcy53aWR0aCB8fCBlbGVtZW50LmNsaWVudFdpZHRoIHx8IHJlc3VsdC5yaWdodCAtIHJlc3VsdC5sZWZ0O1xuICB2YXIgaGVpZ2h0ID0gc2l6ZXMuaGVpZ2h0IHx8IGVsZW1lbnQuY2xpZW50SGVpZ2h0IHx8IHJlc3VsdC5ib3R0b20gLSByZXN1bHQudG9wO1xuXG4gIHZhciBob3JpelNjcm9sbGJhciA9IGVsZW1lbnQub2Zmc2V0V2lkdGggLSB3aWR0aDtcbiAgdmFyIHZlcnRTY3JvbGxiYXIgPSBlbGVtZW50Lm9mZnNldEhlaWdodCAtIGhlaWdodDtcblxuICAvLyBpZiBhbiBoeXBvdGhldGljYWwgc2Nyb2xsYmFyIGlzIGRldGVjdGVkLCB3ZSBtdXN0IGJlIHN1cmUgaXQncyBub3QgYSBgYm9yZGVyYFxuICAvLyB3ZSBtYWtlIHRoaXMgY2hlY2sgY29uZGl0aW9uYWwgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnNcbiAgaWYgKGhvcml6U2Nyb2xsYmFyIHx8IHZlcnRTY3JvbGxiYXIpIHtcbiAgICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KGVsZW1lbnQpO1xuICAgIGhvcml6U2Nyb2xsYmFyIC09IGdldEJvcmRlcnNTaXplKHN0eWxlcywgJ3gnKTtcbiAgICB2ZXJ0U2Nyb2xsYmFyIC09IGdldEJvcmRlcnNTaXplKHN0eWxlcywgJ3knKTtcblxuICAgIHJlc3VsdC53aWR0aCAtPSBob3JpelNjcm9sbGJhcjtcbiAgICByZXN1bHQuaGVpZ2h0IC09IHZlcnRTY3JvbGxiYXI7XG4gIH1cblxuICByZXR1cm4gZ2V0Q2xpZW50UmVjdChyZXN1bHQpO1xufVxuXG5mdW5jdGlvbiBnZXRPZmZzZXRSZWN0UmVsYXRpdmVUb0FyYml0cmFyeU5vZGUoY2hpbGRyZW4sIHBhcmVudCkge1xuICB2YXIgZml4ZWRQb3NpdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XG5cbiAgdmFyIGlzSUUxMCA9IGlzSUUkMSgxMCk7XG4gIHZhciBpc0hUTUwgPSBwYXJlbnQubm9kZU5hbWUgPT09ICdIVE1MJztcbiAgdmFyIGNoaWxkcmVuUmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChjaGlsZHJlbik7XG4gIHZhciBwYXJlbnRSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KHBhcmVudCk7XG4gIHZhciBzY3JvbGxQYXJlbnQgPSBnZXRTY3JvbGxQYXJlbnQoY2hpbGRyZW4pO1xuXG4gIHZhciBzdHlsZXMgPSBnZXRTdHlsZUNvbXB1dGVkUHJvcGVydHkocGFyZW50KTtcbiAgdmFyIGJvcmRlclRvcFdpZHRoID0gcGFyc2VGbG9hdChzdHlsZXMuYm9yZGVyVG9wV2lkdGgsIDEwKTtcbiAgdmFyIGJvcmRlckxlZnRXaWR0aCA9IHBhcnNlRmxvYXQoc3R5bGVzLmJvcmRlckxlZnRXaWR0aCwgMTApO1xuXG4gIC8vIEluIGNhc2VzIHdoZXJlIHRoZSBwYXJlbnQgaXMgZml4ZWQsIHdlIG11c3QgaWdub3JlIG5lZ2F0aXZlIHNjcm9sbCBpbiBvZmZzZXQgY2FsY1xuICBpZiAoZml4ZWRQb3NpdGlvbiAmJiBwYXJlbnQubm9kZU5hbWUgPT09ICdIVE1MJykge1xuICAgIHBhcmVudFJlY3QudG9wID0gTWF0aC5tYXgocGFyZW50UmVjdC50b3AsIDApO1xuICAgIHBhcmVudFJlY3QubGVmdCA9IE1hdGgubWF4KHBhcmVudFJlY3QubGVmdCwgMCk7XG4gIH1cbiAgdmFyIG9mZnNldHMgPSBnZXRDbGllbnRSZWN0KHtcbiAgICB0b3A6IGNoaWxkcmVuUmVjdC50b3AgLSBwYXJlbnRSZWN0LnRvcCAtIGJvcmRlclRvcFdpZHRoLFxuICAgIGxlZnQ6IGNoaWxkcmVuUmVjdC5sZWZ0IC0gcGFyZW50UmVjdC5sZWZ0IC0gYm9yZGVyTGVmdFdpZHRoLFxuICAgIHdpZHRoOiBjaGlsZHJlblJlY3Qud2lkdGgsXG4gICAgaGVpZ2h0OiBjaGlsZHJlblJlY3QuaGVpZ2h0XG4gIH0pO1xuICBvZmZzZXRzLm1hcmdpblRvcCA9IDA7XG4gIG9mZnNldHMubWFyZ2luTGVmdCA9IDA7XG5cbiAgLy8gU3VidHJhY3QgbWFyZ2lucyBvZiBkb2N1bWVudEVsZW1lbnQgaW4gY2FzZSBpdCdzIGJlaW5nIHVzZWQgYXMgcGFyZW50XG4gIC8vIHdlIGRvIHRoaXMgb25seSBvbiBIVE1MIGJlY2F1c2UgaXQncyB0aGUgb25seSBlbGVtZW50IHRoYXQgYmVoYXZlc1xuICAvLyBkaWZmZXJlbnRseSB3aGVuIG1hcmdpbnMgYXJlIGFwcGxpZWQgdG8gaXQuIFRoZSBtYXJnaW5zIGFyZSBpbmNsdWRlZCBpblxuICAvLyB0aGUgYm94IG9mIHRoZSBkb2N1bWVudEVsZW1lbnQsIGluIHRoZSBvdGhlciBjYXNlcyBub3QuXG4gIGlmICghaXNJRTEwICYmIGlzSFRNTCkge1xuICAgIHZhciBtYXJnaW5Ub3AgPSBwYXJzZUZsb2F0KHN0eWxlcy5tYXJnaW5Ub3AsIDEwKTtcbiAgICB2YXIgbWFyZ2luTGVmdCA9IHBhcnNlRmxvYXQoc3R5bGVzLm1hcmdpbkxlZnQsIDEwKTtcblxuICAgIG9mZnNldHMudG9wIC09IGJvcmRlclRvcFdpZHRoIC0gbWFyZ2luVG9wO1xuICAgIG9mZnNldHMuYm90dG9tIC09IGJvcmRlclRvcFdpZHRoIC0gbWFyZ2luVG9wO1xuICAgIG9mZnNldHMubGVmdCAtPSBib3JkZXJMZWZ0V2lkdGggLSBtYXJnaW5MZWZ0O1xuICAgIG9mZnNldHMucmlnaHQgLT0gYm9yZGVyTGVmdFdpZHRoIC0gbWFyZ2luTGVmdDtcblxuICAgIC8vIEF0dGFjaCBtYXJnaW5Ub3AgYW5kIG1hcmdpbkxlZnQgYmVjYXVzZSBpbiBzb21lIGNpcmN1bXN0YW5jZXMgd2UgbWF5IG5lZWQgdGhlbVxuICAgIG9mZnNldHMubWFyZ2luVG9wID0gbWFyZ2luVG9wO1xuICAgIG9mZnNldHMubWFyZ2luTGVmdCA9IG1hcmdpbkxlZnQ7XG4gIH1cblxuICBpZiAoaXNJRTEwICYmICFmaXhlZFBvc2l0aW9uID8gcGFyZW50LmNvbnRhaW5zKHNjcm9sbFBhcmVudCkgOiBwYXJlbnQgPT09IHNjcm9sbFBhcmVudCAmJiBzY3JvbGxQYXJlbnQubm9kZU5hbWUgIT09ICdCT0RZJykge1xuICAgIG9mZnNldHMgPSBpbmNsdWRlU2Nyb2xsKG9mZnNldHMsIHBhcmVudCk7XG4gIH1cblxuICByZXR1cm4gb2Zmc2V0cztcbn1cblxuZnVuY3Rpb24gZ2V0Vmlld3BvcnRPZmZzZXRSZWN0UmVsYXRpdmVUb0FydGJpdHJhcnlOb2RlKGVsZW1lbnQpIHtcbiAgdmFyIGV4Y2x1ZGVTY3JvbGwgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuXG4gIHZhciBodG1sID0gZWxlbWVudC5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgdmFyIHJlbGF0aXZlT2Zmc2V0ID0gZ2V0T2Zmc2V0UmVjdFJlbGF0aXZlVG9BcmJpdHJhcnlOb2RlKGVsZW1lbnQsIGh0bWwpO1xuICB2YXIgd2lkdGggPSBNYXRoLm1heChodG1sLmNsaWVudFdpZHRoLCB3aW5kb3cuaW5uZXJXaWR0aCB8fCAwKTtcbiAgdmFyIGhlaWdodCA9IE1hdGgubWF4KGh0bWwuY2xpZW50SGVpZ2h0LCB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgMCk7XG5cbiAgdmFyIHNjcm9sbFRvcCA9ICFleGNsdWRlU2Nyb2xsID8gZ2V0U2Nyb2xsKGh0bWwpIDogMDtcbiAgdmFyIHNjcm9sbExlZnQgPSAhZXhjbHVkZVNjcm9sbCA/IGdldFNjcm9sbChodG1sLCAnbGVmdCcpIDogMDtcblxuICB2YXIgb2Zmc2V0ID0ge1xuICAgIHRvcDogc2Nyb2xsVG9wIC0gcmVsYXRpdmVPZmZzZXQudG9wICsgcmVsYXRpdmVPZmZzZXQubWFyZ2luVG9wLFxuICAgIGxlZnQ6IHNjcm9sbExlZnQgLSByZWxhdGl2ZU9mZnNldC5sZWZ0ICsgcmVsYXRpdmVPZmZzZXQubWFyZ2luTGVmdCxcbiAgICB3aWR0aDogd2lkdGgsXG4gICAgaGVpZ2h0OiBoZWlnaHRcbiAgfTtcblxuICByZXR1cm4gZ2V0Q2xpZW50UmVjdChvZmZzZXQpO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBnaXZlbiBlbGVtZW50IGlzIGZpeGVkIG9yIGlzIGluc2lkZSBhIGZpeGVkIHBhcmVudFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50XG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGN1c3RvbUNvbnRhaW5lclxuICogQHJldHVybnMge0Jvb2xlYW59IGFuc3dlciB0byBcImlzRml4ZWQ/XCJcbiAqL1xuZnVuY3Rpb24gaXNGaXhlZChlbGVtZW50KSB7XG4gIHZhciBub2RlTmFtZSA9IGVsZW1lbnQubm9kZU5hbWU7XG4gIGlmIChub2RlTmFtZSA9PT0gJ0JPRFknIHx8IG5vZGVOYW1lID09PSAnSFRNTCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShlbGVtZW50LCAncG9zaXRpb24nKSA9PT0gJ2ZpeGVkJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBpc0ZpeGVkKGdldFBhcmVudE5vZGUoZWxlbWVudCkpO1xufVxuXG4vKipcbiAqIEZpbmRzIHRoZSBmaXJzdCBwYXJlbnQgb2YgYW4gZWxlbWVudCB0aGF0IGhhcyBhIHRyYW5zZm9ybWVkIHByb3BlcnR5IGRlZmluZWRcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybnMge0VsZW1lbnR9IGZpcnN0IHRyYW5zZm9ybWVkIHBhcmVudCBvciBkb2N1bWVudEVsZW1lbnRcbiAqL1xuXG5mdW5jdGlvbiBnZXRGaXhlZFBvc2l0aW9uT2Zmc2V0UGFyZW50KGVsZW1lbnQpIHtcbiAgLy8gVGhpcyBjaGVjayBpcyBuZWVkZWQgdG8gYXZvaWQgZXJyb3JzIGluIGNhc2Ugb25lIG9mIHRoZSBlbGVtZW50cyBpc24ndCBkZWZpbmVkIGZvciBhbnkgcmVhc29uXG4gIGlmICghZWxlbWVudCB8fCAhZWxlbWVudC5wYXJlbnRFbGVtZW50IHx8IGlzSUUkMSgpKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgfVxuICB2YXIgZWwgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gIHdoaWxlIChlbCAmJiBnZXRTdHlsZUNvbXB1dGVkUHJvcGVydHkoZWwsICd0cmFuc2Zvcm0nKSA9PT0gJ25vbmUnKSB7XG4gICAgZWwgPSBlbC5wYXJlbnRFbGVtZW50O1xuICB9XG4gIHJldHVybiBlbCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG59XG5cbi8qKlxuICogQ29tcHV0ZWQgdGhlIGJvdW5kYXJpZXMgbGltaXRzIGFuZCByZXR1cm4gdGhlbVxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcG9wcGVyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSByZWZlcmVuY2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBwYWRkaW5nXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBib3VuZGFyaWVzRWxlbWVudCAtIEVsZW1lbnQgdXNlZCB0byBkZWZpbmUgdGhlIGJvdW5kYXJpZXNcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gZml4ZWRQb3NpdGlvbiAtIElzIGluIGZpeGVkIHBvc2l0aW9uIG1vZGVcbiAqIEByZXR1cm5zIHtPYmplY3R9IENvb3JkaW5hdGVzIG9mIHRoZSBib3VuZGFyaWVzXG4gKi9cbmZ1bmN0aW9uIGdldEJvdW5kYXJpZXMocG9wcGVyLCByZWZlcmVuY2UsIHBhZGRpbmcsIGJvdW5kYXJpZXNFbGVtZW50KSB7XG4gIHZhciBmaXhlZFBvc2l0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiBmYWxzZTtcblxuICAvLyBOT1RFOiAxIERPTSBhY2Nlc3MgaGVyZVxuXG4gIHZhciBib3VuZGFyaWVzID0geyB0b3A6IDAsIGxlZnQ6IDAgfTtcbiAgdmFyIG9mZnNldFBhcmVudCA9IGZpeGVkUG9zaXRpb24gPyBnZXRGaXhlZFBvc2l0aW9uT2Zmc2V0UGFyZW50KHBvcHBlcikgOiBmaW5kQ29tbW9uT2Zmc2V0UGFyZW50KHBvcHBlciwgcmVmZXJlbmNlKTtcblxuICAvLyBIYW5kbGUgdmlld3BvcnQgY2FzZVxuICBpZiAoYm91bmRhcmllc0VsZW1lbnQgPT09ICd2aWV3cG9ydCcpIHtcbiAgICBib3VuZGFyaWVzID0gZ2V0Vmlld3BvcnRPZmZzZXRSZWN0UmVsYXRpdmVUb0FydGJpdHJhcnlOb2RlKG9mZnNldFBhcmVudCwgZml4ZWRQb3NpdGlvbik7XG4gIH0gZWxzZSB7XG4gICAgLy8gSGFuZGxlIG90aGVyIGNhc2VzIGJhc2VkIG9uIERPTSBlbGVtZW50IHVzZWQgYXMgYm91bmRhcmllc1xuICAgIHZhciBib3VuZGFyaWVzTm9kZSA9IHZvaWQgMDtcbiAgICBpZiAoYm91bmRhcmllc0VsZW1lbnQgPT09ICdzY3JvbGxQYXJlbnQnKSB7XG4gICAgICBib3VuZGFyaWVzTm9kZSA9IGdldFNjcm9sbFBhcmVudChnZXRQYXJlbnROb2RlKHJlZmVyZW5jZSkpO1xuICAgICAgaWYgKGJvdW5kYXJpZXNOb2RlLm5vZGVOYW1lID09PSAnQk9EWScpIHtcbiAgICAgICAgYm91bmRhcmllc05vZGUgPSBwb3BwZXIub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChib3VuZGFyaWVzRWxlbWVudCA9PT0gJ3dpbmRvdycpIHtcbiAgICAgIGJvdW5kYXJpZXNOb2RlID0gcG9wcGVyLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBib3VuZGFyaWVzTm9kZSA9IGJvdW5kYXJpZXNFbGVtZW50O1xuICAgIH1cblxuICAgIHZhciBvZmZzZXRzID0gZ2V0T2Zmc2V0UmVjdFJlbGF0aXZlVG9BcmJpdHJhcnlOb2RlKGJvdW5kYXJpZXNOb2RlLCBvZmZzZXRQYXJlbnQsIGZpeGVkUG9zaXRpb24pO1xuXG4gICAgLy8gSW4gY2FzZSBvZiBIVE1MLCB3ZSBuZWVkIGEgZGlmZmVyZW50IGNvbXB1dGF0aW9uXG4gICAgaWYgKGJvdW5kYXJpZXNOb2RlLm5vZGVOYW1lID09PSAnSFRNTCcgJiYgIWlzRml4ZWQob2Zmc2V0UGFyZW50KSkge1xuICAgICAgdmFyIF9nZXRXaW5kb3dTaXplcyA9IGdldFdpbmRvd1NpemVzKCksXG4gICAgICAgICAgaGVpZ2h0ID0gX2dldFdpbmRvd1NpemVzLmhlaWdodCxcbiAgICAgICAgICB3aWR0aCA9IF9nZXRXaW5kb3dTaXplcy53aWR0aDtcblxuICAgICAgYm91bmRhcmllcy50b3AgKz0gb2Zmc2V0cy50b3AgLSBvZmZzZXRzLm1hcmdpblRvcDtcbiAgICAgIGJvdW5kYXJpZXMuYm90dG9tID0gaGVpZ2h0ICsgb2Zmc2V0cy50b3A7XG4gICAgICBib3VuZGFyaWVzLmxlZnQgKz0gb2Zmc2V0cy5sZWZ0IC0gb2Zmc2V0cy5tYXJnaW5MZWZ0O1xuICAgICAgYm91bmRhcmllcy5yaWdodCA9IHdpZHRoICsgb2Zmc2V0cy5sZWZ0O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBmb3IgYWxsIHRoZSBvdGhlciBET00gZWxlbWVudHMsIHRoaXMgb25lIGlzIGdvb2RcbiAgICAgIGJvdW5kYXJpZXMgPSBvZmZzZXRzO1xuICAgIH1cbiAgfVxuXG4gIC8vIEFkZCBwYWRkaW5nc1xuICBib3VuZGFyaWVzLmxlZnQgKz0gcGFkZGluZztcbiAgYm91bmRhcmllcy50b3AgKz0gcGFkZGluZztcbiAgYm91bmRhcmllcy5yaWdodCAtPSBwYWRkaW5nO1xuICBib3VuZGFyaWVzLmJvdHRvbSAtPSBwYWRkaW5nO1xuXG4gIHJldHVybiBib3VuZGFyaWVzO1xufVxuXG5mdW5jdGlvbiBnZXRBcmVhKF9yZWYpIHtcbiAgdmFyIHdpZHRoID0gX3JlZi53aWR0aCxcbiAgICAgIGhlaWdodCA9IF9yZWYuaGVpZ2h0O1xuXG4gIHJldHVybiB3aWR0aCAqIGhlaWdodDtcbn1cblxuLyoqXG4gKiBVdGlsaXR5IHVzZWQgdG8gdHJhbnNmb3JtIHRoZSBgYXV0b2AgcGxhY2VtZW50IHRvIHRoZSBwbGFjZW1lbnQgd2l0aCBtb3JlXG4gKiBhdmFpbGFibGUgc3BhY2UuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgdXBkYXRlIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBjb21wdXRlQXV0b1BsYWNlbWVudChwbGFjZW1lbnQsIHJlZlJlY3QsIHBvcHBlciwgcmVmZXJlbmNlLCBib3VuZGFyaWVzRWxlbWVudCkge1xuICB2YXIgcGFkZGluZyA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ICYmIGFyZ3VtZW50c1s1XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzVdIDogMDtcblxuICBpZiAocGxhY2VtZW50LmluZGV4T2YoJ2F1dG8nKSA9PT0gLTEpIHtcbiAgICByZXR1cm4gcGxhY2VtZW50O1xuICB9XG5cbiAgdmFyIGJvdW5kYXJpZXMgPSBnZXRCb3VuZGFyaWVzKHBvcHBlciwgcmVmZXJlbmNlLCBwYWRkaW5nLCBib3VuZGFyaWVzRWxlbWVudCk7XG5cbiAgdmFyIHJlY3RzID0ge1xuICAgIHRvcDoge1xuICAgICAgd2lkdGg6IGJvdW5kYXJpZXMud2lkdGgsXG4gICAgICBoZWlnaHQ6IHJlZlJlY3QudG9wIC0gYm91bmRhcmllcy50b3BcbiAgICB9LFxuICAgIHJpZ2h0OiB7XG4gICAgICB3aWR0aDogYm91bmRhcmllcy5yaWdodCAtIHJlZlJlY3QucmlnaHQsXG4gICAgICBoZWlnaHQ6IGJvdW5kYXJpZXMuaGVpZ2h0XG4gICAgfSxcbiAgICBib3R0b206IHtcbiAgICAgIHdpZHRoOiBib3VuZGFyaWVzLndpZHRoLFxuICAgICAgaGVpZ2h0OiBib3VuZGFyaWVzLmJvdHRvbSAtIHJlZlJlY3QuYm90dG9tXG4gICAgfSxcbiAgICBsZWZ0OiB7XG4gICAgICB3aWR0aDogcmVmUmVjdC5sZWZ0IC0gYm91bmRhcmllcy5sZWZ0LFxuICAgICAgaGVpZ2h0OiBib3VuZGFyaWVzLmhlaWdodFxuICAgIH1cbiAgfTtcblxuICB2YXIgc29ydGVkQXJlYXMgPSBPYmplY3Qua2V5cyhyZWN0cykubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gX2V4dGVuZHMkMSh7XG4gICAgICBrZXk6IGtleVxuICAgIH0sIHJlY3RzW2tleV0sIHtcbiAgICAgIGFyZWE6IGdldEFyZWEocmVjdHNba2V5XSlcbiAgICB9KTtcbiAgfSkuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBiLmFyZWEgLSBhLmFyZWE7XG4gIH0pO1xuXG4gIHZhciBmaWx0ZXJlZEFyZWFzID0gc29ydGVkQXJlYXMuZmlsdGVyKGZ1bmN0aW9uIChfcmVmMikge1xuICAgIHZhciB3aWR0aCA9IF9yZWYyLndpZHRoLFxuICAgICAgICBoZWlnaHQgPSBfcmVmMi5oZWlnaHQ7XG4gICAgcmV0dXJuIHdpZHRoID49IHBvcHBlci5jbGllbnRXaWR0aCAmJiBoZWlnaHQgPj0gcG9wcGVyLmNsaWVudEhlaWdodDtcbiAgfSk7XG5cbiAgdmFyIGNvbXB1dGVkUGxhY2VtZW50ID0gZmlsdGVyZWRBcmVhcy5sZW5ndGggPiAwID8gZmlsdGVyZWRBcmVhc1swXS5rZXkgOiBzb3J0ZWRBcmVhc1swXS5rZXk7XG5cbiAgdmFyIHZhcmlhdGlvbiA9IHBsYWNlbWVudC5zcGxpdCgnLScpWzFdO1xuXG4gIHJldHVybiBjb21wdXRlZFBsYWNlbWVudCArICh2YXJpYXRpb24gPyAnLScgKyB2YXJpYXRpb24gOiAnJyk7XG59XG5cbi8qKlxuICogR2V0IG9mZnNldHMgdG8gdGhlIHJlZmVyZW5jZSBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhdGVcbiAqIEBwYXJhbSB7RWxlbWVudH0gcG9wcGVyIC0gdGhlIHBvcHBlciBlbGVtZW50XG4gKiBAcGFyYW0ge0VsZW1lbnR9IHJlZmVyZW5jZSAtIHRoZSByZWZlcmVuY2UgZWxlbWVudCAodGhlIHBvcHBlciB3aWxsIGJlIHJlbGF0aXZlIHRvIHRoaXMpXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGZpeGVkUG9zaXRpb24gLSBpcyBpbiBmaXhlZCBwb3NpdGlvbiBtb2RlXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgb2Zmc2V0cyB3aGljaCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlclxuICovXG5mdW5jdGlvbiBnZXRSZWZlcmVuY2VPZmZzZXRzKHN0YXRlLCBwb3BwZXIsIHJlZmVyZW5jZSkge1xuICB2YXIgZml4ZWRQb3NpdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogbnVsbDtcblxuICB2YXIgY29tbW9uT2Zmc2V0UGFyZW50ID0gZml4ZWRQb3NpdGlvbiA/IGdldEZpeGVkUG9zaXRpb25PZmZzZXRQYXJlbnQocG9wcGVyKSA6IGZpbmRDb21tb25PZmZzZXRQYXJlbnQocG9wcGVyLCByZWZlcmVuY2UpO1xuICByZXR1cm4gZ2V0T2Zmc2V0UmVjdFJlbGF0aXZlVG9BcmJpdHJhcnlOb2RlKHJlZmVyZW5jZSwgY29tbW9uT2Zmc2V0UGFyZW50LCBmaXhlZFBvc2l0aW9uKTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIG91dGVyIHNpemVzIG9mIHRoZSBnaXZlbiBlbGVtZW50IChvZmZzZXQgc2l6ZSArIG1hcmdpbnMpXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtPYmplY3R9IG9iamVjdCBjb250YWluaW5nIHdpZHRoIGFuZCBoZWlnaHQgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBnZXRPdXRlclNpemVzKGVsZW1lbnQpIHtcbiAgdmFyIHN0eWxlcyA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gIHZhciB4ID0gcGFyc2VGbG9hdChzdHlsZXMubWFyZ2luVG9wKSArIHBhcnNlRmxvYXQoc3R5bGVzLm1hcmdpbkJvdHRvbSk7XG4gIHZhciB5ID0gcGFyc2VGbG9hdChzdHlsZXMubWFyZ2luTGVmdCkgKyBwYXJzZUZsb2F0KHN0eWxlcy5tYXJnaW5SaWdodCk7XG4gIHZhciByZXN1bHQgPSB7XG4gICAgd2lkdGg6IGVsZW1lbnQub2Zmc2V0V2lkdGggKyB5LFxuICAgIGhlaWdodDogZWxlbWVudC5vZmZzZXRIZWlnaHQgKyB4XG4gIH07XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0IHRoZSBvcHBvc2l0ZSBwbGFjZW1lbnQgb2YgdGhlIGdpdmVuIG9uZVxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtTdHJpbmd9IHBsYWNlbWVudFxuICogQHJldHVybnMge1N0cmluZ30gZmxpcHBlZCBwbGFjZW1lbnRcbiAqL1xuZnVuY3Rpb24gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocGxhY2VtZW50KSB7XG4gIHZhciBoYXNoID0geyBsZWZ0OiAncmlnaHQnLCByaWdodDogJ2xlZnQnLCBib3R0b206ICd0b3AnLCB0b3A6ICdib3R0b20nIH07XG4gIHJldHVybiBwbGFjZW1lbnQucmVwbGFjZSgvbGVmdHxyaWdodHxib3R0b218dG9wL2csIGZ1bmN0aW9uIChtYXRjaGVkKSB7XG4gICAgcmV0dXJuIGhhc2hbbWF0Y2hlZF07XG4gIH0pO1xufVxuXG4vKipcbiAqIEdldCBvZmZzZXRzIHRvIHRoZSBwb3BwZXJcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBwb3NpdGlvbiAtIENTUyBwb3NpdGlvbiB0aGUgUG9wcGVyIHdpbGwgZ2V0IGFwcGxpZWRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBvcHBlciAtIHRoZSBwb3BwZXIgZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IHJlZmVyZW5jZU9mZnNldHMgLSB0aGUgcmVmZXJlbmNlIG9mZnNldHMgKHRoZSBwb3BwZXIgd2lsbCBiZSByZWxhdGl2ZSB0byB0aGlzKVxuICogQHBhcmFtIHtTdHJpbmd9IHBsYWNlbWVudCAtIG9uZSBvZiB0aGUgdmFsaWQgcGxhY2VtZW50IG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3R9IHBvcHBlck9mZnNldHMgLSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgb2Zmc2V0cyB3aGljaCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlclxuICovXG5mdW5jdGlvbiBnZXRQb3BwZXJPZmZzZXRzKHBvcHBlciwgcmVmZXJlbmNlT2Zmc2V0cywgcGxhY2VtZW50KSB7XG4gIHBsYWNlbWVudCA9IHBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuXG4gIC8vIEdldCBwb3BwZXIgbm9kZSBzaXplc1xuICB2YXIgcG9wcGVyUmVjdCA9IGdldE91dGVyU2l6ZXMocG9wcGVyKTtcblxuICAvLyBBZGQgcG9zaXRpb24sIHdpZHRoIGFuZCBoZWlnaHQgdG8gb3VyIG9mZnNldHMgb2JqZWN0XG4gIHZhciBwb3BwZXJPZmZzZXRzID0ge1xuICAgIHdpZHRoOiBwb3BwZXJSZWN0LndpZHRoLFxuICAgIGhlaWdodDogcG9wcGVyUmVjdC5oZWlnaHRcbiAgfTtcblxuICAvLyBkZXBlbmRpbmcgYnkgdGhlIHBvcHBlciBwbGFjZW1lbnQgd2UgaGF2ZSB0byBjb21wdXRlIGl0cyBvZmZzZXRzIHNsaWdodGx5IGRpZmZlcmVudGx5XG4gIHZhciBpc0hvcml6ID0gWydyaWdodCcsICdsZWZ0J10uaW5kZXhPZihwbGFjZW1lbnQpICE9PSAtMTtcbiAgdmFyIG1haW5TaWRlID0gaXNIb3JpeiA/ICd0b3AnIDogJ2xlZnQnO1xuICB2YXIgc2Vjb25kYXJ5U2lkZSA9IGlzSG9yaXogPyAnbGVmdCcgOiAndG9wJztcbiAgdmFyIG1lYXN1cmVtZW50ID0gaXNIb3JpeiA/ICdoZWlnaHQnIDogJ3dpZHRoJztcbiAgdmFyIHNlY29uZGFyeU1lYXN1cmVtZW50ID0gIWlzSG9yaXogPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG5cbiAgcG9wcGVyT2Zmc2V0c1ttYWluU2lkZV0gPSByZWZlcmVuY2VPZmZzZXRzW21haW5TaWRlXSArIHJlZmVyZW5jZU9mZnNldHNbbWVhc3VyZW1lbnRdIC8gMiAtIHBvcHBlclJlY3RbbWVhc3VyZW1lbnRdIC8gMjtcbiAgaWYgKHBsYWNlbWVudCA9PT0gc2Vjb25kYXJ5U2lkZSkge1xuICAgIHBvcHBlck9mZnNldHNbc2Vjb25kYXJ5U2lkZV0gPSByZWZlcmVuY2VPZmZzZXRzW3NlY29uZGFyeVNpZGVdIC0gcG9wcGVyUmVjdFtzZWNvbmRhcnlNZWFzdXJlbWVudF07XG4gIH0gZWxzZSB7XG4gICAgcG9wcGVyT2Zmc2V0c1tzZWNvbmRhcnlTaWRlXSA9IHJlZmVyZW5jZU9mZnNldHNbZ2V0T3Bwb3NpdGVQbGFjZW1lbnQoc2Vjb25kYXJ5U2lkZSldO1xuICB9XG5cbiAgcmV0dXJuIHBvcHBlck9mZnNldHM7XG59XG5cbi8qKlxuICogTWltaWNzIHRoZSBgZmluZGAgbWV0aG9kIG9mIEFycmF5XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0FycmF5fSBhcnJcbiAqIEBhcmd1bWVudCBwcm9wXG4gKiBAYXJndW1lbnQgdmFsdWVcbiAqIEByZXR1cm5zIGluZGV4IG9yIC0xXG4gKi9cbmZ1bmN0aW9uIGZpbmQoYXJyLCBjaGVjaykge1xuICAvLyB1c2UgbmF0aXZlIGZpbmQgaWYgc3VwcG9ydGVkXG4gIGlmIChBcnJheS5wcm90b3R5cGUuZmluZCkge1xuICAgIHJldHVybiBhcnIuZmluZChjaGVjayk7XG4gIH1cblxuICAvLyB1c2UgYGZpbHRlcmAgdG8gb2J0YWluIHRoZSBzYW1lIGJlaGF2aW9yIG9mIGBmaW5kYFxuICByZXR1cm4gYXJyLmZpbHRlcihjaGVjaylbMF07XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hpbmcgb2JqZWN0XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0FycmF5fSBhcnJcbiAqIEBhcmd1bWVudCBwcm9wXG4gKiBAYXJndW1lbnQgdmFsdWVcbiAqIEByZXR1cm5zIGluZGV4IG9yIC0xXG4gKi9cbmZ1bmN0aW9uIGZpbmRJbmRleChhcnIsIHByb3AsIHZhbHVlKSB7XG4gIC8vIHVzZSBuYXRpdmUgZmluZEluZGV4IGlmIHN1cHBvcnRlZFxuICBpZiAoQXJyYXkucHJvdG90eXBlLmZpbmRJbmRleCkge1xuICAgIHJldHVybiBhcnIuZmluZEluZGV4KGZ1bmN0aW9uIChjdXIpIHtcbiAgICAgIHJldHVybiBjdXJbcHJvcF0gPT09IHZhbHVlO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gdXNlIGBmaW5kYCArIGBpbmRleE9mYCBpZiBgZmluZEluZGV4YCBpc24ndCBzdXBwb3J0ZWRcbiAgdmFyIG1hdGNoID0gZmluZChhcnIsIGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gb2JqW3Byb3BdID09PSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiBhcnIuaW5kZXhPZihtYXRjaCk7XG59XG5cbi8qKlxuICogTG9vcCB0cm91Z2ggdGhlIGxpc3Qgb2YgbW9kaWZpZXJzIGFuZCBydW4gdGhlbSBpbiBvcmRlcixcbiAqIGVhY2ggb2YgdGhlbSB3aWxsIHRoZW4gZWRpdCB0aGUgZGF0YSBvYmplY3QuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge2RhdGFPYmplY3R9IGRhdGFcbiAqIEBwYXJhbSB7QXJyYXl9IG1vZGlmaWVyc1xuICogQHBhcmFtIHtTdHJpbmd9IGVuZHMgLSBPcHRpb25hbCBtb2RpZmllciBuYW1lIHVzZWQgYXMgc3RvcHBlclxuICogQHJldHVybnMge2RhdGFPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIHJ1bk1vZGlmaWVycyhtb2RpZmllcnMsIGRhdGEsIGVuZHMpIHtcbiAgdmFyIG1vZGlmaWVyc1RvUnVuID0gZW5kcyA9PT0gdW5kZWZpbmVkID8gbW9kaWZpZXJzIDogbW9kaWZpZXJzLnNsaWNlKDAsIGZpbmRJbmRleChtb2RpZmllcnMsICduYW1lJywgZW5kcykpO1xuXG4gIG1vZGlmaWVyc1RvUnVuLmZvckVhY2goZnVuY3Rpb24gKG1vZGlmaWVyKSB7XG4gICAgaWYgKG1vZGlmaWVyWydmdW5jdGlvbiddKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGRvdC1ub3RhdGlvblxuICAgICAgY29uc29sZS53YXJuKCdgbW9kaWZpZXIuZnVuY3Rpb25gIGlzIGRlcHJlY2F0ZWQsIHVzZSBgbW9kaWZpZXIuZm5gIScpO1xuICAgIH1cbiAgICB2YXIgZm4gPSBtb2RpZmllclsnZnVuY3Rpb24nXSB8fCBtb2RpZmllci5mbjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBkb3Qtbm90YXRpb25cbiAgICBpZiAobW9kaWZpZXIuZW5hYmxlZCAmJiBpc0Z1bmN0aW9uKGZuKSkge1xuICAgICAgLy8gQWRkIHByb3BlcnRpZXMgdG8gb2Zmc2V0cyB0byBtYWtlIHRoZW0gYSBjb21wbGV0ZSBjbGllbnRSZWN0IG9iamVjdFxuICAgICAgLy8gd2UgZG8gdGhpcyBiZWZvcmUgZWFjaCBtb2RpZmllciB0byBtYWtlIHN1cmUgdGhlIHByZXZpb3VzIG9uZSBkb2Vzbid0XG4gICAgICAvLyBtZXNzIHdpdGggdGhlc2UgdmFsdWVzXG4gICAgICBkYXRhLm9mZnNldHMucG9wcGVyID0gZ2V0Q2xpZW50UmVjdChkYXRhLm9mZnNldHMucG9wcGVyKTtcbiAgICAgIGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UgPSBnZXRDbGllbnRSZWN0KGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UpO1xuXG4gICAgICBkYXRhID0gZm4oZGF0YSwgbW9kaWZpZXIpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgcG9zaXRpb24gb2YgdGhlIHBvcHBlciwgY29tcHV0aW5nIHRoZSBuZXcgb2Zmc2V0cyBhbmQgYXBwbHlpbmdcbiAqIHRoZSBuZXcgc3R5bGUuPGJyIC8+XG4gKiBQcmVmZXIgYHNjaGVkdWxlVXBkYXRlYCBvdmVyIGB1cGRhdGVgIGJlY2F1c2Ugb2YgcGVyZm9ybWFuY2UgcmVhc29ucy5cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXJcbiAqL1xuZnVuY3Rpb24gdXBkYXRlKCkge1xuICAvLyBpZiBwb3BwZXIgaXMgZGVzdHJveWVkLCBkb24ndCBwZXJmb3JtIGFueSBmdXJ0aGVyIHVwZGF0ZVxuICBpZiAodGhpcy5zdGF0ZS5pc0Rlc3Ryb3llZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBkYXRhID0ge1xuICAgIGluc3RhbmNlOiB0aGlzLFxuICAgIHN0eWxlczoge30sXG4gICAgYXJyb3dTdHlsZXM6IHt9LFxuICAgIGF0dHJpYnV0ZXM6IHt9LFxuICAgIGZsaXBwZWQ6IGZhbHNlLFxuICAgIG9mZnNldHM6IHt9XG4gIH07XG5cbiAgLy8gY29tcHV0ZSByZWZlcmVuY2UgZWxlbWVudCBvZmZzZXRzXG4gIGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UgPSBnZXRSZWZlcmVuY2VPZmZzZXRzKHRoaXMuc3RhdGUsIHRoaXMucG9wcGVyLCB0aGlzLnJlZmVyZW5jZSwgdGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQpO1xuXG4gIC8vIGNvbXB1dGUgYXV0byBwbGFjZW1lbnQsIHN0b3JlIHBsYWNlbWVudCBpbnNpZGUgdGhlIGRhdGEgb2JqZWN0LFxuICAvLyBtb2RpZmllcnMgd2lsbCBiZSBhYmxlIHRvIGVkaXQgYHBsYWNlbWVudGAgaWYgbmVlZGVkXG4gIC8vIGFuZCByZWZlciB0byBvcmlnaW5hbFBsYWNlbWVudCB0byBrbm93IHRoZSBvcmlnaW5hbCB2YWx1ZVxuICBkYXRhLnBsYWNlbWVudCA9IGNvbXB1dGVBdXRvUGxhY2VtZW50KHRoaXMub3B0aW9ucy5wbGFjZW1lbnQsIGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UsIHRoaXMucG9wcGVyLCB0aGlzLnJlZmVyZW5jZSwgdGhpcy5vcHRpb25zLm1vZGlmaWVycy5mbGlwLmJvdW5kYXJpZXNFbGVtZW50LCB0aGlzLm9wdGlvbnMubW9kaWZpZXJzLmZsaXAucGFkZGluZyk7XG5cbiAgLy8gc3RvcmUgdGhlIGNvbXB1dGVkIHBsYWNlbWVudCBpbnNpZGUgYG9yaWdpbmFsUGxhY2VtZW50YFxuICBkYXRhLm9yaWdpbmFsUGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQ7XG5cbiAgZGF0YS5wb3NpdGlvbkZpeGVkID0gdGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQ7XG5cbiAgLy8gY29tcHV0ZSB0aGUgcG9wcGVyIG9mZnNldHNcbiAgZGF0YS5vZmZzZXRzLnBvcHBlciA9IGdldFBvcHBlck9mZnNldHModGhpcy5wb3BwZXIsIGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UsIGRhdGEucGxhY2VtZW50KTtcblxuICBkYXRhLm9mZnNldHMucG9wcGVyLnBvc2l0aW9uID0gdGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQgPyAnZml4ZWQnIDogJ2Fic29sdXRlJztcblxuICAvLyBydW4gdGhlIG1vZGlmaWVyc1xuICBkYXRhID0gcnVuTW9kaWZpZXJzKHRoaXMubW9kaWZpZXJzLCBkYXRhKTtcblxuICAvLyB0aGUgZmlyc3QgYHVwZGF0ZWAgd2lsbCBjYWxsIGBvbkNyZWF0ZWAgY2FsbGJhY2tcbiAgLy8gdGhlIG90aGVyIG9uZXMgd2lsbCBjYWxsIGBvblVwZGF0ZWAgY2FsbGJhY2tcbiAgaWYgKCF0aGlzLnN0YXRlLmlzQ3JlYXRlZCkge1xuICAgIHRoaXMuc3RhdGUuaXNDcmVhdGVkID0gdHJ1ZTtcbiAgICB0aGlzLm9wdGlvbnMub25DcmVhdGUoZGF0YSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5vcHRpb25zLm9uVXBkYXRlKGRhdGEpO1xuICB9XG59XG5cbi8qKlxuICogSGVscGVyIHVzZWQgdG8ga25vdyBpZiB0aGUgZ2l2ZW4gbW9kaWZpZXIgaXMgZW5hYmxlZC5cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEByZXR1cm5zIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBpc01vZGlmaWVyRW5hYmxlZChtb2RpZmllcnMsIG1vZGlmaWVyTmFtZSkge1xuICByZXR1cm4gbW9kaWZpZXJzLnNvbWUoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgbmFtZSA9IF9yZWYubmFtZSxcbiAgICAgICAgZW5hYmxlZCA9IF9yZWYuZW5hYmxlZDtcbiAgICByZXR1cm4gZW5hYmxlZCAmJiBuYW1lID09PSBtb2RpZmllck5hbWU7XG4gIH0pO1xufVxuXG4vKipcbiAqIEdldCB0aGUgcHJlZml4ZWQgc3VwcG9ydGVkIHByb3BlcnR5IG5hbWVcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7U3RyaW5nfSBwcm9wZXJ0eSAoY2FtZWxDYXNlKVxuICogQHJldHVybnMge1N0cmluZ30gcHJlZml4ZWQgcHJvcGVydHkgKGNhbWVsQ2FzZSBvciBQYXNjYWxDYXNlLCBkZXBlbmRpbmcgb24gdGhlIHZlbmRvciBwcmVmaXgpXG4gKi9cbmZ1bmN0aW9uIGdldFN1cHBvcnRlZFByb3BlcnR5TmFtZShwcm9wZXJ0eSkge1xuICB2YXIgcHJlZml4ZXMgPSBbZmFsc2UsICdtcycsICdXZWJraXQnLCAnTW96JywgJ08nXTtcbiAgdmFyIHVwcGVyUHJvcCA9IHByb3BlcnR5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcHJvcGVydHkuc2xpY2UoMSk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmVmaXhlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBwcmVmaXggPSBwcmVmaXhlc1tpXTtcbiAgICB2YXIgdG9DaGVjayA9IHByZWZpeCA/ICcnICsgcHJlZml4ICsgdXBwZXJQcm9wIDogcHJvcGVydHk7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudC5ib2R5LnN0eWxlW3RvQ2hlY2tdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIHRvQ2hlY2s7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIERlc3Ryb3kgdGhlIHBvcHBlclxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlclxuICovXG5mdW5jdGlvbiBkZXN0cm95KCkge1xuICB0aGlzLnN0YXRlLmlzRGVzdHJveWVkID0gdHJ1ZTtcblxuICAvLyB0b3VjaCBET00gb25seSBpZiBgYXBwbHlTdHlsZWAgbW9kaWZpZXIgaXMgZW5hYmxlZFxuICBpZiAoaXNNb2RpZmllckVuYWJsZWQodGhpcy5tb2RpZmllcnMsICdhcHBseVN0eWxlJykpIHtcbiAgICB0aGlzLnBvcHBlci5yZW1vdmVBdHRyaWJ1dGUoJ3gtcGxhY2VtZW50Jyk7XG4gICAgdGhpcy5wb3BwZXIuc3R5bGUucG9zaXRpb24gPSAnJztcbiAgICB0aGlzLnBvcHBlci5zdHlsZS50b3AgPSAnJztcbiAgICB0aGlzLnBvcHBlci5zdHlsZS5sZWZ0ID0gJyc7XG4gICAgdGhpcy5wb3BwZXIuc3R5bGUucmlnaHQgPSAnJztcbiAgICB0aGlzLnBvcHBlci5zdHlsZS5ib3R0b20gPSAnJztcbiAgICB0aGlzLnBvcHBlci5zdHlsZS53aWxsQ2hhbmdlID0gJyc7XG4gICAgdGhpcy5wb3BwZXIuc3R5bGVbZ2V0U3VwcG9ydGVkUHJvcGVydHlOYW1lKCd0cmFuc2Zvcm0nKV0gPSAnJztcbiAgfVxuXG4gIHRoaXMuZGlzYWJsZUV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgLy8gcmVtb3ZlIHRoZSBwb3BwZXIgaWYgdXNlciBleHBsaWNpdHkgYXNrZWQgZm9yIHRoZSBkZWxldGlvbiBvbiBkZXN0cm95XG4gIC8vIGRvIG5vdCB1c2UgYHJlbW92ZWAgYmVjYXVzZSBJRTExIGRvZXNuJ3Qgc3VwcG9ydCBpdFxuICBpZiAodGhpcy5vcHRpb25zLnJlbW92ZU9uRGVzdHJveSkge1xuICAgIHRoaXMucG9wcGVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5wb3BwZXIpO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIEdldCB0aGUgd2luZG93IGFzc29jaWF0ZWQgd2l0aCB0aGUgZWxlbWVudFxuICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7V2luZG93fVxuICovXG5mdW5jdGlvbiBnZXRXaW5kb3coZWxlbWVudCkge1xuICB2YXIgb3duZXJEb2N1bWVudCA9IGVsZW1lbnQub3duZXJEb2N1bWVudDtcbiAgcmV0dXJuIG93bmVyRG9jdW1lbnQgPyBvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IDogd2luZG93O1xufVxuXG5mdW5jdGlvbiBhdHRhY2hUb1Njcm9sbFBhcmVudHMoc2Nyb2xsUGFyZW50LCBldmVudCwgY2FsbGJhY2ssIHNjcm9sbFBhcmVudHMpIHtcbiAgdmFyIGlzQm9keSA9IHNjcm9sbFBhcmVudC5ub2RlTmFtZSA9PT0gJ0JPRFknO1xuICB2YXIgdGFyZ2V0ID0gaXNCb2R5ID8gc2Nyb2xsUGFyZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgOiBzY3JvbGxQYXJlbnQ7XG4gIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBjYWxsYmFjaywgeyBwYXNzaXZlOiB0cnVlIH0pO1xuXG4gIGlmICghaXNCb2R5KSB7XG4gICAgYXR0YWNoVG9TY3JvbGxQYXJlbnRzKGdldFNjcm9sbFBhcmVudCh0YXJnZXQucGFyZW50Tm9kZSksIGV2ZW50LCBjYWxsYmFjaywgc2Nyb2xsUGFyZW50cyk7XG4gIH1cbiAgc2Nyb2xsUGFyZW50cy5wdXNoKHRhcmdldCk7XG59XG5cbi8qKlxuICogU2V0dXAgbmVlZGVkIGV2ZW50IGxpc3RlbmVycyB1c2VkIHRvIHVwZGF0ZSB0aGUgcG9wcGVyIHBvc2l0aW9uXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBzZXR1cEV2ZW50TGlzdGVuZXJzKHJlZmVyZW5jZSwgb3B0aW9ucywgc3RhdGUsIHVwZGF0ZUJvdW5kKSB7XG4gIC8vIFJlc2l6ZSBldmVudCBsaXN0ZW5lciBvbiB3aW5kb3dcbiAgc3RhdGUudXBkYXRlQm91bmQgPSB1cGRhdGVCb3VuZDtcbiAgZ2V0V2luZG93KHJlZmVyZW5jZSkuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc3RhdGUudXBkYXRlQm91bmQsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcblxuICAvLyBTY3JvbGwgZXZlbnQgbGlzdGVuZXIgb24gc2Nyb2xsIHBhcmVudHNcbiAgdmFyIHNjcm9sbEVsZW1lbnQgPSBnZXRTY3JvbGxQYXJlbnQocmVmZXJlbmNlKTtcbiAgYXR0YWNoVG9TY3JvbGxQYXJlbnRzKHNjcm9sbEVsZW1lbnQsICdzY3JvbGwnLCBzdGF0ZS51cGRhdGVCb3VuZCwgc3RhdGUuc2Nyb2xsUGFyZW50cyk7XG4gIHN0YXRlLnNjcm9sbEVsZW1lbnQgPSBzY3JvbGxFbGVtZW50O1xuICBzdGF0ZS5ldmVudHNFbmFibGVkID0gdHJ1ZTtcblxuICByZXR1cm4gc3RhdGU7XG59XG5cbi8qKlxuICogSXQgd2lsbCBhZGQgcmVzaXplL3Njcm9sbCBldmVudHMgYW5kIHN0YXJ0IHJlY2FsY3VsYXRpbmdcbiAqIHBvc2l0aW9uIG9mIHRoZSBwb3BwZXIgZWxlbWVudCB3aGVuIHRoZXkgYXJlIHRyaWdnZXJlZC5cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXJcbiAqL1xuZnVuY3Rpb24gZW5hYmxlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gIGlmICghdGhpcy5zdGF0ZS5ldmVudHNFbmFibGVkKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHNldHVwRXZlbnRMaXN0ZW5lcnModGhpcy5yZWZlcmVuY2UsIHRoaXMub3B0aW9ucywgdGhpcy5zdGF0ZSwgdGhpcy5zY2hlZHVsZVVwZGF0ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmUgZXZlbnQgbGlzdGVuZXJzIHVzZWQgdG8gdXBkYXRlIHRoZSBwb3BwZXIgcG9zaXRpb25cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHJlZmVyZW5jZSwgc3RhdGUpIHtcbiAgLy8gUmVtb3ZlIHJlc2l6ZSBldmVudCBsaXN0ZW5lciBvbiB3aW5kb3dcbiAgZ2V0V2luZG93KHJlZmVyZW5jZSkucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc3RhdGUudXBkYXRlQm91bmQpO1xuXG4gIC8vIFJlbW92ZSBzY3JvbGwgZXZlbnQgbGlzdGVuZXIgb24gc2Nyb2xsIHBhcmVudHNcbiAgc3RhdGUuc2Nyb2xsUGFyZW50cy5mb3JFYWNoKGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc3RhdGUudXBkYXRlQm91bmQpO1xuICB9KTtcblxuICAvLyBSZXNldCBzdGF0ZVxuICBzdGF0ZS51cGRhdGVCb3VuZCA9IG51bGw7XG4gIHN0YXRlLnNjcm9sbFBhcmVudHMgPSBbXTtcbiAgc3RhdGUuc2Nyb2xsRWxlbWVudCA9IG51bGw7XG4gIHN0YXRlLmV2ZW50c0VuYWJsZWQgPSBmYWxzZTtcbiAgcmV0dXJuIHN0YXRlO1xufVxuXG4vKipcbiAqIEl0IHdpbGwgcmVtb3ZlIHJlc2l6ZS9zY3JvbGwgZXZlbnRzIGFuZCB3b24ndCByZWNhbGN1bGF0ZSBwb3BwZXIgcG9zaXRpb25cbiAqIHdoZW4gdGhleSBhcmUgdHJpZ2dlcmVkLiBJdCBhbHNvIHdvbid0IHRyaWdnZXIgb25VcGRhdGUgY2FsbGJhY2sgYW55bW9yZSxcbiAqIHVubGVzcyB5b3UgY2FsbCBgdXBkYXRlYCBtZXRob2QgbWFudWFsbHkuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyXG4gKi9cbmZ1bmN0aW9uIGRpc2FibGVFdmVudExpc3RlbmVycygpIHtcbiAgaWYgKHRoaXMuc3RhdGUuZXZlbnRzRW5hYmxlZCkge1xuICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuc2NoZWR1bGVVcGRhdGUpO1xuICAgIHRoaXMuc3RhdGUgPSByZW1vdmVFdmVudExpc3RlbmVycyh0aGlzLnJlZmVyZW5jZSwgdGhpcy5zdGF0ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBUZWxscyBpZiBhIGdpdmVuIGlucHV0IGlzIGEgbnVtYmVyXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0geyp9IGlucHV0IHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBpc051bWVyaWMobikge1xuICByZXR1cm4gbiAhPT0gJycgJiYgIWlzTmFOKHBhcnNlRmxvYXQobikpICYmIGlzRmluaXRlKG4pO1xufVxuXG4vKipcbiAqIFNldCB0aGUgc3R5bGUgdG8gdGhlIGdpdmVuIHBvcHBlclxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50IC0gRWxlbWVudCB0byBhcHBseSB0aGUgc3R5bGUgdG9cbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBzdHlsZXNcbiAqIE9iamVjdCB3aXRoIGEgbGlzdCBvZiBwcm9wZXJ0aWVzIGFuZCB2YWx1ZXMgd2hpY2ggd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIHNldFN0eWxlcyhlbGVtZW50LCBzdHlsZXMpIHtcbiAgT2JqZWN0LmtleXMoc3R5bGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgdmFyIHVuaXQgPSAnJztcbiAgICAvLyBhZGQgdW5pdCBpZiB0aGUgdmFsdWUgaXMgbnVtZXJpYyBhbmQgaXMgb25lIG9mIHRoZSBmb2xsb3dpbmdcbiAgICBpZiAoWyd3aWR0aCcsICdoZWlnaHQnLCAndG9wJywgJ3JpZ2h0JywgJ2JvdHRvbScsICdsZWZ0J10uaW5kZXhPZihwcm9wKSAhPT0gLTEgJiYgaXNOdW1lcmljKHN0eWxlc1twcm9wXSkpIHtcbiAgICAgIHVuaXQgPSAncHgnO1xuICAgIH1cbiAgICBlbGVtZW50LnN0eWxlW3Byb3BdID0gc3R5bGVzW3Byb3BdICsgdW5pdDtcbiAgfSk7XG59XG5cbi8qKlxuICogU2V0IHRoZSBhdHRyaWJ1dGVzIHRvIHRoZSBnaXZlbiBwb3BwZXJcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnQgdG8gYXBwbHkgdGhlIGF0dHJpYnV0ZXMgdG9cbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBzdHlsZXNcbiAqIE9iamVjdCB3aXRoIGEgbGlzdCBvZiBwcm9wZXJ0aWVzIGFuZCB2YWx1ZXMgd2hpY2ggd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXMoZWxlbWVudCwgYXR0cmlidXRlcykge1xuICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgdmFyIHZhbHVlID0gYXR0cmlidXRlc1twcm9wXTtcbiAgICBpZiAodmFsdWUgIT09IGZhbHNlKSB7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShwcm9wLCBhdHRyaWJ1dGVzW3Byb3BdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUocHJvcCk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBNb2RpZmllcnNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSBgdXBkYXRlYCBtZXRob2RcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhLnN0eWxlcyAtIExpc3Qgb2Ygc3R5bGUgcHJvcGVydGllcyAtIHZhbHVlcyB0byBhcHBseSB0byBwb3BwZXIgZWxlbWVudFxuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEuYXR0cmlidXRlcyAtIExpc3Qgb2YgYXR0cmlidXRlIHByb3BlcnRpZXMgLSB2YWx1ZXMgdG8gYXBwbHkgdG8gcG9wcGVyIGVsZW1lbnRcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBzYW1lIGRhdGEgb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIGFwcGx5U3R5bGUoZGF0YSkge1xuICAvLyBhbnkgcHJvcGVydHkgcHJlc2VudCBpbiBgZGF0YS5zdHlsZXNgIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgcG9wcGVyLFxuICAvLyBpbiB0aGlzIHdheSB3ZSBjYW4gbWFrZSB0aGUgM3JkIHBhcnR5IG1vZGlmaWVycyBhZGQgY3VzdG9tIHN0eWxlcyB0byBpdFxuICAvLyBCZSBhd2FyZSwgbW9kaWZpZXJzIGNvdWxkIG92ZXJyaWRlIHRoZSBwcm9wZXJ0aWVzIGRlZmluZWQgaW4gdGhlIHByZXZpb3VzXG4gIC8vIGxpbmVzIG9mIHRoaXMgbW9kaWZpZXIhXG4gIHNldFN0eWxlcyhkYXRhLmluc3RhbmNlLnBvcHBlciwgZGF0YS5zdHlsZXMpO1xuXG4gIC8vIGFueSBwcm9wZXJ0eSBwcmVzZW50IGluIGBkYXRhLmF0dHJpYnV0ZXNgIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgcG9wcGVyLFxuICAvLyB0aGV5IHdpbGwgYmUgc2V0IGFzIEhUTUwgYXR0cmlidXRlcyBvZiB0aGUgZWxlbWVudFxuICBzZXRBdHRyaWJ1dGVzKGRhdGEuaW5zdGFuY2UucG9wcGVyLCBkYXRhLmF0dHJpYnV0ZXMpO1xuXG4gIC8vIGlmIGFycm93RWxlbWVudCBpcyBkZWZpbmVkIGFuZCBhcnJvd1N0eWxlcyBoYXMgc29tZSBwcm9wZXJ0aWVzXG4gIGlmIChkYXRhLmFycm93RWxlbWVudCAmJiBPYmplY3Qua2V5cyhkYXRhLmFycm93U3R5bGVzKS5sZW5ndGgpIHtcbiAgICBzZXRTdHlsZXMoZGF0YS5hcnJvd0VsZW1lbnQsIGRhdGEuYXJyb3dTdHlsZXMpO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogU2V0IHRoZSB4LXBsYWNlbWVudCBhdHRyaWJ1dGUgYmVmb3JlIGV2ZXJ5dGhpbmcgZWxzZSBiZWNhdXNlIGl0IGNvdWxkIGJlIHVzZWRcbiAqIHRvIGFkZCBtYXJnaW5zIHRvIHRoZSBwb3BwZXIgbWFyZ2lucyBuZWVkcyB0byBiZSBjYWxjdWxhdGVkIHRvIGdldCB0aGVcbiAqIGNvcnJlY3QgcG9wcGVyIG9mZnNldHMuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLm1vZGlmaWVyc1xuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcmVmZXJlbmNlIC0gVGhlIHJlZmVyZW5jZSBlbGVtZW50IHVzZWQgdG8gcG9zaXRpb24gdGhlIHBvcHBlclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcG9wcGVyIC0gVGhlIEhUTUwgZWxlbWVudCB1c2VkIGFzIHBvcHBlclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBQb3BwZXIuanMgb3B0aW9uc1xuICovXG5mdW5jdGlvbiBhcHBseVN0eWxlT25Mb2FkKHJlZmVyZW5jZSwgcG9wcGVyLCBvcHRpb25zLCBtb2RpZmllck9wdGlvbnMsIHN0YXRlKSB7XG4gIC8vIGNvbXB1dGUgcmVmZXJlbmNlIGVsZW1lbnQgb2Zmc2V0c1xuICB2YXIgcmVmZXJlbmNlT2Zmc2V0cyA9IGdldFJlZmVyZW5jZU9mZnNldHMoc3RhdGUsIHBvcHBlciwgcmVmZXJlbmNlLCBvcHRpb25zLnBvc2l0aW9uRml4ZWQpO1xuXG4gIC8vIGNvbXB1dGUgYXV0byBwbGFjZW1lbnQsIHN0b3JlIHBsYWNlbWVudCBpbnNpZGUgdGhlIGRhdGEgb2JqZWN0LFxuICAvLyBtb2RpZmllcnMgd2lsbCBiZSBhYmxlIHRvIGVkaXQgYHBsYWNlbWVudGAgaWYgbmVlZGVkXG4gIC8vIGFuZCByZWZlciB0byBvcmlnaW5hbFBsYWNlbWVudCB0byBrbm93IHRoZSBvcmlnaW5hbCB2YWx1ZVxuICB2YXIgcGxhY2VtZW50ID0gY29tcHV0ZUF1dG9QbGFjZW1lbnQob3B0aW9ucy5wbGFjZW1lbnQsIHJlZmVyZW5jZU9mZnNldHMsIHBvcHBlciwgcmVmZXJlbmNlLCBvcHRpb25zLm1vZGlmaWVycy5mbGlwLmJvdW5kYXJpZXNFbGVtZW50LCBvcHRpb25zLm1vZGlmaWVycy5mbGlwLnBhZGRpbmcpO1xuXG4gIHBvcHBlci5zZXRBdHRyaWJ1dGUoJ3gtcGxhY2VtZW50JywgcGxhY2VtZW50KTtcblxuICAvLyBBcHBseSBgcG9zaXRpb25gIHRvIHBvcHBlciBiZWZvcmUgYW55dGhpbmcgZWxzZSBiZWNhdXNlXG4gIC8vIHdpdGhvdXQgdGhlIHBvc2l0aW9uIGFwcGxpZWQgd2UgY2FuJ3QgZ3VhcmFudGVlIGNvcnJlY3QgY29tcHV0YXRpb25zXG4gIHNldFN0eWxlcyhwb3BwZXIsIHsgcG9zaXRpb246IG9wdGlvbnMucG9zaXRpb25GaXhlZCA/ICdmaXhlZCcgOiAnYWJzb2x1dGUnIH0pO1xuXG4gIHJldHVybiBvcHRpb25zO1xufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IGB1cGRhdGVgIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBjb21wdXRlU3R5bGUoZGF0YSwgb3B0aW9ucykge1xuICB2YXIgeCA9IG9wdGlvbnMueCxcbiAgICAgIHkgPSBvcHRpb25zLnk7XG4gIHZhciBwb3BwZXIgPSBkYXRhLm9mZnNldHMucG9wcGVyO1xuXG4gIC8vIFJlbW92ZSB0aGlzIGxlZ2FjeSBzdXBwb3J0IGluIFBvcHBlci5qcyB2MlxuXG4gIHZhciBsZWdhY3lHcHVBY2NlbGVyYXRpb25PcHRpb24gPSBmaW5kKGRhdGEuaW5zdGFuY2UubW9kaWZpZXJzLCBmdW5jdGlvbiAobW9kaWZpZXIpIHtcbiAgICByZXR1cm4gbW9kaWZpZXIubmFtZSA9PT0gJ2FwcGx5U3R5bGUnO1xuICB9KS5ncHVBY2NlbGVyYXRpb247XG4gIGlmIChsZWdhY3lHcHVBY2NlbGVyYXRpb25PcHRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnNvbGUud2FybignV0FSTklORzogYGdwdUFjY2VsZXJhdGlvbmAgb3B0aW9uIG1vdmVkIHRvIGBjb21wdXRlU3R5bGVgIG1vZGlmaWVyIGFuZCB3aWxsIG5vdCBiZSBzdXBwb3J0ZWQgaW4gZnV0dXJlIHZlcnNpb25zIG9mIFBvcHBlci5qcyEnKTtcbiAgfVxuICB2YXIgZ3B1QWNjZWxlcmF0aW9uID0gbGVnYWN5R3B1QWNjZWxlcmF0aW9uT3B0aW9uICE9PSB1bmRlZmluZWQgPyBsZWdhY3lHcHVBY2NlbGVyYXRpb25PcHRpb24gOiBvcHRpb25zLmdwdUFjY2VsZXJhdGlvbjtcblxuICB2YXIgb2Zmc2V0UGFyZW50ID0gZ2V0T2Zmc2V0UGFyZW50KGRhdGEuaW5zdGFuY2UucG9wcGVyKTtcbiAgdmFyIG9mZnNldFBhcmVudFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3Qob2Zmc2V0UGFyZW50KTtcblxuICAvLyBTdHlsZXNcbiAgdmFyIHN0eWxlcyA9IHtcbiAgICBwb3NpdGlvbjogcG9wcGVyLnBvc2l0aW9uXG4gIH07XG5cbiAgLy8gQXZvaWQgYmx1cnJ5IHRleHQgYnkgdXNpbmcgZnVsbCBwaXhlbCBpbnRlZ2Vycy5cbiAgLy8gRm9yIHBpeGVsLXBlcmZlY3QgcG9zaXRpb25pbmcsIHRvcC9ib3R0b20gcHJlZmVycyByb3VuZGVkXG4gIC8vIHZhbHVlcywgd2hpbGUgbGVmdC9yaWdodCBwcmVmZXJzIGZsb29yZWQgdmFsdWVzLlxuICB2YXIgb2Zmc2V0cyA9IHtcbiAgICBsZWZ0OiBNYXRoLmZsb29yKHBvcHBlci5sZWZ0KSxcbiAgICB0b3A6IE1hdGgucm91bmQocG9wcGVyLnRvcCksXG4gICAgYm90dG9tOiBNYXRoLnJvdW5kKHBvcHBlci5ib3R0b20pLFxuICAgIHJpZ2h0OiBNYXRoLmZsb29yKHBvcHBlci5yaWdodClcbiAgfTtcblxuICB2YXIgc2lkZUEgPSB4ID09PSAnYm90dG9tJyA/ICd0b3AnIDogJ2JvdHRvbSc7XG4gIHZhciBzaWRlQiA9IHkgPT09ICdyaWdodCcgPyAnbGVmdCcgOiAncmlnaHQnO1xuXG4gIC8vIGlmIGdwdUFjY2VsZXJhdGlvbiBpcyBzZXQgdG8gYHRydWVgIGFuZCB0cmFuc2Zvcm0gaXMgc3VwcG9ydGVkLFxuICAvLyAgd2UgdXNlIGB0cmFuc2xhdGUzZGAgdG8gYXBwbHkgdGhlIHBvc2l0aW9uIHRvIHRoZSBwb3BwZXIgd2VcbiAgLy8gYXV0b21hdGljYWxseSB1c2UgdGhlIHN1cHBvcnRlZCBwcmVmaXhlZCB2ZXJzaW9uIGlmIG5lZWRlZFxuICB2YXIgcHJlZml4ZWRQcm9wZXJ0eSA9IGdldFN1cHBvcnRlZFByb3BlcnR5TmFtZSgndHJhbnNmb3JtJyk7XG5cbiAgLy8gbm93LCBsZXQncyBtYWtlIGEgc3RlcCBiYWNrIGFuZCBsb29rIGF0IHRoaXMgY29kZSBjbG9zZWx5ICh3dGY/KVxuICAvLyBJZiB0aGUgY29udGVudCBvZiB0aGUgcG9wcGVyIGdyb3dzIG9uY2UgaXQncyBiZWVuIHBvc2l0aW9uZWQsIGl0XG4gIC8vIG1heSBoYXBwZW4gdGhhdCB0aGUgcG9wcGVyIGdldHMgbWlzcGxhY2VkIGJlY2F1c2Ugb2YgdGhlIG5ldyBjb250ZW50XG4gIC8vIG92ZXJmbG93aW5nIGl0cyByZWZlcmVuY2UgZWxlbWVudFxuICAvLyBUbyBhdm9pZCB0aGlzIHByb2JsZW0sIHdlIHByb3ZpZGUgdHdvIG9wdGlvbnMgKHggYW5kIHkpLCB3aGljaCBhbGxvd1xuICAvLyB0aGUgY29uc3VtZXIgdG8gZGVmaW5lIHRoZSBvZmZzZXQgb3JpZ2luLlxuICAvLyBJZiB3ZSBwb3NpdGlvbiBhIHBvcHBlciBvbiB0b3Agb2YgYSByZWZlcmVuY2UgZWxlbWVudCwgd2UgY2FuIHNldFxuICAvLyBgeGAgdG8gYHRvcGAgdG8gbWFrZSB0aGUgcG9wcGVyIGdyb3cgdG93YXJkcyBpdHMgdG9wIGluc3RlYWQgb2ZcbiAgLy8gaXRzIGJvdHRvbS5cbiAgdmFyIGxlZnQgPSB2b2lkIDAsXG4gICAgICB0b3AgPSB2b2lkIDA7XG4gIGlmIChzaWRlQSA9PT0gJ2JvdHRvbScpIHtcbiAgICB0b3AgPSAtb2Zmc2V0UGFyZW50UmVjdC5oZWlnaHQgKyBvZmZzZXRzLmJvdHRvbTtcbiAgfSBlbHNlIHtcbiAgICB0b3AgPSBvZmZzZXRzLnRvcDtcbiAgfVxuICBpZiAoc2lkZUIgPT09ICdyaWdodCcpIHtcbiAgICBsZWZ0ID0gLW9mZnNldFBhcmVudFJlY3Qud2lkdGggKyBvZmZzZXRzLnJpZ2h0O1xuICB9IGVsc2Uge1xuICAgIGxlZnQgPSBvZmZzZXRzLmxlZnQ7XG4gIH1cbiAgaWYgKGdwdUFjY2VsZXJhdGlvbiAmJiBwcmVmaXhlZFByb3BlcnR5KSB7XG4gICAgc3R5bGVzW3ByZWZpeGVkUHJvcGVydHldID0gJ3RyYW5zbGF0ZTNkKCcgKyBsZWZ0ICsgJ3B4LCAnICsgdG9wICsgJ3B4LCAwKSc7XG4gICAgc3R5bGVzW3NpZGVBXSA9IDA7XG4gICAgc3R5bGVzW3NpZGVCXSA9IDA7XG4gICAgc3R5bGVzLndpbGxDaGFuZ2UgPSAndHJhbnNmb3JtJztcbiAgfSBlbHNlIHtcbiAgICAvLyBvdGh3ZXJpc2UsIHdlIHVzZSB0aGUgc3RhbmRhcmQgYHRvcGAsIGBsZWZ0YCwgYGJvdHRvbWAgYW5kIGByaWdodGAgcHJvcGVydGllc1xuICAgIHZhciBpbnZlcnRUb3AgPSBzaWRlQSA9PT0gJ2JvdHRvbScgPyAtMSA6IDE7XG4gICAgdmFyIGludmVydExlZnQgPSBzaWRlQiA9PT0gJ3JpZ2h0JyA/IC0xIDogMTtcbiAgICBzdHlsZXNbc2lkZUFdID0gdG9wICogaW52ZXJ0VG9wO1xuICAgIHN0eWxlc1tzaWRlQl0gPSBsZWZ0ICogaW52ZXJ0TGVmdDtcbiAgICBzdHlsZXMud2lsbENoYW5nZSA9IHNpZGVBICsgJywgJyArIHNpZGVCO1xuICB9XG5cbiAgLy8gQXR0cmlidXRlc1xuICB2YXIgYXR0cmlidXRlcyA9IHtcbiAgICAneC1wbGFjZW1lbnQnOiBkYXRhLnBsYWNlbWVudFxuICB9O1xuXG4gIC8vIFVwZGF0ZSBgZGF0YWAgYXR0cmlidXRlcywgc3R5bGVzIGFuZCBhcnJvd1N0eWxlc1xuICBkYXRhLmF0dHJpYnV0ZXMgPSBfZXh0ZW5kcyQxKHt9LCBhdHRyaWJ1dGVzLCBkYXRhLmF0dHJpYnV0ZXMpO1xuICBkYXRhLnN0eWxlcyA9IF9leHRlbmRzJDEoe30sIHN0eWxlcywgZGF0YS5zdHlsZXMpO1xuICBkYXRhLmFycm93U3R5bGVzID0gX2V4dGVuZHMkMSh7fSwgZGF0YS5vZmZzZXRzLmFycm93LCBkYXRhLmFycm93U3R5bGVzKTtcblxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgdXNlZCB0byBrbm93IGlmIHRoZSBnaXZlbiBtb2RpZmllciBkZXBlbmRzIGZyb20gYW5vdGhlciBvbmUuPGJyIC8+XG4gKiBJdCBjaGVja3MgaWYgdGhlIG5lZWRlZCBtb2RpZmllciBpcyBsaXN0ZWQgYW5kIGVuYWJsZWQuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge0FycmF5fSBtb2RpZmllcnMgLSBsaXN0IG9mIG1vZGlmaWVyc1xuICogQHBhcmFtIHtTdHJpbmd9IHJlcXVlc3RpbmdOYW1lIC0gbmFtZSBvZiByZXF1ZXN0aW5nIG1vZGlmaWVyXG4gKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdGVkTmFtZSAtIG5hbWUgb2YgcmVxdWVzdGVkIG1vZGlmaWVyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNNb2RpZmllclJlcXVpcmVkKG1vZGlmaWVycywgcmVxdWVzdGluZ05hbWUsIHJlcXVlc3RlZE5hbWUpIHtcbiAgdmFyIHJlcXVlc3RpbmcgPSBmaW5kKG1vZGlmaWVycywgZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgbmFtZSA9IF9yZWYubmFtZTtcbiAgICByZXR1cm4gbmFtZSA9PT0gcmVxdWVzdGluZ05hbWU7XG4gIH0pO1xuXG4gIHZhciBpc1JlcXVpcmVkID0gISFyZXF1ZXN0aW5nICYmIG1vZGlmaWVycy5zb21lKGZ1bmN0aW9uIChtb2RpZmllcikge1xuICAgIHJldHVybiBtb2RpZmllci5uYW1lID09PSByZXF1ZXN0ZWROYW1lICYmIG1vZGlmaWVyLmVuYWJsZWQgJiYgbW9kaWZpZXIub3JkZXIgPCByZXF1ZXN0aW5nLm9yZGVyO1xuICB9KTtcblxuICBpZiAoIWlzUmVxdWlyZWQpIHtcbiAgICB2YXIgX3JlcXVlc3RpbmcgPSAnYCcgKyByZXF1ZXN0aW5nTmFtZSArICdgJztcbiAgICB2YXIgcmVxdWVzdGVkID0gJ2AnICsgcmVxdWVzdGVkTmFtZSArICdgJztcbiAgICBjb25zb2xlLndhcm4ocmVxdWVzdGVkICsgJyBtb2RpZmllciBpcyByZXF1aXJlZCBieSAnICsgX3JlcXVlc3RpbmcgKyAnIG1vZGlmaWVyIGluIG9yZGVyIHRvIHdvcmssIGJlIHN1cmUgdG8gaW5jbHVkZSBpdCBiZWZvcmUgJyArIF9yZXF1ZXN0aW5nICsgJyEnKTtcbiAgfVxuICByZXR1cm4gaXNSZXF1aXJlZDtcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBNb2RpZmllcnNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSB1cGRhdGUgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cbmZ1bmN0aW9uIGFycm93KGRhdGEsIG9wdGlvbnMpIHtcbiAgdmFyIF9kYXRhJG9mZnNldHMkYXJyb3c7XG5cbiAgLy8gYXJyb3cgZGVwZW5kcyBvbiBrZWVwVG9nZXRoZXIgaW4gb3JkZXIgdG8gd29ya1xuICBpZiAoIWlzTW9kaWZpZXJSZXF1aXJlZChkYXRhLmluc3RhbmNlLm1vZGlmaWVycywgJ2Fycm93JywgJ2tlZXBUb2dldGhlcicpKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICB2YXIgYXJyb3dFbGVtZW50ID0gb3B0aW9ucy5lbGVtZW50O1xuXG4gIC8vIGlmIGFycm93RWxlbWVudCBpcyBhIHN0cmluZywgc3VwcG9zZSBpdCdzIGEgQ1NTIHNlbGVjdG9yXG4gIGlmICh0eXBlb2YgYXJyb3dFbGVtZW50ID09PSAnc3RyaW5nJykge1xuICAgIGFycm93RWxlbWVudCA9IGRhdGEuaW5zdGFuY2UucG9wcGVyLnF1ZXJ5U2VsZWN0b3IoYXJyb3dFbGVtZW50KTtcblxuICAgIC8vIGlmIGFycm93RWxlbWVudCBpcyBub3QgZm91bmQsIGRvbid0IHJ1biB0aGUgbW9kaWZpZXJcbiAgICBpZiAoIWFycm93RWxlbWVudCkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIGlmIHRoZSBhcnJvd0VsZW1lbnQgaXNuJ3QgYSBxdWVyeSBzZWxlY3RvciB3ZSBtdXN0IGNoZWNrIHRoYXQgdGhlXG4gICAgLy8gcHJvdmlkZWQgRE9NIG5vZGUgaXMgY2hpbGQgb2YgaXRzIHBvcHBlciBub2RlXG4gICAgaWYgKCFkYXRhLmluc3RhbmNlLnBvcHBlci5jb250YWlucyhhcnJvd0VsZW1lbnQpKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1dBUk5JTkc6IGBhcnJvdy5lbGVtZW50YCBtdXN0IGJlIGNoaWxkIG9mIGl0cyBwb3BwZXIgZWxlbWVudCEnKTtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgfVxuXG4gIHZhciBwbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuICB2YXIgX2RhdGEkb2Zmc2V0cyA9IGRhdGEub2Zmc2V0cyxcbiAgICAgIHBvcHBlciA9IF9kYXRhJG9mZnNldHMucG9wcGVyLFxuICAgICAgcmVmZXJlbmNlID0gX2RhdGEkb2Zmc2V0cy5yZWZlcmVuY2U7XG5cbiAgdmFyIGlzVmVydGljYWwgPSBbJ2xlZnQnLCAncmlnaHQnXS5pbmRleE9mKHBsYWNlbWVudCkgIT09IC0xO1xuXG4gIHZhciBsZW4gPSBpc1ZlcnRpY2FsID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuICB2YXIgc2lkZUNhcGl0YWxpemVkID0gaXNWZXJ0aWNhbCA/ICdUb3AnIDogJ0xlZnQnO1xuICB2YXIgc2lkZSA9IHNpZGVDYXBpdGFsaXplZC50b0xvd2VyQ2FzZSgpO1xuICB2YXIgYWx0U2lkZSA9IGlzVmVydGljYWwgPyAnbGVmdCcgOiAndG9wJztcbiAgdmFyIG9wU2lkZSA9IGlzVmVydGljYWwgPyAnYm90dG9tJyA6ICdyaWdodCc7XG4gIHZhciBhcnJvd0VsZW1lbnRTaXplID0gZ2V0T3V0ZXJTaXplcyhhcnJvd0VsZW1lbnQpW2xlbl07XG5cbiAgLy9cbiAgLy8gZXh0ZW5kcyBrZWVwVG9nZXRoZXIgYmVoYXZpb3IgbWFraW5nIHN1cmUgdGhlIHBvcHBlciBhbmQgaXRzXG4gIC8vIHJlZmVyZW5jZSBoYXZlIGVub3VnaCBwaXhlbHMgaW4gY29uanVjdGlvblxuICAvL1xuXG4gIC8vIHRvcC9sZWZ0IHNpZGVcbiAgaWYgKHJlZmVyZW5jZVtvcFNpZGVdIC0gYXJyb3dFbGVtZW50U2l6ZSA8IHBvcHBlcltzaWRlXSkge1xuICAgIGRhdGEub2Zmc2V0cy5wb3BwZXJbc2lkZV0gLT0gcG9wcGVyW3NpZGVdIC0gKHJlZmVyZW5jZVtvcFNpZGVdIC0gYXJyb3dFbGVtZW50U2l6ZSk7XG4gIH1cbiAgLy8gYm90dG9tL3JpZ2h0IHNpZGVcbiAgaWYgKHJlZmVyZW5jZVtzaWRlXSArIGFycm93RWxlbWVudFNpemUgPiBwb3BwZXJbb3BTaWRlXSkge1xuICAgIGRhdGEub2Zmc2V0cy5wb3BwZXJbc2lkZV0gKz0gcmVmZXJlbmNlW3NpZGVdICsgYXJyb3dFbGVtZW50U2l6ZSAtIHBvcHBlcltvcFNpZGVdO1xuICB9XG4gIGRhdGEub2Zmc2V0cy5wb3BwZXIgPSBnZXRDbGllbnRSZWN0KGRhdGEub2Zmc2V0cy5wb3BwZXIpO1xuXG4gIC8vIGNvbXB1dGUgY2VudGVyIG9mIHRoZSBwb3BwZXJcbiAgdmFyIGNlbnRlciA9IHJlZmVyZW5jZVtzaWRlXSArIHJlZmVyZW5jZVtsZW5dIC8gMiAtIGFycm93RWxlbWVudFNpemUgLyAyO1xuXG4gIC8vIENvbXB1dGUgdGhlIHNpZGVWYWx1ZSB1c2luZyB0aGUgdXBkYXRlZCBwb3BwZXIgb2Zmc2V0c1xuICAvLyB0YWtlIHBvcHBlciBtYXJnaW4gaW4gYWNjb3VudCBiZWNhdXNlIHdlIGRvbid0IGhhdmUgdGhpcyBpbmZvIGF2YWlsYWJsZVxuICB2YXIgY3NzID0gZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KGRhdGEuaW5zdGFuY2UucG9wcGVyKTtcbiAgdmFyIHBvcHBlck1hcmdpblNpZGUgPSBwYXJzZUZsb2F0KGNzc1snbWFyZ2luJyArIHNpZGVDYXBpdGFsaXplZF0sIDEwKTtcbiAgdmFyIHBvcHBlckJvcmRlclNpZGUgPSBwYXJzZUZsb2F0KGNzc1snYm9yZGVyJyArIHNpZGVDYXBpdGFsaXplZCArICdXaWR0aCddLCAxMCk7XG4gIHZhciBzaWRlVmFsdWUgPSBjZW50ZXIgLSBkYXRhLm9mZnNldHMucG9wcGVyW3NpZGVdIC0gcG9wcGVyTWFyZ2luU2lkZSAtIHBvcHBlckJvcmRlclNpZGU7XG5cbiAgLy8gcHJldmVudCBhcnJvd0VsZW1lbnQgZnJvbSBiZWluZyBwbGFjZWQgbm90IGNvbnRpZ3VvdXNseSB0byBpdHMgcG9wcGVyXG4gIHNpZGVWYWx1ZSA9IE1hdGgubWF4KE1hdGgubWluKHBvcHBlcltsZW5dIC0gYXJyb3dFbGVtZW50U2l6ZSwgc2lkZVZhbHVlKSwgMCk7XG5cbiAgZGF0YS5hcnJvd0VsZW1lbnQgPSBhcnJvd0VsZW1lbnQ7XG4gIGRhdGEub2Zmc2V0cy5hcnJvdyA9IChfZGF0YSRvZmZzZXRzJGFycm93ID0ge30sIGRlZmluZVByb3BlcnR5JDEoX2RhdGEkb2Zmc2V0cyRhcnJvdywgc2lkZSwgTWF0aC5yb3VuZChzaWRlVmFsdWUpKSwgZGVmaW5lUHJvcGVydHkkMShfZGF0YSRvZmZzZXRzJGFycm93LCBhbHRTaWRlLCAnJyksIF9kYXRhJG9mZnNldHMkYXJyb3cpO1xuXG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIEdldCB0aGUgb3Bwb3NpdGUgcGxhY2VtZW50IHZhcmlhdGlvbiBvZiB0aGUgZ2l2ZW4gb25lXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge1N0cmluZ30gcGxhY2VtZW50IHZhcmlhdGlvblxuICogQHJldHVybnMge1N0cmluZ30gZmxpcHBlZCBwbGFjZW1lbnQgdmFyaWF0aW9uXG4gKi9cbmZ1bmN0aW9uIGdldE9wcG9zaXRlVmFyaWF0aW9uKHZhcmlhdGlvbikge1xuICBpZiAodmFyaWF0aW9uID09PSAnZW5kJykge1xuICAgIHJldHVybiAnc3RhcnQnO1xuICB9IGVsc2UgaWYgKHZhcmlhdGlvbiA9PT0gJ3N0YXJ0Jykge1xuICAgIHJldHVybiAnZW5kJztcbiAgfVxuICByZXR1cm4gdmFyaWF0aW9uO1xufVxuXG4vKipcbiAqIExpc3Qgb2YgYWNjZXB0ZWQgcGxhY2VtZW50cyB0byB1c2UgYXMgdmFsdWVzIG9mIHRoZSBgcGxhY2VtZW50YCBvcHRpb24uPGJyIC8+XG4gKiBWYWxpZCBwbGFjZW1lbnRzIGFyZTpcbiAqIC0gYGF1dG9gXG4gKiAtIGB0b3BgXG4gKiAtIGByaWdodGBcbiAqIC0gYGJvdHRvbWBcbiAqIC0gYGxlZnRgXG4gKlxuICogRWFjaCBwbGFjZW1lbnQgY2FuIGhhdmUgYSB2YXJpYXRpb24gZnJvbSB0aGlzIGxpc3Q6XG4gKiAtIGAtc3RhcnRgXG4gKiAtIGAtZW5kYFxuICpcbiAqIFZhcmlhdGlvbnMgYXJlIGludGVycHJldGVkIGVhc2lseSBpZiB5b3UgdGhpbmsgb2YgdGhlbSBhcyB0aGUgbGVmdCB0byByaWdodFxuICogd3JpdHRlbiBsYW5ndWFnZXMuIEhvcml6b250YWxseSAoYHRvcGAgYW5kIGBib3R0b21gKSwgYHN0YXJ0YCBpcyBsZWZ0IGFuZCBgZW5kYFxuICogaXMgcmlnaHQuPGJyIC8+XG4gKiBWZXJ0aWNhbGx5IChgbGVmdGAgYW5kIGByaWdodGApLCBgc3RhcnRgIGlzIHRvcCBhbmQgYGVuZGAgaXMgYm90dG9tLlxuICpcbiAqIFNvbWUgdmFsaWQgZXhhbXBsZXMgYXJlOlxuICogLSBgdG9wLWVuZGAgKG9uIHRvcCBvZiByZWZlcmVuY2UsIHJpZ2h0IGFsaWduZWQpXG4gKiAtIGByaWdodC1zdGFydGAgKG9uIHJpZ2h0IG9mIHJlZmVyZW5jZSwgdG9wIGFsaWduZWQpXG4gKiAtIGBib3R0b21gIChvbiBib3R0b20sIGNlbnRlcmVkKVxuICogLSBgYXV0by1yaWdodGAgKG9uIHRoZSBzaWRlIHdpdGggbW9yZSBzcGFjZSBhdmFpbGFibGUsIGFsaWdubWVudCBkZXBlbmRzIGJ5IHBsYWNlbWVudClcbiAqXG4gKiBAc3RhdGljXG4gKiBAdHlwZSB7QXJyYXl9XG4gKiBAZW51bSB7U3RyaW5nfVxuICogQHJlYWRvbmx5XG4gKiBAbWV0aG9kIHBsYWNlbWVudHNcbiAqIEBtZW1iZXJvZiBQb3BwZXJcbiAqL1xudmFyIHBsYWNlbWVudHMgPSBbJ2F1dG8tc3RhcnQnLCAnYXV0bycsICdhdXRvLWVuZCcsICd0b3Atc3RhcnQnLCAndG9wJywgJ3RvcC1lbmQnLCAncmlnaHQtc3RhcnQnLCAncmlnaHQnLCAncmlnaHQtZW5kJywgJ2JvdHRvbS1lbmQnLCAnYm90dG9tJywgJ2JvdHRvbS1zdGFydCcsICdsZWZ0LWVuZCcsICdsZWZ0JywgJ2xlZnQtc3RhcnQnXTtcblxuLy8gR2V0IHJpZCBvZiBgYXV0b2AgYGF1dG8tc3RhcnRgIGFuZCBgYXV0by1lbmRgXG52YXIgdmFsaWRQbGFjZW1lbnRzID0gcGxhY2VtZW50cy5zbGljZSgzKTtcblxuLyoqXG4gKiBHaXZlbiBhbiBpbml0aWFsIHBsYWNlbWVudCwgcmV0dXJucyBhbGwgdGhlIHN1YnNlcXVlbnQgcGxhY2VtZW50c1xuICogY2xvY2t3aXNlIChvciBjb3VudGVyLWNsb2Nrd2lzZSkuXG4gKlxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtTdHJpbmd9IHBsYWNlbWVudCAtIEEgdmFsaWQgcGxhY2VtZW50IChpdCBhY2NlcHRzIHZhcmlhdGlvbnMpXG4gKiBAYXJndW1lbnQge0Jvb2xlYW59IGNvdW50ZXIgLSBTZXQgdG8gdHJ1ZSB0byB3YWxrIHRoZSBwbGFjZW1lbnRzIGNvdW50ZXJjbG9ja3dpc2VcbiAqIEByZXR1cm5zIHtBcnJheX0gcGxhY2VtZW50cyBpbmNsdWRpbmcgdGhlaXIgdmFyaWF0aW9uc1xuICovXG5mdW5jdGlvbiBjbG9ja3dpc2UocGxhY2VtZW50KSB7XG4gIHZhciBjb3VudGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcblxuICB2YXIgaW5kZXggPSB2YWxpZFBsYWNlbWVudHMuaW5kZXhPZihwbGFjZW1lbnQpO1xuICB2YXIgYXJyID0gdmFsaWRQbGFjZW1lbnRzLnNsaWNlKGluZGV4ICsgMSkuY29uY2F0KHZhbGlkUGxhY2VtZW50cy5zbGljZSgwLCBpbmRleCkpO1xuICByZXR1cm4gY291bnRlciA/IGFyci5yZXZlcnNlKCkgOiBhcnI7XG59XG5cbnZhciBCRUhBVklPUlMgPSB7XG4gIEZMSVA6ICdmbGlwJyxcbiAgQ0xPQ0tXSVNFOiAnY2xvY2t3aXNlJyxcbiAgQ09VTlRFUkNMT0NLV0lTRTogJ2NvdW50ZXJjbG9ja3dpc2UnXG59O1xuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IHVwZGF0ZSBtZXRob2RcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWRcbiAqL1xuZnVuY3Rpb24gZmxpcChkYXRhLCBvcHRpb25zKSB7XG4gIC8vIGlmIGBpbm5lcmAgbW9kaWZpZXIgaXMgZW5hYmxlZCwgd2UgY2FuJ3QgdXNlIHRoZSBgZmxpcGAgbW9kaWZpZXJcbiAgaWYgKGlzTW9kaWZpZXJFbmFibGVkKGRhdGEuaW5zdGFuY2UubW9kaWZpZXJzLCAnaW5uZXInKSkge1xuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgaWYgKGRhdGEuZmxpcHBlZCAmJiBkYXRhLnBsYWNlbWVudCA9PT0gZGF0YS5vcmlnaW5hbFBsYWNlbWVudCkge1xuICAgIC8vIHNlZW1zIGxpa2UgZmxpcCBpcyB0cnlpbmcgdG8gbG9vcCwgcHJvYmFibHkgdGhlcmUncyBub3QgZW5vdWdoIHNwYWNlIG9uIGFueSBvZiB0aGUgZmxpcHBhYmxlIHNpZGVzXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICB2YXIgYm91bmRhcmllcyA9IGdldEJvdW5kYXJpZXMoZGF0YS5pbnN0YW5jZS5wb3BwZXIsIGRhdGEuaW5zdGFuY2UucmVmZXJlbmNlLCBvcHRpb25zLnBhZGRpbmcsIG9wdGlvbnMuYm91bmRhcmllc0VsZW1lbnQsIGRhdGEucG9zaXRpb25GaXhlZCk7XG5cbiAgdmFyIHBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50LnNwbGl0KCctJylbMF07XG4gIHZhciBwbGFjZW1lbnRPcHBvc2l0ZSA9IGdldE9wcG9zaXRlUGxhY2VtZW50KHBsYWNlbWVudCk7XG4gIHZhciB2YXJpYXRpb24gPSBkYXRhLnBsYWNlbWVudC5zcGxpdCgnLScpWzFdIHx8ICcnO1xuXG4gIHZhciBmbGlwT3JkZXIgPSBbXTtcblxuICBzd2l0Y2ggKG9wdGlvbnMuYmVoYXZpb3IpIHtcbiAgICBjYXNlIEJFSEFWSU9SUy5GTElQOlxuICAgICAgZmxpcE9yZGVyID0gW3BsYWNlbWVudCwgcGxhY2VtZW50T3Bwb3NpdGVdO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBCRUhBVklPUlMuQ0xPQ0tXSVNFOlxuICAgICAgZmxpcE9yZGVyID0gY2xvY2t3aXNlKHBsYWNlbWVudCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEJFSEFWSU9SUy5DT1VOVEVSQ0xPQ0tXSVNFOlxuICAgICAgZmxpcE9yZGVyID0gY2xvY2t3aXNlKHBsYWNlbWVudCwgdHJ1ZSk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgZmxpcE9yZGVyID0gb3B0aW9ucy5iZWhhdmlvcjtcbiAgfVxuXG4gIGZsaXBPcmRlci5mb3JFYWNoKGZ1bmN0aW9uIChzdGVwLCBpbmRleCkge1xuICAgIGlmIChwbGFjZW1lbnQgIT09IHN0ZXAgfHwgZmxpcE9yZGVyLmxlbmd0aCA9PT0gaW5kZXggKyAxKSB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBwbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuICAgIHBsYWNlbWVudE9wcG9zaXRlID0gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocGxhY2VtZW50KTtcblxuICAgIHZhciBwb3BwZXJPZmZzZXRzID0gZGF0YS5vZmZzZXRzLnBvcHBlcjtcbiAgICB2YXIgcmVmT2Zmc2V0cyA9IGRhdGEub2Zmc2V0cy5yZWZlcmVuY2U7XG5cbiAgICAvLyB1c2luZyBmbG9vciBiZWNhdXNlIHRoZSByZWZlcmVuY2Ugb2Zmc2V0cyBtYXkgY29udGFpbiBkZWNpbWFscyB3ZSBhcmUgbm90IGdvaW5nIHRvIGNvbnNpZGVyIGhlcmVcbiAgICB2YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xuICAgIHZhciBvdmVybGFwc1JlZiA9IHBsYWNlbWVudCA9PT0gJ2xlZnQnICYmIGZsb29yKHBvcHBlck9mZnNldHMucmlnaHQpID4gZmxvb3IocmVmT2Zmc2V0cy5sZWZ0KSB8fCBwbGFjZW1lbnQgPT09ICdyaWdodCcgJiYgZmxvb3IocG9wcGVyT2Zmc2V0cy5sZWZ0KSA8IGZsb29yKHJlZk9mZnNldHMucmlnaHQpIHx8IHBsYWNlbWVudCA9PT0gJ3RvcCcgJiYgZmxvb3IocG9wcGVyT2Zmc2V0cy5ib3R0b20pID4gZmxvb3IocmVmT2Zmc2V0cy50b3ApIHx8IHBsYWNlbWVudCA9PT0gJ2JvdHRvbScgJiYgZmxvb3IocG9wcGVyT2Zmc2V0cy50b3ApIDwgZmxvb3IocmVmT2Zmc2V0cy5ib3R0b20pO1xuXG4gICAgdmFyIG92ZXJmbG93c0xlZnQgPSBmbG9vcihwb3BwZXJPZmZzZXRzLmxlZnQpIDwgZmxvb3IoYm91bmRhcmllcy5sZWZ0KTtcbiAgICB2YXIgb3ZlcmZsb3dzUmlnaHQgPSBmbG9vcihwb3BwZXJPZmZzZXRzLnJpZ2h0KSA+IGZsb29yKGJvdW5kYXJpZXMucmlnaHQpO1xuICAgIHZhciBvdmVyZmxvd3NUb3AgPSBmbG9vcihwb3BwZXJPZmZzZXRzLnRvcCkgPCBmbG9vcihib3VuZGFyaWVzLnRvcCk7XG4gICAgdmFyIG92ZXJmbG93c0JvdHRvbSA9IGZsb29yKHBvcHBlck9mZnNldHMuYm90dG9tKSA+IGZsb29yKGJvdW5kYXJpZXMuYm90dG9tKTtcblxuICAgIHZhciBvdmVyZmxvd3NCb3VuZGFyaWVzID0gcGxhY2VtZW50ID09PSAnbGVmdCcgJiYgb3ZlcmZsb3dzTGVmdCB8fCBwbGFjZW1lbnQgPT09ICdyaWdodCcgJiYgb3ZlcmZsb3dzUmlnaHQgfHwgcGxhY2VtZW50ID09PSAndG9wJyAmJiBvdmVyZmxvd3NUb3AgfHwgcGxhY2VtZW50ID09PSAnYm90dG9tJyAmJiBvdmVyZmxvd3NCb3R0b207XG5cbiAgICAvLyBmbGlwIHRoZSB2YXJpYXRpb24gaWYgcmVxdWlyZWRcbiAgICB2YXIgaXNWZXJ0aWNhbCA9IFsndG9wJywgJ2JvdHRvbSddLmluZGV4T2YocGxhY2VtZW50KSAhPT0gLTE7XG4gICAgdmFyIGZsaXBwZWRWYXJpYXRpb24gPSAhIW9wdGlvbnMuZmxpcFZhcmlhdGlvbnMgJiYgKGlzVmVydGljYWwgJiYgdmFyaWF0aW9uID09PSAnc3RhcnQnICYmIG92ZXJmbG93c0xlZnQgfHwgaXNWZXJ0aWNhbCAmJiB2YXJpYXRpb24gPT09ICdlbmQnICYmIG92ZXJmbG93c1JpZ2h0IHx8ICFpc1ZlcnRpY2FsICYmIHZhcmlhdGlvbiA9PT0gJ3N0YXJ0JyAmJiBvdmVyZmxvd3NUb3AgfHwgIWlzVmVydGljYWwgJiYgdmFyaWF0aW9uID09PSAnZW5kJyAmJiBvdmVyZmxvd3NCb3R0b20pO1xuXG4gICAgaWYgKG92ZXJsYXBzUmVmIHx8IG92ZXJmbG93c0JvdW5kYXJpZXMgfHwgZmxpcHBlZFZhcmlhdGlvbikge1xuICAgICAgLy8gdGhpcyBib29sZWFuIHRvIGRldGVjdCBhbnkgZmxpcCBsb29wXG4gICAgICBkYXRhLmZsaXBwZWQgPSB0cnVlO1xuXG4gICAgICBpZiAob3ZlcmxhcHNSZWYgfHwgb3ZlcmZsb3dzQm91bmRhcmllcykge1xuICAgICAgICBwbGFjZW1lbnQgPSBmbGlwT3JkZXJbaW5kZXggKyAxXTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZsaXBwZWRWYXJpYXRpb24pIHtcbiAgICAgICAgdmFyaWF0aW9uID0gZ2V0T3Bwb3NpdGVWYXJpYXRpb24odmFyaWF0aW9uKTtcbiAgICAgIH1cblxuICAgICAgZGF0YS5wbGFjZW1lbnQgPSBwbGFjZW1lbnQgKyAodmFyaWF0aW9uID8gJy0nICsgdmFyaWF0aW9uIDogJycpO1xuXG4gICAgICAvLyB0aGlzIG9iamVjdCBjb250YWlucyBgcG9zaXRpb25gLCB3ZSB3YW50IHRvIHByZXNlcnZlIGl0IGFsb25nIHdpdGhcbiAgICAgIC8vIGFueSBhZGRpdGlvbmFsIHByb3BlcnR5IHdlIG1heSBhZGQgaW4gdGhlIGZ1dHVyZVxuICAgICAgZGF0YS5vZmZzZXRzLnBvcHBlciA9IF9leHRlbmRzJDEoe30sIGRhdGEub2Zmc2V0cy5wb3BwZXIsIGdldFBvcHBlck9mZnNldHMoZGF0YS5pbnN0YW5jZS5wb3BwZXIsIGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UsIGRhdGEucGxhY2VtZW50KSk7XG5cbiAgICAgIGRhdGEgPSBydW5Nb2RpZmllcnMoZGF0YS5pbnN0YW5jZS5tb2RpZmllcnMsIGRhdGEsICdmbGlwJyk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgdXBkYXRlIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBrZWVwVG9nZXRoZXIoZGF0YSkge1xuICB2YXIgX2RhdGEkb2Zmc2V0cyA9IGRhdGEub2Zmc2V0cyxcbiAgICAgIHBvcHBlciA9IF9kYXRhJG9mZnNldHMucG9wcGVyLFxuICAgICAgcmVmZXJlbmNlID0gX2RhdGEkb2Zmc2V0cy5yZWZlcmVuY2U7XG5cbiAgdmFyIHBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50LnNwbGl0KCctJylbMF07XG4gIHZhciBmbG9vciA9IE1hdGguZmxvb3I7XG4gIHZhciBpc1ZlcnRpY2FsID0gWyd0b3AnLCAnYm90dG9tJ10uaW5kZXhPZihwbGFjZW1lbnQpICE9PSAtMTtcbiAgdmFyIHNpZGUgPSBpc1ZlcnRpY2FsID8gJ3JpZ2h0JyA6ICdib3R0b20nO1xuICB2YXIgb3BTaWRlID0gaXNWZXJ0aWNhbCA/ICdsZWZ0JyA6ICd0b3AnO1xuICB2YXIgbWVhc3VyZW1lbnQgPSBpc1ZlcnRpY2FsID8gJ3dpZHRoJyA6ICdoZWlnaHQnO1xuXG4gIGlmIChwb3BwZXJbc2lkZV0gPCBmbG9vcihyZWZlcmVuY2Vbb3BTaWRlXSkpIHtcbiAgICBkYXRhLm9mZnNldHMucG9wcGVyW29wU2lkZV0gPSBmbG9vcihyZWZlcmVuY2Vbb3BTaWRlXSkgLSBwb3BwZXJbbWVhc3VyZW1lbnRdO1xuICB9XG4gIGlmIChwb3BwZXJbb3BTaWRlXSA+IGZsb29yKHJlZmVyZW5jZVtzaWRlXSkpIHtcbiAgICBkYXRhLm9mZnNldHMucG9wcGVyW29wU2lkZV0gPSBmbG9vcihyZWZlcmVuY2Vbc2lkZV0pO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBzdHJpbmcgY29udGFpbmluZyB2YWx1ZSArIHVuaXQgaW50byBhIHB4IHZhbHVlIG51bWJlclxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2Yge21vZGlmaWVyc35vZmZzZXR9XG4gKiBAcHJpdmF0ZVxuICogQGFyZ3VtZW50IHtTdHJpbmd9IHN0ciAtIFZhbHVlICsgdW5pdCBzdHJpbmdcbiAqIEBhcmd1bWVudCB7U3RyaW5nfSBtZWFzdXJlbWVudCAtIGBoZWlnaHRgIG9yIGB3aWR0aGBcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBwb3BwZXJPZmZzZXRzXG4gKiBAYXJndW1lbnQge09iamVjdH0gcmVmZXJlbmNlT2Zmc2V0c1xuICogQHJldHVybnMge051bWJlcnxTdHJpbmd9XG4gKiBWYWx1ZSBpbiBwaXhlbHMsIG9yIG9yaWdpbmFsIHN0cmluZyBpZiBubyB2YWx1ZXMgd2VyZSBleHRyYWN0ZWRcbiAqL1xuZnVuY3Rpb24gdG9WYWx1ZShzdHIsIG1lYXN1cmVtZW50LCBwb3BwZXJPZmZzZXRzLCByZWZlcmVuY2VPZmZzZXRzKSB7XG4gIC8vIHNlcGFyYXRlIHZhbHVlIGZyb20gdW5pdFxuICB2YXIgc3BsaXQgPSBzdHIubWF0Y2goLygoPzpcXC18XFwrKT9cXGQqXFwuP1xcZCopKC4qKS8pO1xuICB2YXIgdmFsdWUgPSArc3BsaXRbMV07XG4gIHZhciB1bml0ID0gc3BsaXRbMl07XG5cbiAgLy8gSWYgaXQncyBub3QgYSBudW1iZXIgaXQncyBhbiBvcGVyYXRvciwgSSBndWVzc1xuICBpZiAoIXZhbHVlKSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuXG4gIGlmICh1bml0LmluZGV4T2YoJyUnKSA9PT0gMCkge1xuICAgIHZhciBlbGVtZW50ID0gdm9pZCAwO1xuICAgIHN3aXRjaCAodW5pdCkge1xuICAgICAgY2FzZSAnJXAnOlxuICAgICAgICBlbGVtZW50ID0gcG9wcGVyT2Zmc2V0cztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICclJzpcbiAgICAgIGNhc2UgJyVyJzpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGVsZW1lbnQgPSByZWZlcmVuY2VPZmZzZXRzO1xuICAgIH1cblxuICAgIHZhciByZWN0ID0gZ2V0Q2xpZW50UmVjdChlbGVtZW50KTtcbiAgICByZXR1cm4gcmVjdFttZWFzdXJlbWVudF0gLyAxMDAgKiB2YWx1ZTtcbiAgfSBlbHNlIGlmICh1bml0ID09PSAndmgnIHx8IHVuaXQgPT09ICd2dycpIHtcbiAgICAvLyBpZiBpcyBhIHZoIG9yIHZ3LCB3ZSBjYWxjdWxhdGUgdGhlIHNpemUgYmFzZWQgb24gdGhlIHZpZXdwb3J0XG4gICAgdmFyIHNpemUgPSB2b2lkIDA7XG4gICAgaWYgKHVuaXQgPT09ICd2aCcpIHtcbiAgICAgIHNpemUgPSBNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LCB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNpemUgPSBNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsIHdpbmRvdy5pbm5lcldpZHRoIHx8IDApO1xuICAgIH1cbiAgICByZXR1cm4gc2l6ZSAvIDEwMCAqIHZhbHVlO1xuICB9IGVsc2Uge1xuICAgIC8vIGlmIGlzIGFuIGV4cGxpY2l0IHBpeGVsIHVuaXQsIHdlIGdldCByaWQgb2YgdGhlIHVuaXQgYW5kIGtlZXAgdGhlIHZhbHVlXG4gICAgLy8gaWYgaXMgYW4gaW1wbGljaXQgdW5pdCwgaXQncyBweCwgYW5kIHdlIHJldHVybiBqdXN0IHRoZSB2YWx1ZVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufVxuXG4vKipcbiAqIFBhcnNlIGFuIGBvZmZzZXRgIHN0cmluZyB0byBleHRyYXBvbGF0ZSBgeGAgYW5kIGB5YCBudW1lcmljIG9mZnNldHMuXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiB7bW9kaWZpZXJzfm9mZnNldH1cbiAqIEBwcml2YXRlXG4gKiBAYXJndW1lbnQge1N0cmluZ30gb2Zmc2V0XG4gKiBAYXJndW1lbnQge09iamVjdH0gcG9wcGVyT2Zmc2V0c1xuICogQGFyZ3VtZW50IHtPYmplY3R9IHJlZmVyZW5jZU9mZnNldHNcbiAqIEBhcmd1bWVudCB7U3RyaW5nfSBiYXNlUGxhY2VtZW50XG4gKiBAcmV0dXJucyB7QXJyYXl9IGEgdHdvIGNlbGxzIGFycmF5IHdpdGggeCBhbmQgeSBvZmZzZXRzIGluIG51bWJlcnNcbiAqL1xuZnVuY3Rpb24gcGFyc2VPZmZzZXQob2Zmc2V0LCBwb3BwZXJPZmZzZXRzLCByZWZlcmVuY2VPZmZzZXRzLCBiYXNlUGxhY2VtZW50KSB7XG4gIHZhciBvZmZzZXRzID0gWzAsIDBdO1xuXG4gIC8vIFVzZSBoZWlnaHQgaWYgcGxhY2VtZW50IGlzIGxlZnQgb3IgcmlnaHQgYW5kIGluZGV4IGlzIDAgb3RoZXJ3aXNlIHVzZSB3aWR0aFxuICAvLyBpbiB0aGlzIHdheSB0aGUgZmlyc3Qgb2Zmc2V0IHdpbGwgdXNlIGFuIGF4aXMgYW5kIHRoZSBzZWNvbmQgb25lXG4gIC8vIHdpbGwgdXNlIHRoZSBvdGhlciBvbmVcbiAgdmFyIHVzZUhlaWdodCA9IFsncmlnaHQnLCAnbGVmdCddLmluZGV4T2YoYmFzZVBsYWNlbWVudCkgIT09IC0xO1xuXG4gIC8vIFNwbGl0IHRoZSBvZmZzZXQgc3RyaW5nIHRvIG9idGFpbiBhIGxpc3Qgb2YgdmFsdWVzIGFuZCBvcGVyYW5kc1xuICAvLyBUaGUgcmVnZXggYWRkcmVzc2VzIHZhbHVlcyB3aXRoIHRoZSBwbHVzIG9yIG1pbnVzIHNpZ24gaW4gZnJvbnQgKCsxMCwgLTIwLCBldGMpXG4gIHZhciBmcmFnbWVudHMgPSBvZmZzZXQuc3BsaXQoLyhcXCt8XFwtKS8pLm1hcChmdW5jdGlvbiAoZnJhZykge1xuICAgIHJldHVybiBmcmFnLnRyaW0oKTtcbiAgfSk7XG5cbiAgLy8gRGV0ZWN0IGlmIHRoZSBvZmZzZXQgc3RyaW5nIGNvbnRhaW5zIGEgcGFpciBvZiB2YWx1ZXMgb3IgYSBzaW5nbGUgb25lXG4gIC8vIHRoZXkgY291bGQgYmUgc2VwYXJhdGVkIGJ5IGNvbW1hIG9yIHNwYWNlXG4gIHZhciBkaXZpZGVyID0gZnJhZ21lbnRzLmluZGV4T2YoZmluZChmcmFnbWVudHMsIGZ1bmN0aW9uIChmcmFnKSB7XG4gICAgcmV0dXJuIGZyYWcuc2VhcmNoKC8sfFxccy8pICE9PSAtMTtcbiAgfSkpO1xuXG4gIGlmIChmcmFnbWVudHNbZGl2aWRlcl0gJiYgZnJhZ21lbnRzW2RpdmlkZXJdLmluZGV4T2YoJywnKSA9PT0gLTEpIHtcbiAgICBjb25zb2xlLndhcm4oJ09mZnNldHMgc2VwYXJhdGVkIGJ5IHdoaXRlIHNwYWNlKHMpIGFyZSBkZXByZWNhdGVkLCB1c2UgYSBjb21tYSAoLCkgaW5zdGVhZC4nKTtcbiAgfVxuXG4gIC8vIElmIGRpdmlkZXIgaXMgZm91bmQsIHdlIGRpdmlkZSB0aGUgbGlzdCBvZiB2YWx1ZXMgYW5kIG9wZXJhbmRzIHRvIGRpdmlkZVxuICAvLyB0aGVtIGJ5IG9mc2V0IFggYW5kIFkuXG4gIHZhciBzcGxpdFJlZ2V4ID0gL1xccyosXFxzKnxcXHMrLztcbiAgdmFyIG9wcyA9IGRpdmlkZXIgIT09IC0xID8gW2ZyYWdtZW50cy5zbGljZSgwLCBkaXZpZGVyKS5jb25jYXQoW2ZyYWdtZW50c1tkaXZpZGVyXS5zcGxpdChzcGxpdFJlZ2V4KVswXV0pLCBbZnJhZ21lbnRzW2RpdmlkZXJdLnNwbGl0KHNwbGl0UmVnZXgpWzFdXS5jb25jYXQoZnJhZ21lbnRzLnNsaWNlKGRpdmlkZXIgKyAxKSldIDogW2ZyYWdtZW50c107XG5cbiAgLy8gQ29udmVydCB0aGUgdmFsdWVzIHdpdGggdW5pdHMgdG8gYWJzb2x1dGUgcGl4ZWxzIHRvIGFsbG93IG91ciBjb21wdXRhdGlvbnNcbiAgb3BzID0gb3BzLm1hcChmdW5jdGlvbiAob3AsIGluZGV4KSB7XG4gICAgLy8gTW9zdCBvZiB0aGUgdW5pdHMgcmVseSBvbiB0aGUgb3JpZW50YXRpb24gb2YgdGhlIHBvcHBlclxuICAgIHZhciBtZWFzdXJlbWVudCA9IChpbmRleCA9PT0gMSA/ICF1c2VIZWlnaHQgOiB1c2VIZWlnaHQpID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuICAgIHZhciBtZXJnZVdpdGhQcmV2aW91cyA9IGZhbHNlO1xuICAgIHJldHVybiBvcFxuICAgIC8vIFRoaXMgYWdncmVnYXRlcyBhbnkgYCtgIG9yIGAtYCBzaWduIHRoYXQgYXJlbid0IGNvbnNpZGVyZWQgb3BlcmF0b3JzXG4gICAgLy8gZS5nLjogMTAgKyArNSA9PiBbMTAsICssICs1XVxuICAgIC5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIGlmIChhW2EubGVuZ3RoIC0gMV0gPT09ICcnICYmIFsnKycsICctJ10uaW5kZXhPZihiKSAhPT0gLTEpIHtcbiAgICAgICAgYVthLmxlbmd0aCAtIDFdID0gYjtcbiAgICAgICAgbWVyZ2VXaXRoUHJldmlvdXMgPSB0cnVlO1xuICAgICAgICByZXR1cm4gYTtcbiAgICAgIH0gZWxzZSBpZiAobWVyZ2VXaXRoUHJldmlvdXMpIHtcbiAgICAgICAgYVthLmxlbmd0aCAtIDFdICs9IGI7XG4gICAgICAgIG1lcmdlV2l0aFByZXZpb3VzID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBhO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGEuY29uY2F0KGIpO1xuICAgICAgfVxuICAgIH0sIFtdKVxuICAgIC8vIEhlcmUgd2UgY29udmVydCB0aGUgc3RyaW5nIHZhbHVlcyBpbnRvIG51bWJlciB2YWx1ZXMgKGluIHB4KVxuICAgIC5tYXAoZnVuY3Rpb24gKHN0cikge1xuICAgICAgcmV0dXJuIHRvVmFsdWUoc3RyLCBtZWFzdXJlbWVudCwgcG9wcGVyT2Zmc2V0cywgcmVmZXJlbmNlT2Zmc2V0cyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIExvb3AgdHJvdWdoIHRoZSBvZmZzZXRzIGFycmF5cyBhbmQgZXhlY3V0ZSB0aGUgb3BlcmF0aW9uc1xuICBvcHMuZm9yRWFjaChmdW5jdGlvbiAob3AsIGluZGV4KSB7XG4gICAgb3AuZm9yRWFjaChmdW5jdGlvbiAoZnJhZywgaW5kZXgyKSB7XG4gICAgICBpZiAoaXNOdW1lcmljKGZyYWcpKSB7XG4gICAgICAgIG9mZnNldHNbaW5kZXhdICs9IGZyYWcgKiAob3BbaW5kZXgyIC0gMV0gPT09ICctJyA/IC0xIDogMSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gb2Zmc2V0cztcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBNb2RpZmllcnNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSB1cGRhdGUgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAYXJndW1lbnQge051bWJlcnxTdHJpbmd9IG9wdGlvbnMub2Zmc2V0PTBcbiAqIFRoZSBvZmZzZXQgdmFsdWUgYXMgZGVzY3JpYmVkIGluIHRoZSBtb2RpZmllciBkZXNjcmlwdGlvblxuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBvZmZzZXQoZGF0YSwgX3JlZikge1xuICB2YXIgb2Zmc2V0ID0gX3JlZi5vZmZzZXQ7XG4gIHZhciBwbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudCxcbiAgICAgIF9kYXRhJG9mZnNldHMgPSBkYXRhLm9mZnNldHMsXG4gICAgICBwb3BwZXIgPSBfZGF0YSRvZmZzZXRzLnBvcHBlcixcbiAgICAgIHJlZmVyZW5jZSA9IF9kYXRhJG9mZnNldHMucmVmZXJlbmNlO1xuXG4gIHZhciBiYXNlUGxhY2VtZW50ID0gcGxhY2VtZW50LnNwbGl0KCctJylbMF07XG5cbiAgdmFyIG9mZnNldHMgPSB2b2lkIDA7XG4gIGlmIChpc051bWVyaWMoK29mZnNldCkpIHtcbiAgICBvZmZzZXRzID0gWytvZmZzZXQsIDBdO1xuICB9IGVsc2Uge1xuICAgIG9mZnNldHMgPSBwYXJzZU9mZnNldChvZmZzZXQsIHBvcHBlciwgcmVmZXJlbmNlLCBiYXNlUGxhY2VtZW50KTtcbiAgfVxuXG4gIGlmIChiYXNlUGxhY2VtZW50ID09PSAnbGVmdCcpIHtcbiAgICBwb3BwZXIudG9wICs9IG9mZnNldHNbMF07XG4gICAgcG9wcGVyLmxlZnQgLT0gb2Zmc2V0c1sxXTtcbiAgfSBlbHNlIGlmIChiYXNlUGxhY2VtZW50ID09PSAncmlnaHQnKSB7XG4gICAgcG9wcGVyLnRvcCArPSBvZmZzZXRzWzBdO1xuICAgIHBvcHBlci5sZWZ0ICs9IG9mZnNldHNbMV07XG4gIH0gZWxzZSBpZiAoYmFzZVBsYWNlbWVudCA9PT0gJ3RvcCcpIHtcbiAgICBwb3BwZXIubGVmdCArPSBvZmZzZXRzWzBdO1xuICAgIHBvcHBlci50b3AgLT0gb2Zmc2V0c1sxXTtcbiAgfSBlbHNlIGlmIChiYXNlUGxhY2VtZW50ID09PSAnYm90dG9tJykge1xuICAgIHBvcHBlci5sZWZ0ICs9IG9mZnNldHNbMF07XG4gICAgcG9wcGVyLnRvcCArPSBvZmZzZXRzWzFdO1xuICB9XG5cbiAgZGF0YS5wb3BwZXIgPSBwb3BwZXI7XG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IGB1cGRhdGVgIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBwcmV2ZW50T3ZlcmZsb3coZGF0YSwgb3B0aW9ucykge1xuICB2YXIgYm91bmRhcmllc0VsZW1lbnQgPSBvcHRpb25zLmJvdW5kYXJpZXNFbGVtZW50IHx8IGdldE9mZnNldFBhcmVudChkYXRhLmluc3RhbmNlLnBvcHBlcik7XG5cbiAgLy8gSWYgb2Zmc2V0UGFyZW50IGlzIHRoZSByZWZlcmVuY2UgZWxlbWVudCwgd2UgcmVhbGx5IHdhbnQgdG9cbiAgLy8gZ28gb25lIHN0ZXAgdXAgYW5kIHVzZSB0aGUgbmV4dCBvZmZzZXRQYXJlbnQgYXMgcmVmZXJlbmNlIHRvXG4gIC8vIGF2b2lkIHRvIG1ha2UgdGhpcyBtb2RpZmllciBjb21wbGV0ZWx5IHVzZWxlc3MgYW5kIGxvb2sgbGlrZSBicm9rZW5cbiAgaWYgKGRhdGEuaW5zdGFuY2UucmVmZXJlbmNlID09PSBib3VuZGFyaWVzRWxlbWVudCkge1xuICAgIGJvdW5kYXJpZXNFbGVtZW50ID0gZ2V0T2Zmc2V0UGFyZW50KGJvdW5kYXJpZXNFbGVtZW50KTtcbiAgfVxuXG4gIC8vIE5PVEU6IERPTSBhY2Nlc3MgaGVyZVxuICAvLyByZXNldHMgdGhlIHBvcHBlcidzIHBvc2l0aW9uIHNvIHRoYXQgdGhlIGRvY3VtZW50IHNpemUgY2FuIGJlIGNhbGN1bGF0ZWQgZXhjbHVkaW5nXG4gIC8vIHRoZSBzaXplIG9mIHRoZSBwb3BwZXIgZWxlbWVudCBpdHNlbGZcbiAgdmFyIHRyYW5zZm9ybVByb3AgPSBnZXRTdXBwb3J0ZWRQcm9wZXJ0eU5hbWUoJ3RyYW5zZm9ybScpO1xuICB2YXIgcG9wcGVyU3R5bGVzID0gZGF0YS5pbnN0YW5jZS5wb3BwZXIuc3R5bGU7IC8vIGFzc2lnbm1lbnQgdG8gaGVscCBtaW5pZmljYXRpb25cbiAgdmFyIHRvcCA9IHBvcHBlclN0eWxlcy50b3AsXG4gICAgICBsZWZ0ID0gcG9wcGVyU3R5bGVzLmxlZnQsXG4gICAgICB0cmFuc2Zvcm0gPSBwb3BwZXJTdHlsZXNbdHJhbnNmb3JtUHJvcF07XG5cbiAgcG9wcGVyU3R5bGVzLnRvcCA9ICcnO1xuICBwb3BwZXJTdHlsZXMubGVmdCA9ICcnO1xuICBwb3BwZXJTdHlsZXNbdHJhbnNmb3JtUHJvcF0gPSAnJztcblxuICB2YXIgYm91bmRhcmllcyA9IGdldEJvdW5kYXJpZXMoZGF0YS5pbnN0YW5jZS5wb3BwZXIsIGRhdGEuaW5zdGFuY2UucmVmZXJlbmNlLCBvcHRpb25zLnBhZGRpbmcsIGJvdW5kYXJpZXNFbGVtZW50LCBkYXRhLnBvc2l0aW9uRml4ZWQpO1xuXG4gIC8vIE5PVEU6IERPTSBhY2Nlc3MgaGVyZVxuICAvLyByZXN0b3JlcyB0aGUgb3JpZ2luYWwgc3R5bGUgcHJvcGVydGllcyBhZnRlciB0aGUgb2Zmc2V0cyBoYXZlIGJlZW4gY29tcHV0ZWRcbiAgcG9wcGVyU3R5bGVzLnRvcCA9IHRvcDtcbiAgcG9wcGVyU3R5bGVzLmxlZnQgPSBsZWZ0O1xuICBwb3BwZXJTdHlsZXNbdHJhbnNmb3JtUHJvcF0gPSB0cmFuc2Zvcm07XG5cbiAgb3B0aW9ucy5ib3VuZGFyaWVzID0gYm91bmRhcmllcztcblxuICB2YXIgb3JkZXIgPSBvcHRpb25zLnByaW9yaXR5O1xuICB2YXIgcG9wcGVyID0gZGF0YS5vZmZzZXRzLnBvcHBlcjtcblxuICB2YXIgY2hlY2sgPSB7XG4gICAgcHJpbWFyeTogZnVuY3Rpb24gcHJpbWFyeShwbGFjZW1lbnQpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHBvcHBlcltwbGFjZW1lbnRdO1xuICAgICAgaWYgKHBvcHBlcltwbGFjZW1lbnRdIDwgYm91bmRhcmllc1twbGFjZW1lbnRdICYmICFvcHRpb25zLmVzY2FwZVdpdGhSZWZlcmVuY2UpIHtcbiAgICAgICAgdmFsdWUgPSBNYXRoLm1heChwb3BwZXJbcGxhY2VtZW50XSwgYm91bmRhcmllc1twbGFjZW1lbnRdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWZpbmVQcm9wZXJ0eSQxKHt9LCBwbGFjZW1lbnQsIHZhbHVlKTtcbiAgICB9LFxuICAgIHNlY29uZGFyeTogZnVuY3Rpb24gc2Vjb25kYXJ5KHBsYWNlbWVudCkge1xuICAgICAgdmFyIG1haW5TaWRlID0gcGxhY2VtZW50ID09PSAncmlnaHQnID8gJ2xlZnQnIDogJ3RvcCc7XG4gICAgICB2YXIgdmFsdWUgPSBwb3BwZXJbbWFpblNpZGVdO1xuICAgICAgaWYgKHBvcHBlcltwbGFjZW1lbnRdID4gYm91bmRhcmllc1twbGFjZW1lbnRdICYmICFvcHRpb25zLmVzY2FwZVdpdGhSZWZlcmVuY2UpIHtcbiAgICAgICAgdmFsdWUgPSBNYXRoLm1pbihwb3BwZXJbbWFpblNpZGVdLCBib3VuZGFyaWVzW3BsYWNlbWVudF0gLSAocGxhY2VtZW50ID09PSAncmlnaHQnID8gcG9wcGVyLndpZHRoIDogcG9wcGVyLmhlaWdodCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlZmluZVByb3BlcnR5JDEoe30sIG1haW5TaWRlLCB2YWx1ZSk7XG4gICAgfVxuICB9O1xuXG4gIG9yZGVyLmZvckVhY2goZnVuY3Rpb24gKHBsYWNlbWVudCkge1xuICAgIHZhciBzaWRlID0gWydsZWZ0JywgJ3RvcCddLmluZGV4T2YocGxhY2VtZW50KSAhPT0gLTEgPyAncHJpbWFyeScgOiAnc2Vjb25kYXJ5JztcbiAgICBwb3BwZXIgPSBfZXh0ZW5kcyQxKHt9LCBwb3BwZXIsIGNoZWNrW3NpZGVdKHBsYWNlbWVudCkpO1xuICB9KTtcblxuICBkYXRhLm9mZnNldHMucG9wcGVyID0gcG9wcGVyO1xuXG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IGB1cGRhdGVgIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBzaGlmdChkYXRhKSB7XG4gIHZhciBwbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudDtcbiAgdmFyIGJhc2VQbGFjZW1lbnQgPSBwbGFjZW1lbnQuc3BsaXQoJy0nKVswXTtcbiAgdmFyIHNoaWZ0dmFyaWF0aW9uID0gcGxhY2VtZW50LnNwbGl0KCctJylbMV07XG5cbiAgLy8gaWYgc2hpZnQgc2hpZnR2YXJpYXRpb24gaXMgc3BlY2lmaWVkLCBydW4gdGhlIG1vZGlmaWVyXG4gIGlmIChzaGlmdHZhcmlhdGlvbikge1xuICAgIHZhciBfZGF0YSRvZmZzZXRzID0gZGF0YS5vZmZzZXRzLFxuICAgICAgICByZWZlcmVuY2UgPSBfZGF0YSRvZmZzZXRzLnJlZmVyZW5jZSxcbiAgICAgICAgcG9wcGVyID0gX2RhdGEkb2Zmc2V0cy5wb3BwZXI7XG5cbiAgICB2YXIgaXNWZXJ0aWNhbCA9IFsnYm90dG9tJywgJ3RvcCddLmluZGV4T2YoYmFzZVBsYWNlbWVudCkgIT09IC0xO1xuICAgIHZhciBzaWRlID0gaXNWZXJ0aWNhbCA/ICdsZWZ0JyA6ICd0b3AnO1xuICAgIHZhciBtZWFzdXJlbWVudCA9IGlzVmVydGljYWwgPyAnd2lkdGgnIDogJ2hlaWdodCc7XG5cbiAgICB2YXIgc2hpZnRPZmZzZXRzID0ge1xuICAgICAgc3RhcnQ6IGRlZmluZVByb3BlcnR5JDEoe30sIHNpZGUsIHJlZmVyZW5jZVtzaWRlXSksXG4gICAgICBlbmQ6IGRlZmluZVByb3BlcnR5JDEoe30sIHNpZGUsIHJlZmVyZW5jZVtzaWRlXSArIHJlZmVyZW5jZVttZWFzdXJlbWVudF0gLSBwb3BwZXJbbWVhc3VyZW1lbnRdKVxuICAgIH07XG5cbiAgICBkYXRhLm9mZnNldHMucG9wcGVyID0gX2V4dGVuZHMkMSh7fSwgcG9wcGVyLCBzaGlmdE9mZnNldHNbc2hpZnR2YXJpYXRpb25dKTtcbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IHVwZGF0ZSBtZXRob2RcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWRcbiAqL1xuZnVuY3Rpb24gaGlkZShkYXRhKSB7XG4gIGlmICghaXNNb2RpZmllclJlcXVpcmVkKGRhdGEuaW5zdGFuY2UubW9kaWZpZXJzLCAnaGlkZScsICdwcmV2ZW50T3ZlcmZsb3cnKSkge1xuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgdmFyIHJlZlJlY3QgPSBkYXRhLm9mZnNldHMucmVmZXJlbmNlO1xuICB2YXIgYm91bmQgPSBmaW5kKGRhdGEuaW5zdGFuY2UubW9kaWZpZXJzLCBmdW5jdGlvbiAobW9kaWZpZXIpIHtcbiAgICByZXR1cm4gbW9kaWZpZXIubmFtZSA9PT0gJ3ByZXZlbnRPdmVyZmxvdyc7XG4gIH0pLmJvdW5kYXJpZXM7XG5cbiAgaWYgKHJlZlJlY3QuYm90dG9tIDwgYm91bmQudG9wIHx8IHJlZlJlY3QubGVmdCA+IGJvdW5kLnJpZ2h0IHx8IHJlZlJlY3QudG9wID4gYm91bmQuYm90dG9tIHx8IHJlZlJlY3QucmlnaHQgPCBib3VuZC5sZWZ0KSB7XG4gICAgLy8gQXZvaWQgdW5uZWNlc3NhcnkgRE9NIGFjY2VzcyBpZiB2aXNpYmlsaXR5IGhhc24ndCBjaGFuZ2VkXG4gICAgaWYgKGRhdGEuaGlkZSA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgZGF0YS5oaWRlID0gdHJ1ZTtcbiAgICBkYXRhLmF0dHJpYnV0ZXNbJ3gtb3V0LW9mLWJvdW5kYXJpZXMnXSA9ICcnO1xuICB9IGVsc2Uge1xuICAgIC8vIEF2b2lkIHVubmVjZXNzYXJ5IERPTSBhY2Nlc3MgaWYgdmlzaWJpbGl0eSBoYXNuJ3QgY2hhbmdlZFxuICAgIGlmIChkYXRhLmhpZGUgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBkYXRhLmhpZGUgPSBmYWxzZTtcbiAgICBkYXRhLmF0dHJpYnV0ZXNbJ3gtb3V0LW9mLWJvdW5kYXJpZXMnXSA9IGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgYHVwZGF0ZWAgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cbmZ1bmN0aW9uIGlubmVyKGRhdGEpIHtcbiAgdmFyIHBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50O1xuICB2YXIgYmFzZVBsYWNlbWVudCA9IHBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuICB2YXIgX2RhdGEkb2Zmc2V0cyA9IGRhdGEub2Zmc2V0cyxcbiAgICAgIHBvcHBlciA9IF9kYXRhJG9mZnNldHMucG9wcGVyLFxuICAgICAgcmVmZXJlbmNlID0gX2RhdGEkb2Zmc2V0cy5yZWZlcmVuY2U7XG5cbiAgdmFyIGlzSG9yaXogPSBbJ2xlZnQnLCAncmlnaHQnXS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpICE9PSAtMTtcblxuICB2YXIgc3VidHJhY3RMZW5ndGggPSBbJ3RvcCcsICdsZWZ0J10uaW5kZXhPZihiYXNlUGxhY2VtZW50KSA9PT0gLTE7XG5cbiAgcG9wcGVyW2lzSG9yaXogPyAnbGVmdCcgOiAndG9wJ10gPSByZWZlcmVuY2VbYmFzZVBsYWNlbWVudF0gLSAoc3VidHJhY3RMZW5ndGggPyBwb3BwZXJbaXNIb3JpeiA/ICd3aWR0aCcgOiAnaGVpZ2h0J10gOiAwKTtcblxuICBkYXRhLnBsYWNlbWVudCA9IGdldE9wcG9zaXRlUGxhY2VtZW50KHBsYWNlbWVudCk7XG4gIGRhdGEub2Zmc2V0cy5wb3BwZXIgPSBnZXRDbGllbnRSZWN0KHBvcHBlcik7XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogTW9kaWZpZXIgZnVuY3Rpb24sIGVhY2ggbW9kaWZpZXIgY2FuIGhhdmUgYSBmdW5jdGlvbiBvZiB0aGlzIHR5cGUgYXNzaWduZWRcbiAqIHRvIGl0cyBgZm5gIHByb3BlcnR5LjxiciAvPlxuICogVGhlc2UgZnVuY3Rpb25zIHdpbGwgYmUgY2FsbGVkIG9uIGVhY2ggdXBkYXRlLCB0aGlzIG1lYW5zIHRoYXQgeW91IG11c3RcbiAqIG1ha2Ugc3VyZSB0aGV5IGFyZSBwZXJmb3JtYW50IGVub3VnaCB0byBhdm9pZCBwZXJmb3JtYW5jZSBib3R0bGVuZWNrcy5cbiAqXG4gKiBAZnVuY3Rpb24gTW9kaWZpZXJGblxuICogQGFyZ3VtZW50IHtkYXRhT2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSBgdXBkYXRlYCBtZXRob2RcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtkYXRhT2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cblxuLyoqXG4gKiBNb2RpZmllcnMgYXJlIHBsdWdpbnMgdXNlZCB0byBhbHRlciB0aGUgYmVoYXZpb3Igb2YgeW91ciBwb3BwZXJzLjxiciAvPlxuICogUG9wcGVyLmpzIHVzZXMgYSBzZXQgb2YgOSBtb2RpZmllcnMgdG8gcHJvdmlkZSBhbGwgdGhlIGJhc2ljIGZ1bmN0aW9uYWxpdGllc1xuICogbmVlZGVkIGJ5IHRoZSBsaWJyYXJ5LlxuICpcbiAqIFVzdWFsbHkgeW91IGRvbid0IHdhbnQgdG8gb3ZlcnJpZGUgdGhlIGBvcmRlcmAsIGBmbmAgYW5kIGBvbkxvYWRgIHByb3BzLlxuICogQWxsIHRoZSBvdGhlciBwcm9wZXJ0aWVzIGFyZSBjb25maWd1cmF0aW9ucyB0aGF0IGNvdWxkIGJlIHR3ZWFrZWQuXG4gKiBAbmFtZXNwYWNlIG1vZGlmaWVyc1xuICovXG52YXIgbW9kaWZpZXJzID0ge1xuICAvKipcbiAgICogTW9kaWZpZXIgdXNlZCB0byBzaGlmdCB0aGUgcG9wcGVyIG9uIHRoZSBzdGFydCBvciBlbmQgb2YgaXRzIHJlZmVyZW5jZVxuICAgKiBlbGVtZW50LjxiciAvPlxuICAgKiBJdCB3aWxsIHJlYWQgdGhlIHZhcmlhdGlvbiBvZiB0aGUgYHBsYWNlbWVudGAgcHJvcGVydHkuPGJyIC8+XG4gICAqIEl0IGNhbiBiZSBvbmUgZWl0aGVyIGAtZW5kYCBvciBgLXN0YXJ0YC5cbiAgICogQG1lbWJlcm9mIG1vZGlmaWVyc1xuICAgKiBAaW5uZXJcbiAgICovXG4gIHNoaWZ0OiB7XG4gICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTEwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICBvcmRlcjogMTAwLFxuICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICBmbjogc2hpZnRcbiAgfSxcblxuICAvKipcbiAgICogVGhlIGBvZmZzZXRgIG1vZGlmaWVyIGNhbiBzaGlmdCB5b3VyIHBvcHBlciBvbiBib3RoIGl0cyBheGlzLlxuICAgKlxuICAgKiBJdCBhY2NlcHRzIHRoZSBmb2xsb3dpbmcgdW5pdHM6XG4gICAqIC0gYHB4YCBvciB1bml0bGVzcywgaW50ZXJwcmV0ZWQgYXMgcGl4ZWxzXG4gICAqIC0gYCVgIG9yIGAlcmAsIHBlcmNlbnRhZ2UgcmVsYXRpdmUgdG8gdGhlIGxlbmd0aCBvZiB0aGUgcmVmZXJlbmNlIGVsZW1lbnRcbiAgICogLSBgJXBgLCBwZXJjZW50YWdlIHJlbGF0aXZlIHRvIHRoZSBsZW5ndGggb2YgdGhlIHBvcHBlciBlbGVtZW50XG4gICAqIC0gYHZ3YCwgQ1NTIHZpZXdwb3J0IHdpZHRoIHVuaXRcbiAgICogLSBgdmhgLCBDU1Mgdmlld3BvcnQgaGVpZ2h0IHVuaXRcbiAgICpcbiAgICogRm9yIGxlbmd0aCBpcyBpbnRlbmRlZCB0aGUgbWFpbiBheGlzIHJlbGF0aXZlIHRvIHRoZSBwbGFjZW1lbnQgb2YgdGhlIHBvcHBlci48YnIgLz5cbiAgICogVGhpcyBtZWFucyB0aGF0IGlmIHRoZSBwbGFjZW1lbnQgaXMgYHRvcGAgb3IgYGJvdHRvbWAsIHRoZSBsZW5ndGggd2lsbCBiZSB0aGVcbiAgICogYHdpZHRoYC4gSW4gY2FzZSBvZiBgbGVmdGAgb3IgYHJpZ2h0YCwgaXQgd2lsbCBiZSB0aGUgaGVpZ2h0LlxuICAgKlxuICAgKiBZb3UgY2FuIHByb3ZpZGUgYSBzaW5nbGUgdmFsdWUgKGFzIGBOdW1iZXJgIG9yIGBTdHJpbmdgKSwgb3IgYSBwYWlyIG9mIHZhbHVlc1xuICAgKiBhcyBgU3RyaW5nYCBkaXZpZGVkIGJ5IGEgY29tbWEgb3Igb25lIChvciBtb3JlKSB3aGl0ZSBzcGFjZXMuPGJyIC8+XG4gICAqIFRoZSBsYXR0ZXIgaXMgYSBkZXByZWNhdGVkIG1ldGhvZCBiZWNhdXNlIGl0IGxlYWRzIHRvIGNvbmZ1c2lvbiBhbmQgd2lsbCBiZVxuICAgKiByZW1vdmVkIGluIHYyLjxiciAvPlxuICAgKiBBZGRpdGlvbmFsbHksIGl0IGFjY2VwdHMgYWRkaXRpb25zIGFuZCBzdWJ0cmFjdGlvbnMgYmV0d2VlbiBkaWZmZXJlbnQgdW5pdHMuXG4gICAqIE5vdGUgdGhhdCBtdWx0aXBsaWNhdGlvbnMgYW5kIGRpdmlzaW9ucyBhcmVuJ3Qgc3VwcG9ydGVkLlxuICAgKlxuICAgKiBWYWxpZCBleGFtcGxlcyBhcmU6XG4gICAqIGBgYFxuICAgKiAxMFxuICAgKiAnMTAlJ1xuICAgKiAnMTAsIDEwJ1xuICAgKiAnMTAlLCAxMCdcbiAgICogJzEwICsgMTAlJ1xuICAgKiAnMTAgLSA1dmggKyAzJSdcbiAgICogJy0xMHB4ICsgNXZoLCA1cHggLSA2JSdcbiAgICogYGBgXG4gICAqID4gKipOQioqOiBJZiB5b3UgZGVzaXJlIHRvIGFwcGx5IG9mZnNldHMgdG8geW91ciBwb3BwZXJzIGluIGEgd2F5IHRoYXQgbWF5IG1ha2UgdGhlbSBvdmVybGFwXG4gICAqID4gd2l0aCB0aGVpciByZWZlcmVuY2UgZWxlbWVudCwgdW5mb3J0dW5hdGVseSwgeW91IHdpbGwgaGF2ZSB0byBkaXNhYmxlIHRoZSBgZmxpcGAgbW9kaWZpZXIuXG4gICAqID4gTW9yZSBvbiB0aGlzIFtyZWFkaW5nIHRoaXMgaXNzdWVdKGh0dHBzOi8vZ2l0aHViLmNvbS9GZXpWcmFzdGEvcG9wcGVyLmpzL2lzc3Vlcy8zNzMpXG4gICAqXG4gICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICogQGlubmVyXG4gICAqL1xuICBvZmZzZXQ6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9MjAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiAyMDAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgIGZuOiBvZmZzZXQsXG4gICAgLyoqIEBwcm9wIHtOdW1iZXJ8U3RyaW5nfSBvZmZzZXQ9MFxuICAgICAqIFRoZSBvZmZzZXQgdmFsdWUgYXMgZGVzY3JpYmVkIGluIHRoZSBtb2RpZmllciBkZXNjcmlwdGlvblxuICAgICAqL1xuICAgIG9mZnNldDogMFxuICB9LFxuXG4gIC8qKlxuICAgKiBNb2RpZmllciB1c2VkIHRvIHByZXZlbnQgdGhlIHBvcHBlciBmcm9tIGJlaW5nIHBvc2l0aW9uZWQgb3V0c2lkZSB0aGUgYm91bmRhcnkuXG4gICAqXG4gICAqIEFuIHNjZW5hcmlvIGV4aXN0cyB3aGVyZSB0aGUgcmVmZXJlbmNlIGl0c2VsZiBpcyBub3Qgd2l0aGluIHRoZSBib3VuZGFyaWVzLjxiciAvPlxuICAgKiBXZSBjYW4gc2F5IGl0IGhhcyBcImVzY2FwZWQgdGhlIGJvdW5kYXJpZXNcIiDigJQgb3IganVzdCBcImVzY2FwZWRcIi48YnIgLz5cbiAgICogSW4gdGhpcyBjYXNlIHdlIG5lZWQgdG8gZGVjaWRlIHdoZXRoZXIgdGhlIHBvcHBlciBzaG91bGQgZWl0aGVyOlxuICAgKlxuICAgKiAtIGRldGFjaCBmcm9tIHRoZSByZWZlcmVuY2UgYW5kIHJlbWFpbiBcInRyYXBwZWRcIiBpbiB0aGUgYm91bmRhcmllcywgb3JcbiAgICogLSBpZiBpdCBzaG91bGQgaWdub3JlIHRoZSBib3VuZGFyeSBhbmQgXCJlc2NhcGUgd2l0aCBpdHMgcmVmZXJlbmNlXCJcbiAgICpcbiAgICogV2hlbiBgZXNjYXBlV2l0aFJlZmVyZW5jZWAgaXMgc2V0IHRvYHRydWVgIGFuZCByZWZlcmVuY2UgaXMgY29tcGxldGVseVxuICAgKiBvdXRzaWRlIGl0cyBib3VuZGFyaWVzLCB0aGUgcG9wcGVyIHdpbGwgb3ZlcmZsb3cgKG9yIGNvbXBsZXRlbHkgbGVhdmUpXG4gICAqIHRoZSBib3VuZGFyaWVzIGluIG9yZGVyIHRvIHJlbWFpbiBhdHRhY2hlZCB0byB0aGUgZWRnZSBvZiB0aGUgcmVmZXJlbmNlLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgcHJldmVudE92ZXJmbG93OiB7XG4gICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTMwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICBvcmRlcjogMzAwLFxuICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICBmbjogcHJldmVudE92ZXJmbG93LFxuICAgIC8qKlxuICAgICAqIEBwcm9wIHtBcnJheX0gW3ByaW9yaXR5PVsnbGVmdCcsJ3JpZ2h0JywndG9wJywnYm90dG9tJ11dXG4gICAgICogUG9wcGVyIHdpbGwgdHJ5IHRvIHByZXZlbnQgb3ZlcmZsb3cgZm9sbG93aW5nIHRoZXNlIHByaW9yaXRpZXMgYnkgZGVmYXVsdCxcbiAgICAgKiB0aGVuLCBpdCBjb3VsZCBvdmVyZmxvdyBvbiB0aGUgbGVmdCBhbmQgb24gdG9wIG9mIHRoZSBgYm91bmRhcmllc0VsZW1lbnRgXG4gICAgICovXG4gICAgcHJpb3JpdHk6IFsnbGVmdCcsICdyaWdodCcsICd0b3AnLCAnYm90dG9tJ10sXG4gICAgLyoqXG4gICAgICogQHByb3Age251bWJlcn0gcGFkZGluZz01XG4gICAgICogQW1vdW50IG9mIHBpeGVsIHVzZWQgdG8gZGVmaW5lIGEgbWluaW11bSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBib3VuZGFyaWVzXG4gICAgICogYW5kIHRoZSBwb3BwZXIgdGhpcyBtYWtlcyBzdXJlIHRoZSBwb3BwZXIgaGFzIGFsd2F5cyBhIGxpdHRsZSBwYWRkaW5nXG4gICAgICogYmV0d2VlbiB0aGUgZWRnZXMgb2YgaXRzIGNvbnRhaW5lclxuICAgICAqL1xuICAgIHBhZGRpbmc6IDUsXG4gICAgLyoqXG4gICAgICogQHByb3Age1N0cmluZ3xIVE1MRWxlbWVudH0gYm91bmRhcmllc0VsZW1lbnQ9J3Njcm9sbFBhcmVudCdcbiAgICAgKiBCb3VuZGFyaWVzIHVzZWQgYnkgdGhlIG1vZGlmaWVyLCBjYW4gYmUgYHNjcm9sbFBhcmVudGAsIGB3aW5kb3dgLFxuICAgICAqIGB2aWV3cG9ydGAgb3IgYW55IERPTSBlbGVtZW50LlxuICAgICAqL1xuICAgIGJvdW5kYXJpZXNFbGVtZW50OiAnc2Nyb2xsUGFyZW50J1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb2RpZmllciB1c2VkIHRvIG1ha2Ugc3VyZSB0aGUgcmVmZXJlbmNlIGFuZCBpdHMgcG9wcGVyIHN0YXkgbmVhciBlYWNob3RoZXJzXG4gICAqIHdpdGhvdXQgbGVhdmluZyBhbnkgZ2FwIGJldHdlZW4gdGhlIHR3by4gRXhwZWNpYWxseSB1c2VmdWwgd2hlbiB0aGUgYXJyb3cgaXNcbiAgICogZW5hYmxlZCBhbmQgeW91IHdhbnQgdG8gYXNzdXJlIGl0IHRvIHBvaW50IHRvIGl0cyByZWZlcmVuY2UgZWxlbWVudC5cbiAgICogSXQgY2FyZXMgb25seSBhYm91dCB0aGUgZmlyc3QgYXhpcywgeW91IGNhbiBzdGlsbCBoYXZlIHBvcHBlcnMgd2l0aCBtYXJnaW5cbiAgICogYmV0d2VlbiB0aGUgcG9wcGVyIGFuZCBpdHMgcmVmZXJlbmNlIGVsZW1lbnQuXG4gICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICogQGlubmVyXG4gICAqL1xuICBrZWVwVG9nZXRoZXI6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9NDAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiA0MDAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgIGZuOiBrZWVwVG9nZXRoZXJcbiAgfSxcblxuICAvKipcbiAgICogVGhpcyBtb2RpZmllciBpcyB1c2VkIHRvIG1vdmUgdGhlIGBhcnJvd0VsZW1lbnRgIG9mIHRoZSBwb3BwZXIgdG8gbWFrZVxuICAgKiBzdXJlIGl0IGlzIHBvc2l0aW9uZWQgYmV0d2VlbiB0aGUgcmVmZXJlbmNlIGVsZW1lbnQgYW5kIGl0cyBwb3BwZXIgZWxlbWVudC5cbiAgICogSXQgd2lsbCByZWFkIHRoZSBvdXRlciBzaXplIG9mIHRoZSBgYXJyb3dFbGVtZW50YCBub2RlIHRvIGRldGVjdCBob3cgbWFueVxuICAgKiBwaXhlbHMgb2YgY29uanVjdGlvbiBhcmUgbmVlZGVkLlxuICAgKlxuICAgKiBJdCBoYXMgbm8gZWZmZWN0IGlmIG5vIGBhcnJvd0VsZW1lbnRgIGlzIHByb3ZpZGVkLlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgYXJyb3c6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9NTAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiA1MDAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgIGZuOiBhcnJvdyxcbiAgICAvKiogQHByb3Age1N0cmluZ3xIVE1MRWxlbWVudH0gZWxlbWVudD0nW3gtYXJyb3ddJyAtIFNlbGVjdG9yIG9yIG5vZGUgdXNlZCBhcyBhcnJvdyAqL1xuICAgIGVsZW1lbnQ6ICdbeC1hcnJvd10nXG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vZGlmaWVyIHVzZWQgdG8gZmxpcCB0aGUgcG9wcGVyJ3MgcGxhY2VtZW50IHdoZW4gaXQgc3RhcnRzIHRvIG92ZXJsYXAgaXRzXG4gICAqIHJlZmVyZW5jZSBlbGVtZW50LlxuICAgKlxuICAgKiBSZXF1aXJlcyB0aGUgYHByZXZlbnRPdmVyZmxvd2AgbW9kaWZpZXIgYmVmb3JlIGl0IGluIG9yZGVyIHRvIHdvcmsuXG4gICAqXG4gICAqICoqTk9URToqKiB0aGlzIG1vZGlmaWVyIHdpbGwgaW50ZXJydXB0IHRoZSBjdXJyZW50IHVwZGF0ZSBjeWNsZSBhbmQgd2lsbFxuICAgKiByZXN0YXJ0IGl0IGlmIGl0IGRldGVjdHMgdGhlIG5lZWQgdG8gZmxpcCB0aGUgcGxhY2VtZW50LlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgZmxpcDoge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj02MDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDYwMCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IGZsaXAsXG4gICAgLyoqXG4gICAgICogQHByb3Age1N0cmluZ3xBcnJheX0gYmVoYXZpb3I9J2ZsaXAnXG4gICAgICogVGhlIGJlaGF2aW9yIHVzZWQgdG8gY2hhbmdlIHRoZSBwb3BwZXIncyBwbGFjZW1lbnQuIEl0IGNhbiBiZSBvbmUgb2ZcbiAgICAgKiBgZmxpcGAsIGBjbG9ja3dpc2VgLCBgY291bnRlcmNsb2Nrd2lzZWAgb3IgYW4gYXJyYXkgd2l0aCBhIGxpc3Qgb2YgdmFsaWRcbiAgICAgKiBwbGFjZW1lbnRzICh3aXRoIG9wdGlvbmFsIHZhcmlhdGlvbnMpLlxuICAgICAqL1xuICAgIGJlaGF2aW9yOiAnZmxpcCcsXG4gICAgLyoqXG4gICAgICogQHByb3Age251bWJlcn0gcGFkZGluZz01XG4gICAgICogVGhlIHBvcHBlciB3aWxsIGZsaXAgaWYgaXQgaGl0cyB0aGUgZWRnZXMgb2YgdGhlIGBib3VuZGFyaWVzRWxlbWVudGBcbiAgICAgKi9cbiAgICBwYWRkaW5nOiA1LFxuICAgIC8qKlxuICAgICAqIEBwcm9wIHtTdHJpbmd8SFRNTEVsZW1lbnR9IGJvdW5kYXJpZXNFbGVtZW50PSd2aWV3cG9ydCdcbiAgICAgKiBUaGUgZWxlbWVudCB3aGljaCB3aWxsIGRlZmluZSB0aGUgYm91bmRhcmllcyBvZiB0aGUgcG9wcGVyIHBvc2l0aW9uLFxuICAgICAqIHRoZSBwb3BwZXIgd2lsbCBuZXZlciBiZSBwbGFjZWQgb3V0c2lkZSBvZiB0aGUgZGVmaW5lZCBib3VuZGFyaWVzXG4gICAgICogKGV4Y2VwdCBpZiBrZWVwVG9nZXRoZXIgaXMgZW5hYmxlZClcbiAgICAgKi9cbiAgICBib3VuZGFyaWVzRWxlbWVudDogJ3ZpZXdwb3J0J1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb2RpZmllciB1c2VkIHRvIG1ha2UgdGhlIHBvcHBlciBmbG93IHRvd2FyZCB0aGUgaW5uZXIgb2YgdGhlIHJlZmVyZW5jZSBlbGVtZW50LlxuICAgKiBCeSBkZWZhdWx0LCB3aGVuIHRoaXMgbW9kaWZpZXIgaXMgZGlzYWJsZWQsIHRoZSBwb3BwZXIgd2lsbCBiZSBwbGFjZWQgb3V0c2lkZVxuICAgKiB0aGUgcmVmZXJlbmNlIGVsZW1lbnQuXG4gICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICogQGlubmVyXG4gICAqL1xuICBpbm5lcjoge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj03MDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDcwMCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9ZmFsc2UgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICBmbjogaW5uZXJcbiAgfSxcblxuICAvKipcbiAgICogTW9kaWZpZXIgdXNlZCB0byBoaWRlIHRoZSBwb3BwZXIgd2hlbiBpdHMgcmVmZXJlbmNlIGVsZW1lbnQgaXMgb3V0c2lkZSBvZiB0aGVcbiAgICogcG9wcGVyIGJvdW5kYXJpZXMuIEl0IHdpbGwgc2V0IGEgYHgtb3V0LW9mLWJvdW5kYXJpZXNgIGF0dHJpYnV0ZSB3aGljaCBjYW5cbiAgICogYmUgdXNlZCB0byBoaWRlIHdpdGggYSBDU1Mgc2VsZWN0b3IgdGhlIHBvcHBlciB3aGVuIGl0cyByZWZlcmVuY2UgaXNcbiAgICogb3V0IG9mIGJvdW5kYXJpZXMuXG4gICAqXG4gICAqIFJlcXVpcmVzIHRoZSBgcHJldmVudE92ZXJmbG93YCBtb2RpZmllciBiZWZvcmUgaXQgaW4gb3JkZXIgdG8gd29yay5cbiAgICogQG1lbWJlcm9mIG1vZGlmaWVyc1xuICAgKiBAaW5uZXJcbiAgICovXG4gIGhpZGU6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9ODAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiA4MDAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgIGZuOiBoaWRlXG4gIH0sXG5cbiAgLyoqXG4gICAqIENvbXB1dGVzIHRoZSBzdHlsZSB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgcG9wcGVyIGVsZW1lbnQgdG8gZ2V0c1xuICAgKiBwcm9wZXJseSBwb3NpdGlvbmVkLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgdGhpcyBtb2RpZmllciB3aWxsIG5vdCB0b3VjaCB0aGUgRE9NLCBpdCBqdXN0IHByZXBhcmVzIHRoZSBzdHlsZXNcbiAgICogc28gdGhhdCBgYXBwbHlTdHlsZWAgbW9kaWZpZXIgY2FuIGFwcGx5IGl0LiBUaGlzIHNlcGFyYXRpb24gaXMgdXNlZnVsXG4gICAqIGluIGNhc2UgeW91IG5lZWQgdG8gcmVwbGFjZSBgYXBwbHlTdHlsZWAgd2l0aCBhIGN1c3RvbSBpbXBsZW1lbnRhdGlvbi5cbiAgICpcbiAgICogVGhpcyBtb2RpZmllciBoYXMgYDg1MGAgYXMgYG9yZGVyYCB2YWx1ZSB0byBtYWludGFpbiBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG4gICAqIHdpdGggcHJldmlvdXMgdmVyc2lvbnMgb2YgUG9wcGVyLmpzLiBFeHBlY3QgdGhlIG1vZGlmaWVycyBvcmRlcmluZyBtZXRob2RcbiAgICogdG8gY2hhbmdlIGluIGZ1dHVyZSBtYWpvciB2ZXJzaW9ucyBvZiB0aGUgbGlicmFyeS5cbiAgICpcbiAgICogQG1lbWJlcm9mIG1vZGlmaWVyc1xuICAgKiBAaW5uZXJcbiAgICovXG4gIGNvbXB1dGVTdHlsZToge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj04NTAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDg1MCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IGNvbXB1dGVTdHlsZSxcbiAgICAvKipcbiAgICAgKiBAcHJvcCB7Qm9vbGVhbn0gZ3B1QWNjZWxlcmF0aW9uPXRydWVcbiAgICAgKiBJZiB0cnVlLCBpdCB1c2VzIHRoZSBDU1MgM2QgdHJhbnNmb3JtYXRpb24gdG8gcG9zaXRpb24gdGhlIHBvcHBlci5cbiAgICAgKiBPdGhlcndpc2UsIGl0IHdpbGwgdXNlIHRoZSBgdG9wYCBhbmQgYGxlZnRgIHByb3BlcnRpZXMuXG4gICAgICovXG4gICAgZ3B1QWNjZWxlcmF0aW9uOiB0cnVlLFxuICAgIC8qKlxuICAgICAqIEBwcm9wIHtzdHJpbmd9IFt4PSdib3R0b20nXVxuICAgICAqIFdoZXJlIHRvIGFuY2hvciB0aGUgWCBheGlzIChgYm90dG9tYCBvciBgdG9wYCkuIEFLQSBYIG9mZnNldCBvcmlnaW4uXG4gICAgICogQ2hhbmdlIHRoaXMgaWYgeW91ciBwb3BwZXIgc2hvdWxkIGdyb3cgaW4gYSBkaXJlY3Rpb24gZGlmZmVyZW50IGZyb20gYGJvdHRvbWBcbiAgICAgKi9cbiAgICB4OiAnYm90dG9tJyxcbiAgICAvKipcbiAgICAgKiBAcHJvcCB7c3RyaW5nfSBbeD0nbGVmdCddXG4gICAgICogV2hlcmUgdG8gYW5jaG9yIHRoZSBZIGF4aXMgKGBsZWZ0YCBvciBgcmlnaHRgKS4gQUtBIFkgb2Zmc2V0IG9yaWdpbi5cbiAgICAgKiBDaGFuZ2UgdGhpcyBpZiB5b3VyIHBvcHBlciBzaG91bGQgZ3JvdyBpbiBhIGRpcmVjdGlvbiBkaWZmZXJlbnQgZnJvbSBgcmlnaHRgXG4gICAgICovXG4gICAgeTogJ3JpZ2h0J1xuICB9LFxuXG4gIC8qKlxuICAgKiBBcHBsaWVzIHRoZSBjb21wdXRlZCBzdHlsZXMgdG8gdGhlIHBvcHBlciBlbGVtZW50LlxuICAgKlxuICAgKiBBbGwgdGhlIERPTSBtYW5pcHVsYXRpb25zIGFyZSBsaW1pdGVkIHRvIHRoaXMgbW9kaWZpZXIuIFRoaXMgaXMgdXNlZnVsIGluIGNhc2VcbiAgICogeW91IHdhbnQgdG8gaW50ZWdyYXRlIFBvcHBlci5qcyBpbnNpZGUgYSBmcmFtZXdvcmsgb3IgdmlldyBsaWJyYXJ5IGFuZCB5b3VcbiAgICogd2FudCB0byBkZWxlZ2F0ZSBhbGwgdGhlIERPTSBtYW5pcHVsYXRpb25zIHRvIGl0LlxuICAgKlxuICAgKiBOb3RlIHRoYXQgaWYgeW91IGRpc2FibGUgdGhpcyBtb2RpZmllciwgeW91IG11c3QgbWFrZSBzdXJlIHRoZSBwb3BwZXIgZWxlbWVudFxuICAgKiBoYXMgaXRzIHBvc2l0aW9uIHNldCB0byBgYWJzb2x1dGVgIGJlZm9yZSBQb3BwZXIuanMgY2FuIGRvIGl0cyB3b3JrIVxuICAgKlxuICAgKiBKdXN0IGRpc2FibGUgdGhpcyBtb2RpZmllciBhbmQgZGVmaW5lIHlvdSBvd24gdG8gYWNoaWV2ZSB0aGUgZGVzaXJlZCBlZmZlY3QuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICogQGlubmVyXG4gICAqL1xuICBhcHBseVN0eWxlOiB7XG4gICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTkwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICBvcmRlcjogOTAwLFxuICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICBmbjogYXBwbHlTdHlsZSxcbiAgICAvKiogQHByb3Age0Z1bmN0aW9ufSAqL1xuICAgIG9uTG9hZDogYXBwbHlTdHlsZU9uTG9hZCxcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDEuMTAuMCwgdGhlIHByb3BlcnR5IG1vdmVkIHRvIGBjb21wdXRlU3R5bGVgIG1vZGlmaWVyXG4gICAgICogQHByb3Age0Jvb2xlYW59IGdwdUFjY2VsZXJhdGlvbj10cnVlXG4gICAgICogSWYgdHJ1ZSwgaXQgdXNlcyB0aGUgQ1NTIDNkIHRyYW5zZm9ybWF0aW9uIHRvIHBvc2l0aW9uIHRoZSBwb3BwZXIuXG4gICAgICogT3RoZXJ3aXNlLCBpdCB3aWxsIHVzZSB0aGUgYHRvcGAgYW5kIGBsZWZ0YCBwcm9wZXJ0aWVzLlxuICAgICAqL1xuICAgIGdwdUFjY2VsZXJhdGlvbjogdW5kZWZpbmVkXG4gIH1cbn07XG5cbi8qKlxuICogVGhlIGBkYXRhT2JqZWN0YCBpcyBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIGluZm9ybWF0aW9ucyB1c2VkIGJ5IFBvcHBlci5qc1xuICogdGhpcyBvYmplY3QgZ2V0IHBhc3NlZCB0byBtb2RpZmllcnMgYW5kIHRvIHRoZSBgb25DcmVhdGVgIGFuZCBgb25VcGRhdGVgIGNhbGxiYWNrcy5cbiAqIEBuYW1lIGRhdGFPYmplY3RcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLmluc3RhbmNlIFRoZSBQb3BwZXIuanMgaW5zdGFuY2VcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBkYXRhLnBsYWNlbWVudCBQbGFjZW1lbnQgYXBwbGllZCB0byBwb3BwZXJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBkYXRhLm9yaWdpbmFsUGxhY2VtZW50IFBsYWNlbWVudCBvcmlnaW5hbGx5IGRlZmluZWQgb24gaW5pdFxuICogQHByb3BlcnR5IHtCb29sZWFufSBkYXRhLmZsaXBwZWQgVHJ1ZSBpZiBwb3BwZXIgaGFzIGJlZW4gZmxpcHBlZCBieSBmbGlwIG1vZGlmaWVyXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IGRhdGEuaGlkZSBUcnVlIGlmIHRoZSByZWZlcmVuY2UgZWxlbWVudCBpcyBvdXQgb2YgYm91bmRhcmllcywgdXNlZnVsIHRvIGtub3cgd2hlbiB0byBoaWRlIHRoZSBwb3BwZXIuXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fSBkYXRhLmFycm93RWxlbWVudCBOb2RlIHVzZWQgYXMgYXJyb3cgYnkgYXJyb3cgbW9kaWZpZXJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLnN0eWxlcyBBbnkgQ1NTIHByb3BlcnR5IGRlZmluZWQgaGVyZSB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlciwgaXQgZXhwZWN0cyB0aGUgSmF2YVNjcmlwdCBub21lbmNsYXR1cmUgKGVnLiBgbWFyZ2luQm90dG9tYClcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLmFycm93U3R5bGVzIEFueSBDU1MgcHJvcGVydHkgZGVmaW5lZCBoZXJlIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgcG9wcGVyIGFycm93LCBpdCBleHBlY3RzIHRoZSBKYXZhU2NyaXB0IG5vbWVuY2xhdHVyZSAoZWcuIGBtYXJnaW5Cb3R0b21gKVxuICogQHByb3BlcnR5IHtPYmplY3R9IGRhdGEuYm91bmRhcmllcyBPZmZzZXRzIG9mIHRoZSBwb3BwZXIgYm91bmRhcmllc1xuICogQHByb3BlcnR5IHtPYmplY3R9IGRhdGEub2Zmc2V0cyBUaGUgbWVhc3VyZW1lbnRzIG9mIHBvcHBlciwgcmVmZXJlbmNlIGFuZCBhcnJvdyBlbGVtZW50cy5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLm9mZnNldHMucG9wcGVyIGB0b3BgLCBgbGVmdGAsIGB3aWR0aGAsIGBoZWlnaHRgIHZhbHVlc1xuICogQHByb3BlcnR5IHtPYmplY3R9IGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UgYHRvcGAsIGBsZWZ0YCwgYHdpZHRoYCwgYGhlaWdodGAgdmFsdWVzXG4gKiBAcHJvcGVydHkge09iamVjdH0gZGF0YS5vZmZzZXRzLmFycm93XSBgdG9wYCBhbmQgYGxlZnRgIG9mZnNldHMsIG9ubHkgb25lIG9mIHRoZW0gd2lsbCBiZSBkaWZmZXJlbnQgZnJvbSAwXG4gKi9cblxuLyoqXG4gKiBEZWZhdWx0IG9wdGlvbnMgcHJvdmlkZWQgdG8gUG9wcGVyLmpzIGNvbnN0cnVjdG9yLjxiciAvPlxuICogVGhlc2UgY2FuIGJlIG92ZXJyaWRlbiB1c2luZyB0aGUgYG9wdGlvbnNgIGFyZ3VtZW50IG9mIFBvcHBlci5qcy48YnIgLz5cbiAqIFRvIG92ZXJyaWRlIGFuIG9wdGlvbiwgc2ltcGx5IHBhc3MgYXMgM3JkIGFyZ3VtZW50IGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lXG4gKiBzdHJ1Y3R1cmUgb2YgdGhpcyBvYmplY3QsIGV4YW1wbGU6XG4gKiBgYGBcbiAqIG5ldyBQb3BwZXIocmVmLCBwb3AsIHtcbiAqICAgbW9kaWZpZXJzOiB7XG4gKiAgICAgcHJldmVudE92ZXJmbG93OiB7IGVuYWJsZWQ6IGZhbHNlIH1cbiAqICAgfVxuICogfSlcbiAqIGBgYFxuICogQHR5cGUge09iamVjdH1cbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQb3BwZXJcbiAqL1xudmFyIERlZmF1bHRzID0ge1xuICAvKipcbiAgICogUG9wcGVyJ3MgcGxhY2VtZW50XG4gICAqIEBwcm9wIHtQb3BwZXIucGxhY2VtZW50c30gcGxhY2VtZW50PSdib3R0b20nXG4gICAqL1xuICBwbGFjZW1lbnQ6ICdib3R0b20nLFxuXG4gIC8qKlxuICAgKiBTZXQgdGhpcyB0byB0cnVlIGlmIHlvdSB3YW50IHBvcHBlciB0byBwb3NpdGlvbiBpdCBzZWxmIGluICdmaXhlZCcgbW9kZVxuICAgKiBAcHJvcCB7Qm9vbGVhbn0gcG9zaXRpb25GaXhlZD1mYWxzZVxuICAgKi9cbiAgcG9zaXRpb25GaXhlZDogZmFsc2UsXG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgZXZlbnRzIChyZXNpemUsIHNjcm9sbCkgYXJlIGluaXRpYWxseSBlbmFibGVkXG4gICAqIEBwcm9wIHtCb29sZWFufSBldmVudHNFbmFibGVkPXRydWVcbiAgICovXG4gIGV2ZW50c0VuYWJsZWQ6IHRydWUsXG5cbiAgLyoqXG4gICAqIFNldCB0byB0cnVlIGlmIHlvdSB3YW50IHRvIGF1dG9tYXRpY2FsbHkgcmVtb3ZlIHRoZSBwb3BwZXIgd2hlblxuICAgKiB5b3UgY2FsbCB0aGUgYGRlc3Ryb3lgIG1ldGhvZC5cbiAgICogQHByb3Age0Jvb2xlYW59IHJlbW92ZU9uRGVzdHJveT1mYWxzZVxuICAgKi9cbiAgcmVtb3ZlT25EZXN0cm95OiBmYWxzZSxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgY2FsbGVkIHdoZW4gdGhlIHBvcHBlciBpcyBjcmVhdGVkLjxiciAvPlxuICAgKiBCeSBkZWZhdWx0LCBpcyBzZXQgdG8gbm8tb3AuPGJyIC8+XG4gICAqIEFjY2VzcyBQb3BwZXIuanMgaW5zdGFuY2Ugd2l0aCBgZGF0YS5pbnN0YW5jZWAuXG4gICAqIEBwcm9wIHtvbkNyZWF0ZX1cbiAgICovXG4gIG9uQ3JlYXRlOiBmdW5jdGlvbiBvbkNyZWF0ZSgpIHt9LFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBjYWxsZWQgd2hlbiB0aGUgcG9wcGVyIGlzIHVwZGF0ZWQsIHRoaXMgY2FsbGJhY2sgaXMgbm90IGNhbGxlZFxuICAgKiBvbiB0aGUgaW5pdGlhbGl6YXRpb24vY3JlYXRpb24gb2YgdGhlIHBvcHBlciwgYnV0IG9ubHkgb24gc3Vic2VxdWVudFxuICAgKiB1cGRhdGVzLjxiciAvPlxuICAgKiBCeSBkZWZhdWx0LCBpcyBzZXQgdG8gbm8tb3AuPGJyIC8+XG4gICAqIEFjY2VzcyBQb3BwZXIuanMgaW5zdGFuY2Ugd2l0aCBgZGF0YS5pbnN0YW5jZWAuXG4gICAqIEBwcm9wIHtvblVwZGF0ZX1cbiAgICovXG4gIG9uVXBkYXRlOiBmdW5jdGlvbiBvblVwZGF0ZSgpIHt9LFxuXG4gIC8qKlxuICAgKiBMaXN0IG9mIG1vZGlmaWVycyB1c2VkIHRvIG1vZGlmeSB0aGUgb2Zmc2V0cyBiZWZvcmUgdGhleSBhcmUgYXBwbGllZCB0byB0aGUgcG9wcGVyLlxuICAgKiBUaGV5IHByb3ZpZGUgbW9zdCBvZiB0aGUgZnVuY3Rpb25hbGl0aWVzIG9mIFBvcHBlci5qc1xuICAgKiBAcHJvcCB7bW9kaWZpZXJzfVxuICAgKi9cbiAgbW9kaWZpZXJzOiBtb2RpZmllcnNcbn07XG5cbi8qKlxuICogQGNhbGxiYWNrIG9uQ3JlYXRlXG4gKiBAcGFyYW0ge2RhdGFPYmplY3R9IGRhdGFcbiAqL1xuXG4vKipcbiAqIEBjYWxsYmFjayBvblVwZGF0ZVxuICogQHBhcmFtIHtkYXRhT2JqZWN0fSBkYXRhXG4gKi9cblxuLy8gVXRpbHNcbi8vIE1ldGhvZHNcbnZhciBQb3BwZXIgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgUG9wcGVyLmpzIGluc3RhbmNlXG4gICAqIEBjbGFzcyBQb3BwZXJcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudHxyZWZlcmVuY2VPYmplY3R9IHJlZmVyZW5jZSAtIFRoZSByZWZlcmVuY2UgZWxlbWVudCB1c2VkIHRvIHBvc2l0aW9uIHRoZSBwb3BwZXJcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcG9wcGVyIC0gVGhlIEhUTUwgZWxlbWVudCB1c2VkIGFzIHBvcHBlci5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBZb3VyIGN1c3RvbSBvcHRpb25zIHRvIG92ZXJyaWRlIHRoZSBvbmVzIGRlZmluZWQgaW4gW0RlZmF1bHRzXSgjZGVmYXVsdHMpXG4gICAqIEByZXR1cm4ge09iamVjdH0gaW5zdGFuY2UgLSBUaGUgZ2VuZXJhdGVkIFBvcHBlci5qcyBpbnN0YW5jZVxuICAgKi9cbiAgZnVuY3Rpb24gUG9wcGVyKHJlZmVyZW5jZSwgcG9wcGVyKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICBjbGFzc0NhbGxDaGVjayQxKHRoaXMsIFBvcHBlcik7XG5cbiAgICB0aGlzLnNjaGVkdWxlVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlcXVlc3RBbmltYXRpb25GcmFtZShfdGhpcy51cGRhdGUpO1xuICAgIH07XG5cbiAgICAvLyBtYWtlIHVwZGF0ZSgpIGRlYm91bmNlZCwgc28gdGhhdCBpdCBvbmx5IHJ1bnMgYXQgbW9zdCBvbmNlLXBlci10aWNrXG4gICAgdGhpcy51cGRhdGUgPSBkZWJvdW5jZSh0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpKTtcblxuICAgIC8vIHdpdGgge30gd2UgY3JlYXRlIGEgbmV3IG9iamVjdCB3aXRoIHRoZSBvcHRpb25zIGluc2lkZSBpdFxuICAgIHRoaXMub3B0aW9ucyA9IF9leHRlbmRzJDEoe30sIFBvcHBlci5EZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAvLyBpbml0IHN0YXRlXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzRGVzdHJveWVkOiBmYWxzZSxcbiAgICAgIGlzQ3JlYXRlZDogZmFsc2UsXG4gICAgICBzY3JvbGxQYXJlbnRzOiBbXVxuICAgIH07XG5cbiAgICAvLyBnZXQgcmVmZXJlbmNlIGFuZCBwb3BwZXIgZWxlbWVudHMgKGFsbG93IGpRdWVyeSB3cmFwcGVycylcbiAgICB0aGlzLnJlZmVyZW5jZSA9IHJlZmVyZW5jZSAmJiByZWZlcmVuY2UuanF1ZXJ5ID8gcmVmZXJlbmNlWzBdIDogcmVmZXJlbmNlO1xuICAgIHRoaXMucG9wcGVyID0gcG9wcGVyICYmIHBvcHBlci5qcXVlcnkgPyBwb3BwZXJbMF0gOiBwb3BwZXI7XG5cbiAgICAvLyBEZWVwIG1lcmdlIG1vZGlmaWVycyBvcHRpb25zXG4gICAgdGhpcy5vcHRpb25zLm1vZGlmaWVycyA9IHt9O1xuICAgIE9iamVjdC5rZXlzKF9leHRlbmRzJDEoe30sIFBvcHBlci5EZWZhdWx0cy5tb2RpZmllcnMsIG9wdGlvbnMubW9kaWZpZXJzKSkuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgX3RoaXMub3B0aW9ucy5tb2RpZmllcnNbbmFtZV0gPSBfZXh0ZW5kcyQxKHt9LCBQb3BwZXIuRGVmYXVsdHMubW9kaWZpZXJzW25hbWVdIHx8IHt9LCBvcHRpb25zLm1vZGlmaWVycyA/IG9wdGlvbnMubW9kaWZpZXJzW25hbWVdIDoge30pO1xuICAgIH0pO1xuXG4gICAgLy8gUmVmYWN0b3JpbmcgbW9kaWZpZXJzJyBsaXN0IChPYmplY3QgPT4gQXJyYXkpXG4gICAgdGhpcy5tb2RpZmllcnMgPSBPYmplY3Qua2V5cyh0aGlzLm9wdGlvbnMubW9kaWZpZXJzKS5tYXAoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIHJldHVybiBfZXh0ZW5kcyQxKHtcbiAgICAgICAgbmFtZTogbmFtZVxuICAgICAgfSwgX3RoaXMub3B0aW9ucy5tb2RpZmllcnNbbmFtZV0pO1xuICAgIH0pXG4gICAgLy8gc29ydCB0aGUgbW9kaWZpZXJzIGJ5IG9yZGVyXG4gICAgLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBhLm9yZGVyIC0gYi5vcmRlcjtcbiAgICB9KTtcblxuICAgIC8vIG1vZGlmaWVycyBoYXZlIHRoZSBhYmlsaXR5IHRvIGV4ZWN1dGUgYXJiaXRyYXJ5IGNvZGUgd2hlbiBQb3BwZXIuanMgZ2V0IGluaXRlZFxuICAgIC8vIHN1Y2ggY29kZSBpcyBleGVjdXRlZCBpbiB0aGUgc2FtZSBvcmRlciBvZiBpdHMgbW9kaWZpZXJcbiAgICAvLyB0aGV5IGNvdWxkIGFkZCBuZXcgcHJvcGVydGllcyB0byB0aGVpciBvcHRpb25zIGNvbmZpZ3VyYXRpb25cbiAgICAvLyBCRSBBV0FSRTogZG9uJ3QgYWRkIG9wdGlvbnMgdG8gYG9wdGlvbnMubW9kaWZpZXJzLm5hbWVgIGJ1dCB0byBgbW9kaWZpZXJPcHRpb25zYCFcbiAgICB0aGlzLm1vZGlmaWVycy5mb3JFYWNoKGZ1bmN0aW9uIChtb2RpZmllck9wdGlvbnMpIHtcbiAgICAgIGlmIChtb2RpZmllck9wdGlvbnMuZW5hYmxlZCAmJiBpc0Z1bmN0aW9uKG1vZGlmaWVyT3B0aW9ucy5vbkxvYWQpKSB7XG4gICAgICAgIG1vZGlmaWVyT3B0aW9ucy5vbkxvYWQoX3RoaXMucmVmZXJlbmNlLCBfdGhpcy5wb3BwZXIsIF90aGlzLm9wdGlvbnMsIG1vZGlmaWVyT3B0aW9ucywgX3RoaXMuc3RhdGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gZmlyZSB0aGUgZmlyc3QgdXBkYXRlIHRvIHBvc2l0aW9uIHRoZSBwb3BwZXIgaW4gdGhlIHJpZ2h0IHBsYWNlXG4gICAgdGhpcy51cGRhdGUoKTtcblxuICAgIHZhciBldmVudHNFbmFibGVkID0gdGhpcy5vcHRpb25zLmV2ZW50c0VuYWJsZWQ7XG4gICAgaWYgKGV2ZW50c0VuYWJsZWQpIHtcbiAgICAgIC8vIHNldHVwIGV2ZW50IGxpc3RlbmVycywgdGhleSB3aWxsIHRha2UgY2FyZSBvZiB1cGRhdGUgdGhlIHBvc2l0aW9uIGluIHNwZWNpZmljIHNpdHVhdGlvbnNcbiAgICAgIHRoaXMuZW5hYmxlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlLmV2ZW50c0VuYWJsZWQgPSBldmVudHNFbmFibGVkO1xuICB9XG5cbiAgLy8gV2UgY2FuJ3QgdXNlIGNsYXNzIHByb3BlcnRpZXMgYmVjYXVzZSB0aGV5IGRvbid0IGdldCBsaXN0ZWQgaW4gdGhlXG4gIC8vIGNsYXNzIHByb3RvdHlwZSBhbmQgYnJlYWsgc3R1ZmYgbGlrZSBTaW5vbiBzdHVic1xuXG5cbiAgY3JlYXRlQ2xhc3MkMShQb3BwZXIsIFt7XG4gICAga2V5OiAndXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlJCQxKCkge1xuICAgICAgcmV0dXJuIHVwZGF0ZS5jYWxsKHRoaXMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Rlc3Ryb3knLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95JCQxKCkge1xuICAgICAgcmV0dXJuIGRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdlbmFibGVFdmVudExpc3RlbmVycycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVuYWJsZUV2ZW50TGlzdGVuZXJzJCQxKCkge1xuICAgICAgcmV0dXJuIGVuYWJsZUV2ZW50TGlzdGVuZXJzLmNhbGwodGhpcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGlzYWJsZUV2ZW50TGlzdGVuZXJzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzYWJsZUV2ZW50TGlzdGVuZXJzJCQxKCkge1xuICAgICAgcmV0dXJuIGRpc2FibGVFdmVudExpc3RlbmVycy5jYWxsKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNjaGVkdWxlIGFuIHVwZGF0ZSwgaXQgd2lsbCBydW4gb24gdGhlIG5leHQgVUkgdXBkYXRlIGF2YWlsYWJsZVxuICAgICAqIEBtZXRob2Qgc2NoZWR1bGVVcGRhdGVcbiAgICAgKiBAbWVtYmVyb2YgUG9wcGVyXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIHV0aWxpdGllcyB1c2VmdWwgd2hlbiB3cml0aW5nIGN1c3RvbSBtb2RpZmllcnMuXG4gICAgICogU3RhcnRpbmcgZnJvbSB2ZXJzaW9uIDEuNywgdGhpcyBtZXRob2QgaXMgYXZhaWxhYmxlIG9ubHkgaWYgeW91XG4gICAgICogaW5jbHVkZSBgcG9wcGVyLXV0aWxzLmpzYCBiZWZvcmUgYHBvcHBlci5qc2AuXG4gICAgICpcbiAgICAgKiAqKkRFUFJFQ0FUSU9OKio6IFRoaXMgd2F5IHRvIGFjY2VzcyBQb3BwZXJVdGlscyBpcyBkZXByZWNhdGVkXG4gICAgICogYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB2MiEgVXNlIHRoZSBQb3BwZXJVdGlscyBtb2R1bGUgZGlyZWN0bHkgaW5zdGVhZC5cbiAgICAgKiBEdWUgdG8gdGhlIGhpZ2ggaW5zdGFiaWxpdHkgb2YgdGhlIG1ldGhvZHMgY29udGFpbmVkIGluIFV0aWxzLCB3ZSBjYW4ndFxuICAgICAqIGd1YXJhbnRlZSB0aGVtIHRvIGZvbGxvdyBzZW12ZXIuIFVzZSB0aGVtIGF0IHlvdXIgb3duIHJpc2shXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDEuOFxuICAgICAqIEBtZW1iZXIgVXRpbHNcbiAgICAgKiBAbWVtYmVyb2YgUG9wcGVyXG4gICAgICovXG5cbiAgfV0pO1xuICByZXR1cm4gUG9wcGVyO1xufSgpO1xuXG4vKipcbiAqIFRoZSBgcmVmZXJlbmNlT2JqZWN0YCBpcyBhbiBvYmplY3QgdGhhdCBwcm92aWRlcyBhbiBpbnRlcmZhY2UgY29tcGF0aWJsZSB3aXRoIFBvcHBlci5qc1xuICogYW5kIGxldHMgeW91IHVzZSBpdCBhcyByZXBsYWNlbWVudCBvZiBhIHJlYWwgRE9NIG5vZGUuPGJyIC8+XG4gKiBZb3UgY2FuIHVzZSB0aGlzIG1ldGhvZCB0byBwb3NpdGlvbiBhIHBvcHBlciByZWxhdGl2ZWx5IHRvIGEgc2V0IG9mIGNvb3JkaW5hdGVzXG4gKiBpbiBjYXNlIHlvdSBkb24ndCBoYXZlIGEgRE9NIG5vZGUgdG8gdXNlIGFzIHJlZmVyZW5jZS5cbiAqXG4gKiBgYGBcbiAqIG5ldyBQb3BwZXIocmVmZXJlbmNlT2JqZWN0LCBwb3BwZXJOb2RlKTtcbiAqIGBgYFxuICpcbiAqIE5COiBUaGlzIGZlYXR1cmUgaXNuJ3Qgc3VwcG9ydGVkIGluIEludGVybmV0IEV4cGxvcmVyIDEwXG4gKiBAbmFtZSByZWZlcmVuY2VPYmplY3RcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IGRhdGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0XG4gKiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHNldCBvZiBjb29yZGluYXRlcyBjb21wYXRpYmxlIHdpdGggdGhlIG5hdGl2ZSBgZ2V0Qm91bmRpbmdDbGllbnRSZWN0YCBtZXRob2QuXG4gKiBAcHJvcGVydHkge251bWJlcn0gZGF0YS5jbGllbnRXaWR0aFxuICogQW4gRVM2IGdldHRlciB0aGF0IHdpbGwgcmV0dXJuIHRoZSB3aWR0aCBvZiB0aGUgdmlydHVhbCByZWZlcmVuY2UgZWxlbWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkYXRhLmNsaWVudEhlaWdodFxuICogQW4gRVM2IGdldHRlciB0aGF0IHdpbGwgcmV0dXJuIHRoZSBoZWlnaHQgb2YgdGhlIHZpcnR1YWwgcmVmZXJlbmNlIGVsZW1lbnQuXG4gKi9cblxuUG9wcGVyLlV0aWxzID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogZ2xvYmFsKS5Qb3BwZXJVdGlscztcblBvcHBlci5wbGFjZW1lbnRzID0gcGxhY2VtZW50cztcblBvcHBlci5EZWZhdWx0cyA9IERlZmF1bHRzO1xuXG4vKipcbiAqIFRyaWdnZXJzIGRvY3VtZW50IHJlZmxvdy5cbiAqIFVzZSB2b2lkIGJlY2F1c2Ugc29tZSBtaW5pZmllcnMgb3IgZW5naW5lcyB0aGluayBzaW1wbHkgYWNjZXNzaW5nIHRoZSBwcm9wZXJ0eVxuICogaXMgdW5uZWNlc3NhcnkuXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHBvcHBlclxuICovXG5mdW5jdGlvbiByZWZsb3cocG9wcGVyKSB7XG4gIHZvaWQgcG9wcGVyLm9mZnNldEhlaWdodDtcbn1cblxuLyoqXG4gKiBXcmFwcGVyIHV0aWwgZm9yIHBvcHBlciBwb3NpdGlvbiB1cGRhdGluZy5cbiAqIFVwZGF0ZXMgdGhlIHBvcHBlcidzIHBvc2l0aW9uIGFuZCBpbnZva2VzIHRoZSBjYWxsYmFjayBvbiB1cGRhdGUuXG4gKiBIYWNraXNoIHdvcmthcm91bmQgdW50aWwgUG9wcGVyIDIuMCdzIHVwZGF0ZSgpIGJlY29tZXMgc3luYy5cbiAqIEBwYXJhbSB7UG9wcGVyfSBwb3BwZXJJbnN0YW5jZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2s6IHRvIHJ1biBvbmNlIHBvcHBlcidzIHBvc2l0aW9uIHdhcyB1cGRhdGVkXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHVwZGF0ZUFscmVhZHlDYWxsZWQ6IHdhcyBzY2hlZHVsZVVwZGF0ZSgpIGFscmVhZHkgY2FsbGVkP1xuICovXG5mdW5jdGlvbiB1cGRhdGVQb3BwZXJQb3NpdGlvbihwb3BwZXJJbnN0YW5jZSwgY2FsbGJhY2ssIHVwZGF0ZUFscmVhZHlDYWxsZWQpIHtcbiAgdmFyIHBvcHBlciA9IHBvcHBlckluc3RhbmNlLnBvcHBlcixcbiAgICAgIG9wdGlvbnMgPSBwb3BwZXJJbnN0YW5jZS5vcHRpb25zO1xuXG4gIHZhciBvbkNyZWF0ZSA9IG9wdGlvbnMub25DcmVhdGU7XG4gIHZhciBvblVwZGF0ZSA9IG9wdGlvbnMub25VcGRhdGU7XG5cbiAgb3B0aW9ucy5vbkNyZWF0ZSA9IG9wdGlvbnMub25VcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmVmbG93KHBvcHBlciksIGNhbGxiYWNrICYmIGNhbGxiYWNrKCksIG9uVXBkYXRlKCk7XG4gICAgb3B0aW9ucy5vbkNyZWF0ZSA9IG9uQ3JlYXRlO1xuICAgIG9wdGlvbnMub25VcGRhdGUgPSBvblVwZGF0ZTtcbiAgfTtcblxuICBpZiAoIXVwZGF0ZUFscmVhZHlDYWxsZWQpIHtcbiAgICBwb3BwZXJJbnN0YW5jZS5zY2hlZHVsZVVwZGF0ZSgpO1xuICB9XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgY29yZSBwbGFjZW1lbnQgKCd0b3AnLCAnYm90dG9tJywgJ2xlZnQnLCAncmlnaHQnKSBvZiBhIHBvcHBlclxuICogQHBhcmFtIHtFbGVtZW50fSBwb3BwZXJcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZ2V0UG9wcGVyUGxhY2VtZW50KHBvcHBlcikge1xuICByZXR1cm4gcG9wcGVyLmdldEF0dHJpYnV0ZSgneC1wbGFjZW1lbnQnKS5yZXBsYWNlKC8tLisvLCAnJyk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgbW91c2UncyBjdXJzb3IgaXMgb3V0c2lkZSB0aGUgaW50ZXJhY3RpdmUgYm9yZGVyXG4gKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50XG4gKiBAcGFyYW0ge0VsZW1lbnR9IHBvcHBlclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGN1cnNvcklzT3V0c2lkZUludGVyYWN0aXZlQm9yZGVyKGV2ZW50LCBwb3BwZXIsIG9wdGlvbnMpIHtcbiAgaWYgKCFwb3BwZXIuZ2V0QXR0cmlidXRlKCd4LXBsYWNlbWVudCcpKSByZXR1cm4gdHJ1ZTtcblxuICB2YXIgeCA9IGV2ZW50LmNsaWVudFgsXG4gICAgICB5ID0gZXZlbnQuY2xpZW50WTtcbiAgdmFyIGludGVyYWN0aXZlQm9yZGVyID0gb3B0aW9ucy5pbnRlcmFjdGl2ZUJvcmRlcixcbiAgICAgIGRpc3RhbmNlID0gb3B0aW9ucy5kaXN0YW5jZTtcblxuXG4gIHZhciByZWN0ID0gcG9wcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB2YXIgcGxhY2VtZW50ID0gZ2V0UG9wcGVyUGxhY2VtZW50KHBvcHBlcik7XG4gIHZhciBib3JkZXJXaXRoRGlzdGFuY2UgPSBpbnRlcmFjdGl2ZUJvcmRlciArIGRpc3RhbmNlO1xuXG4gIHZhciBleGNlZWRzID0ge1xuICAgIHRvcDogcmVjdC50b3AgLSB5ID4gaW50ZXJhY3RpdmVCb3JkZXIsXG4gICAgYm90dG9tOiB5IC0gcmVjdC5ib3R0b20gPiBpbnRlcmFjdGl2ZUJvcmRlcixcbiAgICBsZWZ0OiByZWN0LmxlZnQgLSB4ID4gaW50ZXJhY3RpdmVCb3JkZXIsXG4gICAgcmlnaHQ6IHggLSByZWN0LnJpZ2h0ID4gaW50ZXJhY3RpdmVCb3JkZXJcbiAgfTtcblxuICBzd2l0Y2ggKHBsYWNlbWVudCkge1xuICAgIGNhc2UgJ3RvcCc6XG4gICAgICBleGNlZWRzLnRvcCA9IHJlY3QudG9wIC0geSA+IGJvcmRlcldpdGhEaXN0YW5jZTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICBleGNlZWRzLmJvdHRvbSA9IHkgLSByZWN0LmJvdHRvbSA+IGJvcmRlcldpdGhEaXN0YW5jZTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgZXhjZWVkcy5sZWZ0ID0gcmVjdC5sZWZ0IC0geCA+IGJvcmRlcldpdGhEaXN0YW5jZTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgIGV4Y2VlZHMucmlnaHQgPSB4IC0gcmVjdC5yaWdodCA+IGJvcmRlcldpdGhEaXN0YW5jZTtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIGV4Y2VlZHMudG9wIHx8IGV4Y2VlZHMuYm90dG9tIHx8IGV4Y2VlZHMubGVmdCB8fCBleGNlZWRzLnJpZ2h0O1xufVxuXG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIGBhcnJvd1RyYW5zZm9ybWAgbnVtYmVycyBiYXNlZCBvbiB0aGUgcGxhY2VtZW50IGF4aXNcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlICdzY2FsZScgb3IgJ3RyYW5zbGF0ZSdcbiAqIEBwYXJhbSB7TnVtYmVyW119IG51bWJlcnNcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNWZXJ0aWNhbFxuICogQHBhcmFtIHtCb29sZWFufSBpc1JldmVyc2VcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gdHJhbnNmb3JtTnVtYmVyc0Jhc2VkT25QbGFjZW1lbnRBeGlzKHR5cGUsIG51bWJlcnMsIGlzVmVydGljYWwsIGlzUmV2ZXJzZSkge1xuICBpZiAoIW51bWJlcnMubGVuZ3RoKSByZXR1cm4gJyc7XG5cbiAgdmFyIHRyYW5zZm9ybXMgPSB7XG4gICAgc2NhbGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChudW1iZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gJycgKyBudW1iZXJzWzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGlzVmVydGljYWwgPyBudW1iZXJzWzBdICsgJywgJyArIG51bWJlcnNbMV0gOiBudW1iZXJzWzFdICsgJywgJyArIG51bWJlcnNbMF07XG4gICAgICB9XG4gICAgfSgpLFxuICAgIHRyYW5zbGF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKG51bWJlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBpc1JldmVyc2UgPyAtbnVtYmVyc1swXSArICdweCcgOiBudW1iZXJzWzBdICsgJ3B4JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpc1ZlcnRpY2FsKSB7XG4gICAgICAgICAgcmV0dXJuIGlzUmV2ZXJzZSA/IG51bWJlcnNbMF0gKyAncHgsICcgKyAtbnVtYmVyc1sxXSArICdweCcgOiBudW1iZXJzWzBdICsgJ3B4LCAnICsgbnVtYmVyc1sxXSArICdweCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGlzUmV2ZXJzZSA/IC1udW1iZXJzWzFdICsgJ3B4LCAnICsgbnVtYmVyc1swXSArICdweCcgOiBudW1iZXJzWzFdICsgJ3B4LCAnICsgbnVtYmVyc1swXSArICdweCc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KClcbiAgfTtcblxuICByZXR1cm4gdHJhbnNmb3Jtc1t0eXBlXTtcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSBgYXJyb3dUcmFuc2Zvcm1gIHggb3IgeSBheGlzIGJhc2VkIG9uIHRoZSBwbGFjZW1lbnQgYXhpc1xuICogQHBhcmFtIHtTdHJpbmd9IGF4aXMgJ1gnLCAnWScsICcnXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGlzVmVydGljYWxcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gdHJhbnNmb3JtQXhpcyhheGlzLCBpc1ZlcnRpY2FsKSB7XG4gIGlmICghYXhpcykgcmV0dXJuICcnO1xuICB2YXIgbWFwID0ge1xuICAgIFg6ICdZJyxcbiAgICBZOiAnWCdcbiAgfTtcbiAgcmV0dXJuIGlzVmVydGljYWwgPyBheGlzIDogbWFwW2F4aXNdO1xufVxuXG4vKipcbiAqIENvbXB1dGVzIGFuZCBhcHBsaWVzIHRoZSBuZWNlc3NhcnkgYXJyb3cgdHJhbnNmb3JtXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHBvcHBlclxuICogQHBhcmFtIHtFbGVtZW50fSBhcnJvd1xuICogQHBhcmFtIHtTdHJpbmd9IGFycm93VHJhbnNmb3JtXG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVBcnJvd1RyYW5zZm9ybShwb3BwZXIsIGFycm93LCBhcnJvd1RyYW5zZm9ybSkge1xuICB2YXIgcGxhY2VtZW50ID0gZ2V0UG9wcGVyUGxhY2VtZW50KHBvcHBlcik7XG4gIHZhciBpc1ZlcnRpY2FsID0gcGxhY2VtZW50ID09PSAndG9wJyB8fCBwbGFjZW1lbnQgPT09ICdib3R0b20nO1xuICB2YXIgaXNSZXZlcnNlID0gcGxhY2VtZW50ID09PSAncmlnaHQnIHx8IHBsYWNlbWVudCA9PT0gJ2JvdHRvbSc7XG5cbiAgdmFyIGdldEF4aXMgPSBmdW5jdGlvbiBnZXRBeGlzKHJlKSB7XG4gICAgdmFyIG1hdGNoID0gYXJyb3dUcmFuc2Zvcm0ubWF0Y2gocmUpO1xuICAgIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdIDogJyc7XG4gIH07XG5cbiAgdmFyIGdldE51bWJlcnMgPSBmdW5jdGlvbiBnZXROdW1iZXJzKHJlKSB7XG4gICAgdmFyIG1hdGNoID0gYXJyb3dUcmFuc2Zvcm0ubWF0Y2gocmUpO1xuICAgIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdLnNwbGl0KCcsJykubWFwKHBhcnNlRmxvYXQpIDogW107XG4gIH07XG5cbiAgdmFyIHJlID0ge1xuICAgIHRyYW5zbGF0ZTogL3RyYW5zbGF0ZVg/WT9cXCgoW14pXSspXFwpLyxcbiAgICBzY2FsZTogL3NjYWxlWD9ZP1xcKChbXildKylcXCkvXG4gIH07XG5cbiAgdmFyIG1hdGNoZXMgPSB7XG4gICAgdHJhbnNsYXRlOiB7XG4gICAgICBheGlzOiBnZXRBeGlzKC90cmFuc2xhdGUoW1hZXSkvKSxcbiAgICAgIG51bWJlcnM6IGdldE51bWJlcnMocmUudHJhbnNsYXRlKVxuICAgIH0sXG4gICAgc2NhbGU6IHtcbiAgICAgIGF4aXM6IGdldEF4aXMoL3NjYWxlKFtYWV0pLyksXG4gICAgICBudW1iZXJzOiBnZXROdW1iZXJzKHJlLnNjYWxlKVxuICAgIH1cbiAgfTtcblxuICB2YXIgY29tcHV0ZWRUcmFuc2Zvcm0gPSBhcnJvd1RyYW5zZm9ybS5yZXBsYWNlKHJlLnRyYW5zbGF0ZSwgJ3RyYW5zbGF0ZScgKyB0cmFuc2Zvcm1BeGlzKG1hdGNoZXMudHJhbnNsYXRlLmF4aXMsIGlzVmVydGljYWwpICsgJygnICsgdHJhbnNmb3JtTnVtYmVyc0Jhc2VkT25QbGFjZW1lbnRBeGlzKCd0cmFuc2xhdGUnLCBtYXRjaGVzLnRyYW5zbGF0ZS5udW1iZXJzLCBpc1ZlcnRpY2FsLCBpc1JldmVyc2UpICsgJyknKS5yZXBsYWNlKHJlLnNjYWxlLCAnc2NhbGUnICsgdHJhbnNmb3JtQXhpcyhtYXRjaGVzLnNjYWxlLmF4aXMsIGlzVmVydGljYWwpICsgJygnICsgdHJhbnNmb3JtTnVtYmVyc0Jhc2VkT25QbGFjZW1lbnRBeGlzKCdzY2FsZScsIG1hdGNoZXMuc2NhbGUubnVtYmVycywgaXNWZXJ0aWNhbCwgaXNSZXZlcnNlKSArICcpJyk7XG5cbiAgYXJyb3cuc3R5bGVbcHJlZml4KCd0cmFuc2Zvcm0nKV0gPSBjb21wdXRlZFRyYW5zZm9ybTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBkaXN0YW5jZSB0YWtpbmcgaW50byBhY2NvdW50IHRoZSBkZWZhdWx0IGRpc3RhbmNlIGR1ZSB0b1xuICogdGhlIHRyYW5zZm9ybTogdHJhbnNsYXRlIHNldHRpbmcgaW4gQ1NTXG4gKiBAcGFyYW0ge051bWJlcn0gZGlzdGFuY2VcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZ2V0T2Zmc2V0RGlzdGFuY2VJblB4KGRpc3RhbmNlKSB7XG4gIHJldHVybiAtKGRpc3RhbmNlIC0gZGVmYXVsdHMuZGlzdGFuY2UpICsgJ3B4Jztcbn1cblxuLyoqXG4gKiBXYWl0cyB1bnRpbCBuZXh0IHJlcGFpbnQgdG8gZXhlY3V0ZSBhIGZuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICovXG5mdW5jdGlvbiBkZWZlcihmbikge1xuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgIHNldFRpbWVvdXQoZm4sIDEpO1xuICB9KTtcbn1cblxudmFyIG1hdGNoZXMgPSB7fTtcblxuaWYgKGlzQnJvd3Nlcikge1xuICB2YXIgZSA9IEVsZW1lbnQucHJvdG90eXBlO1xuICBtYXRjaGVzID0gZS5tYXRjaGVzIHx8IGUubWF0Y2hlc1NlbGVjdG9yIHx8IGUud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8IGUubW96TWF0Y2hlc1NlbGVjdG9yIHx8IGUubXNNYXRjaGVzU2VsZWN0b3IgfHwgZnVuY3Rpb24gKHMpIHtcbiAgICB2YXIgbWF0Y2hlcyA9ICh0aGlzLmRvY3VtZW50IHx8IHRoaXMub3duZXJEb2N1bWVudCkucXVlcnlTZWxlY3RvckFsbChzKTtcbiAgICB2YXIgaSA9IG1hdGNoZXMubGVuZ3RoO1xuICAgIHdoaWxlICgtLWkgPj0gMCAmJiBtYXRjaGVzLml0ZW0oaSkgIT09IHRoaXMpIHt9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZW1wdHlcbiAgICByZXR1cm4gaSA+IC0xO1xuICB9O1xufVxuXG52YXIgbWF0Y2hlcyQxID0gbWF0Y2hlcztcblxuLyoqXG4gKiBQb255ZmlsbCB0byBnZXQgdGhlIGNsb3Nlc3QgcGFyZW50IGVsZW1lbnRcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIGNoaWxkIG9mIHBhcmVudCB0byBiZSByZXR1cm5lZFxuICogQHBhcmFtIHtTdHJpbmd9IHBhcmVudFNlbGVjdG9yIC0gc2VsZWN0b3IgdG8gbWF0Y2ggdGhlIHBhcmVudCBpZiBmb3VuZFxuICogQHJldHVybiB7RWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gY2xvc2VzdChlbGVtZW50LCBwYXJlbnRTZWxlY3Rvcikge1xuICB2YXIgZm4gPSBFbGVtZW50LnByb3RvdHlwZS5jbG9zZXN0IHx8IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgIHZhciBlbCA9IHRoaXM7XG4gICAgd2hpbGUgKGVsKSB7XG4gICAgICBpZiAobWF0Y2hlcyQxLmNhbGwoZWwsIHNlbGVjdG9yKSkge1xuICAgICAgICByZXR1cm4gZWw7XG4gICAgICB9XG4gICAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQ7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBmbi5jYWxsKGVsZW1lbnQsIHBhcmVudFNlbGVjdG9yKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSB2YWx1ZSB0YWtpbmcgaW50byBhY2NvdW50IHRoZSB2YWx1ZSBiZWluZyBlaXRoZXIgYSBudW1iZXIgb3IgYXJyYXlcbiAqIEBwYXJhbSB7TnVtYmVyfEFycmF5fSB2YWx1ZVxuICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4XG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGdldFZhbHVlKHZhbHVlLCBpbmRleCkge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZVtpbmRleF0gOiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSB2aXNpYmlsaXR5IHN0YXRlIG9mIGFuIGVsZW1lbnQgZm9yIHRyYW5zaXRpb24gdG8gYmVnaW5cbiAqIEBwYXJhbSB7RWxlbWVudFtdfSBlbHMgLSBhcnJheSBvZiBlbGVtZW50c1xuICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgLSAndmlzaWJsZScgb3IgJ2hpZGRlbidcbiAqL1xuZnVuY3Rpb24gc2V0VmlzaWJpbGl0eVN0YXRlKGVscywgdHlwZSkge1xuICBlbHMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICBpZiAoIWVsKSByZXR1cm47XG4gICAgZWwuc2V0QXR0cmlidXRlKCdkYXRhLXN0YXRlJywgdHlwZSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIHRyYW5zaXRpb24gcHJvcGVydHkgdG8gZWFjaCBlbGVtZW50XG4gKiBAcGFyYW0ge0VsZW1lbnRbXX0gZWxzIC0gQXJyYXkgb2YgZWxlbWVudHNcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuICovXG5mdW5jdGlvbiBhcHBseVRyYW5zaXRpb25EdXJhdGlvbihlbHMsIHZhbHVlKSB7XG4gIGVscy5maWx0ZXIoQm9vbGVhbikuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICBlbC5zdHlsZVtwcmVmaXgoJ3RyYW5zaXRpb25EdXJhdGlvbicpXSA9IHZhbHVlICsgJ21zJztcbiAgfSk7XG59XG5cbi8qKlxuICogRm9jdXNlcyBhbiBlbGVtZW50IHdoaWxlIHByZXZlbnRpbmcgYSBzY3JvbGwganVtcCBpZiBpdCdzIG5vdCBlbnRpcmVseSB3aXRoaW4gdGhlIHZpZXdwb3J0XG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gKi9cbmZ1bmN0aW9uIGZvY3VzKGVsKSB7XG4gIHZhciB4ID0gd2luZG93LnNjcm9sbFggfHwgd2luZG93LnBhZ2VYT2Zmc2V0O1xuICB2YXIgeSA9IHdpbmRvdy5zY3JvbGxZIHx8IHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgZWwuZm9jdXMoKTtcbiAgc2Nyb2xsKHgsIHkpO1xufVxuXG52YXIga2V5ID0ge307XG52YXIgc3RvcmUgPSBmdW5jdGlvbiBzdG9yZShkYXRhKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoaykge1xuICAgIHJldHVybiBrID09PSBrZXkgJiYgZGF0YTtcbiAgfTtcbn07XG5cbnZhciBUaXBweSA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gVGlwcHkoY29uZmlnKSB7XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgVGlwcHkpO1xuXG4gICAgZm9yICh2YXIgX2tleSBpbiBjb25maWcpIHtcbiAgICAgIHRoaXNbX2tleV0gPSBjb25maWdbX2tleV07XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGRlc3Ryb3llZDogZmFsc2UsXG4gICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICB9O1xuXG4gICAgdGhpcy5fID0gc3RvcmUoe1xuICAgICAgbXV0YXRpb25PYnNlcnZlcnM6IFtdXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlcyB0aGUgdG9vbHRpcCB0byBhbGxvdyBpdCB0byBzaG93IG9yIGhpZGVcbiAgICogQG1lbWJlcm9mIFRpcHB5XG4gICAqIEBwdWJsaWNcbiAgICovXG5cblxuICBjcmVhdGVDbGFzcyhUaXBweSwgW3tcbiAgICBrZXk6ICdlbmFibGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbmFibGUoKSB7XG4gICAgICB0aGlzLnN0YXRlLmVuYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2FibGVzIHRoZSB0b29sdGlwIGZyb20gc2hvd2luZyBvciBoaWRpbmcsIGJ1dCBkb2VzIG5vdCBkZXN0cm95IGl0XG4gICAgICogQG1lbWJlcm9mIFRpcHB5XG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdkaXNhYmxlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICAgIHRoaXMuc3RhdGUuZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3dzIHRoZSB0b29sdGlwXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kc1xuICAgICAqIEBtZW1iZXJvZiBUaXBweVxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc2hvdycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3coZHVyYXRpb24pIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLnN0YXRlLmRlc3Ryb3llZCB8fCAhdGhpcy5zdGF0ZS5lbmFibGVkKSByZXR1cm47XG5cbiAgICAgIHZhciBwb3BwZXIgPSB0aGlzLnBvcHBlcixcbiAgICAgICAgICByZWZlcmVuY2UgPSB0aGlzLnJlZmVyZW5jZSxcbiAgICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICB2YXIgX2dldElubmVyRWxlbWVudHMgPSBnZXRJbm5lckVsZW1lbnRzKHBvcHBlciksXG4gICAgICAgICAgdG9vbHRpcCA9IF9nZXRJbm5lckVsZW1lbnRzLnRvb2x0aXAsXG4gICAgICAgICAgYmFja2Ryb3AgPSBfZ2V0SW5uZXJFbGVtZW50cy5iYWNrZHJvcCxcbiAgICAgICAgICBjb250ZW50ID0gX2dldElubmVyRWxlbWVudHMuY29udGVudDtcblxuICAgICAgLy8gSWYgdGhlIGBkeW5hbWljVGl0bGVgIG9wdGlvbiBpcyB0cnVlLCB0aGUgaW5zdGFuY2UgaXMgYWxsb3dlZFxuICAgICAgLy8gdG8gYmUgY3JlYXRlZCB3aXRoIGFuIGVtcHR5IHRpdGxlLiBNYWtlIHN1cmUgdGhhdCB0aGUgdG9vbHRpcFxuICAgICAgLy8gY29udGVudCBpcyBub3QgZW1wdHkgYmVmb3JlIHNob3dpbmcgaXRcblxuXG4gICAgICBpZiAob3B0aW9ucy5keW5hbWljVGl0bGUgJiYgIXJlZmVyZW5jZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKSkgcmV0dXJuO1xuXG4gICAgICAvLyBEbyBub3Qgc2hvdyB0b29sdGlwIGlmIHJlZmVyZW5jZSBjb250YWlucyAnZGlzYWJsZWQnIGF0dHJpYnV0ZS4gRkYgZml4IGZvciAjMjIxXG4gICAgICBpZiAocmVmZXJlbmNlLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSkgcmV0dXJuO1xuXG4gICAgICAvLyBEZXN0cm95IHRvb2x0aXAgaWYgdGhlIHJlZmVyZW5jZSBlbGVtZW50IGlzIG5vIGxvbmdlciBvbiB0aGUgRE9NXG4gICAgICBpZiAoIXJlZmVyZW5jZS5yZWZPYmogJiYgIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jb250YWlucyhyZWZlcmVuY2UpKSB7XG4gICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIG9wdGlvbnMub25TaG93LmNhbGwocG9wcGVyLCB0aGlzKTtcblxuICAgICAgZHVyYXRpb24gPSBnZXRWYWx1ZShkdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gZHVyYXRpb24gOiBvcHRpb25zLmR1cmF0aW9uLCAwKTtcblxuICAgICAgLy8gUHJldmVudCBhIHRyYW5zaXRpb24gd2hlbiBwb3BwZXIgY2hhbmdlcyBwb3NpdGlvblxuICAgICAgYXBwbHlUcmFuc2l0aW9uRHVyYXRpb24oW3BvcHBlciwgdG9vbHRpcCwgYmFja2Ryb3BdLCAwKTtcblxuICAgICAgcG9wcGVyLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgICB0aGlzLnN0YXRlLnZpc2libGUgPSB0cnVlO1xuXG4gICAgICBfbW91bnQuY2FsbCh0aGlzLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghX3RoaXMuc3RhdGUudmlzaWJsZSkgcmV0dXJuO1xuXG4gICAgICAgIGlmICghX2hhc0ZvbGxvd0N1cnNvckJlaGF2aW9yLmNhbGwoX3RoaXMpKSB7XG4gICAgICAgICAgLy8gRklYOiBBcnJvdyB3aWxsIHNvbWV0aW1lcyBub3QgYmUgcG9zaXRpb25lZCBjb3JyZWN0bHkuIEZvcmNlIGFub3RoZXIgdXBkYXRlLlxuICAgICAgICAgIF90aGlzLnBvcHBlckluc3RhbmNlLnNjaGVkdWxlVXBkYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgaW5pdGlhbCBwb3NpdGlvbiBuZWFyIHRoZSBjdXJzb3JcbiAgICAgICAgaWYgKF9oYXNGb2xsb3dDdXJzb3JCZWhhdmlvci5jYWxsKF90aGlzKSkge1xuICAgICAgICAgIF90aGlzLnBvcHBlckluc3RhbmNlLmRpc2FibGVFdmVudExpc3RlbmVycygpO1xuICAgICAgICAgIHZhciBkZWxheSA9IGdldFZhbHVlKG9wdGlvbnMuZGVsYXksIDApO1xuICAgICAgICAgIHZhciBsYXN0VHJpZ2dlckV2ZW50ID0gX3RoaXMuXyhrZXkpLmxhc3RUcmlnZ2VyRXZlbnQ7XG4gICAgICAgICAgaWYgKGxhc3RUcmlnZ2VyRXZlbnQpIHtcbiAgICAgICAgICAgIF90aGlzLl8oa2V5KS5mb2xsb3dDdXJzb3JMaXN0ZW5lcihkZWxheSAmJiBfdGhpcy5fKGtleSkubGFzdE1vdXNlTW92ZUV2ZW50ID8gX3RoaXMuXyhrZXkpLmxhc3RNb3VzZU1vdmVFdmVudCA6IGxhc3RUcmlnZ2VyRXZlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlLWFwcGx5IHRyYW5zaXRpb24gZHVyYXRpb25zXG4gICAgICAgIGFwcGx5VHJhbnNpdGlvbkR1cmF0aW9uKFt0b29sdGlwLCBiYWNrZHJvcCwgYmFja2Ryb3AgPyBjb250ZW50IDogbnVsbF0sIGR1cmF0aW9uKTtcblxuICAgICAgICBpZiAoYmFja2Ryb3ApIHtcbiAgICAgICAgICBnZXRDb21wdXRlZFN0eWxlKGJhY2tkcm9wKVtwcmVmaXgoJ3RyYW5zZm9ybScpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmludGVyYWN0aXZlKSB7XG4gICAgICAgICAgcmVmZXJlbmNlLmNsYXNzTGlzdC5hZGQoJ3RpcHB5LWFjdGl2ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc3RpY2t5KSB7XG4gICAgICAgICAgX21ha2VTdGlja3kuY2FsbChfdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRWaXNpYmlsaXR5U3RhdGUoW3Rvb2x0aXAsIGJhY2tkcm9wXSwgJ3Zpc2libGUnKTtcblxuICAgICAgICBfb25UcmFuc2l0aW9uRW5kLmNhbGwoX3RoaXMsIGR1cmF0aW9uLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKCFvcHRpb25zLnVwZGF0ZUR1cmF0aW9uKSB7XG4gICAgICAgICAgICB0b29sdGlwLmNsYXNzTGlzdC5hZGQoJ3RpcHB5LW5vdHJhbnNpdGlvbicpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChvcHRpb25zLmludGVyYWN0aXZlKSB7XG4gICAgICAgICAgICBmb2N1cyhwb3BwZXIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlZmVyZW5jZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGVzY3JpYmVkYnknLCAndGlwcHktJyArIF90aGlzLmlkKTtcblxuICAgICAgICAgIG9wdGlvbnMub25TaG93bi5jYWxsKHBvcHBlciwgX3RoaXMpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhpZGVzIHRoZSB0b29sdGlwXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kc1xuICAgICAqIEBtZW1iZXJvZiBUaXBweVxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnaGlkZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhpZGUoZHVyYXRpb24pIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5zdGF0ZS5kZXN0cm95ZWQgfHwgIXRoaXMuc3RhdGUuZW5hYmxlZCkgcmV0dXJuO1xuXG4gICAgICB2YXIgcG9wcGVyID0gdGhpcy5wb3BwZXIsXG4gICAgICAgICAgcmVmZXJlbmNlID0gdGhpcy5yZWZlcmVuY2UsXG4gICAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgdmFyIF9nZXRJbm5lckVsZW1lbnRzMiA9IGdldElubmVyRWxlbWVudHMocG9wcGVyKSxcbiAgICAgICAgICB0b29sdGlwID0gX2dldElubmVyRWxlbWVudHMyLnRvb2x0aXAsXG4gICAgICAgICAgYmFja2Ryb3AgPSBfZ2V0SW5uZXJFbGVtZW50czIuYmFja2Ryb3AsXG4gICAgICAgICAgY29udGVudCA9IF9nZXRJbm5lckVsZW1lbnRzMi5jb250ZW50O1xuXG4gICAgICBvcHRpb25zLm9uSGlkZS5jYWxsKHBvcHBlciwgdGhpcyk7XG5cbiAgICAgIGR1cmF0aW9uID0gZ2V0VmFsdWUoZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IGR1cmF0aW9uIDogb3B0aW9ucy5kdXJhdGlvbiwgMSk7XG5cbiAgICAgIGlmICghb3B0aW9ucy51cGRhdGVEdXJhdGlvbikge1xuICAgICAgICB0b29sdGlwLmNsYXNzTGlzdC5yZW1vdmUoJ3RpcHB5LW5vdHJhbnNpdGlvbicpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5pbnRlcmFjdGl2ZSkge1xuICAgICAgICByZWZlcmVuY2UuY2xhc3NMaXN0LnJlbW92ZSgndGlwcHktYWN0aXZlJyk7XG4gICAgICB9XG5cbiAgICAgIHBvcHBlci5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICB0aGlzLnN0YXRlLnZpc2libGUgPSBmYWxzZTtcblxuICAgICAgYXBwbHlUcmFuc2l0aW9uRHVyYXRpb24oW3Rvb2x0aXAsIGJhY2tkcm9wLCBiYWNrZHJvcCA/IGNvbnRlbnQgOiBudWxsXSwgZHVyYXRpb24pO1xuXG4gICAgICBzZXRWaXNpYmlsaXR5U3RhdGUoW3Rvb2x0aXAsIGJhY2tkcm9wXSwgJ2hpZGRlbicpO1xuXG4gICAgICBpZiAob3B0aW9ucy5pbnRlcmFjdGl2ZSAmJiBvcHRpb25zLnRyaWdnZXIuaW5kZXhPZignY2xpY2snKSA+IC0xKSB7XG4gICAgICAgIGZvY3VzKHJlZmVyZW5jZSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucG9wcGVySW5zdGFuY2UuZGlzYWJsZUV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICAgIC8qXG4gICAgICAqIFRoaXMgY2FsbCBpcyBkZWZlcnJlZCBiZWNhdXNlIHNvbWV0aW1lcyB3aGVuIHRoZSB0b29sdGlwIGlzIHN0aWxsIHRyYW5zaXRpb25pbmcgaW4gYnV0IGhpZGUoKVxuICAgICAgKiBpcyBjYWxsZWQgYmVmb3JlIGl0IGZpbmlzaGVzLCB0aGUgQ1NTIHRyYW5zaXRpb24gd29uJ3QgcmV2ZXJzZSBxdWlja2x5IGVub3VnaCwgbWVhbmluZ1xuICAgICAgKiB0aGUgQ1NTIHRyYW5zaXRpb24gd2lsbCBmaW5pc2ggMS0yIGZyYW1lcyBsYXRlciwgYW5kIG9uSGlkZGVuKCkgd2lsbCBydW4gc2luY2UgdGhlIEpTIHNldCBpdFxuICAgICAgKiBtb3JlIHF1aWNrbHkuIEl0IHNob3VsZCBhY3R1YWxseSBiZSBvblNob3duKCkuIFNlZW1zIHRvIGJlIHNvbWV0aGluZyBDaHJvbWUgZG9lcywgbm90IFNhZmFyaVxuICAgICAgKi9cbiAgICAgIGRlZmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX29uVHJhbnNpdGlvbkVuZC5jYWxsKF90aGlzMiwgZHVyYXRpb24sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoX3RoaXMyLnN0YXRlLnZpc2libGUgfHwgIW9wdGlvbnMuYXBwZW5kVG8uY29udGFpbnMocG9wcGVyKSkgcmV0dXJuO1xuXG4gICAgICAgICAgaWYgKCFfdGhpczIuXyhrZXkpLmlzUHJlcGFyaW5nVG9TaG93KSB7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBfdGhpczIuXyhrZXkpLmZvbGxvd0N1cnNvckxpc3RlbmVyKTtcbiAgICAgICAgICAgIF90aGlzMi5fKGtleSkubGFzdE1vdXNlTW92ZUV2ZW50ID0gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZWZlcmVuY2UucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWRlc2NyaWJlZGJ5Jyk7XG5cbiAgICAgICAgICBvcHRpb25zLmFwcGVuZFRvLnJlbW92ZUNoaWxkKHBvcHBlcik7XG5cbiAgICAgICAgICBvcHRpb25zLm9uSGlkZGVuLmNhbGwocG9wcGVyLCBfdGhpczIpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSB0b29sdGlwIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBkZXN0cm95VGFyZ2V0SW5zdGFuY2VzIC0gcmVsZXZhbnQgb25seSB3aGVuIGRlc3Ryb3lpbmcgZGVsZWdhdGVzXG4gICAgICogQG1lbWJlcm9mIFRpcHB5XG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdkZXN0cm95JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgZGVzdHJveVRhcmdldEluc3RhbmNlcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdHJ1ZTtcblxuICAgICAgaWYgKHRoaXMuc3RhdGUuZGVzdHJveWVkKSByZXR1cm47XG5cbiAgICAgIC8vIEVuc3VyZSB0aGUgcG9wcGVyIGlzIGhpZGRlblxuICAgICAgaWYgKHRoaXMuc3RhdGUudmlzaWJsZSkge1xuICAgICAgICB0aGlzLmhpZGUoMCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIF90aGlzMy5yZWZlcmVuY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihsaXN0ZW5lci5ldmVudCwgbGlzdGVuZXIuaGFuZGxlcik7XG4gICAgICB9KTtcblxuICAgICAgLy8gUmVzdG9yZSB0aXRsZVxuICAgICAgaWYgKHRoaXMudGl0bGUpIHtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2Uuc2V0QXR0cmlidXRlKCd0aXRsZScsIHRoaXMudGl0bGUpO1xuICAgICAgfVxuXG4gICAgICBkZWxldGUgdGhpcy5yZWZlcmVuY2UuX3RpcHB5O1xuXG4gICAgICB2YXIgYXR0cmlidXRlcyA9IFsnZGF0YS1vcmlnaW5hbC10aXRsZScsICdkYXRhLXRpcHB5JywgJ2RhdGEtdGlwcHktZGVsZWdhdGUnXTtcbiAgICAgIGF0dHJpYnV0ZXMuZm9yRWFjaChmdW5jdGlvbiAoYXR0cikge1xuICAgICAgICBfdGhpczMucmVmZXJlbmNlLnJlbW92ZUF0dHJpYnV0ZShhdHRyKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnRhcmdldCAmJiBkZXN0cm95VGFyZ2V0SW5zdGFuY2VzKSB7XG4gICAgICAgIHRvQXJyYXkodGhpcy5yZWZlcmVuY2UucXVlcnlTZWxlY3RvckFsbCh0aGlzLm9wdGlvbnMudGFyZ2V0KSkuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICByZXR1cm4gY2hpbGQuX3RpcHB5ICYmIGNoaWxkLl90aXBweS5kZXN0cm95KCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5wb3BwZXJJbnN0YW5jZSkge1xuICAgICAgICB0aGlzLnBvcHBlckluc3RhbmNlLmRlc3Ryb3koKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fKGtleSkubXV0YXRpb25PYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuc3RhdGUuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFRpcHB5O1xufSgpO1xuXG4vKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogUHJpdmF0ZSBtZXRob2RzXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFN0YW5kYWxvbmUgZnVuY3Rpb25zIHRvIGJlIGNhbGxlZCB3aXRoIHRoZSBpbnN0YW5jZSdzIGB0aGlzYCBjb250ZXh0IHRvIG1ha2VcbiAqIHRoZW0gdHJ1bHkgcHJpdmF0ZSBhbmQgbm90IGFjY2Vzc2libGUgb24gdGhlIHByb3RvdHlwZVxuICovXG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgdG9vbHRpcCBpbnN0YW5jZSBoYXMgZm9sbG93Q3Vyc29yIGJlaGF2aW9yXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQG1lbWJlcm9mIFRpcHB5XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfaGFzRm9sbG93Q3Vyc29yQmVoYXZpb3IoKSB7XG4gIHZhciBsYXN0VHJpZ2dlckV2ZW50ID0gdGhpcy5fKGtleSkubGFzdFRyaWdnZXJFdmVudDtcbiAgcmV0dXJuIHRoaXMub3B0aW9ucy5mb2xsb3dDdXJzb3IgJiYgIWJyb3dzZXIudXNpbmdUb3VjaCAmJiBsYXN0VHJpZ2dlckV2ZW50ICYmIGxhc3RUcmlnZ2VyRXZlbnQudHlwZSAhPT0gJ2ZvY3VzJztcbn1cblxuLyoqXG4gKiBDcmVhdGVzIHRoZSBUaXBweSBpbnN0YW5jZSBmb3IgdGhlIGNoaWxkIHRhcmdldCBvZiB0aGUgZGVsZWdhdGUgY29udGFpbmVyXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICogQG1lbWJlcm9mIFRpcHB5XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfY3JlYXRlRGVsZWdhdGVDaGlsZFRpcHB5KGV2ZW50KSB7XG4gIHZhciB0YXJnZXRFbCA9IGNsb3Nlc3QoZXZlbnQudGFyZ2V0LCB0aGlzLm9wdGlvbnMudGFyZ2V0KTtcbiAgaWYgKHRhcmdldEVsICYmICF0YXJnZXRFbC5fdGlwcHkpIHtcbiAgICB2YXIgdGl0bGUgPSB0YXJnZXRFbC5nZXRBdHRyaWJ1dGUoJ3RpdGxlJykgfHwgdGhpcy50aXRsZTtcbiAgICBpZiAodGl0bGUpIHtcbiAgICAgIHRhcmdldEVsLnNldEF0dHJpYnV0ZSgndGl0bGUnLCB0aXRsZSk7XG4gICAgICB0aXBweSh0YXJnZXRFbCwgX2V4dGVuZHMoe30sIHRoaXMub3B0aW9ucywgeyB0YXJnZXQ6IG51bGwgfSkpO1xuICAgICAgX2VudGVyLmNhbGwodGFyZ2V0RWwuX3RpcHB5LCBldmVudCk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogTWV0aG9kIHVzZWQgYnkgZXZlbnQgbGlzdGVuZXJzIHRvIGludm9rZSB0aGUgc2hvdyBtZXRob2QsIHRha2luZyBpbnRvIGFjY291bnQgZGVsYXlzIGFuZFxuICogdGhlIGB3YWl0YCBvcHRpb25cbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gKiBAbWVtYmVyb2YgVGlwcHlcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9lbnRlcihldmVudCkge1xuICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuXG4gIF9jbGVhckRlbGF5VGltZW91dHMuY2FsbCh0aGlzKTtcblxuICBpZiAodGhpcy5zdGF0ZS52aXNpYmxlKSByZXR1cm47XG5cbiAgLy8gSXMgYSBkZWxlZ2F0ZSwgY3JlYXRlIFRpcHB5IGluc3RhbmNlIGZvciB0aGUgY2hpbGQgdGFyZ2V0XG4gIGlmIChvcHRpb25zLnRhcmdldCkge1xuICAgIF9jcmVhdGVEZWxlZ2F0ZUNoaWxkVGlwcHkuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5fKGtleSkuaXNQcmVwYXJpbmdUb1Nob3cgPSB0cnVlO1xuXG4gIGlmIChvcHRpb25zLndhaXQpIHtcbiAgICBvcHRpb25zLndhaXQuY2FsbCh0aGlzLnBvcHBlciwgdGhpcy5zaG93LmJpbmQodGhpcyksIGV2ZW50KTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBJZiB0aGUgdG9vbHRpcCBoYXMgYSBkZWxheSwgd2UgbmVlZCB0byBiZSBsaXN0ZW5pbmcgdG8gdGhlIG1vdXNlbW92ZSBhcyBzb29uIGFzIHRoZSB0cmlnZ2VyXG4gIC8vIGV2ZW50IGlzIGZpcmVkIHNvIHRoYXQgaXQncyBpbiB0aGUgY29ycmVjdCBwb3NpdGlvbiB1cG9uIG1vdW50LlxuICBpZiAoX2hhc0ZvbGxvd0N1cnNvckJlaGF2aW9yLmNhbGwodGhpcykpIHtcbiAgICBpZiAoIXRoaXMuXyhrZXkpLmZvbGxvd0N1cnNvckxpc3RlbmVyKSB7XG4gICAgICBfc2V0Rm9sbG93Q3Vyc29yTGlzdGVuZXIuY2FsbCh0aGlzKTtcbiAgICB9XG5cbiAgICB2YXIgX2dldElubmVyRWxlbWVudHMzID0gZ2V0SW5uZXJFbGVtZW50cyh0aGlzLnBvcHBlciksXG4gICAgICAgIGFycm93ID0gX2dldElubmVyRWxlbWVudHMzLmFycm93O1xuXG4gICAgaWYgKGFycm93KSBhcnJvdy5zdHlsZS5tYXJnaW4gPSAnMCc7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fKGtleSkuZm9sbG93Q3Vyc29yTGlzdGVuZXIpO1xuICB9XG5cbiAgdmFyIGRlbGF5ID0gZ2V0VmFsdWUob3B0aW9ucy5kZWxheSwgMCk7XG5cbiAgaWYgKGRlbGF5KSB7XG4gICAgdGhpcy5fKGtleSkuc2hvd1RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzNC5zaG93KCk7XG4gICAgfSwgZGVsYXkpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuc2hvdygpO1xuICB9XG59XG5cbi8qKlxuICogTWV0aG9kIHVzZWQgYnkgZXZlbnQgbGlzdGVuZXJzIHRvIGludm9rZSB0aGUgaGlkZSBtZXRob2QsIHRha2luZyBpbnRvIGFjY291bnQgZGVsYXlzXG4gKiBAbWVtYmVyb2YgVGlwcHlcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9sZWF2ZSgpIHtcbiAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgX2NsZWFyRGVsYXlUaW1lb3V0cy5jYWxsKHRoaXMpO1xuXG4gIGlmICghdGhpcy5zdGF0ZS52aXNpYmxlKSByZXR1cm47XG5cbiAgdGhpcy5fKGtleSkuaXNQcmVwYXJpbmdUb1Nob3cgPSBmYWxzZTtcblxuICB2YXIgZGVsYXkgPSBnZXRWYWx1ZSh0aGlzLm9wdGlvbnMuZGVsYXksIDEpO1xuXG4gIGlmIChkZWxheSkge1xuICAgIHRoaXMuXyhrZXkpLmhpZGVUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXM1LnN0YXRlLnZpc2libGUpIHtcbiAgICAgICAgX3RoaXM1LmhpZGUoKTtcbiAgICAgIH1cbiAgICB9LCBkZWxheSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5oaWRlKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIHJlbGV2YW50IGxpc3RlbmVycyBmb3IgdGhlIGluc3RhbmNlXG4gKiBAcmV0dXJuIHtPYmplY3R9IG9mIGxpc3RlbmVyc1xuICogQG1lbWJlcm9mIFRpcHB5XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfZ2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gIHZhciBvblRyaWdnZXIgPSBmdW5jdGlvbiBvblRyaWdnZXIoZXZlbnQpIHtcbiAgICBpZiAoIV90aGlzNi5zdGF0ZS5lbmFibGVkKSByZXR1cm47XG5cbiAgICB2YXIgc2hvdWxkU3RvcEV2ZW50ID0gYnJvd3Nlci5zdXBwb3J0c1RvdWNoICYmIGJyb3dzZXIudXNpbmdUb3VjaCAmJiBbJ21vdXNlZW50ZXInLCAnbW91c2VvdmVyJywgJ2ZvY3VzJ10uaW5kZXhPZihldmVudC50eXBlKSA+IC0xO1xuXG4gICAgaWYgKHNob3VsZFN0b3BFdmVudCAmJiBfdGhpczYub3B0aW9ucy50b3VjaEhvbGQpIHJldHVybjtcblxuICAgIF90aGlzNi5fKGtleSkubGFzdFRyaWdnZXJFdmVudCA9IGV2ZW50O1xuXG4gICAgLy8gVG9nZ2xlIHNob3cvaGlkZSB3aGVuIGNsaWNraW5nIGNsaWNrLXRyaWdnZXJlZCB0b29sdGlwc1xuICAgIGlmIChldmVudC50eXBlID09PSAnY2xpY2snICYmIF90aGlzNi5vcHRpb25zLmhpZGVPbkNsaWNrICE9PSAncGVyc2lzdGVudCcgJiYgX3RoaXM2LnN0YXRlLnZpc2libGUpIHtcbiAgICAgIF9sZWF2ZS5jYWxsKF90aGlzNik7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9lbnRlci5jYWxsKF90aGlzNiwgZXZlbnQpO1xuICAgIH1cblxuICAgIC8vIGlPUyBwcmV2ZW50cyBjbGljayBldmVudHMgZnJvbSBmaXJpbmdcbiAgICBpZiAoc2hvdWxkU3RvcEV2ZW50ICYmIGJyb3dzZXIuaU9TICYmIF90aGlzNi5yZWZlcmVuY2UuY2xpY2spIHtcbiAgICAgIF90aGlzNi5yZWZlcmVuY2UuY2xpY2soKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uTW91c2VMZWF2ZSA9IGZ1bmN0aW9uIG9uTW91c2VMZWF2ZShldmVudCkge1xuICAgIGlmIChbJ21vdXNlbGVhdmUnLCAnbW91c2VvdXQnXS5pbmRleE9mKGV2ZW50LnR5cGUpID4gLTEgJiYgYnJvd3Nlci5zdXBwb3J0c1RvdWNoICYmIGJyb3dzZXIudXNpbmdUb3VjaCAmJiBfdGhpczYub3B0aW9ucy50b3VjaEhvbGQpIHJldHVybjtcblxuICAgIGlmIChfdGhpczYub3B0aW9ucy5pbnRlcmFjdGl2ZSkge1xuICAgICAgdmFyIGhpZGUgPSBfbGVhdmUuYmluZChfdGhpczYpO1xuXG4gICAgICB2YXIgb25Nb3VzZU1vdmUgPSBmdW5jdGlvbiBvbk1vdXNlTW92ZShldmVudCkge1xuICAgICAgICB2YXIgcmVmZXJlbmNlQ3Vyc29ySXNPdmVyID0gY2xvc2VzdChldmVudC50YXJnZXQsIHNlbGVjdG9ycy5SRUZFUkVOQ0UpO1xuICAgICAgICB2YXIgY3Vyc29ySXNPdmVyUG9wcGVyID0gY2xvc2VzdChldmVudC50YXJnZXQsIHNlbGVjdG9ycy5QT1BQRVIpID09PSBfdGhpczYucG9wcGVyO1xuICAgICAgICB2YXIgY3Vyc29ySXNPdmVyUmVmZXJlbmNlID0gcmVmZXJlbmNlQ3Vyc29ySXNPdmVyID09PSBfdGhpczYucmVmZXJlbmNlO1xuXG4gICAgICAgIGlmIChjdXJzb3JJc092ZXJQb3BwZXIgfHwgY3Vyc29ySXNPdmVyUmVmZXJlbmNlKSByZXR1cm47XG5cbiAgICAgICAgaWYgKGN1cnNvcklzT3V0c2lkZUludGVyYWN0aXZlQm9yZGVyKGV2ZW50LCBfdGhpczYucG9wcGVyLCBfdGhpczYub3B0aW9ucykpIHtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBoaWRlKTtcbiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSk7XG5cbiAgICAgICAgICBfbGVhdmUuY2FsbChfdGhpczYsIG9uTW91c2VNb3ZlKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgaGlkZSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgX2xlYXZlLmNhbGwoX3RoaXM2KTtcbiAgfTtcblxuICB2YXIgb25CbHVyID0gZnVuY3Rpb24gb25CbHVyKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnRhcmdldCAhPT0gX3RoaXM2LnJlZmVyZW5jZSB8fCBicm93c2VyLnVzaW5nVG91Y2gpIHJldHVybjtcblxuICAgIGlmIChfdGhpczYub3B0aW9ucy5pbnRlcmFjdGl2ZSkge1xuICAgICAgaWYgKCFldmVudC5yZWxhdGVkVGFyZ2V0KSByZXR1cm47XG4gICAgICBpZiAoY2xvc2VzdChldmVudC5yZWxhdGVkVGFyZ2V0LCBzZWxlY3RvcnMuUE9QUEVSKSkgcmV0dXJuO1xuICAgIH1cblxuICAgIF9sZWF2ZS5jYWxsKF90aGlzNik7XG4gIH07XG5cbiAgdmFyIG9uRGVsZWdhdGVTaG93ID0gZnVuY3Rpb24gb25EZWxlZ2F0ZVNob3coZXZlbnQpIHtcbiAgICBpZiAoY2xvc2VzdChldmVudC50YXJnZXQsIF90aGlzNi5vcHRpb25zLnRhcmdldCkpIHtcbiAgICAgIF9lbnRlci5jYWxsKF90aGlzNiwgZXZlbnQpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25EZWxlZ2F0ZUhpZGUgPSBmdW5jdGlvbiBvbkRlbGVnYXRlSGlkZShldmVudCkge1xuICAgIGlmIChjbG9zZXN0KGV2ZW50LnRhcmdldCwgX3RoaXM2Lm9wdGlvbnMudGFyZ2V0KSkge1xuICAgICAgX2xlYXZlLmNhbGwoX3RoaXM2KTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBvblRyaWdnZXI6IG9uVHJpZ2dlcixcbiAgICBvbk1vdXNlTGVhdmU6IG9uTW91c2VMZWF2ZSxcbiAgICBvbkJsdXI6IG9uQmx1cixcbiAgICBvbkRlbGVnYXRlU2hvdzogb25EZWxlZ2F0ZVNob3csXG4gICAgb25EZWxlZ2F0ZUhpZGU6IG9uRGVsZWdhdGVIaWRlXG4gIH07XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbmQgcmV0dXJucyBhIG5ldyBwb3BwZXIgaW5zdGFuY2VcbiAqIEByZXR1cm4ge1BvcHBlcn1cbiAqIEBtZW1iZXJvZiBUaXBweVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2NyZWF0ZVBvcHBlckluc3RhbmNlKCkge1xuICB2YXIgX3RoaXM3ID0gdGhpcztcblxuICB2YXIgcG9wcGVyID0gdGhpcy5wb3BwZXIsXG4gICAgICByZWZlcmVuY2UgPSB0aGlzLnJlZmVyZW5jZSxcbiAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgdmFyIF9nZXRJbm5lckVsZW1lbnRzNCA9IGdldElubmVyRWxlbWVudHMocG9wcGVyKSxcbiAgICAgIHRvb2x0aXAgPSBfZ2V0SW5uZXJFbGVtZW50czQudG9vbHRpcDtcblxuICB2YXIgcG9wcGVyT3B0aW9ucyA9IG9wdGlvbnMucG9wcGVyT3B0aW9ucztcblxuICB2YXIgYXJyb3dTZWxlY3RvciA9IG9wdGlvbnMuYXJyb3dUeXBlID09PSAncm91bmQnID8gc2VsZWN0b3JzLlJPVU5EX0FSUk9XIDogc2VsZWN0b3JzLkFSUk9XO1xuICB2YXIgYXJyb3cgPSB0b29sdGlwLnF1ZXJ5U2VsZWN0b3IoYXJyb3dTZWxlY3Rvcik7XG5cbiAgdmFyIGNvbmZpZyA9IF9leHRlbmRzKHtcbiAgICBwbGFjZW1lbnQ6IG9wdGlvbnMucGxhY2VtZW50XG4gIH0sIHBvcHBlck9wdGlvbnMgfHwge30sIHtcbiAgICBtb2RpZmllcnM6IF9leHRlbmRzKHt9LCBwb3BwZXJPcHRpb25zID8gcG9wcGVyT3B0aW9ucy5tb2RpZmllcnMgOiB7fSwge1xuICAgICAgYXJyb3c6IF9leHRlbmRzKHtcbiAgICAgICAgZWxlbWVudDogYXJyb3dTZWxlY3RvclxuICAgICAgfSwgcG9wcGVyT3B0aW9ucyAmJiBwb3BwZXJPcHRpb25zLm1vZGlmaWVycyA/IHBvcHBlck9wdGlvbnMubW9kaWZpZXJzLmFycm93IDoge30pLFxuICAgICAgZmxpcDogX2V4dGVuZHMoe1xuICAgICAgICBlbmFibGVkOiBvcHRpb25zLmZsaXAsXG4gICAgICAgIHBhZGRpbmc6IG9wdGlvbnMuZGlzdGFuY2UgKyA1IC8qIDVweCBmcm9tIHZpZXdwb3J0IGJvdW5kYXJ5ICovXG4gICAgICAgICwgYmVoYXZpb3I6IG9wdGlvbnMuZmxpcEJlaGF2aW9yXG4gICAgICB9LCBwb3BwZXJPcHRpb25zICYmIHBvcHBlck9wdGlvbnMubW9kaWZpZXJzID8gcG9wcGVyT3B0aW9ucy5tb2RpZmllcnMuZmxpcCA6IHt9KSxcbiAgICAgIG9mZnNldDogX2V4dGVuZHMoe1xuICAgICAgICBvZmZzZXQ6IG9wdGlvbnMub2Zmc2V0XG4gICAgICB9LCBwb3BwZXJPcHRpb25zICYmIHBvcHBlck9wdGlvbnMubW9kaWZpZXJzID8gcG9wcGVyT3B0aW9ucy5tb2RpZmllcnMub2Zmc2V0IDoge30pXG4gICAgfSksXG4gICAgb25DcmVhdGU6IGZ1bmN0aW9uIG9uQ3JlYXRlKCkge1xuICAgICAgdG9vbHRpcC5zdHlsZVtnZXRQb3BwZXJQbGFjZW1lbnQocG9wcGVyKV0gPSBnZXRPZmZzZXREaXN0YW5jZUluUHgob3B0aW9ucy5kaXN0YW5jZSk7XG5cbiAgICAgIGlmIChhcnJvdyAmJiBvcHRpb25zLmFycm93VHJhbnNmb3JtKSB7XG4gICAgICAgIGNvbXB1dGVBcnJvd1RyYW5zZm9ybShwb3BwZXIsIGFycm93LCBvcHRpb25zLmFycm93VHJhbnNmb3JtKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9uVXBkYXRlOiBmdW5jdGlvbiBvblVwZGF0ZSgpIHtcbiAgICAgIHZhciBzdHlsZXMgPSB0b29sdGlwLnN0eWxlO1xuICAgICAgc3R5bGVzLnRvcCA9ICcnO1xuICAgICAgc3R5bGVzLmJvdHRvbSA9ICcnO1xuICAgICAgc3R5bGVzLmxlZnQgPSAnJztcbiAgICAgIHN0eWxlcy5yaWdodCA9ICcnO1xuICAgICAgc3R5bGVzW2dldFBvcHBlclBsYWNlbWVudChwb3BwZXIpXSA9IGdldE9mZnNldERpc3RhbmNlSW5QeChvcHRpb25zLmRpc3RhbmNlKTtcblxuICAgICAgaWYgKGFycm93ICYmIG9wdGlvbnMuYXJyb3dUcmFuc2Zvcm0pIHtcbiAgICAgICAgY29tcHV0ZUFycm93VHJhbnNmb3JtKHBvcHBlciwgYXJyb3csIG9wdGlvbnMuYXJyb3dUcmFuc2Zvcm0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgX2FkZE11dGF0aW9uT2JzZXJ2ZXIuY2FsbCh0aGlzLCB7XG4gICAgdGFyZ2V0OiBwb3BwZXIsXG4gICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgX3RoaXM3LnBvcHBlckluc3RhbmNlLnVwZGF0ZSgpO1xuICAgIH0sXG4gICAgb3B0aW9uczoge1xuICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgc3VidHJlZTogdHJ1ZSxcbiAgICAgIGNoYXJhY3RlckRhdGE6IHRydWVcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBuZXcgUG9wcGVyKHJlZmVyZW5jZSwgcG9wcGVyLCBjb25maWcpO1xufVxuXG4vKipcbiAqIEFwcGVuZHMgdGhlIHBvcHBlciBlbGVtZW50IHRvIHRoZSBET00sIHVwZGF0aW5nIG9yIGNyZWF0aW5nIHRoZSBwb3BwZXIgaW5zdGFuY2VcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAbWVtYmVyb2YgVGlwcHlcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9tb3VudChjYWxsYmFjaykge1xuICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuXG4gIGlmICghdGhpcy5wb3BwZXJJbnN0YW5jZSkge1xuICAgIHRoaXMucG9wcGVySW5zdGFuY2UgPSBfY3JlYXRlUG9wcGVySW5zdGFuY2UuY2FsbCh0aGlzKTtcbiAgICBpZiAoIW9wdGlvbnMubGl2ZVBsYWNlbWVudCkge1xuICAgICAgdGhpcy5wb3BwZXJJbnN0YW5jZS5kaXNhYmxlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5wb3BwZXJJbnN0YW5jZS5zY2hlZHVsZVVwZGF0ZSgpO1xuICAgIGlmIChvcHRpb25zLmxpdmVQbGFjZW1lbnQgJiYgIV9oYXNGb2xsb3dDdXJzb3JCZWhhdmlvci5jYWxsKHRoaXMpKSB7XG4gICAgICB0aGlzLnBvcHBlckluc3RhbmNlLmVuYWJsZUV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgdGhlIGluc3RhbmNlIHByZXZpb3VzbHkgaGFkIGZvbGxvd0N1cnNvciBiZWhhdmlvciwgaXQgd2lsbCBiZSBwb3NpdGlvbmVkIGluY29ycmVjdGx5XG4gIC8vIGlmIHRyaWdnZXJlZCBieSBgZm9jdXNgIGFmdGVyd2FyZHMgLSB1cGRhdGUgdGhlIHJlZmVyZW5jZSBiYWNrIHRvIHRoZSByZWFsIERPTSBlbGVtZW50XG4gIGlmICghX2hhc0ZvbGxvd0N1cnNvckJlaGF2aW9yLmNhbGwodGhpcykpIHtcbiAgICB2YXIgX2dldElubmVyRWxlbWVudHM1ID0gZ2V0SW5uZXJFbGVtZW50cyh0aGlzLnBvcHBlciksXG4gICAgICAgIGFycm93ID0gX2dldElubmVyRWxlbWVudHM1LmFycm93O1xuXG4gICAgaWYgKGFycm93KSBhcnJvdy5zdHlsZS5tYXJnaW4gPSAnJztcbiAgICB0aGlzLnBvcHBlckluc3RhbmNlLnJlZmVyZW5jZSA9IHRoaXMucmVmZXJlbmNlO1xuICB9XG5cbiAgdXBkYXRlUG9wcGVyUG9zaXRpb24odGhpcy5wb3BwZXJJbnN0YW5jZSwgY2FsbGJhY2ssIHRydWUpO1xuXG4gIGlmICghb3B0aW9ucy5hcHBlbmRUby5jb250YWlucyh0aGlzLnBvcHBlcikpIHtcbiAgICBvcHRpb25zLmFwcGVuZFRvLmFwcGVuZENoaWxkKHRoaXMucG9wcGVyKTtcbiAgfVxufVxuXG4vKipcbiAqIENsZWFycyB0aGUgc2hvdyBhbmQgaGlkZSBkZWxheSB0aW1lb3V0c1xuICogQG1lbWJlcm9mIFRpcHB5XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfY2xlYXJEZWxheVRpbWVvdXRzKCkge1xuICB2YXIgX3JlZiA9IHRoaXMuXyhrZXkpLFxuICAgICAgc2hvd1RpbWVvdXQgPSBfcmVmLnNob3dUaW1lb3V0LFxuICAgICAgaGlkZVRpbWVvdXQgPSBfcmVmLmhpZGVUaW1lb3V0O1xuXG4gIGNsZWFyVGltZW91dChzaG93VGltZW91dCk7XG4gIGNsZWFyVGltZW91dChoaWRlVGltZW91dCk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbW91c2Vtb3ZlIGV2ZW50IGxpc3RlbmVyIGZ1bmN0aW9uIGZvciBgZm9sbG93Q3Vyc29yYCBvcHRpb25cbiAqIEBtZW1iZXJvZiBUaXBweVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX3NldEZvbGxvd0N1cnNvckxpc3RlbmVyKCkge1xuICB2YXIgX3RoaXM4ID0gdGhpcztcblxuICB0aGlzLl8oa2V5KS5mb2xsb3dDdXJzb3JMaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciBfJGxhc3RNb3VzZU1vdmVFdmVudCA9IF90aGlzOC5fKGtleSkubGFzdE1vdXNlTW92ZUV2ZW50ID0gZXZlbnQsXG4gICAgICAgIGNsaWVudFggPSBfJGxhc3RNb3VzZU1vdmVFdmVudC5jbGllbnRYLFxuICAgICAgICBjbGllbnRZID0gXyRsYXN0TW91c2VNb3ZlRXZlbnQuY2xpZW50WTtcblxuICAgIGlmICghX3RoaXM4LnBvcHBlckluc3RhbmNlKSByZXR1cm47XG5cbiAgICBfdGhpczgucG9wcGVySW5zdGFuY2UucmVmZXJlbmNlID0ge1xuICAgICAgZ2V0Qm91bmRpbmdDbGllbnRSZWN0OiBmdW5jdGlvbiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgIHRvcDogY2xpZW50WSxcbiAgICAgICAgICBsZWZ0OiBjbGllbnRYLFxuICAgICAgICAgIHJpZ2h0OiBjbGllbnRYLFxuICAgICAgICAgIGJvdHRvbTogY2xpZW50WVxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIGNsaWVudFdpZHRoOiAwLFxuICAgICAgY2xpZW50SGVpZ2h0OiAwXG4gICAgfTtcblxuICAgIF90aGlzOC5wb3BwZXJJbnN0YW5jZS5zY2hlZHVsZVVwZGF0ZSgpO1xuICB9O1xufVxuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIHBvcHBlcidzIHBvc2l0aW9uIG9uIGVhY2ggYW5pbWF0aW9uIGZyYW1lXG4gKiBAbWVtYmVyb2YgVGlwcHlcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9tYWtlU3RpY2t5KCkge1xuICB2YXIgX3RoaXM5ID0gdGhpcztcblxuICB2YXIgYXBwbHlUcmFuc2l0aW9uRHVyYXRpb24kJDEgPSBmdW5jdGlvbiBhcHBseVRyYW5zaXRpb25EdXJhdGlvbiQkMSgpIHtcbiAgICBfdGhpczkucG9wcGVyLnN0eWxlW3ByZWZpeCgndHJhbnNpdGlvbkR1cmF0aW9uJyldID0gX3RoaXM5Lm9wdGlvbnMudXBkYXRlRHVyYXRpb24gKyAnbXMnO1xuICB9O1xuXG4gIHZhciByZW1vdmVUcmFuc2l0aW9uRHVyYXRpb24gPSBmdW5jdGlvbiByZW1vdmVUcmFuc2l0aW9uRHVyYXRpb24oKSB7XG4gICAgX3RoaXM5LnBvcHBlci5zdHlsZVtwcmVmaXgoJ3RyYW5zaXRpb25EdXJhdGlvbicpXSA9ICcnO1xuICB9O1xuXG4gIHZhciB1cGRhdGVQb3NpdGlvbiA9IGZ1bmN0aW9uIHVwZGF0ZVBvc2l0aW9uKCkge1xuICAgIGlmIChfdGhpczkucG9wcGVySW5zdGFuY2UpIHtcbiAgICAgIF90aGlzOS5wb3BwZXJJbnN0YW5jZS51cGRhdGUoKTtcbiAgICB9XG5cbiAgICBhcHBseVRyYW5zaXRpb25EdXJhdGlvbiQkMSgpO1xuXG4gICAgaWYgKF90aGlzOS5zdGF0ZS52aXNpYmxlKSB7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXBkYXRlUG9zaXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmVUcmFuc2l0aW9uRHVyYXRpb24oKTtcbiAgICB9XG4gIH07XG5cbiAgdXBkYXRlUG9zaXRpb24oKTtcbn1cblxuLyoqXG4gKiBBZGRzIGEgbXV0YXRpb24gb2JzZXJ2ZXIgdG8gYW4gZWxlbWVudCBhbmQgc3RvcmVzIGl0IGluIHRoZSBpbnN0YW5jZVxuICogQHBhcmFtIHtPYmplY3R9XG4gKiBAbWVtYmVyb2YgVGlwcHlcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9hZGRNdXRhdGlvbk9ic2VydmVyKF9yZWYyKSB7XG4gIHZhciB0YXJnZXQgPSBfcmVmMi50YXJnZXQsXG4gICAgICBjYWxsYmFjayA9IF9yZWYyLmNhbGxiYWNrLFxuICAgICAgb3B0aW9ucyA9IF9yZWYyLm9wdGlvbnM7XG5cbiAgaWYgKCF3aW5kb3cuTXV0YXRpb25PYnNlcnZlcikgcmV0dXJuO1xuXG4gIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKTtcbiAgb2JzZXJ2ZXIub2JzZXJ2ZSh0YXJnZXQsIG9wdGlvbnMpO1xuXG4gIHRoaXMuXyhrZXkpLm11dGF0aW9uT2JzZXJ2ZXJzLnB1c2gob2JzZXJ2ZXIpO1xufVxuXG4vKipcbiAqIEZpcmVzIHRoZSBjYWxsYmFjayBmdW5jdGlvbnMgb25jZSB0aGUgQ1NTIHRyYW5zaXRpb24gZW5kcyBmb3IgYHNob3dgIGFuZCBgaGlkZWAgbWV0aG9kc1xuICogQHBhcmFtIHtOdW1iZXJ9IGR1cmF0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGZpcmUgb25jZSB0cmFuc2l0aW9uIGNvbXBsZXRlc1xuICogQG1lbWJlcm9mIFRpcHB5XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfb25UcmFuc2l0aW9uRW5kKGR1cmF0aW9uLCBjYWxsYmFjaykge1xuICAvLyBNYWtlIGNhbGxiYWNrIHN5bmNocm9ub3VzIGlmIGR1cmF0aW9uIGlzIDBcbiAgaWYgKCFkdXJhdGlvbikge1xuICAgIHJldHVybiBjYWxsYmFjaygpO1xuICB9XG5cbiAgdmFyIF9nZXRJbm5lckVsZW1lbnRzNiA9IGdldElubmVyRWxlbWVudHModGhpcy5wb3BwZXIpLFxuICAgICAgdG9vbHRpcCA9IF9nZXRJbm5lckVsZW1lbnRzNi50b29sdGlwO1xuXG4gIHZhciB0b2dnbGVMaXN0ZW5lcnMgPSBmdW5jdGlvbiB0b2dnbGVMaXN0ZW5lcnMoYWN0aW9uLCBsaXN0ZW5lcikge1xuICAgIGlmICghbGlzdGVuZXIpIHJldHVybjtcbiAgICB0b29sdGlwW2FjdGlvbiArICdFdmVudExpc3RlbmVyJ10oJ29udHJhbnNpdGlvbmVuZCcgaW4gd2luZG93ID8gJ3RyYW5zaXRpb25lbmQnIDogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLCBsaXN0ZW5lcik7XG4gIH07XG5cbiAgdmFyIGxpc3RlbmVyID0gZnVuY3Rpb24gbGlzdGVuZXIoZSkge1xuICAgIGlmIChlLnRhcmdldCA9PT0gdG9vbHRpcCkge1xuICAgICAgdG9nZ2xlTGlzdGVuZXJzKCdyZW1vdmUnLCBsaXN0ZW5lcik7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfTtcblxuICB0b2dnbGVMaXN0ZW5lcnMoJ3JlbW92ZScsIHRoaXMuXyhrZXkpLnRyYW5zaXRpb25lbmRMaXN0ZW5lcik7XG4gIHRvZ2dsZUxpc3RlbmVycygnYWRkJywgbGlzdGVuZXIpO1xuXG4gIHRoaXMuXyhrZXkpLnRyYW5zaXRpb25lbmRMaXN0ZW5lciA9IGxpc3RlbmVyO1xufVxuXG52YXIgaWRDb3VudGVyID0gMTtcblxuLyoqXG4gKiBDcmVhdGVzIHRvb2x0aXBzIGZvciBlYWNoIHJlZmVyZW5jZSBlbGVtZW50XG4gKiBAcGFyYW0ge0VsZW1lbnRbXX0gZWxzXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gKiBAcmV0dXJuIHtUaXBweVtdfSBBcnJheSBvZiBUaXBweSBpbnN0YW5jZXNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlVG9vbHRpcHMoZWxzLCBjb25maWcpIHtcbiAgcmV0dXJuIGVscy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcmVmZXJlbmNlKSB7XG4gICAgdmFyIGlkID0gaWRDb3VudGVyO1xuXG4gICAgdmFyIG9wdGlvbnMgPSBldmFsdWF0ZU9wdGlvbnMocmVmZXJlbmNlLCBjb25maWcucGVyZm9ybWFuY2UgPyBjb25maWcgOiBnZXRJbmRpdmlkdWFsT3B0aW9ucyhyZWZlcmVuY2UsIGNvbmZpZykpO1xuXG4gICAgdmFyIHRpdGxlID0gcmVmZXJlbmNlLmdldEF0dHJpYnV0ZSgndGl0bGUnKTtcblxuICAgIC8vIERvbid0IGNyZWF0ZSBhbiBpbnN0YW5jZSB3aGVuOlxuICAgIC8vICogdGhlIGB0aXRsZWAgYXR0cmlidXRlIGlzIGZhbHN5IChudWxsIG9yIGVtcHR5IHN0cmluZyksIGFuZFxuICAgIC8vICogaXQncyBub3QgYSBkZWxlZ2F0ZSBmb3IgdG9vbHRpcHMsIGFuZFxuICAgIC8vICogdGhlcmUgaXMgbm8gaHRtbCB0ZW1wbGF0ZSBzcGVjaWZpZWQsIGFuZFxuICAgIC8vICogYGR5bmFtaWNUaXRsZWAgb3B0aW9uIGlzIGZhbHNlXG4gICAgaWYgKCF0aXRsZSAmJiAhb3B0aW9ucy50YXJnZXQgJiYgIW9wdGlvbnMuaHRtbCAmJiAhb3B0aW9ucy5keW5hbWljVGl0bGUpIHtcbiAgICAgIHJldHVybiBhY2M7XG4gICAgfVxuXG4gICAgLy8gRGVsZWdhdGVzIHNob3VsZCBiZSBoaWdobGlnaHRlZCBhcyBkaWZmZXJlbnRcbiAgICByZWZlcmVuY2Uuc2V0QXR0cmlidXRlKG9wdGlvbnMudGFyZ2V0ID8gJ2RhdGEtdGlwcHktZGVsZWdhdGUnIDogJ2RhdGEtdGlwcHknLCAnJyk7XG5cbiAgICByZW1vdmVUaXRsZShyZWZlcmVuY2UpO1xuXG4gICAgdmFyIHBvcHBlciA9IGNyZWF0ZVBvcHBlckVsZW1lbnQoaWQsIHRpdGxlLCBvcHRpb25zKTtcblxuICAgIHZhciB0aXBweSA9IG5ldyBUaXBweSh7XG4gICAgICBpZDogaWQsXG4gICAgICByZWZlcmVuY2U6IHJlZmVyZW5jZSxcbiAgICAgIHBvcHBlcjogcG9wcGVyLFxuICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgIHBvcHBlckluc3RhbmNlOiBudWxsXG4gICAgfSk7XG5cbiAgICBpZiAob3B0aW9ucy5jcmVhdGVQb3BwZXJJbnN0YW5jZU9uSW5pdCkge1xuICAgICAgdGlwcHkucG9wcGVySW5zdGFuY2UgPSBfY3JlYXRlUG9wcGVySW5zdGFuY2UuY2FsbCh0aXBweSk7XG4gICAgICB0aXBweS5wb3BwZXJJbnN0YW5jZS5kaXNhYmxlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG5cbiAgICB2YXIgbGlzdGVuZXJzID0gX2dldEV2ZW50TGlzdGVuZXJzLmNhbGwodGlwcHkpO1xuICAgIHRpcHB5Lmxpc3RlbmVycyA9IG9wdGlvbnMudHJpZ2dlci50cmltKCkuc3BsaXQoJyAnKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgZXZlbnRUeXBlKSB7XG4gICAgICByZXR1cm4gYWNjLmNvbmNhdChjcmVhdGVUcmlnZ2VyKGV2ZW50VHlwZSwgcmVmZXJlbmNlLCBsaXN0ZW5lcnMsIG9wdGlvbnMpKTtcbiAgICB9LCBbXSk7XG5cbiAgICAvLyBVcGRhdGUgdG9vbHRpcCBjb250ZW50IHdoZW5ldmVyIHRoZSB0aXRsZSBhdHRyaWJ1dGUgb24gdGhlIHJlZmVyZW5jZSBjaGFuZ2VzXG4gICAgaWYgKG9wdGlvbnMuZHluYW1pY1RpdGxlKSB7XG4gICAgICBfYWRkTXV0YXRpb25PYnNlcnZlci5jYWxsKHRpcHB5LCB7XG4gICAgICAgIHRhcmdldDogcmVmZXJlbmNlLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgdmFyIF9nZXRJbm5lckVsZW1lbnRzID0gZ2V0SW5uZXJFbGVtZW50cyhwb3BwZXIpLFxuICAgICAgICAgICAgICBjb250ZW50ID0gX2dldElubmVyRWxlbWVudHMuY29udGVudDtcblxuICAgICAgICAgIHZhciB0aXRsZSA9IHJlZmVyZW5jZS5nZXRBdHRyaWJ1dGUoJ3RpdGxlJyk7XG4gICAgICAgICAgaWYgKHRpdGxlKSB7XG4gICAgICAgICAgICBjb250ZW50W29wdGlvbnMuYWxsb3dUaXRsZUhUTUwgPyAnaW5uZXJIVE1MJyA6ICd0ZXh0Q29udGVudCddID0gdGlwcHkudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgICAgIHJlbW92ZVRpdGxlKHJlZmVyZW5jZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFNob3J0Y3V0c1xuICAgIHJlZmVyZW5jZS5fdGlwcHkgPSB0aXBweTtcbiAgICBwb3BwZXIuX3RpcHB5ID0gdGlwcHk7XG4gICAgcG9wcGVyLl9yZWZlcmVuY2UgPSByZWZlcmVuY2U7XG5cbiAgICBhY2MucHVzaCh0aXBweSk7XG5cbiAgICBpZENvdW50ZXIrKztcblxuICAgIHJldHVybiBhY2M7XG4gIH0sIFtdKTtcbn1cblxuLyoqXG4gKiBIaWRlcyBhbGwgcG9wcGVyc1xuICogQHBhcmFtIHtUaXBweX0gZXhjbHVkZVRpcHB5IC0gdGlwcHkgdG8gZXhjbHVkZSBpZiBuZWVkZWRcbiAqL1xuZnVuY3Rpb24gaGlkZUFsbFBvcHBlcnMoZXhjbHVkZVRpcHB5KSB7XG4gIHZhciBwb3BwZXJzID0gdG9BcnJheShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9ycy5QT1BQRVIpKTtcblxuICBwb3BwZXJzLmZvckVhY2goZnVuY3Rpb24gKHBvcHBlcikge1xuICAgIHZhciB0aXBweSA9IHBvcHBlci5fdGlwcHk7XG4gICAgaWYgKCF0aXBweSkgcmV0dXJuO1xuXG4gICAgdmFyIG9wdGlvbnMgPSB0aXBweS5vcHRpb25zO1xuXG5cbiAgICBpZiAoKG9wdGlvbnMuaGlkZU9uQ2xpY2sgPT09IHRydWUgfHwgb3B0aW9ucy50cmlnZ2VyLmluZGV4T2YoJ2ZvY3VzJykgPiAtMSkgJiYgKCFleGNsdWRlVGlwcHkgfHwgcG9wcGVyICE9PSBleGNsdWRlVGlwcHkucG9wcGVyKSkge1xuICAgICAgdGlwcHkuaGlkZSgpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogQWRkcyB0aGUgbmVlZGVkIGV2ZW50IGxpc3RlbmVyc1xuICovXG5mdW5jdGlvbiBiaW5kRXZlbnRMaXN0ZW5lcnMoKSB7XG4gIHZhciBvbkRvY3VtZW50VG91Y2ggPSBmdW5jdGlvbiBvbkRvY3VtZW50VG91Y2goKSB7XG4gICAgaWYgKGJyb3dzZXIudXNpbmdUb3VjaCkgcmV0dXJuO1xuXG4gICAgYnJvd3Nlci51c2luZ1RvdWNoID0gdHJ1ZTtcblxuICAgIGlmIChicm93c2VyLmlPUykge1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCd0aXBweS10b3VjaCcpO1xuICAgIH1cblxuICAgIGlmIChicm93c2VyLmR5bmFtaWNJbnB1dERldGVjdGlvbiAmJiB3aW5kb3cucGVyZm9ybWFuY2UpIHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uRG9jdW1lbnRNb3VzZU1vdmUpO1xuICAgIH1cblxuICAgIGJyb3dzZXIub25Vc2VySW5wdXRDaGFuZ2UoJ3RvdWNoJyk7XG4gIH07XG5cbiAgdmFyIG9uRG9jdW1lbnRNb3VzZU1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRpbWUgPSB2b2lkIDA7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXG4gICAgICAvLyBDaHJvbWUgNjArIGlzIDEgbW91c2Vtb3ZlIHBlciBhbmltYXRpb24gZnJhbWUsIHVzZSAyMG1zIHRpbWUgZGlmZmVyZW5jZVxuICAgICAgaWYgKG5vdyAtIHRpbWUgPCAyMCkge1xuICAgICAgICBicm93c2VyLnVzaW5nVG91Y2ggPSBmYWxzZTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Eb2N1bWVudE1vdXNlTW92ZSk7XG4gICAgICAgIGlmICghYnJvd3Nlci5pT1MpIHtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3RpcHB5LXRvdWNoJyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJvd3Nlci5vblVzZXJJbnB1dENoYW5nZSgnbW91c2UnKTtcbiAgICAgIH1cblxuICAgICAgdGltZSA9IG5vdztcbiAgICB9O1xuICB9KCk7XG5cbiAgdmFyIG9uRG9jdW1lbnRDbGljayA9IGZ1bmN0aW9uIG9uRG9jdW1lbnRDbGljayhldmVudCkge1xuICAgIC8vIFNpbXVsYXRlZCBldmVudHMgZGlzcGF0Y2hlZCBvbiB0aGUgZG9jdW1lbnRcbiAgICBpZiAoIShldmVudC50YXJnZXQgaW5zdGFuY2VvZiBFbGVtZW50KSkge1xuICAgICAgcmV0dXJuIGhpZGVBbGxQb3BwZXJzKCk7XG4gICAgfVxuXG4gICAgdmFyIHJlZmVyZW5jZSA9IGNsb3Nlc3QoZXZlbnQudGFyZ2V0LCBzZWxlY3RvcnMuUkVGRVJFTkNFKTtcbiAgICB2YXIgcG9wcGVyID0gY2xvc2VzdChldmVudC50YXJnZXQsIHNlbGVjdG9ycy5QT1BQRVIpO1xuXG4gICAgaWYgKHBvcHBlciAmJiBwb3BwZXIuX3RpcHB5ICYmIHBvcHBlci5fdGlwcHkub3B0aW9ucy5pbnRlcmFjdGl2ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChyZWZlcmVuY2UgJiYgcmVmZXJlbmNlLl90aXBweSkge1xuICAgICAgdmFyIG9wdGlvbnMgPSByZWZlcmVuY2UuX3RpcHB5Lm9wdGlvbnM7XG5cbiAgICAgIHZhciBpc0NsaWNrVHJpZ2dlciA9IG9wdGlvbnMudHJpZ2dlci5pbmRleE9mKCdjbGljaycpID4gLTE7XG4gICAgICB2YXIgaXNNdWx0aXBsZSA9IG9wdGlvbnMubXVsdGlwbGU7XG5cbiAgICAgIC8vIEhpZGUgYWxsIHBvcHBlcnMgZXhjZXB0IHRoZSBvbmUgYmVsb25naW5nIHRvIHRoZSBlbGVtZW50IHRoYXQgd2FzIGNsaWNrZWRcbiAgICAgIGlmICghaXNNdWx0aXBsZSAmJiBicm93c2VyLnVzaW5nVG91Y2ggfHwgIWlzTXVsdGlwbGUgJiYgaXNDbGlja1RyaWdnZXIpIHtcbiAgICAgICAgcmV0dXJuIGhpZGVBbGxQb3BwZXJzKHJlZmVyZW5jZS5fdGlwcHkpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5oaWRlT25DbGljayAhPT0gdHJ1ZSB8fCBpc0NsaWNrVHJpZ2dlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgaGlkZUFsbFBvcHBlcnMoKTtcbiAgfTtcblxuICB2YXIgb25XaW5kb3dCbHVyID0gZnVuY3Rpb24gb25XaW5kb3dCbHVyKCkge1xuICAgIHZhciBfZG9jdW1lbnQgPSBkb2N1bWVudCxcbiAgICAgICAgZWwgPSBfZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblxuICAgIGlmIChlbCAmJiBlbC5ibHVyICYmIG1hdGNoZXMkMS5jYWxsKGVsLCBzZWxlY3RvcnMuUkVGRVJFTkNFKSkge1xuICAgICAgZWwuYmx1cigpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25XaW5kb3dSZXNpemUgPSBmdW5jdGlvbiBvbldpbmRvd1Jlc2l6ZSgpIHtcbiAgICB0b0FycmF5KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3JzLlBPUFBFUikpLmZvckVhY2goZnVuY3Rpb24gKHBvcHBlcikge1xuICAgICAgdmFyIHRpcHB5SW5zdGFuY2UgPSBwb3BwZXIuX3RpcHB5O1xuICAgICAgaWYgKHRpcHB5SW5zdGFuY2UgJiYgIXRpcHB5SW5zdGFuY2Uub3B0aW9ucy5saXZlUGxhY2VtZW50KSB7XG4gICAgICAgIHRpcHB5SW5zdGFuY2UucG9wcGVySW5zdGFuY2Uuc2NoZWR1bGVVcGRhdGUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uRG9jdW1lbnRDbGljayk7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBvbkRvY3VtZW50VG91Y2gpO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIG9uV2luZG93Qmx1cik7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvbldpbmRvd1Jlc2l6ZSk7XG5cbiAgaWYgKCFicm93c2VyLnN1cHBvcnRzVG91Y2ggJiYgKG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyB8fCBuYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cykpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIG9uRG9jdW1lbnRUb3VjaCk7XG4gIH1cbn1cblxudmFyIGV2ZW50TGlzdGVuZXJzQm91bmQgPSBmYWxzZTtcblxuLyoqXG4gKiBFeHBvcnRlZCBtb2R1bGVcbiAqIEBwYXJhbSB7U3RyaW5nfEVsZW1lbnR8RWxlbWVudFtdfE5vZGVMaXN0fE9iamVjdH0gc2VsZWN0b3JcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uZSAtIGNyZWF0ZSBvbmUgdG9vbHRpcFxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiB0aXBweShzZWxlY3Rvciwgb3B0aW9ucywgb25lKSB7XG4gIGlmIChicm93c2VyLnN1cHBvcnRlZCAmJiAhZXZlbnRMaXN0ZW5lcnNCb3VuZCkge1xuICAgIGJpbmRFdmVudExpc3RlbmVycygpO1xuICAgIGV2ZW50TGlzdGVuZXJzQm91bmQgPSB0cnVlO1xuICB9XG5cbiAgaWYgKGlzT2JqZWN0TGl0ZXJhbChzZWxlY3RvcikpIHtcbiAgICBwb2x5ZmlsbFZpcnR1YWxSZWZlcmVuY2VQcm9wcyhzZWxlY3Rvcik7XG4gIH1cblxuICBvcHRpb25zID0gX2V4dGVuZHMoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICB2YXIgcmVmZXJlbmNlcyA9IGdldEFycmF5T2ZFbGVtZW50cyhzZWxlY3Rvcik7XG4gIHZhciBmaXJzdFJlZmVyZW5jZSA9IHJlZmVyZW5jZXNbMF07XG5cbiAgcmV0dXJuIHtcbiAgICBzZWxlY3Rvcjogc2VsZWN0b3IsXG4gICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICB0b29sdGlwczogYnJvd3Nlci5zdXBwb3J0ZWQgPyBjcmVhdGVUb29sdGlwcyhvbmUgJiYgZmlyc3RSZWZlcmVuY2UgPyBbZmlyc3RSZWZlcmVuY2VdIDogcmVmZXJlbmNlcywgb3B0aW9ucykgOiBbXSxcbiAgICBkZXN0cm95QWxsOiBmdW5jdGlvbiBkZXN0cm95QWxsKCkge1xuICAgICAgdGhpcy50b29sdGlwcy5mb3JFYWNoKGZ1bmN0aW9uICh0b29sdGlwKSB7XG4gICAgICAgIHJldHVybiB0b29sdGlwLmRlc3Ryb3koKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy50b29sdGlwcyA9IFtdO1xuICAgIH1cbiAgfTtcbn1cblxudGlwcHkudmVyc2lvbiA9IHZlcnNpb247XG50aXBweS5icm93c2VyID0gYnJvd3NlcjtcbnRpcHB5LmRlZmF1bHRzID0gZGVmYXVsdHM7XG50aXBweS5vbmUgPSBmdW5jdGlvbiAoc2VsZWN0b3IsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHRpcHB5KHNlbGVjdG9yLCBvcHRpb25zLCB0cnVlKS50b29sdGlwc1swXTtcbn07XG50aXBweS5kaXNhYmxlQW5pbWF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgZGVmYXVsdHMudXBkYXRlRHVyYXRpb24gPSBkZWZhdWx0cy5kdXJhdGlvbiA9IDA7XG4gIGRlZmF1bHRzLmFuaW1hdGVGaWxsID0gZmFsc2U7XG59O1xuXG4vKipcbiAqIEluamVjdHMgQ1NTIHN0eWxlcyB0byBkb2N1bWVudCBoZWFkXG4gKiBAcGFyYW0ge1N0cmluZ30gY3NzXG4gKi9cbmZ1bmN0aW9uIGluamVjdENTUygpIHtcbiAgdmFyIGNzcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XG5cbiAgaWYgKGlzQnJvd3NlciAmJiBicm93c2VyLnN1cHBvcnRlZCkge1xuICAgIHZhciBoZWFkID0gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkJyk7XG4gICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICBzdHlsZS50eXBlID0gJ3RleHQvY3NzJztcbiAgICBoZWFkLmluc2VydEJlZm9yZShzdHlsZSwgaGVhZC5maXJzdENoaWxkKTtcblxuICAgIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICAgIH1cbiAgfVxufVxuXG5pbmplY3RDU1Moc3R5bGVzKTtcblxucmV0dXJuIHRpcHB5O1xuXG59KSkpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBbe1widG9waWNcIjpcIkFpciBxdWFsaXR5XCIsXCJrZXlcIjpcIkZVR1Y0OVVCXCIsXCJ0aXRsZVwiOlwiRXhwbG9yZSBob3cgb2lsIGFuZCBnYXMgZGV2ZWxvcG1lbnQgY2FuIGFmZmVjdCBsb2NhbCBhbmQgcmVnaW9uYWwgYWlyIHF1YWxpdHlcIn0se1widG9waWNcIjpcIkNsaW1hdGUgY2hhbmdlXCIsXCJrZXlcIjpcIkNNUEZHUFJLXCIsXCJ0aXRsZVwiOlwiRXhhbWluZSB0aGUgaW1wbGljYXRpb25zIG9mIGluY3JlYXNlZCBvaWwgYW5kIGdhcyBkZXZlbG9wbWVudCBmb3IgY2xpbWF0ZSBjaGFuZ2VcIn0se1widG9waWNcIjpcIkNvbW11bml0eSBpbXBhY3RzXCIsXCJrZXlcIjpcIlY1MzhZN1Q5XCIsXCJ0aXRsZVwiOlwidW5kZWZpbmVkXCJ9LHtcInRvcGljXCI6XCJDb21tdW5pdHktaW5kdXN0cnkgaW50ZXJhY3Rpb25cIixcImtleVwiOlwiRjhRNUQ2UlNcIixcInRpdGxlXCI6XCJVbmRlcnN0YW5kIGhvdyBjb21tdW5pdGllcyBhbmQgb2lsIGFuZCBnYXMgY29tcGFuaWVzIGludGVyYWN0IG9uIGEgdmFyaWV0eSBvZiBpc3N1ZXNcIn0se1widG9waWNcIjpcIkN1bXVsYXRpdmUgaW1wYWN0c1wiLFwia2V5XCI6XCJtaXNzaW5nMVwiLFwidGl0bGVcIjpcIkV4cGxvcmUgc3R1ZGllcyB0aGF0IGFnZ3JlZ2F0ZSBtdWx0aXBsZSBlZmZlY3RzIG9mIG9pbCBhbmQgZ2FzIGRldmVsb3BtZW50XCJ9LHtcInRvcGljXCI6XCJFY29ub21pY3Mgb2Ygc2hhbGUgZGV2ZWxvcG1lbnRcIixcImtleVwiOlwiNDJINTRUUVNcIixcInRpdGxlXCI6XCJFeGFtaW5lIHRoZSBjb3N0cywgaW5ub3ZhdGlvbnMsIGFuZCB0cmVuZHMgdGhhdCBzaGFwZSB0aGUgZWNvbm9taWNzIG9mIHNoYWxlIGRldmVsb3BtZW50XCJ9LHtcInRvcGljXCI6XCJFY29zeXN0ZW1zLCBoYWJpdGF0cywgc3BlY2llc1wiLFwia2V5XCI6XCJNNDNDNk1URlwiLFwidGl0bGVcIjpcIlVuZGVyc3RhbmQgaG93IG9pbCBhbmQgZ2FzIGRldmVsb3BtZW50IGNhbiBhZmZlY3QgbG9jYWwgYW5kIHJlZ2lvbmFsIGVjb3N5c3RlbXMsIGhhYml0YXRzLCBhbmQgc3BlY2llc1wifSx7XCJ0b3BpY1wiOlwiRW52aXJvbm1lbnRhbCBqdXN0aWNlXCIsXCJrZXlcIjpcIlg1WkVEU01RXCIsXCJ0aXRsZVwiOlwiRG9lcyBvaWwgYW5kIGdhcyBkZXZlbG9wbWVudCBoYXZlIGEgZGlzcHJvcG9ydGlvbmF0ZSBpbXBhY3Qgb24gbG93LWluY29tZSBvciBtaW5vcml0eSBjb21tdW5pdGllcz9cIn0se1widG9waWNcIjpcIkZlZGVyYWwgcmVndWxhdGlvblwiLFwia2V5XCI6XCJTRkxVUzVJNFwiLFwidGl0bGVcIjpcIkhvdyBkb2VzIHRoZSBmZWRlcmFsIGdvdmVybm1lbnQgcmVndWxhdGUgdGhlIG9pbCBhbmQgZ2FzIGluZHVzdHJ5P1wifSx7XCJ0b3BpY1wiOlwiR3JvdW5kd2F0ZXJcIixcImtleVwiOlwiUTdNVkoyRURcIixcInRpdGxlXCI6XCJVbmRlcnN0YW5kIHRoZSBwb3RlbnRpYWwgaW1wYWN0cyBvZiBvaWwgYW5kIGdhcyBkZXZlbG9wbWVudCBvbiBncm91bmR3YXRlciByZXNvdXJjZXNcIn0se1widG9waWNcIjpcIkh1bWFuIGhlYWx0aFwiLFwia2V5XCI6XCI1VzJaSlRKQ1wiLFwidGl0bGVcIjpcIkV4cGxvcmUgdGhlIHBvdGVudGlhbCBpbXBhY3RzIG9mIG9pbCBhbmQgZ2FzIGRldmVsb3BtZW50IG9uIGh1bWFuIGhlYWx0aFwifSx7XCJ0b3BpY1wiOlwiTG9jYWwgZ292ZXJubWVudHNcIixcImtleVwiOlwiRVhMUzNOVjRcIixcInRpdGxlXCI6XCJVbmRlcnN0YW5kIGhvdyBvaWwgYW5kIGdhcyBkZXZlbG9wbWVudCBhZmZlY3RzIGxvY2FsIGdvdmVybm1lbnRzXCJ9LHtcInRvcGljXCI6XCJOYXRpb25hbCAoVVMpL3NlY3RvcmFsIGVjb25vbXlcIixcImtleVwiOlwiNE5QSTNHWU1cIixcInRpdGxlXCI6XCJFeGFtaW5lIHRoZSBlY29ub21pYyBpbXBhY3RzIG9mIG9pbCBhbmQgZ2FzIGRldmVsb3BtZW50IGZvciB0aGUgVS5TLiBhbmQgbWFqb3IgZWNvbm9taWMgc2VjdG9yc1wifSx7XCJ0b3BpY1wiOlwiT2NjdXBhdGlvbmFsIGhhemFyZHNcIixcImtleVwiOlwibWlzc2luZzJcIixcInRpdGxlXCI6XCJXaGF0IGFyZSB0aGUgcmlza3Mgb2Ygd29ya2luZyBpbiBvaWwgYW5kIGdhcyBwcm9kdWN0aW9uP1wifSx7XCJ0b3BpY1wiOlwiUHJvcGVydHkgdmFsdWVzXCIsXCJrZXlcIjpcIk5YU1lWNElNXCIsXCJ0aXRsZVwiOlwiSG93IGRvZXMgb2lsIGFuZCBnYXMgZGV2ZWxvcG1lbnQgYWZmZWN0IG5lYXJieSBwcm9wZXJ0eSB2YWx1ZXM/XCJ9LHtcInRvcGljXCI6XCJQdWJsaWMgb3BpbmlvblwiLFwia2V5XCI6XCJZSkRZVTlWTVwiLFwidGl0bGVcIjpcIkhvdyBkb2VzIHRoZSBwdWJsaWMgdmlldyB0aGUgZWZmZWN0cyBvZiBvaWwgYW5kIGdhcyBkZXZlbG9wbWVudD9cIn0se1widG9waWNcIjpcIlF1YWxpdHkgb2YgbGlmZS9Db21tdW5pdHkgaW1wYWN0c1wiLFwia2V5XCI6XCJYTjdHWE5GUVwiLFwidGl0bGVcIjpcIkV4YW1pbmUgY29tbXVuaXR5IGltcGFjdHMgc3VjaCBhcyBob3VzaW5nIGFmZm9yZGFiaWxpdHksIGNyaW1lLCBlZHVjYXRpb24sIHRydWNrIHRyYWZmaWMsIG5vaXNlLCBhbmQgbW9yZVwifSx7XCJ0b3BpY1wiOlwiU2Vpc21pY2l0eVwiLFwia2V5XCI6XCJGV01ZR1VXSVwiLFwidGl0bGVcIjpcIkV4cGxvcmUgdGhlIGNvbm5lY3Rpb24gYmV0d2VlbiBvaWwgYW5kIGdhcyBkZXZlbG9wbWVudCBhbmQgZWFydGhxdWFrZXNcIn0se1widG9waWNcIjpcIlN0YXRlIGdvdmVybm1lbnRcIixcImtleVwiOlwiQVBSSTNWTVpcIixcInRpdGxlXCI6XCJVbmRlcnN0YW5kIGhvdyBzdGF0ZSBnb3Zlcm5tZW50cyBhcmUgYWZmZWN0ZWQgYnksIGFuZCBob3cgdGhleSBhZmZlY3QsIG9pbCBhbmQgZ2FzIGRldmVsb3BtZW50XCJ9LHtcInRvcGljXCI6XCJTdGF0ZSByZWd1bGF0aW9uXCIsXCJrZXlcIjpcIjlJTDNUQ0tGXCIsXCJ0aXRsZVwiOlwiSG93IGRvIHN0YXRlIGdvdmVybm1lbnRzIHJlZ3VsYXRlIHRoZSBvaWwgYW5kIGdhcyBpbmR1c3RyeT9cIn0se1widG9waWNcIjpcIlN1Ym5hdGlvbmFsIGVjb25vbWllc1wiLFwia2V5XCI6XCJYOURTVElHRVwiLFwidGl0bGVcIjpcIkV4YW1pbmUgaG93IG9pbCBhbmQgZ2FzIGRldmVsb3BtZW50IGFmZmVjdHMgbG9jYWwsIHN0YXRlLCBhbmQgcmVnaW9uYWwgZWNvbm9taWVzXCJ9LHtcInRvcGljXCI6XCJTdXJmYWNlIHdhdGVyXCIsXCJrZXlcIjpcIlFDVzM3UFAyXCIsXCJ0aXRsZVwiOlwiRXhhbWluZSB0aGUgaW1wYWN0cyBvZiBvaWwgYW5kIGdhcyBkZXZlbG9wbWVudCBvbiB0aGUgcXVhbnRpdHkgYW5kIHF1YWxpdHkgb2Ygc3VyZmFjZSB3YXRlciByZXNvdXJjZXNcIn1dIiwiZXhwb3J0IGNvbnN0IFN0cmluZ0hlbHBlcnMgPSAoZnVuY3Rpb24oKXtcbiAgICBTdHJpbmcucHJvdG90eXBlLmNsZWFuU3RyaW5nID0gZnVuY3Rpb24oKSB7IC8vIGxvd2VyY2FzZSBhbmQgcmVtb3ZlIHB1bmN0dWF0aW9uIGFuZCByZXBsYWNlIHNwYWNlcyB3aXRoIGh5cGhlbnM7IGRlbGV0ZSBwdW5jdHVhdGlvblxuICAgICAgICByZXR1cm4gdGhpcy5yZXBsYWNlKC9bIC9dL2csJy0nKS5yZXBsYWNlKC9bJ1wi4oCd4oCZ4oCc4oCYLC4hPzsoKSZdL2csJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgfTtcblxuICAgIFN0cmluZy5wcm90b3R5cGUucmVtb3ZlVW5kZXJzY29yZXMgPSBmdW5jdGlvbigpIHsgXG4gICAgICAgIHJldHVybiB0aGlzLnJlcGxhY2UoL18vZywnICcpO1xuICAgIH07XG5cbiAgICBTdHJpbmcucHJvdG90eXBlLnVuZG9DYW1lbENhc2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVwbGFjZSgvKFtBLVpdKS9nLCAnICQxJykudG9Mb3dlckNhc2UoKTtcbiAgICB9O1xuXG4gICAgU3RyaW5nLnByb3RvdHlwZS50cnVuYyA9IFN0cmluZy5wcm90b3R5cGUudHJ1bmMgfHwgLy8gaHQgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzExOTk0MjBcbiAgICAgICAgIGZ1bmN0aW9uKCBuLCB1c2VXb3JkQm91bmRhcnkgKXtcbiAgICAgICAgICAgICBpZiAodGhpcy5sZW5ndGggPD0gbikgeyByZXR1cm4gdGhpczsgfVxuICAgICAgICAgICAgIHZhciBzdWJTdHJpbmcgPSB0aGlzLnN1YnN0cigwLCBuLTEpO1xuICAgICAgICAgICAgIHJldHVybiAodXNlV29yZEJvdW5kYXJ5IFxuICAgICAgICAgICAgICAgID8gc3ViU3RyaW5nLnN1YnN0cigwLCBzdWJTdHJpbmcubGFzdEluZGV4T2YoJyAnKSkgXG4gICAgICAgICAgICAgICAgOiBzdWJTdHJpbmcpICsgXCIuLi5cIjtcbiAgICAgICAgICB9O1xufSkoKTsiLCJpbXBvcnQgJy4vY3NzL21haW4uc2Nzcyc7XG5pbXBvcnQgJy4uL2hlbHBlcnMvc3RyaW5nLWhlbHBlcnMnO1xuaW1wb3J0IHRvb2x0aXBzIGZyb20gJy4vZGF0YS90b29sdGlwcy5jc3YnO1xuaW1wb3J0IHRpcHB5IGZyb20gJ3RpcHB5LmpzJztcbmltcG9ydCB7IGNyZWF0ZUJyb3dzZUNhdGVnb3J5LCBjcmVhdGVUb3BpY0tleSB9IGZyb20gJy4vY29tcG9uZW50cy9Ccm93c2VCdXR0b25zJztcbmltcG9ydCB7IGNyZWF0ZVJlc3VsdHNDb250YWluZXIsIGNyZWF0ZVJlc3VsdEl0ZW0sIGZpbHRlclJlc3VsdHMgfSBmcm9tICcuL2NvbXBvbmVudHMvUmVzdWx0SXRlbXMnOyBcbmltcG9ydCBTV0hhbmRsZXIgZnJvbSAnLi91dGlscy9zZXJ2aWNlLXdvcmtlci1oYW5kbGVyLmpzJztcbiAgIFxuKGZ1bmN0aW9uKCl7ICAgICBcbi8qIGdsb2JhbCBkMyAqL1xuXCJ1c2Ugc3RyaWN0XCI7ICBcbiAgICBjb25zdCBncm91cElkID0gJzIxMjc5NDgnO1xuICAgIHZhciBjb250cm9sbGVyID0geyBcbiAgICAgICAgZ2F0ZUNoZWNrOiAwLCBcbiAgICAgICAgc2VhcmNoVHlwZTogJ2ZpZWxkcycsXG4gICAgICAgIGluaXQodXNlTG9jYWwpeyAvLyBwYXNzIGluIHRydWUgdG8gYnlwYXNzIEFQSSBhbmQgdXNlIGxvY2FsIGRhdGFcblxuICAgICAgICAgICAgU1dIYW5kbGVyLmluaXQoKTtcblxuICAgICAgICAgICAgd2luZG93LlJGRkFwcC5tb2RlbC50b3BpY0J1dHRvblByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5SRkZBcHAubW9kZWwucmVzb2x2ZVRvcGljQnV0dG9ucyA9IHJlc29sdmU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuZ2V0Wm90ZXJvQ29sbGVjdGlvbnModXNlTG9jYWwpO1xuICAgICAgICAgICAgdGhpcy5nZXRab3Rlcm9JdGVtcyh1c2VMb2NhbCk7XG4gICAgICAgICAgICB0aGlzLnNldHVwU2VhcmNoKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0b29sdGlwcyk7XG4gICAgICAgICAgICBcbiAgICAgICAgfSxcbiAgICAgICAgc2V0dXBTZWFyY2goKXtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2xsZWN0aW9uLXNlYXJjaCcpLm9uc3VibWl0ID0gZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHZpZXcubG9hZGluZyh0cnVlKTtcbiAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykudmFsdWU7XG4gICAgICAgICAgICAgICAgdmFyIEFQSVN0cmluZyA9ICdodHRwczovL2FwaS56b3Rlcm8ub3JnL2dyb3Vwcy8nICsgZ3JvdXBJZCArICcvaXRlbXM/cT0nICsgaW5wdXQgKyAnJmZvcm1hdD1rZXlzJztcbiAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBkMy50ZXh0KEFQSVN0cmluZywgKGVycm9yLGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YS5zcGxpdCgvXFxuLykpOyBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcHJvbWlzZS50aGVuKHYgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh2KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZbMF0gIT09ICcnKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZ2V0U2VhcmNoSXRlbXModik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3LmxvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBnZXRTZWFyY2hJdGVtcyhrZXlzKXtcbiAgICAgICAgICAgIHZhciBzZWFyY2hJdGVtcyA9IG1vZGVsLnpvdGVyb0l0ZW1zLmZpbHRlcihpdGVtID0+IGtleXMuaW5kZXhPZihpdGVtLmtleSkgIT09IC0xICk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhzZWFyY2hJdGVtcyk7XG4gICAgICAgICAgICBmaWx0ZXJSZXN1bHRzLmNhbGwodmlldywgc2VhcmNoSXRlbXMsIGNvbnRyb2xsZXIpO1xuICAgICAgICB9LFxuICAgICAgIFxuICAgICAgICBjaGlsZHJlbmlmeShkYXRhKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOyBcbiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChkID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIGQuZGF0YS5wYXJlbnRDb2xsZWN0aW9uICE9PSBmYWxzZSAmJiBkLm1ldGEubnVtSXRlbXMgPiAwICkgeyAvLyBpZSBoYXMgYSBwYXJlbnQgYW5kIGhhcyBpdGVtcyAoZXhjbHVkZSBlbXB0eSBzdWJjb2xsZWN0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1hdGNoID0gZGF0YS5maW5kKGNvbGxlY3Rpb24gPT4gY29sbGVjdGlvbi5rZXkgPT09IGQuZGF0YS5wYXJlbnRDb2xsZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBtYXRjaCAhPT0gdW5kZWZpbmVkICl7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaC5jaGlsZHJlbiA9IG1hdGNoLmNoaWxkcmVuIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2guY2hpbGRyZW4ucHVzaChkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pOyBcbiAgICAgICAgICAgIHJldHVybiBkYXRhOyBcbiBcbiAgICAgICAgfSxcbiAgICAgICAgcmV0dXJuS2V5VmFsdWVzKHZhbHVlcywgY29lcmNlKXtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZXMuc2xpY2UoMSkubWFwKHJvdyA9PiByb3cucmVkdWNlKChhY2MsIGN1ciwgaSkgPT4geyBcbiAgICAgICAgICAgIFxuICAgICAgICBcbiAgICAgICAgICAgICAgICBhY2NbdmFsdWVzWzBdW2ldXSA9IGNvZXJjZSA9PT0gdHJ1ZSA/IGlzTmFOKCtjdXIpIHx8IGN1ciA9PT0gJycgPyBjdXIgOiArY3VyIDogY3VyOyBcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGVzdCBmb3IgZW1wdHkgc3RyaW5ncyBiZWZvcmUgY29lcmNpbmcgYmMgKycnID0+IDBcbiAgICAgICAgICAgIH0sIHt9KSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgXG4gICAgICAgIH0sXG4gICAgICAgIG5lc3RQcmVsaW0obmVzdEJ5QXJyYXkpe1xuICAgICAgICAgICAgLy8gcmVjdXJzaXZlICBuZXN0aW5nIGZ1bmN0aW9uLCBwcmVsaW0gc3RlcCB0byByZWN1cnNpdmVOZXN0XG4gICAgICAgICAgICByZXR1cm4gbmVzdEJ5QXJyYXkucmVkdWNlKChhY2MsIGN1cikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY3VyICE9PSAnc3RyaW5nJyAmJiB0eXBlb2YgY3VyICE9PSAnZnVuY3Rpb24nICkgeyB0aHJvdyAnZWFjaCBuZXN0QnkgaXRlbSBtdXN0IGJlIGEgc3RyaW5nIG9yIGZ1bmN0aW9uJzsgfVxuICAgICAgICAgICAgICAgIHZhciBydG47XG4gICAgICAgICAgICAgICAgaWYgKCB0eXBlb2YgY3VyID09PSAnc3RyaW5nJyApe1xuICAgICAgICAgICAgICAgICAgICBydG4gPSBhY2Mua2V5KGZ1bmN0aW9uKGQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRbY3VyXTtcbiAgICAgICAgICAgICAgICAgICAgfSk7ICAgIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIHR5cGVvZiBjdXIgPT09ICdmdW5jdGlvbicgKXtcbiAgICAgICAgICAgICAgICAgICAgcnRuID0gYWNjLmtleShmdW5jdGlvbihkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXIoZCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gcnRuO1xuICAgICAgICAgICAgfSwgZDMubmVzdCgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVjdXJzaXZlTmVzdCh2YWx1ZXMsIG5lc3RCeSwgbmVzdFR5cGUgPSAnc2VyaWVzJyl7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIG5lc3RCeSA9IHN0cmluZyBvciBhcnJheSBvZiBmaWVsZChzKSB0byBuZXN0IGJ5LCBvciBhIGN1c3RvbSBmdW5jdGlvbiwgb3IgYW4gYXJyYXkgb2Ygc3RyaW5ncyBvciBmdW5jdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIHR5cGVvZiBuZXN0QnkgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBuZXN0QnkgPT09ICdmdW5jdGlvbicgKSB7IC8vIGllIG9ubHkgb25lIG5lc3RCeSBmaWVsZCBvciBmdW5jaXRvblxuICAgICAgICAgICAgICAgIHRoaXMubmVzdEJ5QXJyYXkgPSBbbmVzdEJ5XTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG5lc3RCeSkpIHsgdGhyb3cgJ25lc3RCeSB2YXJpYWJsZSBtdXN0IGJlIGEgc3RyaW5nLCBmdW5jdGlvbiwgb3IgYXJyYXkgb2Ygc3RyaW5ncyBvciBmdW5jdGlvbnMnOyB9XG4gICAgICAgICAgICAgICAgdGhpcy5uZXN0QnlBcnJheSA9IG5lc3RCeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwcmVsaW0gPSB0aGlzLm5lc3RQcmVsaW0odGhpcy5uZXN0QnlBcnJheSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICggbmVzdFR5cGUgPT09ICdvYmplY3QnICl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZWxpbVxuICAgICAgICAgICAgICAgICAgICAub2JqZWN0KHZhbHVlcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcmVsaW1cbiAgICAgICAgICAgICAgICAgICAgLmVudHJpZXModmFsdWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0Wm90ZXJvQ29sbGVjdGlvbnModXNlTG9jYWwpeyAvLyBJTVBPUlRBTlQgdGhpcyB3aWxsIGJyZWFrIGlmICMgb2YgY29sbGVjdGlvbnMgZXhjZWVkcyAxMDAuIHdpbGwgbmVlZHMgdG8gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGltcGxlbWVudCBzdHJhdGVneSB1c2UgZm9yIGdldHRpbmcgaXRlbXNcblxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIHVzZUxvY2FsICl7XG4gICAgICAgICAgICAgICAgZDMuanNvbignZGF0YS96b3Rlcm9Db2xsZWN0aW9ucy03LTE2LTE4Lmpzb24nLCAoZXJyb3IsZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIGVycm9yICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuY29sbGVjdGlvbnMgPSB0aGlzLmNoaWxkcmVuaWZ5KGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnaW5jcmVtZW50IGdhdGVDaGVjayBmcm9tIGdldCBjb2xsZWN0aW9ucycpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhdGVDaGVjaysrO1xuICAgICAgICAgICAgICAgICAgICB2aWV3LmluaXQoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGQzLmpzb24oJ2h0dHBzOi8vYXBpLnpvdGVyby5vcmcvZ3JvdXBzLycgKyBncm91cElkICsgJy9jb2xsZWN0aW9ucz9saW1pdD0xMDAnLCAoZXJyb3IsZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmNvbGxlY3Rpb25zID0gdGhpcy5jaGlsZHJlbmlmeShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAvLyBtb2RlbC5jb2xsZWN0aW9ucyA9IHRoaXMucmVjdXJzaXZlTmVzdChkYXRhLCBbZCA9PiBkLmRhdGEucGFyZW50Q29sbGVjdGlvbiwgZCA9PiBkLmRhdGEucGFyZW50Q29sbGVjdGlvbl0pO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG1vZGVsLmNvbGxlY3Rpb25zKTsgXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHByb21pc2UudGhlbihkYXRhID0+IHsgIFxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpbmNyZW1lbnQgZ2F0ZUNoZWNrIGZyb20gZ2V0IGNvbGxlY3Rpb25zJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5nYXRlQ2hlY2srKztcbiAgICAgICAgICAgICAgICB2aWV3LmluaXQoKTtcbiAgICAgICAgICAgIH0pOyBcbiAgICAgICAgfSwgXG4gICAgICAgIGdldFpvdGVyb0l0ZW1zKHVzZUxvY2FsKXsgICBcblxuICAgICAgICAgICAgaWYgKCB1c2VMb2NhbCApe1xuICAgICAgICAgICAgICAgIGQzLmpzb24oJ2RhdGEvem90ZXJvSXRlbXMtNy0xNi0xOC5qc29uJywgKGVycm9yLGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBlcnJvciApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLnpvdGVyb0l0ZW1zID0gZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJzZVpvdGVyb0l0ZW1EYXRlcygpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnaW5jcmVtZW50IGdhdGVDaGVjayBmcm9tIGdldCBpdGVtcycpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhdGVDaGVjaysrO1xuICAgICAgICAgICAgICAgICAgICB2aWV3LmluaXQoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBpbml0aWFsSXRlbXNQcm9taXNlcyA9IFtdLFxuICAgICAgICAgICAgICAgIHN1YnNlcXVlbnRJdGVtc1Byb21pc2VzID0gW10sXG4gICAgICAgICAgICAgICAgaW5pdGlhbE1heCA9IDk7IC8vIGxhc3Qga25vd24gbnVtYmVyIG9mIHRpbWVzIHRoZSBBUEkgbXVzdCBiZSBoaXQgdG8gZ2V0IGFsbCByZXN1bHRzLiAxMDAgcmV0dXJuZWQgYXQgYSB0aW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzbyAzIHdvdWxkIGdldCB1cCB0byAzMDAgaHVuZHJlZC4gdGltZSBvZiBjb2RpbmcgdG90YWwgd2FzIDI4NDsgd2hlbiB0aGUgdG9hbCBpbmNyZWFzZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGNvZGUgYmVsb3cgd2lsbCBtYWtlIGFkZGl0aW9uIEFQSSBjYWxsc1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBmdW5jdGlvbiBjb25zdHJ1Y3RQcm9taXNlKGkpe1xuICAgICAgICAgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KSA9PiB7IC8vIHVzaW5nIGQzLnJlcXVlc3QgaW5zdGVhZCBvZiAuanNvbiB0byBoYXZlIGFjY2VzcyB0byB0aGUgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVzcG9uc2UgaGVhZGVycy4gJ1RvdGFsLVJlc3VsdHMnLCBpbiBwYXJ0dWN1bGFyXG4gICAgICAgICAgICAgICAgICAgIGQzLnJlcXVlc3QoJ2h0dHBzOi8vYXBpLnpvdGVyby5vcmcvZ3JvdXBzLycgKyBncm91cElkICsgJy9pdGVtcy90b3A/aW5jbHVkZT1kYXRhLGJpYiZsaW1pdD0xMDAmc3RhcnQ9JyArICggaSAqIDEwMCApLCAoZXJyb3IseGhyKSA9PiB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCt4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ2xhc3QtbW9kaWZpZWQtdmVyc2lvbicpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbW9kZWwubGFzdE1vZGlmaWVkVmVyc2lvbiA9IG1vZGVsLmxhc3RNb2RpZmllZFZlcnNpb24gfHwgK3hoci5nZXRSZXNwb25zZUhlYWRlcignbGFzdC1tb2RpZmllZC12ZXJzaW9uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogK3hoci5nZXRSZXNwb25zZUhlYWRlcignVG90YWwtUmVzdWx0cycpLCAvLyArIG9wZXJhbmQgY29lcmNlcyB0byBudW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTsgXG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7ICAgICBcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yICggbGV0IGkgPSAwOyBpIDwgaW5pdGlhbE1heDsgaSsrICl7XG4gICAgICAgICAgICAgICAgaW5pdGlhbEl0ZW1zUHJvbWlzZXMucHVzaChjb25zdHJ1Y3RQcm9taXNlKGkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFByb21pc2UucmFjZShpbml0aWFsSXRlbXNQcm9taXNlcykudGhlbih2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmICggdmFsdWUudG90YWwgPiBpbml0aWFsTWF4ICkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKCBsZXQgaSA9IGluaXRpYWxNYXg7IGkgPCBNYXRoLmNlaWwodmFsdWUudG90YWwgLyAxMDApOyBpKysgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNlcXVlbnRJdGVtc1Byb21pc2VzLnB1c2goY29uc3RydWN0UHJvbWlzZShpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgUHJvbWlzZS5hbGwoWy4uLmluaXRpYWxJdGVtc1Byb21pc2VzLC4uLnN1YnNlcXVlbnRJdGVtc1Byb21pc2VzXSkudGhlbigodmFsdWVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZGF0ZVN0cmluZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhbHVlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMuZm9yRWFjaCh2YWx1ZSA9PiB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2codmFsdWUuZGF0YS5kYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC56b3Rlcm9JdGVtcy5wdXNoKC4uLnZhbHVlLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShtb2RlbC56b3Rlcm9JdGVtcykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJzZVpvdGVyb0l0ZW1EYXRlcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nYXRlQ2hlY2srKztcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXcuaW5pdCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBQcm9taXNlLmFsbChpbml0aWFsSXRlbXNQcm9taXNlcykudGhlbigodmFsdWVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh2YWx1ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzLmZvckVhY2godmFsdWUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLnpvdGVyb0l0ZW1zLnB1c2goLi4udmFsdWUuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyc2Vab3Rlcm9JdGVtRGF0ZXMoKTsgXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhdGVDZWNrKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3LmluaXQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICB9LFxuICAgICAgICBwYXJzZVpvdGVyb0l0ZW1EYXRlcygpe1xuICAgICAgICAgICAgbW9kZWwuem90ZXJvSXRlbXMuZm9yRWFjaChkID0+IHsgLy8gVE9ETyAgd2F5IHRvbyByZXBldGl0aXZlIG9mIGFib3ZlXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhciBwYXJzZWREYXRlcyA9IHRoaXMuZ2V0RGF0ZXNGcm9tU3RyaW5nKGQuZGF0YS5kYXRlKTtcbiAgICAgICAgICAgICAgICBkLmRhdGEuZGF0ZVN0cmluZyA9IHBhcnNlZERhdGVzLmRpc3BsYXk7XG4gICAgICAgICAgICAgICAgZC5kYXRhLmRhdGVWYWx1ZSA9IHBhcnNlZERhdGVzLnZhbHVlO1xuICAgICAgICAgICAgfSk7IFxuICAgICAgICAgICAgbW9kZWwuem90ZXJvSXRlbXMuc29ydCgoYSxiKSA9PiBkMy5kZXNjZW5kaW5nKGEuZGF0YS5kYXRlVmFsdWUsIGIuZGF0YS5kYXRlVmFsdWUpKTsgXG4gICAgICB9LFxuICAgICAgICBnZXRDb2xsZWN0aW9uSXRlbXMoY29sbGVjdGlvbktleSl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjb2xsZWN0aW9uS2V5KTtcbiAgICAgICAgICAgIHZhciBjb2xsZWN0aW9uID0gbW9kZWwuY29sbGVjdGlvbnMuZmluZChjID0+IGMua2V5ID09PSBjb2xsZWN0aW9uS2V5ICk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjb2xsZWN0aW9uKTtcbiAgICAgICAgICAgIHZhciBjb2xsZWN0aW9uSXRlbXMgPSBtb2RlbC56b3Rlcm9JdGVtcy5maWx0ZXIoeiA9PiB6LmRhdGEuY29sbGVjdGlvbnMuaW5kZXhPZihjb2xsZWN0aW9uS2V5KSAhPT0gLTEpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coY29sbGVjdGlvbkl0ZW1zKTtcbiAgICAgICAgICAgIHZhciBzeW50aGVzaXNJdGVtcyA9IFtdOyBcbiAgICAgICAgICAgIGlmICggY29sbGVjdGlvbi5jaGlsZHJlbiApIHtcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uLmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4geyAvLyB0byBkbyBtYWtlIG1vcmUgRFJZXG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaGVzID0gbW9kZWwuem90ZXJvSXRlbXMuZmlsdGVyKHogPT4gei5kYXRhLmNvbGxlY3Rpb25zLmluZGV4T2YoY2hpbGQua2V5KSAhPT0gLTEpO1xuICAgICAgICAgICAgICAgICAgICBtYXRjaGVzLmZvckVhY2gobWF0Y2ggPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2guc3ludGhlc2lzVHlwZSA9IGNoaWxkLmRhdGEubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN5bnRoZXNpc0l0ZW1zLnB1c2goLi4ubWF0Y2hlcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjcmVhdGVSZXN1bHRzQ29udGFpbmVyLmNhbGwodmlldyk7XG4gICAgICAgICAgICBmaWx0ZXJSZXN1bHRzLmNhbGwodmlldywgY29sbGVjdGlvbkl0ZW1zLCBjb250cm9sbGVyKTtcbiAgICAgICAgICAgIHZpZXcuZmlsdGVyU3ludGhlc2lzUmVzdWx0cyhzeW50aGVzaXNJdGVtcyk7XG4gICAgICAgICAgICAvKnZhciBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgZDMudGV4dCgnaHR0cHM6Ly9hcGkuem90ZXJvLm9yZy9ncm91cHMvJyArIGdyb3VwSWQgKyAnL2NvbGxlY3Rpb25zLycgKyBjb2xsZWN0aW9uS2V5ICsgJy9pdGVtcz9mb3JtYXQ9a2V5cycsIChlcnJvcix0ZXh0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGV4dCk7IFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwcm9taXNlLnRoZW4odGV4dCA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIGtleXMgPSB0ZXh0LnNwbGl0KCdcXG4nKTsgLy8gQVBJIHJlc3BvbnNlIGlzIHRleHQgb2Yga2V5cyB3aXRoIG5ld2xpbmUgYmV0d2VlblxuICAgICAgICAgICAgICAgIGlmICgga2V5c1trZXlzLmxlbmd0aCAtIDFdID09PSAnJyApeyAvLyB0aGUgbGFzdCBpdGVtIHNlZW1zIHRvIGJlIGFuIGVtcHR5IHN0cmluZyAobmV3bGluZSBhdCBlbmQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgY2hlY2tzIGZvciB0aGF0IGFuZCByZW1vdmVzIGl0IChwb3AoKSkgaWYgdHJ1ZVxuICAgICAgICAgICAgICAgICAgICBrZXlzLnBvcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pOyovXG4gICAgICAgIH0sXG4gICAgICAgIGdldERhdGVzRnJvbVN0cmluZyhzdHJpbmcpe1xuICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhzdHJpbmcpO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gbmV3IERhdGUoMTc3NiwzLDQpLCAvLyBzbyB0aGF0IHB1YnMgd2l0aG91dCBkYXRlcyBhcmUgc29ydGVkIHByb3Blcmx5IChudWxsID09IDAgPT0gMTk3MCk7XG4gICAgICAgICAgICAgICAgZGlzcGxheSA9ICcnLFxuICAgICAgICAgICAgICAgIG1hdGNoVHlwZXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGZvcnRoY29taW5nOi9mb3J0aGNvbWluZy8sXG4gICAgICAgICAgICAgICAgICAgIHl5eXk6ICAgICAgIC9eKFxcZHs0fSkkLyxcbiAgICAgICAgICAgICAgICAgICAgeXl5eW1tZGQ6ICAgLyhcXGR7NH0pWy0vXShcXGR7MSwyfSlbLS9dKFxcZHsxLDJ9KS8sIFxuICAgICAgICAgICAgICAgICAgICBtb250aGRkeXl5eTovXihcXHcrKVxcLiogKihcXGR7MSwyfSksICooXFxkezR9KS8sXG4gICAgICAgICAgICAgICAgICAgIG1vbnRoeXl5eTogIC9eKFxcdyspXFwuKiAoXFxkezR9KS8sXG4gICAgICAgICAgICAgICAgICAgIHl5eXltbTogICAgIC9eKFxcZHs0fSlbLS9dKFxcZHsxLDJ9KSQvLFxuICAgICAgICAgICAgICAgICAgICBtbWRkeXl5eTogICAvXihcXGR7MSwyfSlbLS9dKFxcZHsxLDJ9KVstL10oXFxkezR9KS8sXG4gICAgICAgICAgICAgICAgICAgIHl5eXl5eXl5OiAgIC9eKFxcZHs0fSlbLeKAk+KAlF1cXGR7NH0vLFxuICAgICAgICAgICAgICAgICAgICB5eXl5bW9udGhkZDovXihcXGR7NH0pICooXFx3KylcXC4qICooXFxkezEsMn0pLyBcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNoZWNrTW9udGgoc3RyKXtcbiAgICAgICAgICAgICAgICBpZiAoIG1vbnRoc1tzdHJdICE9PSB1bmRlZmluZWQgJiYgaXNOYU4obW9udGhzW3N0cl0pICkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW9udGhzW3N0cl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzdHI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciBtb250aHMgPSB7XG4gICAgICAgICAgICAgICAgJzAnOiAnSmFudWFyeScsXG4gICAgICAgICAgICAgICAgJzEnOiAnRmVicnVhcnknLFxuICAgICAgICAgICAgICAgICcyJzogJ01hcmNoJyxcbiAgICAgICAgICAgICAgICAnMyc6ICdBcHJpbCcsXG4gICAgICAgICAgICAgICAgJzQnOiAnTWF5JyxcbiAgICAgICAgICAgICAgICAnNSc6ICdKdW5lJyxcbiAgICAgICAgICAgICAgICAnNic6ICdKdWx5JyxcbiAgICAgICAgICAgICAgICAnNyc6ICdBdWd1c3QnLFxuICAgICAgICAgICAgICAgICc4JzogJ1NlcHRlbWJlcicsXG4gICAgICAgICAgICAgICAgJzknOiAnT2N0b2JlcicsXG4gICAgICAgICAgICAgICAnMTAnOiAnTm92ZW1iZXInLFxuICAgICAgICAgICAgICAgJzExJzogJ0RlY2VtYmVyJyxcbiAgICAgICAgICAgICAgICAnSmFudWFyeSc6ICAwLFxuICAgICAgICAgICAgICAgICdGZWJydWFyeSc6IDEsXG4gICAgICAgICAgICAgICAgJ01hcmNoJzogICAgMixcbiAgICAgICAgICAgICAgICAnQXByaWwnOiAgICAzLFxuICAgICAgICAgICAgICAgICdNYXknOiAgICAgIDQsXG4gICAgICAgICAgICAgICAgJ0p1bmUnOiAgICAgNSxcbiAgICAgICAgICAgICAgICAnSnVseSc6ICAgICA2LFxuICAgICAgICAgICAgICAgICdBdWd1c3QnOiAgIDcsXG4gICAgICAgICAgICAgICAgJ1NlcHRlbWJlcic6OCxcbiAgICAgICAgICAgICAgICAnT2N0b2Jlcic6ICA5LFxuICAgICAgICAgICAgICAgICdOb3ZlbWJlcic6IDEwLFxuICAgICAgICAgICAgICAgICdEZWNlbWJlcic6IDExLFxuICAgICAgICAgICAgICAgICdXaW50ZXInOiAgIDExLFxuICAgICAgICAgICAgICAgICdTcHJpbmcnOiAgIDIsXG4gICAgICAgICAgICAgICAgJ1N1bW1lcic6ICAgNSxcbiAgICAgICAgICAgICAgICAnRmFsbCc6ICAgICA4LFxuICAgICAgICAgICAgICAgICdBdXR1bW4nOiAgIDgsXG4gICAgICAgICAgICAgICAgJ0phbic6ICdKYW51YXJ5JyxcbiAgICAgICAgICAgICAgICAnRmViJzogJ0ZlYnJ1YXJ5JyxcbiAgICAgICAgICAgICAgICAnTWFyJzogJ01hcmNoJyxcbiAgICAgICAgICAgICAgICAnQXByJzogJ0FwcmlsJyxcbiAgICAgICAgICAgICAgICAnSnVuJzogJ0p1bmUnLFxuICAgICAgICAgICAgICAgICdKdWwnOiAnSnVseScsXG4gICAgICAgICAgICAgICAgJ0F1Zyc6ICdBdWd1c3QnLFxuICAgICAgICAgICAgICAgICdTZXAnOiAnU2VwdGVtYmVyJyxcbiAgICAgICAgICAgICAgICAnU2VwdCc6ICdTZXB0ZW1iZXInLFxuICAgICAgICAgICAgICAgICdPY3QnOiAnT2N0b2JlcicsXG4gICAgICAgICAgICAgICAgJ05vdic6ICdOb3ZlbWViZXInLFxuICAgICAgICAgICAgICAgICdEZWMnOiAnRGVjZW1iZXInXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZm9yICh2YXIgdHlwZSBpbiBtYXRjaFR5cGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCBtYXRjaFR5cGVzLmhhc093blByb3BlcnR5KHR5cGUpICYmIHN0cmluZyAhPT0gdW5kZWZpbmVkICkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2ggPSBzdHJpbmcubWF0Y2gobWF0Y2hUeXBlc1t0eXBlXSk7ICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmICggbWF0Y2ggIT09IG51bGwgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKCB0eXBlICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3l5eXknOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5ID0gc3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKCttYXRjaFsxXSwwLDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd5eXl5bW1kZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXkgPSBgJHttb250aHNbKCttYXRjaFsyXSAtIDEpLnRvU3RyaW5nKCldfSAkeyttYXRjaFszXX0sICR7bWF0Y2hbMV19YDsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUoK21hdGNoWzFdLCArbWF0Y2hbMl0gLSAxLCArbWF0Y2hbM10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdtb250aGRkeXl5eSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXkgPSBgJHtjaGVja01vbnRoKG1hdGNoWzFdKX0gJHsrbWF0Y2hbMl19LCAke21hdGNoWzNdfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUoK21hdGNoWzNdLCBtb250aHNbY2hlY2tNb250aChtYXRjaFsxXSldLCArbWF0Y2hbMl0pOyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnbW9udGh5eXl5JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheSA9IGAke2NoZWNrTW9udGgobWF0Y2hbMV0pfSAke21hdGNoWzJdfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUoK21hdGNoWzJdLCBtb250aHNbY2hlY2tNb250aChtYXRjaFsxXSldLCAxKTsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3l5eXltbSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXkgPSBtb250aHNbKCttYXRjaFsyXSAtIDEpXSArICcgJyArIG1hdGNoWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKCttYXRjaFsxXSwgK21hdGNoWzJdIC0gMSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ21tZGR5eXl5JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheSA9IGAke21vbnRoc1soK21hdGNoWzFdIC0gMSldfSAkeyttYXRjaFsyXX0sICR7bWF0Y2hbM119YDsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUoK21hdGNoWzNdLCArbWF0Y2hbMV0gLSAxLCArbWF0Y2hbMl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd5eXl5eXl5eSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXkgPSBzdHJpbmcucmVwbGFjZSgnLScsJ+KAlCcpLnJlcGxhY2UoJy0nLCfigJMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSgrbWF0Y2hbMV0sMCwxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAneXl5eW1vbnRoZGQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5ID0gYCR7Y2hlY2tNb250aChtYXRjaFsyXSl9ICR7K21hdGNoWzNdfSwgJHttYXRjaFsxXX1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKCttYXRjaFsxXSwgbW9udGhzW2NoZWNrTW9udGgobWF0Y2hbMl0pXSwgK21hdGNoWzNdKTsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2ZvcnRoY29taW5nJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheSA9ICAnZm9ydGhjb21pbmcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9ICBcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgZGlzcGxheVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgYmlibGlvVG9vbHRpcHMoKXtcbiAgICAgICAgICAgIHRpcHB5KCcudGlwcHktY2xpcGJvYXJkJywge1xuICAgICAgICAgICAgICAgIGFycm93OiB0cnVlLFxuICAgICAgICAgICAgICAgIHRoZW1lOidSRkYnLFxuICAgICAgICAgICAgICAgIHRyaWdnZXI6ICdtYW51YWwnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRpcHB5KCcuY29weS1iaWInLCB7XG4gICAgICAgICAgICAgICAgYXJyb3c6IHRydWUsXG4gICAgICAgICAgICAgICAgaGlkZU9uQ2xpY2s6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGludGVyYWN0aXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRoZW1lOidSRkYnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvcHlCaWJUZXh0KCl7XG4gICAgICAgICAgLy8gdGhpcyA9IGVsZW1lbnRcbiAgICAgICAgICB2YXIgYmliRW50cnkgPSB0aGlzLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignLmJpYi1jb250YWluZXInKTtcbiAgICAgICAgIC8vIGJpYkVudHJ5LmZvY3VzKCk7XG4gICAgICAgICAgYmliRW50cnkuc2VsZWN0KCk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBzdWNjZXNzZnVsID0gZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKTtcbiAgICAgICAgICAgIHZhciBtc2cgPSBzdWNjZXNzZnVsID8gJ3N1Y2Nlc3NmdWwnIDogJ3Vuc3VjY2Vzc2Z1bCc7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ29weWluZyB0ZXh0IGNvbW1hbmQgd2FzICcgKyBtc2cpO1xuICAgICAgICAgICAgaWYgKCBzdWNjZXNzZnVsICkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50Tm9kZS5fdGlwcHkuc2hvdygpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudE5vZGUuX3RpcHB5LmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9LDEwMDApO1xuICAgICAgICAgICAgICAgIC8vdGhpcy5fdGlwcHkucG9wcGVyLnF1ZXJ5U2VsZWN0b3IoJy50aXBweS1jb250ZW50JykudGV4dENvbnRlbnQgPSAnQ29waWVkIHRvIGNsaXBib2FyZCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnT29wcywgdW5hYmxlIHRvIGNvcHknKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfSAgXG5cblxuICAgIH07IFxuIFxuICAgIHZhciBtb2RlbCA9IHtcbiAgICAgICAgem90ZXJvSXRlbXM6IFtdXG4gICAgfTsgXG4gICAgXG4gICAgdmFyIHZpZXcgPSB7IFxuICAgICAgICBpbml0KCl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjb250cm9sbGVyLmdhdGVDaGVjayk7XG4gICAgICAgICAgICBpZiAoIGNvbnRyb2xsZXIuZ2F0ZUNoZWNrIDwgMiApe1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ3JldHVybicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSRUFEWSEnKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG1vZGVsLnpvdGVyb0l0ZW1zKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyVG9waWNCdXR0b25zKCk7XG4gICAgICAgICAgICB0aGlzLmF0dGFjaFRvb2x0aXBzKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhtb2RlbC5jb2xsZWN0aW9ucyk7XG4gICAgICAgICAgICB2YXIgaW5pdGlhbENhdGVnb3J5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJyb3dzZS1idXR0b25zIGRpdi5hY3RpdmUnKS5kYXRhc2V0LmNvbGxlY3Rpb247XG4gICAgICAgICAgICBjb250cm9sbGVyLmdldENvbGxlY3Rpb25JdGVtcyhpbml0aWFsQ2F0ZWdvcnkpO1xuICAgICAgICAgICAgdGhpcy5zZXR1cFNpZGViYXIoKTtcbiAgICAgICAgICAgIHRoaXMubG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgIFxuICAgICAgICB9LFxuICAgICAgICBhdHRhY2hUb29sdGlwcygpe1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJyb3dzZS1idXR0b25zID4gZGl2JykuZm9yRWFjaChidG4gPT4ge1xuICAgICAgICAgICAgICAgIHZhciBtYXRjaCA9IHRvb2x0aXBzLmZpbmQoZCA9PiBkLmtleSA9PT0gYnRuLmRhdGFzZXQuY29sbGVjdGlvbik7XG4gICAgICAgICAgICAgICAgaWYgKCBtYXRjaCAhPT0gdW5kZWZpbmVkICl7XG4gICAgICAgICAgICAgICAgICAgIGJ0bi5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgbWF0Y2gudGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICB0aXBweS5vbmUoYnRuLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGVtZTonUkZGJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFycm93OiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZXR1cFNpZGViYXIoKXtcbiAgICAgICAgICBcbiAgICAgICAgICAgIHZhciBtb250aHMgPSB7XG4gICAgICAgICAgICAgICAgJzAnOiAnSmFudWFyeScsXG4gICAgICAgICAgICAgICAgJzEnOiAnRmVicnVhcnknLFxuICAgICAgICAgICAgICAgICcyJzogJ01hcmNoJyxcbiAgICAgICAgICAgICAgICAnMyc6ICdBcHJpbCcsXG4gICAgICAgICAgICAgICAgJzQnOiAnTWF5JyxcbiAgICAgICAgICAgICAgICAnNSc6ICdKdW5lJyxcbiAgICAgICAgICAgICAgICAnNic6ICdKdWx5JyxcbiAgICAgICAgICAgICAgICAnNyc6ICdBdWd1c3QnLFxuICAgICAgICAgICAgICAgICc4JzogJ1NlcHRlbWJlcicsXG4gICAgICAgICAgICAgICAgJzknOiAnT2N0b2JlcicsXG4gICAgICAgICAgICAgICAnMTAnOiAnTm92ZW1iZXInLFxuICAgICAgICAgICAgICAgJzExJzogJ0RlY2VtYmVyJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBsYXN0TW9kaWZpZWREYXRlID0gZDMubWF4KG1vZGVsLnpvdGVyb0l0ZW1zLCBkID0+IG5ldyBEYXRlKGQuZGF0YS5kYXRlTW9kaWZpZWQpKTtcbiAgICAgICAgICAgIHZhciB2ZXJzaW9uID0gZDMubWF4KG1vZGVsLnpvdGVyb0l0ZW1zLCBkID0+IGQuZGF0YS52ZXJzaW9uKTtcbiAgICAgICAgICAgIHZhciBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NpZGViYXInKTtcbiAgICAgICAgICAgIHNpZGViYXIuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPGgyPkxpYnJhcnkgaW5mbzwvaDI+XG4gICAgICAgICAgICA8cD5EYXRlIGxhc3QgbW9kaWZpZWQ6ICR7bGFzdE1vZGlmaWVkRGF0ZS5nZXREYXRlKCl9ICR7bW9udGhzW2xhc3RNb2RpZmllZERhdGUuZ2V0TW9udGgoKV19ICR7bGFzdE1vZGlmaWVkRGF0ZS5nZXRGdWxsWWVhcigpfTxiciAvPihWZXJzaW9uICR7dmVyc2lvbn0pPC9wPlxuICAgICAgICAgICAgYDtcblxuICAgICAgICAgICAgdGhpcy5tYWtlUGllQ2hhcnQoKTsgIFxuXG4gICAgICAgICAgICB0aGlzLnNpYmViYXJEb2N1bWVudGF0aW9uKCk7ICAgICBcbiAgICAgICAgICAgIHRoaXMuc2lkZWJhckNvbnRhY3QoKTsgICBcblxuICAgICAgICB9LFxuICAgICAgICBzaWJlYmFyRG9jdW1lbnRhdGlvbigpe1xuICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgZGl2LmNsYXNzTmFtZSA9ICdkb2N1bWVudGF0aW9uJztcbiAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8aDM+RG9jdW1lbnRhdGlvbjwvaDM+XG4gICAgICAgICAgICA8cD48YSBocmVmPVwiI1wiPlNIQVJDIEZyZXF1ZW50bHkgQXNrZWQgUXVlc3Rpb25zPC9hPiAoUERGKTwvcD5cbiAgICAgICAgICAgIDxwPjxhIGhyZWY9XCIjXCI+SG93IFNIQVJDIElzIEJ1aWx0PC9hPiAoUERGKTwvcD5cbiAgICAgICAgICAgIGA7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2lkZWJhcicpLmFwcGVuZChkaXYpO1xuICAgICAgICB9LFxuICAgICAgICBzaWRlYmFyQ29udGFjdCgpe1xuICAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGRpdi5jbGFzc05hbWUgPSAnY29udGFjdC11cyc7XG4gICAgICAgICAgZGl2LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxoMz5RdWVzdGlvbnM/IEdldCBpbiB0b3VjaDwvaDM+XG4gICAgICAgICAgICAgIDxmb3JtPjwhLS08Zm9ybSBtZXRob2Q9XCJQT1NUXCIgYWN0aW9uPVwiaHR0cDovL2Zvcm1zcHJlZS5pby9YWFhYWFhYXCIgX2xwY2hlY2tlZD1cIjFcIj4tLT5cbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJlbWFpbFwiIG5hbWU9XCJlbWFpbFwiIHBsYWNlaG9sZGVyPVwiWW91ciBlbWFpbFwiPlxuICAgICAgICAgICAgICA8dGV4dGFyZWEgbmFtZT1cIm1lc3NhZ2VcIiBwbGFjZWhvbGRlcj1cIllvdXIgbWVzc2FnZVwiPjwvdGV4dGFyZWE+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cIl9nb3RjaGFcIiBzdHlsZT1cImRpc3BsYXk6bm9uZVwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cIl9uZXh0XCIgdmFsdWU9XCIvcHJvamVjdHMvP3RoYW5rc1wiPlxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIj5TZW5kPC9idXR0b24+XG4gICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgYDsgIFxuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzaWRlYmFyJykuYXBwZW5kKGRpdik7XG4gICAgICAgIH0sXG4gICAgICAgIG1ha2VQaWVDaGFydCgpe1xuICAgICAgICAgICAgdmFyIHN2ZyA9IGQzLnNlbGVjdCgnI3NpZGViYXInKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3N2ZycpXG4gICAgICAgICAgICAgICAgICAuYXR0cignd2lkdGgnLCAnMTAwJScpXG4gICAgICAgICAgICAgICAgICAuYXR0cigneG1sbnMnLCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycpXG4gICAgICAgICAgICAgICAgICAuYXR0cigndmVyc2lvbicsJzEuMScpXG4gICAgICAgICAgICAgICAgICAuYXR0cigndmlld0JveCcsIGAwIDAgMTAwIDYyYClcbiAgICAgICAgICAgICAgICAgIC5hdHRyKCdmb2N1c2FibGUnLGZhbHNlKVxuICAgICAgICAgICAgICAgICAgLmF0dHIoJ2FyaWEtbGFiZWxsZWRieScsIGBzdmdUaXRsZSBzdmdEZXNjYClcbiAgICAgICAgICAgICAgICAgIC5hdHRyKCdyb2xlJywnZ3JhcGhpY3MtZGF0YXVuaXQnKVxuICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3B1YnR5cGUtcGllJyk7XG5cbiAgICAgICAgICAgICAgICBzdmcuYXBwZW5kKCd0aXRsZScpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdpZCcsIGBzdmdUaXRsZWApXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KGBQaWUgY2hhcnQgb2YgcHVibGljYXRpb24gdHlwZXNgKTtcblxuICAgICAgICAgICAgICAgIHN2Zy5hcHBlbmQoJ2Rlc2MnKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignaWQnLGBzdmdEZXNjYClcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoYFBpZSBjaGFydCBvZiBwdWJsaWNhdGlvbiB0eXBlc2ApO1xuXG4gICAgICAgICAgICB2YXIgcmFkaXVzID0gMzA7XG4gICAgICAgICAgICB2YXIgZyA9IHN2Zy5hcHBlbmQoJ2cnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7cmFkaXVzfSwke3JhZGl1c30pYCk7XG5cbiAgICAgICAgICAgIHZhciBwaWVTZWdtZW50cyA9IDU7XG5cblxuICAgICAgICAgICAgdmFyIHJvbGx1cCA9IGQzLm5lc3QoKS5rZXkoZCA9PiBkLmRhdGEuaXRlbVR5cGUpLnJvbGx1cCh2ID0+IHYubGVuZ3RoKS5lbnRyaWVzKG1vZGVsLnpvdGVyb0l0ZW1zLmZpbHRlcihkID0+IGQuZGF0YS5pdGVtVHlwZSAhPT0gJ2F0dGFjaG1lbnQnKSkuc29ydCgoYSxiKSA9PiBkMy5kZXNjZW5kaW5nKGEudmFsdWUsIGIudmFsdWUpKTtcbiAgICAgICAgICAgIHZhciB0b3RhbE51bWJlciA9IHJvbGx1cC5yZWR1Y2UoKGFjYyxjdXIpID0+IGFjYyArIGN1ci52YWx1ZSwgMCk7XG5cbiAgICAgICAgICAgIHZhciBwaWVEYXRhID0gW107XG4gICAgICAgICAgICByb2xsdXAuZm9yRWFjaCgoZCwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICggaSA8IHBpZVNlZ21lbnRzIC0gMSApe1xuICAgICAgICAgICAgICAgICAgICBwaWVEYXRhLnB1c2goIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZC5rZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBkLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICggaSA9PT0gcGllU2VnbWVudHMgLSAxICl7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjb21iaW5lZFZhbHVlID0gcm9sbHVwLnNsaWNlKGkpLnJlZHVjZSgoYWNjLCBjdXIpID0+IGFjYyArIGN1ci52YWx1ZSwwKTtcbiAgICAgICAgICAgICAgICAgICAgcGllRGF0YS5wdXNoKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdvdGhlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjb21iaW5lZFZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2cocGllRGF0YSk7XG4gICAgICAgICAgICB2YXIgcGllID0gZDMucGllKCkuc29ydChudWxsKS52YWx1ZShkID0+IGQudmFsdWUpO1xuXG4gICAgICAgICAgICB2YXIgcGF0aCA9IGQzLmFyYygpXG4gICAgICAgICAgICAgICAgLm91dGVyUmFkaXVzKHJhZGl1cylcbiAgICAgICAgICAgICAgICAuaW5uZXJSYWRpdXMocmFkaXVzIC8gMS41ICk7XG5cbiAgICAgICAgICAgIHZhciBsYWJlbCA9IGQzLmFyYygpXG4gICAgICAgICAgICAgICAgLm91dGVyUmFkaXVzKHJhZGl1cyAqIC44NSlcbiAgICAgICAgICAgICAgICAuaW5uZXJSYWRpdXMoIHJhZGl1cyAqIC44NSApO1xuICAgICAgICAgICBcbiAgICAgICAgICAgICB2YXIgYXJjID0gZy5zZWxlY3RBbGwoJy5hcmMnKVxuICAgICAgICAgICAgICAgIC5kYXRhKHBpZShwaWVEYXRhKSlcbiAgICAgICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ2cnKVxuICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2FyYyAnICsgZC5kYXRhLm5hbWU7XG4gICAgICAgICAgICAgICAgfSk7XG5cblxuXG4gICAgICAgICAgICAgIGFyYy5hcHBlbmQoJ3BhdGgnKVxuICAgICAgICAgICAgICAgICAgLmF0dHIoJ2QnLCBwYXRoKTtcblxuICAgICAgICAgICAgIGFyYy5hcHBlbmQoJ3RleHQnKVxuICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZCA9PiAndHJhbnNsYXRlKCcgKyBsYWJlbC5jZW50cm9pZChkKSArICcpJylcbiAgICAgICAgICAgICAgLmF0dHIoJ2R5JywgJzAuMzVlbScpXG4gICAgICAgICAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxuICAgICAgICAgICAgICAuYXR0cignZm9udC1zaXplJywgNClcbiAgICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBkID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZC5kYXRhLm5hbWUgPT09ICdqb3VybmFsQXJ0aWNsZScgfHwgZC5kYXRhLm5hbWUgPT09ICdib29rJyB8fCBkLmRhdGEubmFtZSA9PT0gJ3JlcG9ydCcpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyNmZmZmZmYnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnIzAwMDAwMCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAudGV4dChkID0+IGQuZGF0YS52YWx1ZSk7XG5cbiAgICAgICAgICAgIHZhciBwdWJUeXBlcyA9IHtcbiAgICAgICAgICAgICAgICBqb3VybmFsQXJ0aWNsZTogJ2pvdXJuYWwgYXJ0aWNsZXMnLFxuICAgICAgICAgICAgICAgIHJlcG9ydDogJ3JlcG9ydHMnLFxuICAgICAgICAgICAgICAgIHdlYnBhZ2U6ICd3ZWJwYWdlcycsXG4gICAgICAgICAgICAgICAgYm9vazogJ2Jvb2tzJyxcbiAgICAgICAgICAgICAgICBvdGhlcjogJ290aGVyJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGxlZ2VuZEl0ZW1zID0gc3ZnLmFwcGVuZCgnZycpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywnbGVnZW5kJylcbiAgICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgKCByYWRpdXMgKiAyICsgNSApICsgJywyKScpXG4gICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgnLmxlZ2VuZC1pdGVtJylcbiAgICAgICAgICAgICAgICAuZGF0YShwaWUocGllRGF0YSkpXG4gICAgICAgICAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdnJylcbiAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCBkID0+ICdsZWdlbmQtaXRlbSAnICsgZC5kYXRhLm5hbWUpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIChkLGkpID0+ICd0cmFuc2xhdGUoMCwnICsgaSAqIDcgKyAnKScpO1xuXG4gICAgICAgICAgICAgICAgbGVnZW5kSXRlbXNcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgncmVjdCcpXG4gICAgICAgICAgICAgICAgICAgIC8vLmF0dHIoJ2NsYXNzJywgZCA9PiBkLmRhdGEubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgNSlcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIDUpO1xuXG4gICAgICAgICAgICAgICAgbGVnZW5kSXRlbXNcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgndGV4dCcpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDcsNCknKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZm9udC1zaXplJywgNClcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoZCA9PiBwdWJUeXBlc1tkLmRhdGEubmFtZV0pO1xuXG4gICAgICAgICAgICBzdmcuYXBwZW5kKCd0ZXh0JylcbiAgICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3JhZGl1c30sJHtyYWRpdXN9KWApXG4gICAgICAgICAgICAgICAgLnRleHQodG90YWxOdW1iZXIpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIDEwKVxuICAgICAgICAgICAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKTtcblxuXG4gICAgICAgICAgXG4gICAgICAgIH0sXG4gICAgICAgIGxvYWRpbmcoaXNMb2FkaW5nKXtcbiAgICAgICAgICAgIGlmICggaXNMb2FkaW5nICl7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmNsYXNzTGlzdC5hZGQoJ2xvYWRpbmcnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmNsYXNzTGlzdC5yZW1vdmUoJ2xvYWRpbmcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcmVuZGVyVG9waWNCdXR0b25zKCl7XG4gICAgICAgICAgICB2YXIgc2VjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdicm93c2UtYnV0dG9ucy1jb250YWluZXInKTtcbiAgICAgICAgICAgIHZhciBjYXRlZ29yaWVzID0gbW9kZWwuY29sbGVjdGlvbnMuZmlsdGVyKGQgPT4gZC5kYXRhLnBhcmVudENvbGxlY3Rpb24gPT09IGZhbHNlKS5zb3J0KChhLGIpID0+IGQzLmFzY2VuZGluZyhhLmRhdGEubmFtZSwgYi5kYXRhLm5hbWUpKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNhdGVnb3JpZXMpO1xuICAgICAgICAgICAgLy9tb2RlbC5jb2xsZWN0aW9ucy5mYWxzZS5zb3J0KChhLGIpID0+IGQzLmFzY2VuZGluZyhhLmRhdGEubmFtZSwgYi5kYXRhLm5hbWUpKTsgLy8gJ2ZhbHNlJyBrZXkgPT4gdG9wLWx2ZWwgY2F0ZWdvcmllc1xuICAgICAgICAgICAgY2F0ZWdvcmllcy5maWx0ZXIoZCA9PiBkLmNoaWxkcmVuICE9PSB1bmRlZmluZWQpLmZvckVhY2goZnVuY3Rpb24oZCxpKXtcbiAgICAgICAgICAgICAgICBzZWN0aW9uLmFwcGVuZENoaWxkKGNyZWF0ZUJyb3dzZUNhdGVnb3J5KGQsaSx0cnVlKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNhdGVnb3JpZXMuZmlsdGVyKGQgPT4gZC5jaGlsZHJlbiA9PT0gdW5kZWZpbmVkKS5mb3JFYWNoKGZ1bmN0aW9uKGQsaSl7XG4gICAgICAgICAgICAgICAgc2VjdGlvbi5hcHBlbmRDaGlsZChjcmVhdGVCcm93c2VDYXRlZ29yeShkLGksZmFsc2UpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgd2luZG93LlJGRkFwcC5tb2RlbC5yZXNvbHZlVG9waWNCdXR0b25zKHRydWUpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJTaG93QWxsQnV0dG9uKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbmRlclNob3dBbGxCdXR0b24oKXtcbiAgICAgICAgICAgIHZhciBzaG93QWxsID0gZDMuc2VsZWN0KCcuYnJvd3NlLWJ1dHRvbnMudW5jYXRlZ29yaXplZCcpICAvLyBzaG91bGQgYmUgaW4gdGhlIHZpZXcgbW9kdWxlXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgnZGl2JylcbiAgICAgICAgICAgICAgICAuY2xhc3NlZCgnYnV0dG9uIGJ1dHRvbi0tdGVydGlhcnkgc2hvdy1hbGwnLHRydWUpXG4gICAgICAgICAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLmJyb3dzZS1idXR0b25zIC5idXR0b24nKSAgLy8gbm90IERSWTsgbmVlZCB0byBicmluZyBvdXQgaW50byBmbjsgYnJvd3NlYnV0dG9ucyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkbyB0aGUgc2FtZSB0aGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ2FjdGl2ZScsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgnYWN0aXZlJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlclJlc3VsdHMuY2FsbCh2aWV3LCB1bmRlZmluZWQsIGNvbnRyb2xsZXIpO1xuICAgICAgICAgICAgICAgICAgICB2aWV3LmZpbHRlclN5bnRoZXNpc1Jlc3VsdHMuY2FsbCh2aWV3LFtdKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNob3dBbGwgICAgIFxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3NwYW4nKVxuICAgICAgICAgICAgICAgIC50ZXh0KCdTaG93IGFsbCcpO1xuICAgICAgICAgICAgY3JlYXRlVG9waWNLZXkoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBmaWx0ZXJTeW50aGVzaXNSZXN1bHRzKG1hdGNoZXMpeyAvLyBuZWVkcyB0byBiZSBtb3JlIERSWSByZTogY29kZSBhYm92ZVxuICAgICAgICAgICAgY29uc29sZS5sb2cobWF0Y2hlcyk7XG4gICAgICAgICAgICB2YXIgaXRlbXMgPSBkMy5zZWxlY3QoJy5zeW50aGVzaXMtcmVzdWx0cyB1bCcpLnNlbGVjdEFsbCgnLmxpc3QtaXRlbScpXG4gICAgICAgICAgICAgICAgLmRhdGEobWF0Y2hlcywgZCA9PiBkLmRhdGEua2V5KTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpdGVtcyk7XG4gICAgICAgICAgICBpdGVtcy5leGl0KClcbiAgICAgICAgICAgICAgICAuY2xhc3NlZCgnZW50ZXJlZCcsZmFsc2UpXG4gICAgICAgICAgICAgICAgLmNsYXNzZWQoJ2V4aXRpbmcnLCB0cnVlKVxuICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKDE1MDApLnJlbW92ZSgpO1xuXG4gICAgICAgICAgICB2YXIgZW50ZXJpbmcgPSBpdGVtcy5lbnRlcigpXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgnbGknKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdpZCcsIGQgPT4gZC5rZXkpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgKGQsaSkgPT4gKCBkLnN5bnRoZXNpc1R5cGUuY2xlYW5TdHJpbmcoKSB8fCBkLmRhdGEuaXRlbVR5cGUgKSAgKyAnIGluZGV4LScgKyBpICsgKCBkLmRhdGEuaW5zdGl0dXRpb24gPT09ICdSRkYnIHx8IGQuZGF0YS5pbnN0aXR1dGlvbiA9PT0gJ1Jlc291cmNlcyBmb3IgdGhlIEZ1dHVyZScgPyAnIFJGRicgOiAnJykpXG4gICAgICAgICAgICAgICAgLmNsYXNzZWQoJ1JGRicsIHRydWUpXG4gICAgICAgICAgICAgICAgLmNsYXNzZWQoJ2VudGVyaW5nJywgdHJ1ZSlcbiAgICAgICAgICAgICAgICAuY2xhc3NlZCgnbGlzdC1pdGVtJywgdHJ1ZSlcbiAgICAgICAgICAgICAgICAuaHRtbChkID0+IGNyZWF0ZVJlc3VsdEl0ZW0oZCkpXG4gICAgICAgICAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKCcuL3BkZi8nICsgdGhpcy5pZCArICcucGRmJywgJ19ibGFuaycpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgZW50ZXJpbmcuY2xhc3NlZCgnZW50ZXJpbmcnLGZhbHNlKTsgICAgXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5zeW50aGVzaXNJdGVtcyA9IGVudGVyaW5nLm1lcmdlKGl0ZW1zKTsgXG4gICAgICAgICAgIFxuXG4gICAgICAgIH1cbiAgICB9O1xuICAgIHdpbmRvdy5SRkZBcHAgPSB7XG4gICAgICAgIGNvbnRyb2xsZXIsXG4gICAgICAgIG1vZGVsIFxuICAgIH07XG4gICAgY29udHJvbGxlci5pbml0KHRydWUpOyAvLyBwYXNzIGluIGB0cnVlYCB0byB1c2UgbG9jYWwgc25hcHNob3QgaW5zdGVhZCBvZiBBUElcbiAgICAgXG59KCkpOyAvLyBlbmQgSUlGRSAiXSwic291cmNlUm9vdCI6IiJ9